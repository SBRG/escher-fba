!function(e){function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var r={};n.m=e,n.c=r,n.i=function(e){return e},n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/escher-fba/",n(n.s=5)}([function(e,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(r=window)}e.exports=r},function(e,n,r){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e){var n=new i;return n.reactions=e.reactions,n.metabolites=e.metabolites,n.genes=e.genes,n.id=e.id,n.notes=e.notes,n.description=e.description,n}n.a=a;var l=r(6),o=(r.n(l),function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}()),i=function(){function e(){t(this,e)}return o(e,[{key:"buildGlpkProblem",value:function(){var e=this.metabolites.length,n=this.reactions.length,t=[],a=[],o=[],i={},u=r.i(l.glp_create_prob)();r.i(l.glp_set_prob_name)(u,"knockout FBA"),r.i(l.glp_set_obj_dir)(u,l.GLP_MAX),r.i(l.glp_add_rows)(u,e),r.i(l.glp_add_cols)(u,n),this.metabolites.forEach(function(e,n){var t=n+1;r.i(l.glp_set_row_name)(u,t,e.id),r.i(l.glp_set_row_bnds)(u,t,l.GLP_FX,0,0),i[e.id]=t});var s=1;return this.reactions.forEach(function(e,n){var c=n+1;r.i(l.glp_set_col_name)(u,c,e.id),e.lower_bound===e.upper_bound?r.i(l.glp_set_col_bnds)(u,c,l.GLP_FX,e.lower_bound,e.upper_bound):r.i(l.glp_set_col_bnds)(u,c,l.GLP_DB,e.lower_bound,e.upper_bound),"objective_coefficient"in e&&r.i(l.glp_set_obj_coef)(u,c,e.objective_coefficient);for(var f in e.metabolites)t[s]=i[f],a[s]=c,o[s]=e.metabolites[f],s++}),r.i(l.glp_load_matrix)(u,t.length-1,t,a,o),u}},{key:"optimize",value:function(){var e=this.buildGlpkProblem(),n=new l.SMCP({presolve:l.GLP_ON}),t=r.i(l.glp_simplex)(e,n),a=null,o=null;if(0===t){a=r.i(l.glp_get_obj_val)(e),o={};for(var i=1;i<=r.i(l.glp_get_num_cols)(e);i++)o[r.i(l.glp_get_col_name)(e,i)]=r.i(l.glp_get_col_prim)(e,i)}else console.log("Invalid Solution");return new u(a,o)}}]),e}(),u=function e(n,r){t(this,e),this.objectiveValue=n,this.fluxes=r}},function(e,n,r){e.exports=r(3)},function(e,n,r){(function(n){var t="object"===typeof n?n:"object"===typeof window?window:"object"===typeof self?self:this,a=t.regeneratorRuntime&&Object.getOwnPropertyNames(t).indexOf("regeneratorRuntime")>=0,l=a&&t.regeneratorRuntime;if(t.regeneratorRuntime=void 0,e.exports=r(4),a)t.regeneratorRuntime=l;else try{delete t.regeneratorRuntime}catch(e){t.regeneratorRuntime=void 0}}).call(n,r(0))},function(e,n,r){(function(n){!function(n){"use strict";function r(e,n,r,t){var l=n&&n.prototype instanceof a?n:a,o=Object.create(l.prototype),i=new p(t||[]);return o._invoke=s(e,r,i),o}function t(e,n,r){try{return{type:"normal",arg:e.call(n,r)}}catch(e){return{type:"throw",arg:e}}}function a(){}function l(){}function o(){}function i(e){["next","throw","return"].forEach(function(n){e[n]=function(e){return this._invoke(n,e)}})}function u(e){function r(n,a,l,o){var i=t(e[n],e,a);if("throw"!==i.type){var u=i.arg,s=u.value;return s&&"object"===typeof s&&g.call(s,"__await")?Promise.resolve(s.__await).then(function(e){r("next",e,l,o)},function(e){r("throw",e,l,o)}):Promise.resolve(s).then(function(e){u.value=e,l(u)},o)}o(i.arg)}function a(e,n){function t(){return new Promise(function(t,a){r(e,n,t,a)})}return l=l?l.then(t,t):t()}"object"===typeof n.process&&n.process.domain&&(r=n.process.domain.bind(r));var l;this._invoke=a}function s(e,n,r){var a=j;return function(l,o){if(a===P)throw new Error("Generator is already running");if(a===L){if("throw"===l)throw o;return b()}for(r.method=l,r.arg=o;;){var i=r.delegate;if(i){var u=c(i,r);if(u){if(u===z)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===j)throw a=L,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=P;var s=t(e,n,r);if("normal"===s.type){if(a=r.done?L:M,s.arg===z)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=L,r.method="throw",r.arg=s.arg)}}}function c(e,n){var r=e.iterator[n.method];if(r===d){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=d,c(e,n),"throw"===n.method))return z;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return z}var a=t(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,z;var l=a.arg;return l?l.done?(n[e.resultName]=l.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=d),n.delegate=null,z):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,z)}function f(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function _(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var n=e[y];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,t=function n(){for(;++r<e.length;)if(g.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=d,n.done=!0,n};return t.next=t}}return{next:b}}function b(){return{value:d,done:!0}}var d,v=Object.prototype,g=v.hasOwnProperty,h="function"===typeof Symbol?Symbol:{},y=h.iterator||"@@iterator",k=h.asyncIterator||"@@asyncIterator",w=h.toStringTag||"@@toStringTag",x="object"===typeof e,A=n.regeneratorRuntime;if(A)return void(x&&(e.exports=A));A=n.regeneratorRuntime=x?e.exports:{},A.wrap=r;var j="suspendedStart",M="suspendedYield",P="executing",L="completed",z={},I={};I[y]=function(){return this};var E=Object.getPrototypeOf,F=E&&E(E(m([])));F&&F!==v&&g.call(F,y)&&(I=F);var S=o.prototype=a.prototype=Object.create(I);l.prototype=S.constructor=o,o.constructor=l,o[w]=l.displayName="GeneratorFunction",A.isGeneratorFunction=function(e){var n="function"===typeof e&&e.constructor;return!!n&&(n===l||"GeneratorFunction"===(n.displayName||n.name))},A.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(S),e},A.awrap=function(e){return{__await:e}},i(u.prototype),u.prototype[k]=function(){return this},A.AsyncIterator=u,A.async=function(e,n,t,a){var l=new u(r(e,n,t,a));return A.isGeneratorFunction(n)?l:l.next().then(function(e){return e.done?e.value:l.next()})},i(S),S[w]="Generator",S[y]=function(){return this},S.toString=function(){return"[object Generator]"},A.keys=function(e){var n=[];for(var r in e)n.push(r);return n.reverse(),function r(){for(;n.length;){var t=n.pop();if(t in e)return r.value=t,r.done=!1,r}return r.done=!0,r}},A.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&g.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0],n=e.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){function n(n,t){return l.type="throw",l.arg=e,r.next=n,t&&(r.method="next",r.arg=d),!!t}if(this.done)throw e;for(var r=this,t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t],l=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var o=g.call(a,"catchLoc"),i=g.call(a,"finallyLoc");if(o&&i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc<=this.prev&&g.call(t,"finallyLoc")&&this.prev<t.finallyLoc){var a=t;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=n,a?(this.method="next",this.next=a.finallyLoc,z):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),z},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),z}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===e){var t=r.completion;if("throw"===t.type){var a=t.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:m(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=d),z}}}("object"===typeof n?n:"object"===typeof window?window:"object"===typeof self?self:this)}).call(n,r(0))},function(e,n,r){"use strict";function t(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,r){function t(a,l){try{var o=n[a](l),i=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});e(i)}return t("next")})}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(2),l=r.n(a),o=r(1),i=this;onmessage=function(){var e=t(l.a.mark(function e(n){var r,t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.a(n.data),e.next=3,r.optimize();case 3:t=e.sent,postMessage(t);case 5:case"end":return e.stop()}},e,i)}));return function(n){return e.apply(this,arguments)}}()},function(e,n){!function(e){function n(e){if(!e)throw new Error("assert")}function r(e){throw new Error(e)}function t(e,n){for(var r in n)e[r]=n[r]}function a(e,n,r,t,a){for(;a>0;n++,t++,a--)e[n]=r[t]}function l(e,n,r,t){for(;t>0;n++,t--)e[n]=r}function o(e,n,r){for(;r>0;n++,r--)e[n]={}}function i(){return(new Date).getTime()}function u(e,n){return(e-n)/1e3}function s(e,n,r,t){var l=new Array(r);a(l,0,e,n,r),l.sort(t),a(e,n,l,0,r)}function c(){return Yi}function f(e){return" \t\n\v\f\r".indexOf(e)>=0}function _(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=0&&n<=31||127==n}function p(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=65&&n<=90||n>=97&&n<=122}function m(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function b(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=48&&n<=57}function d(e,n){return e.indexOf(n)}function v(e){return e.toLowerCase()}function g(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,n=arguments,r=0,t=n[r++],a=function(e,n,r,t){r||(r=" ");var a=e.length>=n?"":Array(1+n-e.length>>>0).join(r);return t?e+a:a+e},l=function(e,n,r,t,l,o){var i=t-e.length;return i>0&&(e=r||!l?a(e,t,o,r):e.slice(0,n.length)+a("",i,"0",!0)+e.slice(n.length)),e},o=function(e,n,r,t,o,i,u){var s=e>>>0;return r=r&&s&&{2:"0b",8:"0",16:"0x"}[n]||"",e=r+a(s.toString(n),i||0,"0",!1),l(e,r,t,o,u)},i=function(e,n,r,t,a,o){return null!=t&&(e=e.slice(0,t)),l(e,"",n,r,a,o)},u=function(e,t,u,s,c,f,_){var p,m,b,d,v;if("%%"==e)return"%";for(var g=!1,h="",y=!1,k=!1,w=" ",x=u.length,A=0;u&&A<x;A++)switch(u.charAt(A)){case" ":h=" ";break;case"+":h="+";break;case"-":g=!0;break;case"'":w=u.charAt(A+1);break;case"0":y=!0;break;case"#":k=!0}if(s=s?"*"==s?+n[r++]:"*"==s.charAt(0)?+n[s.slice(1,-1)]:+s:0,s<0&&(s=-s,g=!0),!isFinite(s))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+n[r++]:"*"==f.charAt(0)?+n[f.slice(1,-1)]:+f:"fFeE".indexOf(_)>-1?6:"d"==_?0:void 0,v=t?n[t.slice(0,-1)]:n[r++],_){case"s":return i(String(v),g,s,f,y,w);case"c":return i(String.fromCharCode(+v),g,s,f,y);case"b":return o(v,2,k,g,s,f,y);case"o":return o(v,8,k,g,s,f,y);case"x":return o(v,16,k,g,s,f,y);case"X":return o(v,16,k,g,s,f,y).toUpperCase();case"u":return o(v,10,k,g,s,f,y);case"i":case"d":return p=+v||0,p=Math.round(p-p%1),m=p<0?"-":h,v=m+a(String(Math.abs(p)),f,"0",!1),l(v,m,g,s,y);case"e":case"E":case"f":case"F":case"g":case"G":return p=+v,m=p<0?"-":h,b=["toExponential","toFixed","toPrecision"]["efg".indexOf(_.toLowerCase())],d=["toString","toUpperCase"]["eEfFgG".indexOf(_)%2],v=m+Math.abs(p)[b](f),l(v,m,g,s,y)[d]();default:return e}};return t.replace(e,u)}function h(e){e.magic=Zi,e.parms=null,e.tree=null,e.name=null,e.obj=null,e.dir=Ks,e.c0=0,e.m_max=100,e.n_max=200,e.m=e.n=0,e.nnz=0,e.row=new Array(1+e.m_max),e.col=new Array(1+e.n_max),e.r_tree={},e.c_tree={},e.valid=0,e.head=new Int32Array(1+e.m_max),e.bfcp=null,e.bfd=null,e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.it_cnt=0,e.some=0,e.ipt_stat=mc,e.ipt_obj=0,e.mip_stat=mc,e.mip_obj=0}function y(e){e.magic=1061109567,e.parms=null,n(null==e.tree),e.row=null,e.col=null,e.r_tree=null,e.c_tree=null,e.head=null,e.bfcp=null,e.bfd=null}function k(e){var n={};fs(e,n),N(e.bfd,n)}function w(e,t,a,l,o,i,u,s){var c,f,_,p,m,b,d,v,g,h=0;for(e.pbs_stat==mc&&r("glp_analyze_row: primal basic solution components are undefined"),e.dbs_stat!=bc&&r("glp_analyze_row: basic solution is not dual feasible"),0<=t&&t<=e.n||r("glp_analyze_row: len = "+t+"; invalid row length"),d=0,c=1;c<=t;c++)f=a[c],1<=f&&f<=e.m+e.n||r("glp_analyze_row: ind["+c+"] = "+f+"; row/column index out of range"),f<=e.m?(e.row[f].stat==nc&&r("glp_analyze_row: ind["+c+"] = "+f+"; basic auxiliary variable is not allowed"),m=e.row[f].prim):(e.col[f-e.m].stat==nc&&r("glp_analyze_row: ind["+c+"] = "+f+"; basic structural variable is not allowed"),m=e.col[f-e.m].prim),d+=l[c]*m;if(o==Ys){if(d>=i)return h=1;_=1}else if(o==$s){if(d<=i)return h=1;_=-1}else r("glp_analyze_row: type = "+o+"; invalid parameter");return v=i-d,0==(p=ws(e,t,a,l,_,u))?h=2:(f=a[p],n(1<=f&&f<=e.m+e.n),m=f<=e.m?e.row[f].prim:e.col[f-e.m].prim,n(0!=l[p]),b=v/l[p],g=f<=e.m?e.row[f].dual*b:e.col[f-e.m].dual*b,s(p,m,b,d,v,g),h)}function x(e){return e.reason!=af&&r("glp_ios_pool_size: operation not allowed"),n(null!=e.local),e.local.size}function A(e,t,a,l,o,i,u,s,c){return e.reason!=af&&r("glp_ios_add_row: operation not allowed"),n(null!=e.local),ue(e,e.local,t,a,l,o,i,u,s,c)}function j(e,n){return 1<=n&&n<=e.mip.n||r("glp_ios_can_branch: j = "+n+"; column number out of range"),e.non_int[n]}function M(e,r){var t,a,l,o=e.mip,i=e.orig_m,u=e.n;for(n(o.m>=i),n(o.n==u),l=o.c0,a=1;a<=u;a++){var s=o.col[a];if(s.kind==Ws&&r[a]!=Math.floor(r[a]))return 1;l+=s.coef*r[a]}if(o.mip_stat==bc)switch(o.dir){case Ks:if(l>=e.mip.mip_obj)return 1;break;case Vs:if(l<=e.mip.mip_obj)return 1;break;default:n(o!=o)}for(e.parm.msg_lev>=jc&&Qi("Solution found by heuristic: "+l),o.mip_stat=bc,o.mip_obj=l,a=1;a<=u;a++)o.col[a].mipx=r[a];for(t=1;t<=i;t++){var c,f=o.row[t];for(f.mipx=0,c=f.ptr;null!=c;c=c.r_next)f.mipx+=c.val*c.col.mipx}return 0}function P(e,n){var r={};return r.root=null,r.fcmp=e,r.info=n,r.size=0,r.height=0,r}function L(e,n){var r,t,a,l;for(r=null,t=e.root;null!=t;)r=t,e.fcmp(e.info,n,r.key)<=0?(l=0,t=r.left,r.rank++):(l=1,t=r.right);for(a={},a.key=n,a.type=0,a.link=null,a.rank=1,a.up=r,a.flag=null==r?0:l,a.bal=0,a.left=null,a.right=null,e.size++,null==r?e.root=a:0==l?r.left=a:r.right=a;null!=r;)if(0==l){if(r.bal>0){r.bal=0;break}if(r.bal<0){F(e,r);break}r.bal=-1,l=r.flag,r=r.up}else{if(r.bal<0){r.bal=0;break}if(r.bal>0){F(e,r);break}r.bal=1,l=r.flag,r=r.up}return null==r&&e.height++,a}function z(e,n){e.link=n}function I(e,n){var r,t;for(r=e.root;null!=r&&0!=(t=e.fcmp(e.info,n,r.key));)r=t<0?r.left:r.right;return r}function E(e){return e.link}function F(e,r){var t,a,l,o,i,u;return n(null!=r),a=r,a.bal<0?(t=a.up,l=a.left,o=l.right,l.bal<=0?(null==t?e.root=l:0==a.flag?t.left=l:t.right=l,a.rank-=l.rank,l.up=t,l.flag=a.flag,l.bal++,l.right=a,a.up=l,a.flag=1,a.bal=-l.bal,a.left=o,null!=o&&(o.up=a,o.flag=0),r=l):(i=o.left,u=o.right,null==t?e.root=o:0==a.flag?t.left=o:t.right=o,a.rank-=l.rank+o.rank,o.rank+=l.rank,a.bal=o.bal>=0?0:1,l.bal=o.bal<=0?0:-1,o.up=t,o.flag=a.flag,o.bal=0,o.left=l,o.right=a,a.up=o,a.flag=1,a.left=u,l.up=o,l.flag=0,l.right=i,null!=i&&(i.up=l,i.flag=1),null!=u&&(u.up=a,u.flag=0),r=o)):(t=a.up,l=a.right,o=l.left,l.bal>=0?(null==t?e.root=l:0==a.flag?t.left=l:t.right=l,l.rank+=a.rank,l.up=t,l.flag=a.flag,l.bal--,l.left=a,a.up=l,a.flag=0,a.bal=-l.bal,a.right=o,null!=o&&(o.up=a,o.flag=1),r=l):(i=o.left,u=o.right,null==t?e.root=o:0==a.flag?t.left=o:t.right=o,l.rank-=o.rank,o.rank+=a.rank,a.bal=o.bal<=0?0:-1,l.bal=o.bal>=0?0:1,o.up=t,o.flag=a.flag,o.bal=0,o.left=a,o.right=l,a.up=o,a.flag=0,a.right=i,l.up=o,l.flag=1,l.left=u,null!=i&&(i.up=a,i.flag=1),null!=u&&(u.up=l,u.flag=0),r=o)),r}function S(){var e={};return e.valid=0,e.type=yc,e.fhv=null,e.lpf=null,e.lu_size=0,e.piv_tol=.1,e.piv_lim=4,e.suhl=1,e.eps_tol=1e-15,e.max_gro=1e10,e.nfs_max=100,e.upd_tol=1e-6,e.nrs_max=100,e.rs_size=1e3,e.upd_lim=-1,e.upd_cnt=0,e}function N(e,r){n(null!=e),e.type=r.type,e.lu_size=r.lu_size,e.piv_tol=r.piv_tol,e.piv_lim=r.piv_lim,e.suhl=r.suhl,e.eps_tol=r.eps_tol,e.max_gro=r.max_gro,e.nfs_max=r.nfs_max,e.upd_tol=r.upd_tol,e.nrs_max=r.nrs_max,e.rs_size=r.rs_size}function O(e,r,t,a,l){var o,i;switch(n(null!=e),n(1<=r&&r<=Hi),e.valid=0,i=0,e.type){case yc:e.lpf=null,null==e.fhv&&(e.fhv=X(),i=1);break;case kc:case wc:e.fhv=null,null==e.lpf&&(e.lpf=Qe(),i=1);break;default:n(e!=e)}if(null!=e.fhv?o=e.fhv.luf:null!=e.lpf?o=e.lpf.luf:n(e!=e),i&&(o.new_sva=e.lu_size),o.piv_tol=e.piv_tol,o.piv_lim=e.piv_lim,o.suhl=e.suhl,o.eps_tol=e.eps_tol,o.max_gro=e.max_gro,null!=e.fhv&&(i&&(e.fhv.hh_max=e.nfs_max),e.fhv.upd_tol=e.upd_tol),null!=e.lpf&&(i&&(e.lpf.n_max=e.nrs_max),i&&(e.lpf.v_size=e.rs_size)),null!=e.fhv)switch(B(e.fhv,r,a,l)){case 0:break;case Fs:return js;case Ss:return Ms;default:n(e!=e)}else if(null!=e.lpf)switch(Ye(e.lpf,r,t,a,l)){case 0:switch(e.type){case kc:e.lpf.scf.t_opt=Od;break;case wc:e.lpf.scf.t_opt=qd;break;default:n(e!=e)}break;case Mf:return js;case LPF_ECOND:return Ms;default:n(e!=e)}else n(e!=e);return e.valid=1,e.upd_cnt=0,0}function q(e,r){n(null!=e),n(e.valid),null!=e.fhv?U(e.fhv,r):null!=e.lpf?tn(e.lpf,r):n(e!=e)}function G(e,r){n(null!=e),n(e.valid),null!=e.fhv?K(e.fhv,r):null!=e.lpf?an(e.lpf,r):n(e!=e)}function T(e,r,t,a,l,o,i){if(n(null!=e),n(e.valid),null!=e.fhv)switch(V(e.fhv,r,a,l,o,i)){case 0:break;case Fs:return e.valid=0,js;case Ns:return e.valid=0,Ps;case Os:return e.valid=0,Ls;case qs:return e.valid=0,zs;default:n(e!=e)}else if(null!=e.lpf)switch(on(e.lpf,r,t,a,l,o,i)){case 0:break;case Mf:return e.valid=0,js;case LPF_ELIMIT:return e.valid=0,Ls;default:n(e!=e)}else n(e!=e);return e.upd_cnt++,0}function R(e){return n(null!=e),n(e.valid),e.upd_cnt}function C(e,r){n(null!=e),n(null!=r)}function X(){var e;return e={},e.m_max=e.m=0,e.valid=0,e.luf=Fn(),e.hh_max=50,e.hh_nfs=0,e.hh_ind=e.hh_ptr=e.hh_len=null,e.p0_row=e.p0_col=null,e.cc_ind=null,e.cc_val=null,e.upd_tol=1e-6,e.nnz_h=0,e}function B(e,t,l,o){switch(t<1&&r("fhv_factorize: m = "+t+"; invalid parameter"),t>Hi&&r("fhv_factorize: m = "+t+"; matrix too big"),e.m=t,e.valid=0,null==e.hh_ind&&(e.hh_ind=new Int32Array(1+e.hh_max)),null==e.hh_ptr&&(e.hh_ptr=new Int32Array(1+e.hh_max)),null==e.hh_len&&(e.hh_len=new Int32Array(1+e.hh_max)),e.m_max<t&&(e.m_max=t+100,e.p0_row=new Int32Array(1+e.m_max),e.p0_col=new Int32Array(1+e.m_max),e.cc_ind=new Int32Array(1+e.m_max),e.cc_val=new Float64Array(1+e.m_max)),Bn(e.luf,t,l,o)){case 0:break;case O_:return Fs;case q_:return Ss;default:n(e!=e)}return e.valid=1,e.hh_nfs=0,a(e.p0_row,1,e.luf.pp_row,1,t),a(e.p0_col,1,e.luf.pp_col,1,t),e.nnz_h=0,0}function D(e,n,t){var a,l,o,i,u,s,c=e.hh_nfs,f=e.hh_ind,_=e.hh_ptr,p=e.hh_len,m=e.luf.sv_ind,b=e.luf.sv_val;if(e.valid||r("fhv_h_solve: the factorization is not valid"),n){for(l=c;l>=1;l--)if(a=f[l],0!=(s=t[a]))for(o=_[l],i=o+p[l]-1,u=o;u<=i;u++)t[m[u]]-=b[u]*s}else for(l=1;l<=c;l++){for(a=f[l],s=t[a],o=_[l],i=o+p[l]-1,u=o;u<=i;u++)s-=b[u]*t[m[u]];t[a]=s}}function U(e,n){var t=e.luf.pp_row,a=e.luf.pp_col,l=e.p0_row,o=e.p0_col;e.valid||r("fhv_ftran: the factorization is not valid"),e.luf.pp_row=l,e.luf.pp_col=o,Dn(e.luf,0,n),e.luf.pp_row=t,e.luf.pp_col=a,D(e,0,n),Un(e.luf,0,n)}function K(e,n){var t=e.luf.pp_row,a=e.luf.pp_col,l=e.p0_row,o=e.p0_col;e.valid||r("fhv_btran: the factorization is not valid"),Un(e.luf,1,n),D(e,1,n),e.luf.pp_row=l,e.luf.pp_col=o,Dn(e.luf,1,n),e.luf.pp_row=t,e.luf.pp_col=a}function V(e,t,l,o,i,u){var s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A,j,M,P=e.m,L=e.luf,z=L.vr_ptr,I=L.vr_len,E=L.vr_cap,F=L.vr_piv,S=L.vc_ptr,N=L.vc_len,O=L.vc_cap,q=L.pp_row,G=L.pp_col,T=L.qq_row,R=L.qq_col,C=L.sv_ind,X=L.sv_val,B=L.work,U=L.eps_tol,K=e.hh_ind,V=e.hh_ptr,H=e.hh_len,W=e.p0_row,J=e.p0_col,Q=e.cc_ind,Y=e.cc_val,$=e.upd_tol;if(e.valid||r("fhv_update_it: the factorization is not valid"),1<=t&&t<=P||r("fhv_update_it: j = "+t+"; column number out of range"),e.hh_nfs==e.hh_max)return e.valid=0,Os;for(s=1;s<=P;s++)Y[s]=0;for(d=1;d<=l;d++)s=o[i+d],1<=s&&s<=P||r("fhv_update_it: ind["+d+"] = "+s+"; row number out of range"),0!=Y[s]&&r("fhv_update_it: ind["+d+"] = "+s+"; duplicate row index not allowed"),0==u[d]&&r("fhv_update_it: val["+d+"] = "+u[d]+"; zero element not allowed"),Y[s]=u[d];for(e.luf.pp_row=W,e.luf.pp_col=J,Dn(e.luf,0,Y),e.luf.pp_row=q,e.luf.pp_col=G,D(e,0,Y),l=0,s=1;s<=P;s++)0==(M=Y[s])||Math.abs(M)<U||(l++,Q[l]=s,Y[l]=M);for(p=S[t],m=p+N[t]-1,b=p;b<=m;b++){for(s=C[b],c=z[s],f=c+I[s]-1,_=c;C[_]!=t;_++);n(_<=f),C[_]=C[f],X[_]=X[f],I[s]--}for(L.nnz_v-=N[t],N[t]=0,v=T[t],g=0,A=1;A<=l;A++){if(s=Q[A],I[s]+1>E[s]&&Nn(L,s,I[s]+10))return e.valid=0,L.new_sva=L.sv_size+L.sv_size,n(L.new_sva>L.sv_size),qs;_=z[s]+I[s],C[_]=t,X[_]=Y[A],I[s]++,g<G[s]&&(g=G[s])}if(O[t]<l&&On(L,t,l))return e.valid=0,L.new_sva=L.sv_size+L.sv_size,n(L.new_sva>L.sv_size),qs;if(b=S[t],a(C,b,Q,1,l),a(X,b,Y,1,l),N[t]=l,L.nnz_v+=l,v>g)return e.valid=0,Fs;for(s=q[v],t=R[v],d=v;d<g;d++)q[d]=q[d+1],G[q[d]]=d,R[d]=R[d+1],T[R[d]]=d;for(q[g]=s,G[s]=g,R[g]=t,T[t]=g,t=1;t<=P;t++)B[t]=0;for(c=z[s],f=c+I[s]-1,_=c;_<=f;_++){for(t=C[_],B[t]=X[_],p=S[t],m=p+N[t]-1,b=p;C[b]!=s;b++);n(b<=m),C[b]=C[m],X[b]=X[m],N[t]--}if(L.nnz_v-=I[s],I[s]=0,e.hh_nfs++,K[e.hh_nfs]=s,H[e.hh_nfs]=0,L.sv_end-L.sv_beg<g-v&&(Sn(L),L.sv_end-L.sv_beg<g-v))return e.valid=L.valid=0,L.new_sva=L.sv_size+L.sv_size,n(L.new_sva>L.sv_size),qs;for(d=v;d<g;d++)if(h=q[d],y=R[d],0!=B[y]){for(j=B[y]/F[h],k=z[h],w=k+I[h]-1,x=k;x<=w;x++)B[C[x]]-=j*X[x];L.sv_end--,C[L.sv_end]=h,X[L.sv_end]=j,H[e.hh_nfs]++}for(0==H[e.hh_nfs]?e.hh_nfs--:(V[e.hh_nfs]=L.sv_end,e.nnz_h+=H[e.hh_nfs]),F[s]=B[R[g]],l=0,d=g+1;d<=P;d++)if(t=R[d],M=B[t],!(Math.abs(M)<U)){if(N[t]+1>O[t]&&On(L,t,N[t]+10))return e.valid=0,L.new_sva=L.sv_size+L.sv_size,n(L.new_sva>L.sv_size),qs;b=S[t]+N[t],C[b]=s,X[b]=M,N[t]++,l++,Q[l]=t,Y[l]=M}if(E[s]<l&&Nn(L,s,l))return e.valid=0,L.new_sva=L.sv_size+L.sv_size,n(L.new_sva>L.sv_size),qs;for(_=z[s],a(C,_,Q,1,l),a(X,_,Y,1,l),I[s]=l,L.nnz_v+=l,M=0,s=q[g],c=z[s],f=c+I[s]-1,_=c;_<=f;_++)M<Math.abs(X[_])&&(M=Math.abs(X[_]));for(t=R[g],p=S[t],m=p+N[t]-1,b=p;b<=m;b++)M<Math.abs(X[b])&&(M=Math.abs(X[b]));return Math.abs(F[s])<$*M?(e.valid=0,Ns):0}function H(e,t){function a(e,t,a,l,o,i){var u,s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A,j,M,P=0;for(e>0&&t>0||r("triang: m = "+e+"; n = "+t+"; invalid dimension"),u=new Int32Array(1+(e>=t?e:t)),s=new Int32Array(1+e),c=new Int32Array(1+t),f=new Int32Array(1+e),_=new Int32Array(1+e),m=new Int32Array(1+t),b=new Int32Array(1+t),A=s,v=1;v<=t;v++)w=l(a,-v,u),n(0<=w&&w<=e),m[v]=A[w],A[w]=v;for(p=0,w=0;w<=e;w++)for(v=A[w];0!=v;v=m[v])b[v]=p,p=v;for(h=0,v=p;0!=v;v=b[v])m[v]=h,h=v;for(d=1;d<=e;d++)s[d]=w=l(a,+d,u),n(0<=w&&w<=t),f[d]=0,_[d]=c[w],0!=_[d]&&(f[_[d]]=d),c[w]=d;for(d=1;d<=e;d++)o[d]=0;for(v=1;v<=t;v++)i[v]=0;for(y=1,k=t;y<=k;){if(0!=(d=c[1])){for(n(1==s[d]),v=0,x=l(a,+d,u),n(0<=x&&x<=t);x>=1;x--)h=u[x],n(1<=h&&h<=t),0==i[h]&&(n(0==v),v=h);n(0!=v),o[d]=i[v]=y,y++,P++}else v=p,n(0!=v),i[v]=k,k--;for(0==m[v]?p=b[v]:b[m[v]]=b[v],0!=b[v]&&(m[b[v]]=m[v]),x=l(a,-v,u),n(0<=x&&x<=e);x>=1;x--)d=u[x],n(1<=d&&d<=e),w=s[d],n(w>=1),0==f[d]?c[w]=_[d]:_[f[d]]=_[d],0!=_[d]&&(f[_[d]]=f[d]),s[d]=--w,f[d]=0,_[d]=c[w],0!=_[d]&&(f[_[d]]=d),c[w]=d}for(d=1;d<=e;d++)0==o[d]&&(o[d]=y++);for(v=1;v<=t;v++)n(0!=i[v]);for(j=s,g=1;g<=e;g++)j[g]=0;for(d=1;d<=e;d++)g=o[d],n(1<=g&&g<=e),n(0==j[g]),j[g]=d;for(M=c,h=1;h<=t;h++)M[h]=0;for(v=1;v<=t;v++)h=i[v],n(1<=h&&h<=t),n(0==M[h]),M[h]=v;for(g=1;g<=P;g++){var L=0;for(d=j[g],x=l(a,+d,u),n(0<=x&&x<=t);x>=1;x--)v=u[x],n(1<=v&&v<=t),h=i[v],h<=P&&n(h<=g),h==g&&(n(!L),L=1);n(L)}return P}function l(e,r,t){function a(n){n!=Ff&&(o<=u?t[++c]=o:c=hn(e,o-u,t,null))}var l,o,i,u=un(e),s=sn(e),c=0;if(r>0){for(l=+r,n(1<=l&&l<=u),i=gn(e,l,t,null),r=1;r<=i;r++)vn(e,t[r],function(e){e!=Ff&&(t[++c]=u+t[r])});pn(e,l,function(e){e!=Ff&&(t[++c]=l)})}else o=-r,n(1<=o&&o<=u+s),o<=u?pn(e,o,a):vn(e,o-u,a);return c}0!=t&&r("glp_adv_basis: flags = "+t+"; invalid flags"),0==e.m||0==e.n?Bu(e):function(e){function r(e,r,t){switch(e){case Lf:d[u]=qf;break;case zf:d[u]=Nf;break;case If:d[u]=Of;break;case Ef:d[u]=Math.abs(r)<=Math.abs(t)?Nf:Of;break;case Ff:d[u]=Gf;break;default:n(e!=e)}}var t,o,i,u,s,c,f,_,p,m=un(e),b=sn(e),d=new Int32Array(1+m+b);if(Qi("Constructing initial basis..."),0==m||0==b)return void Bu(e);for(c=new Int32Array(1+m),f=new Int32Array(1+m+b),s=a(m,m+b,e,l,c,f),In(e,Zf)>=3&&Qi("Size of triangular part = "+s),_=new Int32Array(1+m),p=new Int32Array(1+m+b),t=1;t<=m;t++)_[c[t]]=t;for(o=1;o<=m+b;o++)p[f[o]]=o;for(u=1;u<=m+b;u++)d[u]=-1;for(i=1;i<=s;i++)o=p[i],d[o]=Sf;for(i=s+1;i<=m;i++)t=_[i],n(1<=t&&t<=m),n(f[t]>s),d[t]=Sf;for(u=1;u<=m+b;u++)d[u]!=Sf&&(u<=m?pn(e,u,r):vn(e,u-m,r));for(u=1;u<=m+b;u++)u<=m?yn(e,u,d[u]):kn(e,u-m,d[u])}(e)}function W(e,r){var t=J(e),a={};return e.slot[t].node=a,a.p=t,a.up=r,a.level=null==r?0:r.level+1,a.count=0,a.b_ptr=null,a.s_ptr=null,a.r_ptr=null,a.solved=0,a.lp_obj=null==r?e.mip.dir==Ks?-Xi:+Xi:r.lp_obj,a.bound=null==r?e.mip.dir==Ks?-Xi:+Xi:r.bound,a.br_var=0,a.br_val=0,a.ii_cnt=0,a.ii_sum=0,a.changed=0,0==e.parm.cb_size?a.data=null:a.data={},a.temp=null,a.prev=e.tail,a.next=null,null==e.head?e.head=a:e.tail.next=a,e.tail=a,e.a_cnt++,e.n_cnt++,e.t_cnt++,null==r?n(1==t):r.count++,a}function J(e){var r;if(0==e.avail){var t=e.nslots,l=e.slot;for(0==t?e.nslots=20:(e.nslots=t+t,n(e.nslots>t)),e.slot=new Array(1+e.nslots),o(e.slot,0,1+e.nslots),null!=l&&a(e.slot,1,l,1,t),r=e.nslots;r>t;r--)e.slot[r].node=null,e.slot[r].next=e.avail,e.avail=r}return r=e.avail,e.avail=e.slot[r].next,n(null==e.slot[r].node),e.slot[r].next=0,r}function Q(e,r){var t,a,l,o=e.m,u=e.n;for(n(null==e.tree),e.tree=t={},t.n=u,t.orig_m=o,t.orig_type=new Int8Array(1+o+u),t.orig_lb=new Float64Array(1+o+u),t.orig_ub=new Float64Array(1+o+u),t.orig_stat=new Int8Array(1+o+u),t.orig_prim=new Float64Array(1+o+u),t.orig_dual=new Float64Array(1+o+u),a=1;a<=o;a++){var s=e.row[a];t.orig_type[a]=s.type,t.orig_lb[a]=s.lb,t.orig_ub[a]=s.ub,t.orig_stat[a]=s.stat,t.orig_prim[a]=s.prim,t.orig_dual[a]=s.dual}for(l=1;l<=u;l++){var c=e.col[l];t.orig_type[o+l]=c.type,t.orig_lb[o+l]=c.lb,t.orig_ub[o+l]=c.ub,t.orig_stat[o+l]=c.stat,t.orig_prim[o+l]=c.prim,t.orig_dual[o+l]=c.dual}return t.orig_obj=e.obj_val,t.nslots=0,t.avail=0,t.slot=null,t.head=t.tail=null,t.a_cnt=t.n_cnt=t.t_cnt=0,t.root_m=0,t.root_type=null,t.root_lb=t.root_ub=null,t.root_stat=null,t.curr=null,t.mip=e,t.non_int=new Int8Array(1+u),t.pred_m=t.pred_max=0,t.pred_type=null,t.pred_lb=t.pred_ub=null,t.pred_stat=null,t.local=ie(t),t.mir_gen=null,t.clq_gen=null,t.pcost=null,t.iwrk=new Int32Array(1+u),t.dwrk=new Float64Array(1+u),t.parm=r,t.tm_beg=i(),t.tm_lag=0,t.sol_cnt=0,t.reason=0,t.reopt=0,t.reinv=0,t.br_var=0,t.br_sel=0,t.child=0,t.next_p=0,t.stop=0,W(t,null),t}function Y(e,r){var t,a,l,o,i,u,s=e.mip;if(n(1<=r&&r<=e.nslots),t=e.slot[r].node,n(null!=t),n(0==t.count),n(null==e.curr),e.curr=t,a=e.slot[1].node,n(null!=a),t!=a){for(n(s.m==e.root_m),t.temp=null;null!=t;t=t.up)null==t.up?n(t==a):t.up.temp=t;for(t=a;null!=t;t=t.temp){var c=s.m,f=s.n;if(null==t.temp){var _,p;if(e.pred_m=c,e.pred_max<c+f){var m=c+f+100;e.pred_max=m,e.pred_type=new Int8Array(1+m),e.pred_lb=new Float64Array(1+m),e.pred_ub=new Float64Array(1+m),e.pred_stat=new Int8Array(1+m)}for(_=1;_<=c;_++){var b=s.row[_];e.pred_type[_]=b.type,e.pred_lb[_]=b.lb,e.pred_ub[_]=b.ub,e.pred_stat[_]=b.stat}for(p=1;p<=f;p++){var d=s.col[p];e.pred_type[s.m+p]=d.type,e.pred_lb[s.m+p]=d.lb,e.pred_ub[s.m+p]=d.ub,e.pred_stat[s.m+p]=d.stat}}for(l=t.b_ptr;null!=l;l=l.next)l.k<=c?uu(s,l.k,l.type,l.lb,l.ub):su(s,l.k-c,l.type,l.lb,l.ub);for(i=t.s_ptr;null!=i;i=i.next)i.k<=c?Cu(s,i.k,i.stat):Xu(s,i.k-c,i.stat);if(null!=t.r_ptr){var v,g,h;for(g=new Int32Array(1+f),h=new Float64Array(1+f),o=t.r_ptr;null!=o;o=o.next){for(_=au(s,1),ou(s,_,o.name),n(0==s.row[_].level),s.row[_].level=t.level,s.row[_].origin=o.origin,s.row[_].klass=o.klass,uu(s,_,o.type,o.lb,o.ub),v=0,u=o.ptr;null!=u;u=u.next)v++,g[v]=u.j,h[v]=u.val;fu(s,_,v,g,h),Ou(s,_,o.rii),Cu(s,_,o.stat)}}}for(t=e.curr;null!=t.b_ptr;)l=t.b_ptr,t.b_ptr=l.next;for(;null!=t.s_ptr;)i=t.s_ptr,t.s_ptr=i.next;for(;null!=t.r_ptr;)for(o=t.r_ptr,t.r_ptr=o.next,n(null==o.name);null!=o.ptr;)u=o.ptr,o.ptr=u.next}}function $(e){var r=e.mip,t=r.m,a=r.n,l=e.curr;n(null!=l);var o,i,u,s;if(null==l.up)for(n(1==l.p),n(0==e.root_m),n(null==e.root_type),n(null==e.root_lb),n(null==e.root_ub),n(null==e.root_stat),e.root_m=t,e.root_type=new Int8Array(1+t+a),e.root_lb=new Float64Array(1+t+a),e.root_ub=new Float64Array(1+t+a),e.root_stat=new Int8Array(1+t+a),o=1;o<=t+a;o++)o<=t?(u=r.row[o],e.root_type[o]=u.type,e.root_lb[o]=u.lb,e.root_ub[o]=u.ub,e.root_stat[o]=u.stat):(s=r.col[o-t],e.root_type[o]=s.type,e.root_lb[o]=s.lb,e.root_ub[o]=s.ub,e.root_stat[o]=s.stat);else{var c,f=e.root_m,_=e.pred_m;for(n(_<=t),n(null==l.b_ptr),n(null==l.s_ptr),o=1;o<=_+a;o++){var p,m,b,d,v,g,h,y;if(p=e.pred_type[o],v=e.pred_lb[o],g=e.pred_ub[o],m=e.pred_stat[o],o<=_?(u=r.row[o],b=u.type,h=u.lb,y=u.ub,d=u.stat):(s=r.col[o-_],b=s.type,h=s.lb,y=s.ub,d=s.stat),p!=b||v!=h||g!=y){var k={};k.k=o,k.type=b,k.lb=h,k.ub=y,k.next=l.b_ptr,l.b_ptr=k}if(m!=d){var w={};w.k=o,w.stat=d,w.next=l.s_ptr,l.s_ptr=w}}if(n(null==l.r_ptr),_<t){var x,A,j;for(A=new Int32Array(1+a),j=new Float64Array(1+a),i=t;i>_;i--){u=r.row[i];var M={},P=ku(r,i);for(M.name=null==P?null:P,M.type=u.type,M.lb=u.lb,M.ub=u.ub,M.ptr=null,x=zu(r,i,A,j),o=1;o<=x;o++){var L={};L.j=A[o],L.val=j[o],L.next=M.ptr,M.ptr=L}M.rii=u.rii,M.stat=u.stat,M.next=l.r_ptr,l.r_ptr=M}}if(t!=f){var z=t-f;n(z>0);var I=new Int32Array(1+z);for(i=1;i<=z;i++)I[i]=f+i;mu(r,z,I)}for(t=r.m,n(t==f),i=1;i<=t;i++)uu(r,i,e.root_type[i],e.root_lb[i],e.root_ub[i]),Cu(r,i,e.root_stat[i]);for(c=1;c<=a;c++)su(r,c,e.root_type[t+c],e.root_lb[t+c],e.root_ub[t+c]),Xu(r,c,e.root_stat[t+c])}e.curr=null}function Z(e,r,t,a){var l,o;for(n(1<=r&&r<=e.nslots),l=e.slot[r].node,n(null!=l),n(0==l.count),n(e.curr!=l),null==l.prev?e.head=l.next:l.prev.next=l.next,null==l.next?e.tail=l.prev:l.next.prev=l.prev,l.prev=l.next=null,e.a_cnt--,n(t>0),o=1;o<=t;o++)a[o]=W(e,l).p}function ee(e,r){var t,a;for(n(1<=r&&r<=e.nslots),t=e.slot[r].node,n(null!=t),n(0==t.count),n(e.curr!=t),null==t.prev?e.head=t.next:t.prev.next=t.next,null==t.next?e.tail=t.prev:t.next.prev=t.prev,t.prev=t.next=null,e.a_cnt--;;){for(var l;null!=t.b_ptr;)l=t.b_ptr,t.b_ptr=l.next;for(var o;null!=t.s_ptr;)o=t.s_ptr,t.s_ptr=o.next;for(;null!=t.r_ptr;){var i;for(i=t.r_ptr,i.name=null;null!=i.ptr;){var u;u=i.ptr,i.ptr=u.next}t.r_ptr=i.next}if(0==e.parm.cb_size&&n(null==t.data),r=t.p,n(e.slot[r].node==t),e.slot[r].node=null,e.slot[r].next=e.avail,e.avail=r,a=t.up,e.n_cnt--,null==(t=a)||(n(t.count>0),0!=--t.count))break}}function ne(e){var r,t,a=e.mip,l=a.m,o=a.n;if(n(a.tree==e),l!=e.orig_m){var i,u;for(i=l-e.orig_m,n(i>0),u=new Int32Array(1+i),r=1;r<=i;r++)u[r]=e.orig_m+r;mu(a,i,u)}for(l=e.orig_m,n(l==e.orig_m),n(o==e.n),r=1;r<=l;r++)uu(a,r,e.orig_type[r],e.orig_lb[r],e.orig_ub[r]),Cu(a,r,e.orig_stat[r]),a.row[r].prim=e.orig_prim[r],a.row[r].dual=e.orig_dual[r];for(t=1;t<=o;t++)su(a,t,e.orig_type[l+t],e.orig_lb[l+t],e.orig_ub[l+t]),Xu(a,t,e.orig_stat[l+t]),a.col[t].prim=e.orig_prim[l+t],a.col[t].dual=e.orig_dual[l+t];a.pbs_stat=a.dbs_stat=bc,a.obj_val=e.orig_obj,n(null!=e.local),ce(e.local),n(null==e.mir_gen),n(null==e.clq_gen),a.tree=null}function re(e,r,t){var a,l,o,i,u,s,c,f,_,p,m,b,d=e.mip,v=d.m,g=d.n,h=e.iwrk,y=e.dwrk;for(n(Ku(d)==gc),n(ss(d)),n(1<=r&&r<=g),c=d.col[r].prim,a=jn(d,v+r,h,y),l=-1;l<=1;l+=2)if(0!=(o=Mn(d,a,h,y,l,1e-9))){for(n(1<=o&&o<=v+g),i=1;i<=a&&h[i]!=o;i++);n(1<=i&&i<=a),s=y[i],o<=v?(u=d.row[o].stat,f=d.row[o].dual):(u=d.col[o-v].stat,f=d.col[o-v].dual),n(u==rc||u==tc||u==ac),d.dir==Ks?(u==rc&&f<0||u==tc&&f>0||u==ac)&&(f=0):d.dir==Vs?(u==rc&&f>0||u==tc&&f<0||u==ac)&&(f=0):n(d!=d),_=(l<0?Math.floor(c):Math.ceil(c))-c,_/=s,p=f*_,n(d.dir==Ks?p>=0:d.dir==Vs?p<=0:d!=d),l<0?m=d.obj_val+p:b=d.obj_val+p}else d.dir==Ks?l<0?m=+Xi:b=+Xi:d.dir==Vs?l<0?m=-Xi:b=-Xi:n(d!=d);t(m,b)}function te(e,r){var t,a,l,o,i,u=e.mip,s=u.n,c=e.iwrk;for(l=0,o=u.c0,t=0,a=1;a<=s;a++){var f=u.col[a];if(0!=f.coef)if(f.type==ec)o+=f.coef*f.prim;else{if(f.kind!=Ws)return r;if(f.coef!=Math.floor(f.coef))return r;Math.abs(f.coef)<=Ui?c[++l]=0|Math.abs(f.coef):t=1}}if(0==t){if(0==l)return r;t=Ue(l,c)}return n(t>0),u.dir==Ks?r!=+Xi&&(i=(r-o)/t)>=Math.floor(i)+.001&&(i=Math.ceil(i),r=t*i+o):u.dir==Vs?r!=-Xi&&(i=(r-o)/t)<=Math.ceil(i)-.001&&(i=Math.floor(i),r=t*i+o):n(u!=u),r}function ae(e,r){var t,a=e.mip,l=1;if(a.mip_stat==bc)switch(t=e.parm.tol_obj*(1+Math.abs(a.mip_obj)),a.dir){case Ks:r>=a.mip_obj-t&&(l=0);break;case Vs:r<=a.mip_obj+t&&(l=0);break;default:n(a!=a)}else switch(a.dir){case Ks:r==+Xi&&(l=0);break;case Vs:r==-Xi&&(l=0);break;default:n(a!=a)}return l}function le(e){var r,t=null;switch(e.mip.dir){case Ks:for(r=e.head;null!=r;r=r.next)(null==t||t.bound>r.bound)&&(t=r);break;case Vs:for(r=e.head;null!=r;r=r.next)(null==t||t.bound<r.bound)&&(t=r);break;default:n(e!=e)}return null==t?0:t.p}function oe(e){var r,t=e.mip;n(null!=e.curr);var a=new Uu;switch(e.parm.msg_lev){case xc:a.msg_lev=xc;break;case Ac:a.msg_lev=Ac;break;case jc:case Mc:a.msg_lev=jc;break;case Pc:a.msg_lev=Mc;break;default:n(e!=e)}if(a.meth=zc,e.parm.msg_lev<Pc?a.out_dly=e.parm.out_dly:a.out_dly=0,t.mip_stat==bc)switch(e.mip.dir){case Ks:a.obj_ul=t.mip_obj;break;case Vs:a.obj_ll=t.mip_obj;break;default:n(t!=t)}return r=Du(t,a),e.curr.solved++,r}function ie(e){n(e==e);var r={};return r.size=0,r.head=r.tail=null,r.ord=0,r.curr=null,r}function ue(e,t,a,l,o,i,u,s,c,f){var _,p,m;for(n(null!=t),_={},null==a||"\0"==a[0]?_.name=null:_.name=a,0<=l&&l<=255||r("glp_ios_add_row: klass = "+l+"; invalid cut class"),_.klass=l,0!=o&&r("glp_ios_add_row: flags = "+o+"; invalid cut flags"),_.ptr=null,0<=i&&i<=e.n||r("glp_ios_add_row: len = "+i+"; invalid cut length"),m=1;m<=i;m++)p={},1<=u[m]&&u[m]<=e.n||r("glp_ios_add_row: ind["+m+"] = "+u[m]+"; column index out of range"),p.j=u[m],p.val=s[m],p.next=_.ptr,_.ptr=p;return c!=Ys&&c!=$s&&c!=ec&&r("glp_ios_add_row: type = "+c+"; invalid cut type"),_.type=c,_.rhs=f,_.prev=t.tail,_.next=null,null==_.prev?t.head=_:_.prev.next=_,t.tail=_,++t.size}function se(e){for(n(null!=e);null!=e.head;){var r=e.head;for(e.head=r.next;null!=r.ptr;){var t=r.ptr;r.ptr=t.next}}e.size=0,e.head=e.tail=null,e.ord=0,e.curr=null}function ce(e){n(null!=e),se(e)}function fe(e,r){function t(e,r,t,a,l){var o,i,u,s,c;for(n(e>=0),s=0,i=0,o=1;o<=e;o++)if(r[o]>0)if(t[o]==-Xi){if(0!=i){s=-Xi,i=0;break}i=o}else s+=r[o]*t[o];else if(r[o]<0)if(a[o]==+Xi){if(0!=i){s=-Xi,i=0;break}i=o}else s+=r[o]*a[o];else n(r!=r);for(l.f_min=s,l.j_min=i,c=0,u=0,o=1;o<=e;o++)if(r[o]>0)if(a[o]==+Xi){if(0!=u){c=+Xi,u=0;break}u=o}else c+=r[o]*a[o];else if(r[o]<0)if(t[o]==-Xi){if(0!=u){c=+Xi,u=0;break}u=o}else c+=r[o]*t[o];else n(r!=r);l.f_max=c,l.j_max=u}function a(e,n){n(0==e.j_min?e.f_min:-Xi,0==e.j_max?e.f_max:+Xi)}function l(e,r,t,a,l,o,i,u,s){var c,f,_,p;n(r>=0),n(1<=u&&u<=r),a==-Xi||e.f_max==+Xi?c=-Xi:0==e.j_max?t[u]>0?(n(i[u]!=+Xi),c=a-(e.f_max-t[u]*i[u])):t[u]<0?(n(o[u]!=-Xi),c=a-(e.f_max-t[u]*o[u])):n(t!=t):c=e.j_max==u?a-e.f_max:-Xi,l==+Xi||e.f_min==-Xi?f=+Xi:0==e.j_min?t[u]>0?(n(o[u]!=-Xi),f=l-(e.f_min-t[u]*o[u])):t[u]<0?(n(i[u]!=+Xi),f=l-(e.f_min-t[u]*i[u])):n(t!=t):f=e.j_min==u?l-e.f_min:+Xi,Math.abs(t[u])<1e-6?(_=-Xi,p=+Xi):t[u]>0?(_=c==-Xi?-Xi:c/t[u],p=f==+Xi?+Xi:f/t[u]):t[u]<0?(_=f==+Xi?-Xi:f/t[u],p=c==-Xi?+Xi:c/t[u]):n(t!=t),s(_,p)}function o(e,n,r,t,l){var o,i=0,u=n[r],s=t[l],c=null,f=null;return a(e,function(e,n){c=e,f=n}),u!=-Xi&&(o=.001*(1+Math.abs(u)),f<u-o)?i=1:s!=+Xi&&(o=.001*(1+Math.abs(s)),c>s+o)?i=1:(u!=-Xi&&(o=1e-12*(1+Math.abs(u)),c>u-o&&(n[r]=-Xi)),s!=+Xi&&(o=1e-12*(1+Math.abs(s)),f<s+o&&(t[l]=+Xi)),i)}function i(e,r,t,a,o,i,u,s,c,f){var _,p,m,b=0,d=null,v=null;if(n(r>=0),n(1<=c&&c<=r),p=i[c],m=u[c],l(e,r,t,a,o,i,u,c,function(e,n){d=e,v=n}),s&&(d!=-Xi&&(d=d-Math.floor(d)<.001?Math.floor(d):Math.ceil(d)),v!=+Xi&&(v=Math.ceil(v)-v<.001?Math.ceil(v):Math.floor(v))),p!=-Xi&&(_=.001*(1+Math.abs(p)),v<p-_))return b=1;if(m!=+Xi&&(_=.001*(1+Math.abs(m)),d>m+_))return b=1;if(d!=-Xi&&(_=.001*(1+Math.abs(d)),p<d-_&&(p=d)),v!=+Xi&&(_=.001*(1+Math.abs(v)),m>v+_&&(m=v)),p!=-Xi&&m!=+Xi){var g=Math.abs(p),h=Math.abs(m);_=1e-10*(1+(g<=h?g:h)),p>m-_&&(p==i[c]?m=p:m==u[c]?p=m:g<=h?m=p:p=m)}return f(p,m),b}function u(e,n,r,t,a){var l,o=0;return n<t&&(e||n==-Xi?o++:(l=r==+Xi?1+Math.abs(n):r-n+1,t-n>=.25*l&&o++)),r>a&&(e||r==+Xi?o++:(l=n==-Xi?1+Math.abs(r):r-n+1,r-a>=.25*l&&o++)),o}var s,c,f,_,p,m,b,d,v=e.mip,g=v.m,h=v.n,y=0;switch(n(null!=e.curr),p=new Float64Array(1+g),m=new Float64Array(1+g),v.mip_stat){case mc:p[0]=-Xi,m[0]=+Xi;break;case bc:switch(v.dir){case Ks:p[0]=-Xi,m[0]=v.mip_obj-v.c0;break;case Vs:p[0]=v.mip_obj-v.c0,m[0]=+Xi;break;default:n(v!=v)}break;default:n(v!=v)}for(s=1;s<=g;s++)p[s]=Au(v,s),m[s]=ju(v,s);for(b=new Float64Array(1+h),d=new Float64Array(1+h),c=1;c<=h;c++)b[c]=Pu(v,c),d[c]=Lu(v,c);for(f=g+1,_=new Int32Array(1+f),s=1;s<=f;s++)_[s]=s-1;if(function(e,r,a,l,s,c,f,_){var p,m,b,d,v,g,h,y,k,w,x,A,j,M,P=e.m,L=e.n,z={},I=0;for(n(0<=c&&c<=P+1),n(_>0),g=new Int32Array(1+L),h=new Int32Array(1+P+1),y=new Int32Array(1+P+1),k=new Int32Array(1+P+1),w=new Float64Array(1+L),x=new Float64Array(1+L),A=new Float64Array(1+L),v=0,b=1;b<=c;b++)p=f[b],n(0<=p&&p<=P),n(!y[p]),h[++v]=p,y[p]=1;for(n(v==c);v>0;)if(p=h[v--],y[p]=0,k[p]++,r[p]!=-Xi||a[p]!=+Xi){if(d=0,0==p)for(m=1;m<=L;m++)M=e.col[m],0!=M.coef&&(d++,g[d]=m,w[d]=M.coef);else{var E=e.row[p];for(j=E.ptr;null!=j;j=j.r_next)d++,g[d]=j.col.j,w[d]=j.val}for(b=1;b<=d;b++)m=g[b],x[b]=l[m],A[b]=s[m];if(t(d,w,x,A,z),o(z,r,p,a,p))return I=1;if(r[p]!=-Xi||a[p]!=+Xi)for(b=1;b<=d;b++){var F,S,N=null,O=null;if(m=g[b],M=e.col[m],F=M.kind!=Hs,i(z,d,w,r[p],a[p],x,A,F,b,function(e,n){N=e,O=n}))return I=1;if(S=u(F,l[m],s[m],N,O),l[m]=N,s[m]=O,S>0)for(j=M.ptr;null!=j;j=j.c_next){var q=j.row.i;k[q]>=_||(r[q]==-Xi&&a[q]==+Xi||0==y[q]&&(n(v<=P),h[++v]=q,y[q]=1))}}}return I}(v,p,m,b,d,f,_,r))return y=1;for(s=1;s<=g;s++)Ju(v,s)==nc&&(p[s]==-Xi&&m[s]==+Xi?uu(v,s,Qs,0,0):m[s]==+Xi?uu(v,s,Ys,p[s],0):p[s]==-Xi&&uu(v,s,$s,0,m[s]));for(c=1;c<=h;c++){var k;k=b[c]==-Xi&&d[c]==+Xi?Qs:d[c]==+Xi?Ys:b[c]==-Xi?$s:b[c]!=d[c]?Zs:ec,su(v,c,k,b[c],d[c])}return y}function _e(e){function r(e,r){var t,a,l,o,u,s;l=e.mip.mip_stat==bc?String(e.mip.mip_obj):"not found yet",t=le(e),0==t?o="tree is empty":(a=e.slot[t].node.bound,o=a==-Xi?"-inf":a==+Xi?"+inf":a),e.mip.dir==Ks?u=">=":e.mip.dir==Vs?u="<=":n(e!=e),a=Gs(e),s=0==a?"  0.0%":a<.001?" < 0.1%":a<=9.999?"  "+Number(100*a).toFixed(1)+"%":"",Qi("+"+e.mip.it_cnt+": "+(r?">>>>>":"mip =")+" "+l+" "+u+" "+o+" "+s+" ("+e.a_cnt+"; "+(e.t_cnt-e.n_cnt)+")"),e.tm_lag=i()}function t(e,r){return n(1<=r&&r<=e.nslots),n(null!=e.slot[r].node),ae(e,e.slot[r].node.bound)}function a(e){var r,t=e.mip,a=0,l=0,o=0,i=0,u=0;for(r=t.m;r>0;r--){var s=t.row[r];s.origin==Wc&&(s.klass==Jc?a++:s.klass==Qc?l++:s.klass==Yc?o++:s.klass==$c?i++:u++)}n(null!=e.curr),a+l+o+i+u>0&&(Qi("Cuts on level "+e.curr.level+":"),a>0&&Qi(" gmi = "+a+";"),l>0&&Qi(" mir = "+l+";"),o>0&&Qi(" cov = "+o+";"),i>0&&Qi(" clq = "+i+";"),u>0&&Qi(" app = "+u+";"),Qi(""))}for(var l,o,s,c,f,_=0,p=e.tm_beg,m=0;;){var b=null;switch(m){case 0:if(n(null==e.curr),null==e.head){e.parm.msg_lev>=Pc&&Qi("Active list is empty!"),f=0,b=3;break}if(n(0==e.next_p),null!=e.parm.cb_func&&(n(0==e.reason),e.reason=of,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){f=Af,b=3;break}0!=e.next_p||(1==e.a_cnt?(n(null==e.head.next),e.next_p=e.head.p):0!=e.child?e.next_p=e.child:e.next_p=Be(e)),Y(e,e.next_p),e.next_p=e.child=0,null!=e.curr.up&&e.curr.up.p!=_&&(_=0),l=e.curr.p,e.parm.msg_lev>=Pc&&(Qi("------------------------------------------------------------------------"),Qi("Processing node "+l+" at level "+e.curr.level)),1==l&&(e.parm.gmi_cuts==Zc&&e.parm.msg_lev>=Mc&&Qi("Gomory's cuts enabled"),e.parm.mir_cuts==Zc&&(e.parm.msg_lev>=Mc&&Qi("MIR cuts enabled"),n(null==e.mir_gen),e.mir_gen=we(e)),e.parm.cov_cuts==Zc&&e.parm.msg_lev>=Mc&&Qi("Cover cuts enabled"),e.parm.clq_cuts==Zc&&(n(null==e.clq_gen),e.parm.msg_lev>=Mc&&Qi("Clique cuts enabled"),e.clq_gen=Ie(e)));case 1:if((e.parm.msg_lev>=Pc||e.parm.msg_lev>=jc&&e.parm.out_frq-1<=1e3*u(i(),e.tm_lag))&&r(e,0),e.parm.msg_lev>=Mc&&u(i(),p)>=60&&(Qi("Time used: "+u(i(),e.tm_beg)+" secs"),p=i()),e.parm.mip_gap>0&&Gs(e)<=e.parm.mip_gap){e.parm.msg_lev>=Pc&&Qi("Relative gap tolerance reached; search terminated "),f=jf,b=3;break}if(e.parm.tm_lim<Ui&&e.parm.tm_lim-1<=1e3*u(i(),e.tm_beg)){e.parm.msg_lev>=Pc&&Qi("Time limit exhausted; search terminated"),f=yf,b=3;break}if(null!=e.parm.cb_func&&(n(0==e.reason),e.reason=uf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){f=Af,b=3;break}if(e.parm.pp_tech==Uc);else if(e.parm.pp_tech==Kc){if(0==e.curr.level&&fe(e,100)){b=2;break}}else if(e.parm.pp_tech==Vc){if(fe(e,0==e.curr.level?100:10)){b=2;break}}else n(e!=e);if(!t(e,l)){Qi("*** not tested yet ***"),b=2;break}if(e.parm.msg_lev>=Pc&&Qi("Solving LP relaxation..."),0!=(f=oe(e))&&f!=vf&&f!=gf){e.parm.msg_lev>=Ac&&Qi("ios_driver: unable to solve current LP relaxation; glp_simplex returned "+f),f=df,b=3;break}if(s=e.mip.pbs_stat,c=e.mip.dbs_stat,s==bc&&c==bc)e.parm.msg_lev>=Pc&&Qi("Found optimal solution to LP relaxation");else{if(c==vc){e.parm.msg_lev>=Ac&&Qi("ios_driver: current LP relaxation has no dual feasible solution"),f=df,b=3;break}if(s==dc&&c==bc){n(e.mip.mip_stat==bc),e.parm.msg_lev>=Pc&&Qi("LP relaxation has no solution better than incumbent objective value"),b=2;break}if(s==vc){e.parm.msg_lev>=Pc&&Qi("LP relaxation has no feasible solution"),b=2;break}n(e.mip!=e.mip)}n(s==bc&&c==bc),n(null!=e.curr),e.curr.lp_obj=e.mip.obj_val;var d=e.mip.obj_val;if(d=te(e,d),e.mip.dir==Ks?e.curr.bound<d&&(e.curr.bound=d):e.mip.dir==Vs?e.curr.bound>d&&(e.curr.bound=d):n(e.mip!=e.mip),e.parm.msg_lev>=Pc&&Qi("Local bound is "+d),!t(e,l)){e.parm.msg_lev>=Pc&&Qi("Current branch is hopeless and can be pruned"),b=2;break}if(n(0==e.reopt),n(0==e.reinv),null!=e.parm.cb_func){if(n(0==e.reason),e.reason=nf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop){f=Af,b=3;break}if(e.reopt){e.reopt=e.reinv=0,b=1;break}e.reinv&&(e.reinv=0,n(0==cs(e.mip)))}if(function(e){var r,t,a,l,o,i,u,s=e.mip,c=0,f=0;for(r=1;r<=s.n;r++){var _=s.col[r];if(e.non_int[r]=0,_.kind==Ws&&_.stat==nc){if(t=_.type,a=_.lb,l=_.ub,o=_.prim,t==Ys||t==Zs||t==ec){if(i=a-e.parm.tol_int,u=a+e.parm.tol_int,i<=o&&o<=u)continue;if(o<a)continue}if(t==$s||t==Zs||t==ec){if(i=l-e.parm.tol_int,u=l+e.parm.tol_int,i<=o&&o<=u)continue;if(o>l)continue}i=Math.floor(o+.5)-e.parm.tol_int,u=Math.floor(o+.5)+e.parm.tol_int,i<=o&&o<=u||(e.non_int[r]=1,c++,i=o-Math.floor(o),u=Math.ceil(o)-o,n(i>0&&u>0),f+=i<=u?i:u)}}n(null!=e.curr),e.curr.ii_cnt=c,e.curr.ii_sum=f,e.parm.msg_lev>=Pc&&Qi(0==c?"There are no fractional columns":1==c?"There is one fractional column, integer infeasibility is "+f:"There are "+c+" fractional columns, integer infeasibility is "+f)}(e),0==e.curr.ii_cnt){if(e.parm.msg_lev>=Pc&&Qi("New integer feasible solution found"),e.parm.msg_lev>=Mc&&a(e),function(e){var r,t,a=e.mip;for(a.mip_stat=bc,a.mip_obj=a.obj_val,r=1;r<=a.m;r++){var l=a.row[r];l.mipx=l.prim}for(t=1;t<=a.n;t++){var o=a.col[t];o.kind==Hs?o.mipx=o.prim:o.kind==Ws?o.mipx=Math.floor(o.prim+.5):n(o!=o)}e.sol_cnt++}(e),e.parm.msg_lev>=jc&&r(e,1),null!=e.parm.cb_func&&(n(0==e.reason),e.reason=rf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){f=Af,b=3;break}b=2;break}if(e.mip.mip_stat==bc&&function(e){var r,t,a,l,o,i,u=e.mip,s=0;for(n(e.mip.mip_stat==bc),n(u.pbs_stat==bc&&u.dbs_stat==bc),a=u.obj_val,r=1;r<=u.n;r++){var c=u.col[r];if(c.kind==Ws)switch(l=c.lb,o=c.ub,t=c.stat,i=c.dual,u.dir){case Ks:t==rc?(i<0&&(i=0),a+i>=u.mip_obj&&(su(u,r,ec,l,l),s++)):t==tc&&(i>0&&(i=0),a-i>=u.mip_obj&&(su(u,r,ec,o,o),s++));break;case Vs:t==rc?(i>0&&(i=0),a+i<=u.mip_obj&&(su(u,r,ec,l,l),s++)):t==tc&&(i<0&&(i=0),a-i<=u.mip_obj&&(su(u,r,ec,o,o),s++));break;default:n(e!=e)}}e.parm.msg_lev>=Pc&&(0==s||Qi(1==s?"One column has been fixed by reduced cost":s+" columns have been fixed by reduced costs")),n(u.pbs_stat==bc&&u.dbs_stat==bc)}(e),null!=e.parm.cb_func){if(n(0==e.reason),e.reason=tf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop){f=Af,b=3;break}if(!t(e,l)){e.parm.msg_lev>=Pc&&Qi("Current branch became hopeless and can be pruned"),b=2;break}}if(e.parm.fp_heur&&(n(0==e.reason),e.reason=tf,Ce(e),e.reason=0,!t(e,l))){e.parm.msg_lev>=Pc&&Qi("Current branch became hopeless and can be pruned"),b=2;break}if(n(null!=e.local),n(0==e.local.size),null!=e.parm.cb_func&&(n(0==e.reason),e.reason=af,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){f=Af,b=3;break}if(0!=e.curr.level&&0!=_||(n(0==e.reason),e.reason=af,function(e){if(e.parm.mir_cuts==Zc||e.parm.gmi_cuts==Zc||e.parm.cov_cuts==Zc||e.parm.clq_cuts==Zc){var r,t,a;for(t=e.n,t<1e3&&(t=1e3),a=0,r=e.orig_m+1;r<=e.mip.m;r++)e.mip.row[r].origin==Wc&&a++;a>=t||(e.parm.gmi_cuts==Zc&&e.curr.changed<5&&ke(e),e.parm.mir_cuts==Zc&&(n(null!=e.mir_gen),xe(e,e.mir_gen)),e.parm.cov_cuts==Zc&&Me(e),e.parm.clq_cuts==Zc&&null!=e.clq_gen&&(0==e.curr.level&&e.curr.changed<50||e.curr.level>0&&e.curr.changed<5)&&Ee(e,e.clq_gen))}}(e),e.reason=0),e.local.size>0&&(n(0==e.reason),e.reason=af,Xe(e),e.reason=0),se(e.local),e.reopt){e.reopt=0,e.curr.changed++,b=1;break}if(function(e){var r,t=0,a=null;for(n(null!=e.curr),r=e.orig_m+1;r<=e.mip.m;r++)e.mip.row[r].origin==Wc&&e.mip.row[r].level==e.curr.level&&e.mip.row[r].stat==nc&&(null==a&&(a=new Int32Array(1+e.mip.m)),a[++t]=r);t>0&&(mu(e.mip,t,a),n(0==cs(e.mip)))}(e),e.parm.msg_lev>=Mc&&0==e.curr.level&&a(e),null!=e.pcost&&Te(e),n(0==e.br_var),n(0==e.br_sel),null!=e.parm.cb_func&&(n(0==e.reason),n(0==e.br_var),n(0==e.br_sel),e.reason=lf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){f=Af,b=3;break}if(0==e.br_var&&(e.br_var=Fe(e,function(n){e.br_sel=n})),o=e.curr.p,f=function(e,r,t){var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g=e.mip,h=g.m,y=g.n,k=new Array(3),w=null,x=null;switch(n(1<=r&&r<=y),l=g.col[r].type,f=g.col[r].lb,_=g.col[r].ub,p=g.col[r].prim,m=Math.floor(p),b=Math.ceil(p),l){case Qs:o=$s,i=Ys;break;case Ys:n(f<=m),o=f==m?ec:Zs,n(f+1<=b),i=Ys;break;case $s:n(m<=_-1),o=$s,n(b<=_),i=b==_?ec:Zs;break;case Zs:n(f<=m&&m<=_-1),o=f==m?ec:Zs,n(f+1<=b&&b<=_),i=b==_?ec:Zs;break;default:n(l!=l)}return re(e,r,function(e,n){w=e,x=n}),d=te(e,w),v=te(e,x),u=!ae(e,d),s=!ae(e,v),u&&s?(e.parm.msg_lev>=Pc&&Qi("Both down- and up-branches are hopeless"),2):s?(e.parm.msg_lev>=Pc&&Qi("Up-branch is hopeless"),su(g,r,o,f,m),e.curr.lp_obj=w,g.dir==Ks?e.curr.bound<d&&(e.curr.bound=d):g.dir==Vs?e.curr.bound>d&&(e.curr.bound=d):n(g!=g),1):u?(e.parm.msg_lev>=Pc&&Qi("Down-branch is hopeless"),su(g,r,i,b,_),e.curr.lp_obj=x,g.dir==Ks?e.curr.bound<v&&(e.curr.bound=v):g.dir==Vs?e.curr.bound>v&&(e.curr.bound=v):n(g!=g),1):(e.parm.msg_lev>=Pc&&Qi("Branching on column "+r+", primal value is "+p),n(null!=e.curr),c=e.curr.p,e.curr.br_var=r,e.curr.br_val=p,$(e),Z(e,c,2,k),e.parm.msg_lev>=Pc&&Qi("Node "+k[1]+" begins down branch, node "+k[2]+" begins up branch "),a=e.slot[k[1]].node,n(null!=a),n(null!=a.up),n(null==a.b_ptr),a.b_ptr={},a.b_ptr.k=h+r,a.b_ptr.type=o,a.b_ptr.lb=f,a.b_ptr.ub=m,a.b_ptr.next=null,a.lp_obj=w,g.dir==Ks?a.bound<d&&(a.bound=d):g.dir==Vs?a.bound>d&&(a.bound=d):n(g!=g),a=e.slot[k[2]].node,n(null!=a),n(null!=a.up),n(null==a.b_ptr),a.b_ptr={},a.b_ptr.k=h+r,a.b_ptr.type=i,a.b_ptr.lb=b,a.b_ptr.ub=_,a.b_ptr.next=null,a.lp_obj=x,g.dir==Ks?a.bound<v&&(a.bound=v):g.dir==Vs?a.bound>v&&(a.bound=v):n(g!=g),n(0==e.child),t==sf?e.child=0:t==cf?e.child=k[1]:t==ff?e.child=k[2]:n(t!=t),0)}(e,e.br_var,e.br_sel),e.br_var=e.br_sel=0,0==f){_=o,b=0;break}if(1==f){e.curr.solved=e.curr.changed=0,b=1;break}if(2==f){b=2;break}n(f!=f);case 2:e.parm.msg_lev>=Pc&&Qi("Node "+l+" fathomed"),$(e),ee(e,l),e.mip.mip_stat==bc&&function(e){var r,a,l=0;for(n(e.mip.mip_stat==bc),r=e.head;null!=r;r=a)a=r.next,t(e,r.p)||(ee(e,r.p),l++);e.parm.msg_lev>=Pc&&(1==l?Qi("One hopeless branch has been pruned"):l>1&&Qi(l+" hopeless branches have been pruned"))}(e),_=0,b=0;break;case 3:return e.parm.msg_lev>=jc&&r(e,0),e.mir_gen=null,e.clq_gen=null,f}if(null==b)break;m=b}}function pe(e){var r;return n(e>=0),r={},r.n=e,r.nnz=0,r.pos=new Int32Array(1+e),r.ind=new Int32Array(1+e),r.val=new Float64Array(1+e),r}function me(e){var r,t,a;for(n(e.n>=0),a=0,r=e.n;r>=1;r--)t=e.pos[r],n(0<=t&&t<=e.nnz),0!=t&&(n(e.ind[t]==r),a++);n(e.nnz==a)}function be(e,r){var t;return n(1<=r&&r<=e.n),t=e.pos[r],n(0<=t&&t<=e.nnz),0==t?0:e.val[t]}function de(e,r,t){n(1<=r&&r<=e.n);var a=e.pos[r];0==t?0!=a&&(e.pos[r]=0,a<e.nnz&&(e.pos[e.ind[e.nnz]]=a,e.ind[a]=e.ind[e.nnz],e.val[a]=e.val[e.nnz]),e.nnz--):(0==a&&(a=++e.nnz,e.pos[r]=a,e.ind[a]=r),e.val[a]=t)}function ve(e){for(var n=1;n<=e.nnz;n++)e.pos[e.ind[n]]=0;e.nnz=0}function ge(e,n){for(var r=0,t=1;t<=e.nnz;t++)0==Math.abs(e.val[t])||Math.abs(e.val[t])<n?e.pos[e.ind[t]]=0:(r++,e.pos[e.ind[t]]=r,e.ind[r]=e.ind[t],e.val[r]=e.val[t]);e.nnz=r}function he(e,r){n(e!=r),n(e.n==r.n),ve(e),e.nnz=r.nnz,a(e.ind,1,r.ind,1,e.nnz),a(e.val,1,r.val,1,e.nnz);for(var t=1;t<=e.nnz;t++)e.pos[e.ind[t]]=t}function ye(e,r,t){var a,l,o;n(e!=t),n(e.n==t.n);for(var i=1;i<=t.nnz;i++)a=t.ind[i],l=be(e,a),o=t.val[i],de(e,a,l+r*o)}function ke(e){function r(e){return e-Math.floor(e)}var t,a,l,o,i,u=e.mip,c=u.m,f=u.n,_={};for(t=new Array(1+f),_.ind=new Int32Array(1+f),_.val=new Float64Array(1+f),_.phi=new Float64Array(1+c+f),l=0,o=1;o<=f;o++){var p,m=u.col[o];m.kind==Ws&&(m.type!=ec&&m.stat==nc&&.05<=(p=r(m.prim))&&p<=.95&&(l++,t[l].j=o,t[l].f=p))}for(s(t,1,l,function(e,n){return e.f>n.f?-1:e.f<n.f?1:0}),i=x(e),a=1;a<=l&&!(x(e)-i>=50);a++)!function(e,t,a){var l,o,i,u,s,c,f,_,p,m,b,d,v,g,h=e.mip,y=h.m,k=h.n,w=t.ind,x=t.val,j=t.phi;for(i=gs(h,y+a,w,x),p=h.col[a].prim,o=1;o<=y+k;o++)j[o]=0;for(d=r(p),a=1;a<=i;a++){if(o=w[a],n(1<=o&&o<=y+k),o<=y?(v=h.row[o],u=Hs,c=v.lb,f=v.ub,s=v.stat):(g=h.col[o-y],u=g.kind,c=g.lb,f=g.ub,s=g.stat),n(s!=nc),m=x[a],Math.abs(m)>1e5)return;if(!(Math.abs(m)<1e-10)){switch(s){case ac:return;case rc:_=-m;break;case tc:_=+m;break;case lc:continue;default:n(s!=s)}switch(u){case Ws:if(Math.abs(_-Math.floor(_+.5))<1e-10)continue;b=r(_)<=r(p)?r(_):r(p)/(1-r(p))*(1-r(_));break;case Hs:b=_>=0?+_:r(p)/(1-r(p))*-_;break;default:n(u!=u)}switch(s){case rc:j[o]=+b,d+=b*c;break;case tc:j[o]=-b,d-=b*f;break;default:n(s!=s)}}}for(l=1;l<=y;l++){var M;if(!(Math.abs(j[l])<1e-10))for(v=h.row[l],n(v.type!=ec),M=v.ptr;null!=M;M=M.r_next)j[y+M.col.j]+=j[l]*M.val}for(i=0,a=1;a<=k;a++)Math.abs(j[y+a])<1e-10||(g=h.col[a],g.type==ec?d-=j[y+a]*g.lb:(i++,w[i]=a,x[i]=j[y+a]));for(Math.abs(d)<1e-12&&(d=0),o=1;o<=i;o++){if(Math.abs(x[o])<.001)return;if(Math.abs(x[o])>1e3)return}A(e,null,Jc,0,i,w,x,Ys,d)}(e,_,t[a].j)}function we(e){var r,t=e.mip,a=t.m,l=t.n;return Ts&&Qi("ios_mir_init: warning: debug mode enabled"),r={},r.m=a,r.n=l,r.skip=new Int8Array(1+a),r.isint=new Int8Array(1+a+l),r.lb=new Float64Array(1+a+l),r.vlb=new Int32Array(1+a+l),r.ub=new Float64Array(1+a+l),r.vub=new Int32Array(1+a+l),r.x=new Float64Array(1+a+l),r.agg_row=new Int32Array(1+Rs),r.agg_vec=pe(a+l),r.subst=new Int8Array(1+a+l),r.mod_vec=pe(a+l),r.cut_vec=pe(a+l),function(e,r){var t,a=e.mip,l=r.m;for(t=1;t<=l;t++){var o=a.row[t];switch(r.skip[t]=0,r.isint[t]=0,o.type){case Qs:r.lb[t]=-Xi,r.ub[t]=+Xi;break;case Ys:r.lb[t]=o.lb,r.ub[t]=+Xi;break;case $s:r.lb[t]=-Xi,r.ub[t]=o.ub;break;case Zs:r.lb[t]=o.lb,r.ub[t]=o.ub;break;case ec:r.lb[t]=r.ub[t]=o.lb;break;default:n(o!=o)}r.vlb[t]=r.vub[t]=0}}(e,r),function(e,r){var t,a=e.mip,l=r.m,o=r.n;for(t=l+1;t<=l+o;t++){var i=a.col[t-l];switch(i.kind){case Hs:r.isint[t]=0;break;case Ws:r.isint[t]=1;break;default:n(i!=i)}switch(i.type){case Qs:r.lb[t]=-Xi,r.ub[t]=+Xi;break;case Ys:r.lb[t]=i.lb,r.ub[t]=+Xi;break;case $s:r.lb[t]=-Xi,r.ub[t]=i.ub;break;case Zs:r.lb[t]=i.lb,r.ub[t]=i.ub;break;case ec:r.lb[t]=r.ub[t]=i.lb;break;default:n(i!=i)}r.vlb[t]=r.vub[t]=0}}(e,r),function(e,n){var r,t,a,l,o,i,u=e.mip,s=n.m;for(t=1;t<=s;t++)if((0==n.lb[t]&&n.ub[t]==+Xi||n.lb[t]==-Xi&&0==n.ub[t])&&null!=(r=u.row[t].ptr)&&(a=s+r.col.j,o=r.val,null!=(r=r.r_next)&&(l=s+r.col.j,i=r.val,null==r.r_next))){if(!n.isint[a]&&n.isint[l]);else{if(!n.isint[a]||n.isint[l])continue;l=a,i=o,a=s+r.col.j,o=r.val}n.lb[l]!=-Xi&&n.ub[l]!=+Xi&&n.lb[l]!=n.ub[l]&&(0==n.ub[t]&&(o=-o,i=-i),o>0?0==n.vlb[a]&&(n.lb[a]=-i/o,n.vlb[a]=l,n.skip[t]=1):0==n.vub[a]&&(n.ub[a]=-i/o,n.vub[a]=l,n.skip[t]=1))}}(e,r),function(e,n){var r,t,a,l,o=e.mip,i=n.m;for(t=1;t<=i;t++)if(n.lb[t]!=-Xi||n.ub[t]!=+Xi){for(l=0,r=o.row[t].ptr;null!=r;r=r.r_next){if(a=i+r.col.j,n.lb[a]==-Xi&&n.ub[a]==+Xi){n.skip[t]=1;break}if(n.isint[a]&&n.lb[a]==-Xi||n.isint[a]&&n.ub[a]==+Xi){n.skip[t]=1;break}0==n.vlb[a]&&0==n.vub[a]&&n.lb[a]==n.ub[a]||l++}0==l&&(n.skip[t]=1)}else n.skip[t]=1}(e,r),r}function xe(e,r){function t(e,r,t,a,l,o,c){function f(e,n){return e.v<n.v?-1:e.v>n.v?1:0}function _(e,n,r,t,a,l,o){var s,c,f;for(c=o,f=r,s=1;s<=e;s++)c[s]=n[s]/l,a[s]&&(c[s]=-c[s]),f-=n[s]*t[s];if(f/=l,function(e,n,r,t){var a,l,o;if(Math.abs(r-Math.floor(r+.5))<.01)return 1;for(l=r-Math.floor(r),a=1;a<=e;a++)o=n[a]-Math.floor(n[a])-l,t[a]=o<=0?Math.floor(n[a]):Math.floor(n[a])+o/(1-l);return i=Math.floor(r),u=1/(1-l),0}(e,c,f,o))return 1;for(s=1;s<=e;s++)a[s]&&(o[s]=-o[s],i+=o[s]*t[s]);return u/=l,0}var p,m,b,d,v,g,h,y,k,w,x,A=new Array(4);for(w=new Int8Array(1+e),x=new Array(1+e),m=1;m<=e;m++)w[m]=l[m]>=.5*a[m];for(k=g=0,m=1;m<=e;m++)if(n(0!=r[m]),h=1e-9*(1+Math.abs(a[m])),!(l[m]<h||l[m]>a[m]-h)&&!(p=_(e,r,t,a,w,Math.abs(r[m]),c))){for(y=-i-u*o,b=1;b<=e;b++)y+=c[b]*l[b];k<y&&(k=y,g=Math.abs(r[m]))}if(k<.001&&(k=0),0==k)return k;for(n(g>0),A[1]=g/2,A[2]=g/4,A[3]=g/8,m=1;m<=3;m++)if(!(p=_(e,r,t,a,w,A[m],c))){for(y=-i-u*o,b=1;b<=e;b++)y+=c[b]*l[b];k<y&&(k=y,g=A[m])}for(d=0,m=1;m<=e;m++)h=1e-9*(1+Math.abs(a[m])),l[m]<h||l[m]>a[m]-h||(d++,x[d].j=m,x[d].v=Math.abs(l[m]-.5*a[m]));for(s(x,1,d,f),v=1;v<=d;v++)if(m=x[v].j,w[m]=!w[m],p=_(e,r,t,a,w,g,c),w[m]=!w[m],!p){for(y=-i-u*o,b=1;b<=e;b++)y+=c[b]*l[b];k<y&&(k=y,w[m]=!w[m])}return p=_(e,r,t,a,w,g,c),n(!p),k}function a(e){var r,t,a,l,o=e.m,i=e.n;for(a=0,l=1,r=1;r<=e.agg_vec.nnz;r++)t=e.agg_vec.ind[r],n(1<=t&&t<=o+i),a+=e.agg_vec.val[r]*e.x[t],l<Math.abs(e.agg_vec.val[r])&&(l=Math.abs(e.agg_vec.val[r]));a-=e.agg_rhs,l<Math.abs(e.agg_rhs)&&(l=Math.abs(e.agg_rhs)),n(Math.abs(a)<=1e-6*l)}function o(e,r){var t,a,l,o,i=e.m,u=e.n;for(l=0,o=1,t=1;t<=e.cut_vec.nnz;t++)a=e.cut_vec.ind[t],n(1<=a&&a<=i+u),l+=e.cut_vec.val[t]*e.x[a],o<Math.abs(e.cut_vec.val[t])&&(o=Math.abs(e.cut_vec.val[t]));l-=e.cut_rhs,o<Math.abs(e.cut_rhs)&&(o=Math.abs(e.cut_rhs)),n(Math.abs(l-r)<=1e-6*o)}var i,u,c,f,_,p=e.mip,m=r.m,b=r.n;for(n(p.m>=m),n(p.n==b),function(e,n){var r,t=e.mip,a=n.m,l=n.n;for(r=1;r<=a;r++)n.x[r]=t.row[r].prim;for(r=a+1;r<=a+l;r++)n.x[r]=t.col[r-a].prim}(e,r),Ts&&function(e){var r,t,a,l,o,i=e.m,u=e.n;for(r=1;r<=i+u;r++)a=e.lb[r],t=e.vlb[r],0!=t&&(n(a!=-Xi),n(!e.isint[r]),n(e.isint[t]),a*=e.x[t]),a!=-Xi&&(o=1e-6*(1+Math.abs(a)),n(e.x[r]>=a-o)),l=e.ub[r],t=e.vub[r],0!=t&&(n(l!=+Xi),n(!e.isint[r]),n(e.isint[t]),l*=e.x[t]),l!=+Xi&&(o=1e-6*(1+Math.abs(l)),n(e.x[r]<=l+o))}(r),l(r.subst,1,Cs,m+b),c=1;c<=m;c++)if(!r.skip[c]){for(function(e,r,t){var a,l=e.mip,o=r.m;for(n(1<=t&&t<=o),n(!r.skip[t]),r.skip[t]=2,r.agg_cnt=1,r.agg_row[1]=t,ve(r.agg_vec),de(r.agg_vec,t,1),a=l.row[t].ptr;null!=a;a=a.r_next)de(r.agg_vec,o+a.col.j,-a.val);r.agg_rhs=0,Ts&&me(r.agg_vec)}(e,r,c);;){if(Ts&&a(r),function(e){var r,t,a=e.m,l=e.n;for(r=1;r<=e.agg_vec.nnz;r++)t=e.agg_vec.ind[r],n(1<=t&&t<=a+l),0==e.vlb[t]&&0==e.vub[t]&&e.lb[t]==e.ub[t]&&(e.agg_rhs-=e.agg_vec.val[r]*e.lb[t],e.agg_vec.val[r]=0);ge(e.agg_vec,Ki),Ts&&me(e.agg_vec)}(r),Ts)for(a(r),f=1;f<=m+b;f++)n(r.subst[f]==Cs);!function(e){var r,t,a,l,o,i=e.m,u=e.n;for(r=1;r<=e.agg_vec.nnz;r++)t=e.agg_vec.ind[r],n(1<=t&&t<=i+u),e.isint[t]||(a=e.vlb[t],0==a?l=e.lb[t]==-Xi?Xi:e.x[t]-e.lb[t]:(n(1<=a&&a<=i+u),n(e.isint[a]),n(e.lb[t]!=-Xi),l=e.x[t]-e.lb[t]*e.x[a]),a=e.vub[t],0==a?o=e.vub[t]==+Xi?Xi:e.ub[t]-e.x[t]:(n(1<=a&&a<=i+u),n(e.isint[a]),n(e.ub[t]!=+Xi),o=e.ub[t]*e.x[a]-e.x[t]),n(l!=Xi||o!=Xi),n(e.subst[t]==Cs),e.subst[t]=l<=o?Xs:Bs)}(r),function(e){var r,t,a,l,o=e.m,i=e.n;for(he(e.mod_vec,e.agg_vec),e.mod_rhs=e.agg_rhs,Ts&&me(e.mod_vec),r=e.mod_vec.nnz;r>=1;r--)a=e.mod_vec.ind[r],n(1<=a&&a<=o+i),e.isint[a]||(e.subst[a]==Xs?(n(e.lb[a]!=-Xi),l=e.vlb[a],0==l?e.mod_rhs-=e.mod_vec.val[r]*e.lb[a]:(n(e.isint[l]),t=e.mod_vec.pos[l],0==t&&(de(e.mod_vec,l,1),t=e.mod_vec.pos[l],e.mod_vec.val[t]=0),e.mod_vec.val[t]+=e.mod_vec.val[r]*e.lb[a])):e.subst[a]==Bs?(n(e.ub[a]!=+Xi),l=e.vub[a],0==l?e.mod_rhs-=e.mod_vec.val[r]*e.ub[a]:(n(e.isint[l]),t=e.mod_vec.pos[l],0==t&&(de(e.mod_vec,l,1),t=e.mod_vec.pos[l],e.mod_vec.val[t]=0),e.mod_vec.val[t]+=e.mod_vec.val[r]*e.ub[a]),e.mod_vec.val[r]=-e.mod_vec.val[r]):n(a!=a));for(Ts&&me(e.mod_vec),r=1;r<=e.mod_vec.nnz;r++)a=e.mod_vec.ind[r],n(1<=a&&a<=o+i),e.isint[a]&&(n(e.subst[a]==Cs),n(0==e.vlb[a]&&0==e.vub[a]),n(e.lb[a]!=-Xi&&e.ub[a]!=+Xi),Math.abs(e.lb[a])<=Math.abs(e.ub[a])?(e.subst[a]=Xs,e.mod_rhs-=e.mod_vec.val[r]*e.lb[a]):(e.subst[a]=Bs,e.mod_rhs-=e.mod_vec.val[r]*e.ub[a],e.mod_vec.val[r]=-e.mod_vec.val[r]));Ts&&me(e.mod_vec)}(r),Ts&&function(e){var r,t,a,l,o,i,u=e.m,s=e.n;for(l=0,o=1,r=1;r<=e.mod_vec.nnz;r++)t=e.mod_vec.ind[r],n(1<=t&&t<=u+s),e.subst[t]==Xs?(n(e.lb[t]!=-Xi),a=e.vlb[t],i=0==a?e.x[t]-e.lb[t]:e.x[t]-e.lb[t]*e.x[a]):e.subst[t]==Bs?(n(e.ub[t]!=+Xi),a=e.vub[t],i=0==a?e.ub[t]-e.x[t]:e.ub[t]*e.x[a]-e.x[t]):n(t!=t),l+=e.mod_vec.val[r]*i,o<Math.abs(e.mod_vec.val[r])&&(o=Math.abs(e.mod_vec.val[r]));l-=e.mod_rhs,o<Math.abs(e.mod_rhs)&&(o=Math.abs(e.mod_rhs)),n(Math.abs(l)<=1e-6*o)}(r),_=function(e){var r,a,l,o,i,u,s,c,f,_=e.m,p=e.n,m=0;for(he(e.cut_vec,e.mod_vec),e.cut_rhs=e.mod_rhs,ge(e.cut_vec,Ki),Ts&&me(e.cut_vec),r=1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(1<=a&&a<=_+p),!e.isint[a]&&e.cut_vec.val[r]>0&&(e.cut_vec.val[r]=0);for(ge(e.cut_vec,0),Ts&&me(e.cut_vec),o=0,r=1;r<=e.cut_vec.nnz;r++)if(a=e.cut_vec.ind[r],n(1<=a&&a<=_+p),e.isint[a]){var b;o++,l=e.cut_vec.ind[o],e.cut_vec.pos[a]=o,e.cut_vec.pos[l]=r,e.cut_vec.ind[o]=a,e.cut_vec.ind[r]=l,b=e.cut_vec.val[o],e.cut_vec.val[o]=e.cut_vec.val[r],e.cut_vec.val[r]=b}if(Ts&&me(e.cut_vec),0==o)return m;for(u=new Float64Array(1+o),s=new Float64Array(1+o),c=new Float64Array(1+o),r=1;r<=o;r++)a=e.cut_vec.ind[r],n(_+1<=a&&a<=_+p),n(e.isint[a]),u[r]=e.ub[a]-e.lb[a],n(u[r]>=1),e.subst[a]==Xs?s[r]=e.x[a]-e.lb[a]:e.subst[a]==Bs?s[r]=e.ub[a]-e.x[a]:n(a!=a),n(s[r]>=-.001),s[r]<0&&(s[r]=0);for(i=0,r=o+1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(1<=a&&a<=_+p),n(!e.isint[a]),e.subst[a]==Xs?(n(e.lb[a]!=-Xi),l=e.vlb[a],s=0==l?e.x[a]-e.lb[a]:e.x[a]-e.lb[a]*e.x[l]):e.subst[a]==Bs?(n(e.ub[a]!=+Xi),l=e.vub[a],s=0==l?e.ub[a]-e.x[a]:e.ub[a]*e.x[l]-e.x[a]):n(a!=a),n(s>=-.001),s<0&&(s=0),i-=e.cut_vec.val[r]*s;if(n(i>=0),f=e.cut_rhs,0==(m=t(o,e.cut_vec.val,f,u,s,i,c)))return m;for(n(m>0),r=1;r<=o;r++)e.cut_vec.val[r]=c[r];for(r=o+1;r<=e.cut_vec.nnz;r++)(a=e.cut_vec.ind[r])<=_+p&&(e.cut_vec.val[r]*=null);return e.cut_rhs=null,Ts&&me(e.cut_vec),m}(r),_>0&&(Ts&&function(e,r){var t,a,l,o,i,u,s=e.m,c=e.n;for(o=0,i=1,t=1;t<=e.cut_vec.nnz;t++)a=e.cut_vec.ind[t],n(1<=a&&a<=s+c),e.subst[a]==Xs?(n(e.lb[a]!=-Xi),l=e.vlb[a],u=0==l?e.x[a]-e.lb[a]:e.x[a]-e.lb[a]*e.x[l]):e.subst[a]==Bs?(n(e.ub[a]!=+Xi),l=e.vub[a],u=0==l?e.ub[a]-e.x[a]:e.ub[a]*e.x[l]-e.x[a]):n(a!=a),o+=e.cut_vec.val[t]*u,i<Math.abs(e.cut_vec.val[t])&&(i=Math.abs(e.cut_vec.val[t]));o-=e.cut_rhs,i<Math.abs(e.cut_rhs)&&(i=Math.abs(e.cut_rhs)),n(Math.abs(o-r)<=1e-6*i)}(r,_),function(e){var r,t,a,l,o=e.m,i=e.n;for(r=1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(1<=a&&a<=o+i),e.isint[a]&&(e.subst[a]==Xs?(n(e.lb[a]!=-Xi),n(0==e.vlb[a]),e.cut_rhs+=e.cut_vec.val[r]*e.lb[a]):e.subst[a]==Bs?(n(e.ub[a]!=+Xi),n(0==e.vub[a]),e.cut_rhs-=e.cut_vec.val[r]*e.ub[a],e.cut_vec.val[r]=-e.cut_vec.val[r]):n(a!=a));for(r=1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(1<=a&&a<=o+i),e.isint[a]||(e.subst[a]==Xs?(n(e.lb[a]!=-Xi),l=e.vlb[a],0==l?e.cut_rhs+=e.cut_vec.val[r]*e.lb[a]:(t=e.cut_vec.pos[l],0==t&&(de(e.cut_vec,l,1),t=e.cut_vec.pos[l],n(0!=t),e.cut_vec.val[t]=0),e.cut_vec.val[t]-=e.cut_vec.val[r]*e.lb[a])):e.subst[a]==Bs?(n(e.ub[a]!=+Xi),l=e.vub[a],0==l?e.cut_rhs-=e.cut_vec.val[r]*e.ub[a]:(t=e.cut_vec.pos[l],0==t&&(de(e.cut_vec,l,1),t=e.cut_vec.pos[l],n(0!=t),e.cut_vec.val[t]=0),e.cut_vec.val[t]+=e.cut_vec.val[r]*e.ub[a]),e.cut_vec.val[r]=-e.cut_vec.val[r]):n(a!=a));Ts&&me(e.cut_vec)}(r),Ts&&o(r,_),function(e,r){var t,a,l,o,i,u=e.mip,s=r.m,c=r.n;for(a=r.cut_vec.nnz;a>=1;a--)if(l=r.cut_vec.ind[a],n(1<=l&&l<=s+c),!(l>s)){for(t=u.row[l].ptr;null!=t;t=t.r_next)o=s+t.col.j,i=r.cut_vec.pos[o],0==i&&(de(r.cut_vec,o,1),i=r.cut_vec.pos[o],r.cut_vec.val[i]=0),r.cut_vec.val[i]+=r.cut_vec.val[a]*t.val;r.cut_vec.val[a]=0}ge(r.cut_vec,0)}(e,r),Ts&&o(r,_),function(e,r){var t,a,l,o=r.m,i=r.n,u=new Int32Array(1+i),s=new Float64Array(1+i);for(l=0,t=r.cut_vec.nnz;t>=1;t--)a=r.cut_vec.ind[t],n(o+1<=a&&a<=o+i),l++,u[l]=a-o,s[l]=r.cut_vec.val[t];A(e,null,Qc,0,l,u,s,$s,r.cut_rhs)}(e,r));for(var d=1;d<=r.mod_vec.nnz;d++)f=r.mod_vec.ind[d],n(1<=f&&f<=m+b),n(r.subst[f]!=Cs),r.subst[f]=Cs;if(!(0==_&&r.agg_cnt<Rs&&0==function(e,r){var t,a,l,o,i,u,s,c,f,_,p=e.mip,m=r.m,b=r.n,d=0,v=0,g=0;for(o=1;o<=r.agg_vec.nnz;o++)u=r.agg_vec.ind[o],n(1<=u&&u<=m+b),u<=m||r.isint[u]||Math.abs(r.agg_vec.val[o])<.001||(s=r.vlb[u],0==s?c=r.lb[u]==-Xi?Xi:r.x[u]-r.lb[u]:(n(1<=s&&s<=m+b),n(r.isint[s]),n(r.lb[u]!=-Xi),c=r.x[u]-r.lb[u]*r.x[s]),s=r.vub[u],0==s?f=r.vub[u]==+Xi?Xi:r.ub[u]-r.x[u]:(n(1<=s&&s<=m+b),n(r.isint[s]),n(r.ub[u]!=+Xi),f=r.ub[u]*r.x[s]-r.x[u]),n(c!=Xi||f!=Xi),_=c<=f?c:f,n(_!=Xi),_<.001||g<_&&(g=_,d=u));if(0==d)return v=1;for(n(m+1<=d&&d<=m+b),n(!r.isint[d]),l=1;l<=m;l++)if(!r.skip[l]){for(t=p.row[l].ptr;null!=t&&t.col.j!=d-m;t=t.r_next);if(null!=t&&Math.abs(t.val)>=.001)break}if(l>m)return v=2;for(r.agg_cnt++,n(r.agg_cnt<=Rs),r.agg_row[r.agg_cnt]=l,r.skip[l]=2,a=pe(m+b),de(a,l,1),t=p.row[l].ptr;null!=t;t=t.r_next)de(a,m+t.col.j,-t.val);return Ts&&me(a),o=r.agg_vec.pos[d],n(0!=o),i=a.pos[d],n(0!=i),ye(r.agg_vec,-r.agg_vec.val[o]/a.val[i],a),de(r.agg_vec,d,0),Ts&&me(r.agg_vec),v}(e,r)))break}var v;for(f=1;f<=r.agg_cnt;f++)v=r.agg_row[f],n(1<=v&&v<=m),n(2==r.skip[v]),r.skip[v]=0}}function Ae(e,r,t,a,l){function o(e,n,r,t,a,l,o){var i,u,s,c,f=0,_=0,p=.001;for(s=.001*(1+Math.abs(r)),i=1;i<=e;i++)for(u=i+1;u<=e;u++){if(++f>y)return _;n[i]+n[u]+l>r+s&&(c=n[i]+n[u]-r,g=1/(c+t),h=2-g*c,c=a[i]+a[u]+g*l-h,p<c&&(p=c,o[1]=i,o[2]=u,_=1))}return _}function i(e,n,r,t,a,l,o){var i,u,s,c,f,_=0,p=0,m=.001;for(c=.001*(1+Math.abs(r)),i=1;i<=e;i++)for(u=i+1;u<=e;u++)for(s=u+1;s<=e;s++){if(++_>y)return p;n[i]+n[u]+n[s]+l>r+c&&(f=n[i]+n[u]+n[s]-r,g=1/(f+t),h=3-g*f,f=a[i]+a[u]+a[s]+g*l-h,m<f&&(m=f,o[1]=i,o[2]=u,o[3]=s,p=1))}return p}function u(e,n,r,t,a,l,o){var i,u,s,c,f,_,p=0,m=0,b=.001;for(f=.001*(1+Math.abs(r)),i=1;i<=e;i++)for(u=i+1;u<=e;u++)for(s=u+1;s<=e;s++)for(c=s+1;c<=e;c++){if(++p>y)return m;n[i]+n[u]+n[s]+n[c]+l>r+f&&(_=n[i]+n[u]+n[s]+n[c]-r,g=1/(_+t),h=4-g*_,_=a[i]+a[u]+a[s]+a[c]+g*l-h,b<_&&(b=_,o[1]=i,o[2]=u,o[3]=s,o[4]=c,m=1))}return m}var s,c,f,_,p,m,b,d,v,g=null,h=null,y=1e3,k=new Array(5);for(_=0,c=1;c<=r;c++)s=t[c],mn(e,s)==Ff?a[0]-=a[c]*bn(e,s):(_++,t[_]=t[c],a[_]=a[c]);for(r=_,f=0,c=1;c<=r;c++)if(s=t[c],Pn(e,s)==Rf&&mn(e,s)==Ef&&0==bn(e,s)&&1==dn(e,s)){var w,x;f++,w=t[f],x=a[f],t[f]=t[c],a[f]=a[c],t[c]=w,a[c]=x}if(f<2)return 0;for(m=b=0,c=f+1;c<=r;c++){if(s=t[c],mn(e,s)!=Ef)return 0;a[c]>0?(m+=a[c]*bn(e,s),b+=a[c]*dn(e,s)):(m+=a[c]*dn(e,s),b+=a[c]*bn(e,s))}for(d=b-m,v=0,c=f+1;c<=r;c++)s=t[c],v+=a[c]*An(e,s);for(v-=m,v<0&&(v=0),v>d&&(v=d),a[0]-=m,c=1;c<=f;c++)s=t[c],l[c]=An(e,s),l[c]<0&&(l[c]=0),l[c]>1&&(l[c]=1);for(c=1;c<=f;c++)a[c]<0&&(t[c]=-t[c],a[c]=-a[c],a[0]+=a[c],l[c]=1-l[c]);if(0==(p=function(e,r,t,a,l,s,c){var f;for(n(e>=2),f=1;f<=e;f++)n(r[f]>0);for(n(t>-1e-5),n(a>=0),f=1;f<=e;f++)n(0<=l[f]&&l[f]<=1);return n(0<=s&&s<=a),o(e,r,t,a,l,s,c)?2:i(e,r,t,a,l,s,c)?3:u(e,r,t,a,l,s,c)?4:0}(f,a,a[0],d,l,v,k)))return 0;for(n(2<=p&&p<=4),t[0]=0,a[0]=h,s=1;s<=p;s++)k[s]=t[k[s]];for(n(p<=f),c=1;c<=p;c++)k[c]>0?(t[c]=+k[c],a[c]=1):(t[c]=-k[c],a[c]=-1,a[0]-=1);for(c=f+1;c<=r;c++)p++,t[p]=t[c],a[p]=g*a[c];return a[0]+=g*m,n(p<=r),r=p}function je(e,n,t,a){var l,o,i=sn(e),u=0;for(n<0&&r("lpx_eval_row: len = "+n+"; invalid row length"),o=1;o<=n;o++)l=t[o],1<=l&&l<=i||r("lpx_eval_row: j = "+l+"; column number out of range"),u+=a[o]*An(e,l);return u}function Me(e){var r,t,a,l,o,i,u,s,c=e.mip,f=un(c),_=sn(c);for(n(wn(c)==Cf),i=new Int32Array(1+_),u=new Float64Array(1+_),s=new Float64Array(1+_),r=1;r<=f;r++)for(l=1;l<=2;l++){if(a=cn(c,r),1==l){if(a!=If&&a!=Ef)continue;o=gn(c,r,i,u),u[0]=_n(c,r)}else{if(a!=zf&&a!=Ef)continue;for(o=gn(c,r,i,u),t=1;t<=o;t++)u[t]=-u[t];u[0]=-fn(c,r)}o=Ae(c,o,i,u,s),0!=o&&(je(c,o,i,u)-u[0]<.001||A(e,null,Yc,0,o,i,u,$s,u[0]))}}function Pe(e){function r(e,r){var t;switch(cn(e,r)){case Lf:case If:t=-Xi;break;case zf:case Ef:case Ff:t=fn(e,r);break;default:n(e!=e)}return t}function t(e,r){var t;switch(cn(e,r)){case Lf:case zf:t=+Xi;break;case If:case Ef:case Ff:t=_n(e,r);break;default:n(e!=e)}return t}function a(e,r){var t;switch(mn(e,r)){case Lf:case If:t=-Xi;break;case zf:case Ef:case Ff:t=bn(e,r);break;default:n(e!=e)}return t}function l(e,r){var t;switch(mn(e,r)){case Lf:case zf:t=+Xi;break;case If:case Ef:case Ff:t=dn(e,r);break;default:n(e!=e)}return t}function o(e,n){return Pn(e,n)==Rf&&mn(e,n)==Ef&&0==bn(e,n)&&1==dn(e,n)}function i(e,r,t,o){var i,u,s,c,f;for(f=0,u=1;u<=r;u++)if(i=t[u],o[u]>0){if((s=a(e,i))==-Xi){f=-Xi;break}f+=o[u]*s}else if(o[u]<0){if((c=l(e,i))==+Xi){f=-Xi;break}f+=o[u]*c}else n(o!=o);return f}function u(e,r,t,o){var i,u,s,c,f;for(f=0,u=1;u<=r;u++)if(i=t[u],o[u]>0){if((c=l(e,i))==+Xi){f=+Xi;break}f+=o[u]*c}else if(o[u]<0){if((s=a(e,i))==-Xi){f=+Xi;break}f+=o[u]*s}else n(o!=o);return f}function s(e,r,t,a,l,o,i,u,s){var c;return n(1<=i&&i<s&&s<=e),t!=-Xi&&u&&(t-=r[i]),a!=+Xi&&u&&(a-=r[i]),l!=-Xi&&(r[i]<0&&(l-=r[i]),r[s]<0&&(l-=r[s])),o!=+Xi&&(r[i]>0&&(o-=r[i]),r[s]>0&&(o-=r[s])),(c=r[s]>0?t==-Xi||o==+Xi?-Xi:(t-o)/r[s]:a==+Xi||l==-Xi?-Xi:(a-l)/r[s])>.001?2:(c=r[s]>0?a==+Xi||l==-Xi?+Xi:(a-l)/r[s]:t==-Xi||o==+Xi?+Xi:(t-o)/r[s],c<.999?1:0)}var c,f,_,p,m,b,d,v,g,h,y,k,w,x,A,j,M=null;for(Qi("Creating the conflict graph..."),c=un(e),f=sn(e),_=0,h=new Int32Array(1+f),y=new Int32Array(1+f),g=new Int32Array(1+f),j=new Float64Array(1+f),p=1;p<=c;p++)if(k=r(e,p),w=t(e,p),(k!=-Xi||w!=+Xi)&&!((v=gn(e,p,g,j))>500))for(x=i(e,v,g,j),A=u(e,v,g,j),b=1;b<=v;b++)if(o(e,g[b]))for(d=b+1;d<=v;d++)o(e,g[d])&&(s(v,j,k,w,x,A,b,0,d)||s(v,j,k,w,x,A,b,1,d))&&(m=g[b],0==h[m]&&(_++,h[m]=_,y[_]=m),m=g[d],0==h[m]&&(_++,h[m]=_,y[_]=m));if(0==_||_>4e3)return Qi("The conflict graph is either empty or too big"),M;for(M={},M.n=f,M.nb=_,M.ne=0,M.vert=h,M.orig=y,v=_+_,v=v*(v-1)/2,v=(v+(Vi-1))/Vi,M.a=new Array(v),m=1;m<=_;m++)Le(M,+y[m],-y[m]);for(p=1;p<=c;p++)if(k=r(e,p),w=t(e,p),(k!=-Xi||w!=+Xi)&&!((v=gn(e,p,g,j))>500))for(x=i(e,v,g,j),A=u(e,v,g,j),b=1;b<=v;b++)if(o(e,g[b]))for(d=b+1;d<=v;d++)if(o(e,g[d])){switch(s(v,j,k,w,x,A,b,0,d)){case 0:break;case 1:Le(M,-g[b],+g[d]);break;case 2:Le(M,-g[b],-g[d]);break;default:n(e!=e)}switch(s(v,j,k,w,x,A,b,1,d)){case 0:break;case 1:Le(M,+g[b],+g[d]);break;case 2:Le(M,+g[b],-g[d]);break;default:n(e!=e)}}return Qi("The conflict graph has 2*"+M.nb+" vertices and "+M.ne+" edges"),M}function Le(e,r,t){var a;n(r!=t),r>0?(n(1<=r&&r<=e.n),r=e.vert[r],n(0!=r)):(r=-r,n(1<=r&&r<=e.n),r=e.vert[r],n(0!=r),r+=e.nb),t>0?(n(1<=t&&t<=e.n),t=e.vert[t],n(0!=t)):(t=-t,n(1<=t&&t<=e.n),t=e.vert[t],n(0!=t),t+=e.nb),r<t&&(a=r,r=t,t=a),a=(r-1)*(r-2)/2+(t-1),e.a[a/Vi]|=1<<Vi-1-a%Vi,e.ne++}function ze(e,r,t,a){function l(e,n,r){return n==r?0:n>r?o(e,n,r):o(e,r,n)}function o(e,n,r){return s(e,n*(n-1)/2+r)}function s(e,n){return e.a[n/Vi]&1<<Vi-1-n%Vi}function c(e,n,r,t,a,o){var i,u,s,f,_,p,m,b;if(b=new Int32Array(e.n),n<=0){if(0==n&&(e.set[t++]=r[0],a+=o),a>e.record)for(e.record=a,e.rec_level=t,i=0;i<t;i++)e.rec[i+1]=e.set[i]}else for(i=n;i>=0;i--){if(0==t&&i<n)return;if(s=r[i],t>0&&e.clique[s]<=e.record-a)return;if(e.set[t]=s,f=a+e.wt[s+1],(o-=e.wt[s+1])<=e.record-f)return;for(p=0,m=0,_=0;m<r+i;)u=r[m],m++,l(e,u,s)&&(b[p]=u,p++,_+=e.wt[u+1]);_<=e.record-f||c(e,p-1,b,t+1,f,_)}}var f,_,p,m,b,d,v,g,h,y,k,w=sn(e),x=0;for(d=new Int32Array(1+2*r.nb),v=new Int32Array(1+2*r.nb),k=new Float64Array(1+w),_=1;_<=r.nb;_++)f=r.orig[_],g=An(e,f),b=100*g+.5|0,b<0&&(b=0),b>100&&(b=100),d[_]=b,d[r.nb+_]=100-b;for(m=function(e,n,r,t){var a,o,s,f,_,p,m,b,d,v,g={};for(g.n=e,g.wt=n,g.a=r,g.record=0,g.rec_level=0,g.rec=t,g.clique=new Int32Array(g.n),g.set=new Int32Array(g.n),m=new Int32Array(g.n),b=new Int32Array(g.n),d=new Int32Array(g.n),v=i(),a=0;a<g.n;a++)for(b[a]=0,o=0;o<g.n;o++)l(g,a,o)&&(b[a]+=g.wt[o+1]);for(a=0;a<g.n;a++)m[a]=0;for(a=g.n-1;a>=0;a--){for(f=-1,_=-1,o=0;o<g.n;o++)!m[o]&&(g.wt[o+1]>f||g.wt[o+1]==f&&b[o]>_)&&(f=g.wt[o+1],_=b[o],s=o);for(d[a]=s,m[s]=1,o=0;o<g.n;o++)!m[o]&&o!=s&&l(g,s,o)&&(b[o]-=g.wt[s+1])}for(p=0,a=0;a<g.n;a++)p+=g.wt[d[a]+1],c(g,a,d,0,0,p),g.clique[d[a]]=g.record,u(i(),v)>=4.999&&(Qi("level = "+a+"1 ("+g.n+"); best = "+g.record),v=i());for(a=1;a<=g.rec_level;a++)t[a]++;return g.rec_level}(2*r.nb,d,r.a,v),h=0,_=1;_<=m;_++)p=v[_],n(1<=p&&p<=2*r.nb),p<=r.nb?(f=r.orig[p],g=An(e,f),h+=g):(f=r.orig[p-r.nb],g=An(e,f),h+=1-g);if(h>=1.01){for(y=1,_=1;_<=m;_++)p=v[_],p<=r.nb?(f=r.orig[p],n(1<=f&&f<=w),k[f]+=1):(f=r.orig[p-r.nb],n(1<=f&&f<=w),k[f]-=1,y-=1);for(n(0==x),f=1;f<=w;f++)0!=k[f]&&(x++,t[x]=f,a[x]=k[f]);t[0]=0,a[0]=y}return x}function Ie(e){var r=e.mip;return n(null!=r),Pe(r)}function Ee(e,r){var t,a,l,o=sn(e.mip);n(null!=r),a=new Int32Array(1+o),l=new Float64Array(1+o),(t=ze(e.mip,r,a,l))>0&&A(e,null,$c,0,t,a,l,$s,l[0])}function Fe(e,r){var t;return e.parm.br_tech==Oc?t=Se(e,r):e.parm.br_tech==qc?t=Ne(e,r):e.parm.br_tech==Gc?t=Oe(e,r):e.parm.br_tech==Tc?t=qe(e,r):e.parm.br_tech==Rc?t=Re(e,r):n(e!=e),t}function Se(e,r){var t,a,l;for(t=1;t<=e.n&&!e.non_int[t];t++);return n(1<=t&&t<=e.n),l=Zu(e.mip,t),a=l-Math.floor(l)<Math.ceil(l)-l?cf:ff,r(a),t}function Ne(e,r){var t,a,l;for(t=e.n;t>=1&&!e.non_int[t];t--);return n(1<=t&&t<=e.n),l=Zu(e.mip,t),a=l-Math.floor(l)<Math.ceil(l)-l?cf:ff,r(a),t}function Oe(e,n){var r,t,a,l,o,i;for(t=0,o=Xi,r=1;r<=e.n;r++)e.non_int[r]&&(l=Zu(e.mip,r),i=Math.floor(l)+.5,o>Math.abs(l-i)&&(t=r,o=Math.abs(l-i),a=l<i?cf:ff));return n(a),t}function qe(e,r){var t,a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A=e.mip,j=A.m,M=A.n,P=e.non_int;for(n(Ku(A)==gc),f=new Int32Array(1+M),x=new Float64Array(1+M),a=0,w=-1,t=1;t<=M;t++)if(P[t]){for(_=Zu(A,t),s=gs(A,j+t,f,x),u=-1;u<=1;u+=2){if(l=ws(A,s,f,x,u,1e-9),0!=l&&(l=f[l]),0==l)v=e.mip.dir==Ks?+Xi:-Xi;else{for(o=1;o<=s&&f[o]!=l;o++);switch(n(1<=o&&o<=s),m=x[o],b=(u<0?Math.floor(_):Math.ceil(_))-_,d=b/m,l>j&&rs(A,l-j)!=Hs&&Math.abs(d-Math.floor(d+.5))>.001&&(d=d>0?Math.ceil(d):Math.floor(d)),l<=j?(c=Ju(A,l),p=Yu(A,l)):(c=$u(A,l-j),p=es(A,l-j)),e.mip.dir){case Ks:(c==rc&&p<0||c==tc&&p>0||c==ac)&&(p=0);break;case Vs:(c==rc&&p>0||c==tc&&p<0||c==ac)&&(p=0);break;default:n(e!=e)}v=p*d}switch(e.mip.dir){case Ks:n(v>=0);break;case Vs:n(v<=0);break;default:n(e!=e)}u<0?g=v:h=v}if((w<Math.abs(g)||w<Math.abs(h))&&(a=t,Math.abs(g)<Math.abs(h)?(i=cf,w=Math.abs(h)):(i=ff,w=Math.abs(g)),y=g,k=h,w==Xi))break}return n(1<=a&&a<=M),w<1e-6*(1+.001*Math.abs(A.obj_val))?a=Oe(e,r):(e.parm.msg_lev>=Pc&&(Qi("branch_drtom: column "+a+" chosen to branch on"),Qi(Math.abs(y)==Xi?"branch_drtom: down-branch is infeasible":"branch_drtom: down-branch bound is "+(xn(A)+y)),Qi(Math.abs(k)==Xi?"branch_drtom: up-branch   is infeasible":"branch_drtom: up-branch   bound is "+(xn(A)+k))),r(i),a)}function Ge(e){var n,r=e.n,t={};for(t.dn_cnt=new Int32Array(1+r),t.dn_sum=new Float64Array(1+r),t.up_cnt=new Int32Array(1+r),t.up_sum=new Float64Array(1+r),n=1;n<=r;n++)t.dn_cnt[n]=t.up_cnt[n]=0,t.dn_sum[n]=t.up_sum[n]=0;return t}function Te(e){var r,t,a,l,o=e.pcost;n(null!=o),n(null!=e.curr),null!=e.curr.up&&(r=e.curr.up.br_var,n(1<=r&&r<=e.n),t=e.mip.col[r].prim-e.curr.up.br_val,n(0!=t),a=e.mip.obj_val-e.curr.up.lp_obj,l=Math.abs(a/t),t<0?(o.dn_cnt[r]++,o.dn_sum[r]+=l):(o.up_cnt[r]++,o.up_sum[r]+=l))}function Re(e,r){function t(e,r,t){var a,l,o;n(Ku(e)==gc),a=eu(),bu(a,e,0),su(a,r,ec,t,t);var i=new Uu;return i.msg_lev=xc,i.meth=Ic,i.it_lim=30,i.out_dly=1e3,i.meth=Ic,l=Du(a,i),0==l||l==hf?Vu(a)==vc?o=Xi:Hu(a)==bc?(e.dir==Ks?o=a.obj_val-e.obj_val:e.dir==Vs?o=e.obj_val-a.obj_val:n(e!=e),o<1e-6*(1+.001*Math.abs(e.obj_val))&&(o=0)):o=0:o=0,o}function a(e,r,a){var l,o,i,u=e.pcost;if(n(null!=u),n(1<=r&&r<=e.n),a==cf){if(0==u.dn_cnt[r]){if(l=e.mip.col[r].prim,(o=t(e.mip,r,Math.floor(l)))==Xi)return i=Xi;u.dn_cnt[r]=1,u.dn_sum[r]=o/(l-Math.floor(l))}i=u.dn_sum[r]/u.dn_cnt[r]}else if(a==ff){if(0==u.up_cnt[r]){if(l=e.mip.col[r].prim,(o=t(e.mip,r,Math.ceil(l)))==Xi)return i=Xi;u.up_cnt[r]=1,u.up_sum[r]=o/(Math.ceil(l)-l)}i=u.up_sum[r]/u.up_cnt[r]}else n(a!=a);return i}var l,o,s,c,f,_,p,m,b,d=i();for(null==e.pcost&&(e.pcost=Ge(e)),o=0,b=-1,l=1;l<=e.n;l++)if(j(e,l)){if(c=e.mip.col[l].prim,(f=a(e,l,cf))==Xi)return o=l,s=cf,r(s),o;if(_=f*(c-Math.floor(c)),(f=a(e,l,ff))==Xi)return o=l,s=ff,r(s),o;p=f*(Math.ceil(c)-c),m=_>p?_:p,b<m&&(b=m,o=l,s=_<=p?cf:ff),e.parm.msg_lev>=Zc&&u(i(),d)>=10&&(!function(e){var n,r=e.pcost,t=0,a=0;for(n=1;n<=e.n;n++)j(e,n)&&(t++,r.dn_cnt[n]>0&&r.up_cnt[n]>0&&a++);Qi("Pseudocosts initialized for "+a+" of "+t+" variables")}(e),d=i())}return 0==b?o=Oe(e,r):(r(s),o)}function Ce(e){for(var r,t,a,l,c,f,_,p,m,b,d,v,g=e.mip,h=g.n,y=null,k=null,w=null,x=0;;){var A=null;switch(x){case 0:if(n(Ku(g)==gc),0!=e.curr.level||1!=e.curr.solved){A=5;break}for(p=0,a=1;a<=h;a++)if(r=g.col[a],r.kind!=Hs&&r.type!=ec){if(n(r.kind==Ws),r.type!=Zs||0!=r.lb||1!=r.ub){e.parm.msg_lev>=Mc&&Qi("FPUMP heuristic cannot be applied due to general integer variables"),A=5;break}p++}if(null!=A)break;if(0==p){A=5;break}for(e.parm.msg_lev>=Mc&&Qi("Applying FPUMP heuristic..."),k=new Array(1+p),o(k,1,p),l=0,a=1;a<=h;a++)r=g.col[a],r.kind==Ws&&r.type==Zs&&(k[++l].j=a);n(l==p),y=eu();case 1:if(bu(y,g,ef),g.mip_stat==bc){var j,P,L;for(au(y,1),j=new Int32Array(1+h),P=new Float64Array(1+h),a=1;a<=h;a++)j[a]=a,P[a]=g.col[a].coef;fu(y,y.m,h,j,P),L=.1*g.obj_val+.9*g.mip_obj,g.dir==Ks?uu(y,y.m,$s,0,L-g.c0):g.dir==Vs?uu(y,y.m,Ys,L-g.c0,0):n(g!=g)}for(_=0,l=1;l<=p;l++)k[l].x=-1;case 2:if(_++,e.parm.msg_lev>=Mc&&Qi("Pass "+_),d=Xi,f=0,_>1){var z;for(null==w&&(w=hi()),l=1;l<=p;l++)a=k[l].j,r=y.col[a],z=Ai(w,-.3,.7),z<0&&(z=0),Math.abs(k[l].x-r.prim)+z>.5&&(k[l].x=1-k[l].x);A=4;break}case 3:for(b=1,l=1;l<=p;l++)r=y.col[k[l].j],c=r.prim<.5?0:1,k[l].x!=c&&(b=0,k[l].x=c);if(b){for(l=1;l<=p;l++)r=y.col[k[l].j],k[l].d=Math.abs(r.prim-k[l].x);for(s(k,1,p,function(e,n){return e.d>n.d?-1:e.d<n.d?1:0}),l=1;l<=p&&!(l>=5&&k[l].d<.35||l>=10);l++)k[l].x=1-k[l].x}case 4:if(e.parm.tm_lim<Ui&&e.parm.tm_lim-1<=1e3*u(i(),e.tm_beg)){A=5;break}for(y.dir=Ks,y.c0=0,a=1;a<=h;a++)y.col[a].coef=0;for(l=1;l<=p;l++)a=k[l].j,0==k[l].x?y.col[a].coef=1:(y.col[a].coef=-1,y.c0+=1);if(t=new Uu,e.parm.msg_lev<=Ac?t.msg_lev=e.parm.msg_lev:e.parm.msg_lev<=Mc&&(t.msg_lev=jc,t.out_dly=1e4),0!=(m=Du(y,t))){e.parm.msg_lev>=Ac&&Qi("Warning: glp_simplex returned "+m),A=5;break}if((m=Ku(y))!=gc){e.parm.msg_lev>=Ac&&Qi("Warning: glp_get_status returned "+m),A=5;break}for(e.parm.msg_lev>=Pc&&Qi("delta = "+y.obj_val),v=.3*e.parm.tol_int,l=1;l<=p&&(r=y.col[k[l].j],!(v<r.prim&&r.prim<1-v));l++);if(l>p){var I=new Float64Array(1+h);for(a=1;a<=h;a++)I[a]=y.col[a].prim,g.col[a].kind==Ws&&(I[a]=Math.floor(I[a]+.5));for(y.c0=g.c0,y.dir=g.dir,l=1;l<=p;l++)y.col[k[l].j].lb=I[k[l].j],y.col[k[l].j].ub=I[k[l].j],y.col[k[l].j].type=ec;for(a=1;a<=h;a++)y.col[a].coef=g.col[a].coef;if(0!=(m=Du(y,t))){e.parm.msg_lev>=Ac&&Qi("Warning: glp_simplex returned "+m),A=5;break}if((m=Ku(y))!=gc){e.parm.msg_lev>=Ac&&Qi("Warning: glp_get_status returned "+m),A=5;break}for(a=1;a<=h;a++)g.col[a].kind!=Ws&&(I[a]=y.col[a].prim);if(0==(m=M(e,I))){if(ae(e,e.curr.bound)){A=1;break}A=5;break}}if(d==Xi||y.obj_val<=d-1e-6*(1+d)?(f=0,d=y.obj_val):f++,f<3){A=3;break}if(_<5){A=2;break}}if(null==A)break;x=A}}function Xe(e){var r,t,a,l,o,i,u,c,f,_,p,m;for(n(null!=e.curr),r=e.local,n(null!=r),n(r.size>0),l=new Array(1+r.size),_=new Int32Array(1+e.n),p=new Float64Array(1+e.n),m=new Float64Array(1+e.n),o=0,t=r.head;null!=t;t=t.next)o++,l[o].cut=t,l[o].flag=0;for(n(o==r.size),o=1;o<=r.size;o++){var b,d=null,v=null;for(t=l[o].cut,c=0,b=0,a=t.ptr;null!=a;a=a.next)n(1<=a.j&&a.j<=e.n),c++,_[c]=a.j,p[c]=a.val,b+=a.val*a.val;b<Ki*Ki&&(b=Ki),c=ys(e.mip,c,_,p),f=w(e.mip,c,_,p,t.type,t.rhs,1e-9,function(e,n,r,t,a,l){d=a,v=l}),0==f?(l[o].eff=Math.abs(d)/Math.sqrt(b),e.mip.dir==Ks?(v<0&&(v=0),l[o].deg=+v):(v>0&&(v=0),l[o].deg=-v)):1==f?l[o].eff=l[o].deg=0:2==f?(l[o].eff=1,l[o].deg=Xi):n(f!=f),l[o].deg<.01&&(l[o].deg=0)}for(s(l,1,r.size,function(e,n){if(0==e.deg&&0==n.deg){if(e.eff>n.eff)return-1;if(e.eff<n.eff)return 1}else{if(e.deg>n.deg)return-1;if(e.deg<n.deg)return 1}return 0}),u=0==e.curr.level?90:10,u>r.size&&(u=r.size),o=1;o<=u;o++){var g;if(!(l[o].deg<.01&&l[o].eff<.01)){for(i=1;i<o&&!(l[i].flag&&function(e,n,r){var t,a,l=0,o=0,i=0;for(t=e.ptr;null!=t;t=t.next)r[t.j]=t.val,o+=t.val*t.val;for(t=n.ptr;null!=t;t=t.next)l+=r[t.j]*t.val,i+=t.val*t.val;for(t=e.ptr;null!=t;t=t.next)r[t.j]=0;return a=Math.sqrt(o)*Math.sqrt(i),a<Ki*Ki&&(a=Ki),l/a}(l[o].cut,l[i].cut,m)>.9);i++);if(!(i<o)){for(t=l[o].cut,l[o].flag=1,g=au(e.mip,1),null!=t.name&&ou(e.mip,g,t.name),n(e.mip.row[g].origin==Wc),e.mip.row[g].klass=t.klass,c=0,a=t.ptr;null!=a;a=a.next)c++,_[c]=a.j,p[c]=a.val;fu(e.mip,g,c,_,p),n(t.type==Ys||t.type==$s),uu(e.mip,g,t.type,t.rhs,t.rhs)}}}}function Be(e){var r;return e.parm.bt_tech==Cc?(n(null!=e.tail),r=e.tail.p):e.parm.bt_tech==Xc?(n(null!=e.head),r=e.head.p):e.parm.bt_tech==Bc?r=function(e){var r,t,a,l=null;switch(e.mip.dir){case Ks:for(t=+Xi,r=e.head;null!=r;r=r.next)t>r.bound&&(t=r.bound);for(n(t!=+Xi),a=.001*(1+Math.abs(t)),r=e.head;null!=r;r=r.next)r.bound<=t+a&&(n(null!=r.up),(null==l||l.up.ii_sum>r.up.ii_sum)&&(l=r));break;case Vs:for(t=-Xi,r=e.head;null!=r;r=r.next)t<r.bound&&(t=r.bound);for(n(t!=-Xi),a=.001*(1+Math.abs(t)),r=e.head;null!=r;r=r.next)r.bound>=t-a&&(n(null!=r.up),(null==l||l.lp_obj<r.lp_obj)&&(l=r));break;default:n(e!=e)}return n(null!=l),l.p}(e):e.parm.bt_tech==Dc?r=e.mip.mip_stat==mc?function(e){var r,t,a;for(t=0,a=Xi,r=e.head;null!=r;r=r.next)n(null!=r.up),a>r.up.ii_sum&&(t=r.p,a=r.up.ii_sum);return t}(e):function(e){var r,t,a,l,o,i;for(n(e.mip.mip_stat==bc),r=e.slot[1].node,n(null!=r),n(r.ii_sum>0),o=(e.mip.mip_obj-r.bound)/r.ii_sum,a=0,l=Xi,t=e.head;null!=t;t=t.next)n(null!=t.up),i=t.up.bound+o*t.up.ii_sum,e.mip.dir==Vs&&(i=-i),l>i&&(a=t.p,l=i);return a}(e):n(e!=e),r}function De(e,r){var t;for(n(e>0&&r>0);r>0;)t=e%r,e=r,r=t;return e}function Ue(e,r){var t,a=0;for(n(e>0),t=1;t<=e&&(n(r[t]>0),1!=(a=1==t?r[1]:De(a,r[t])));t++);return a}function Ke(e){n(e>0);var r=Math.floor(Math.log(e)/Math.log(2))+1,t=e/Math.pow(2,r);return Math.pow(2,t<=.75?r-1:r)}function Ve(e,n){var r=Number(e);if(isNaN(r))return 2;switch(r){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return n(r),0}}function He(e,n){var r=Number(e);if(isNaN(r))return 2;switch(r){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return r%1==0?(n(r),0):2}}function We(e,n,r){var t,a,l,o;return 1<=e&&e<=31&&1<=n&&n<=12&&1<=r&&r<=4e3?(n>=3?n-=3:(n+=9,r--),t=r/100|0,a=r-100*t,l=146097*t/4|0,l+=1461*a/4|0,l+=(153*n+2)/5|0,l+=e+1721119,Je(l,function(e){o=e}),e!=o&&(l=-1),l):-1}function Je(e,n){var r,t,a;return 1721426<=e&&e<=3182395?(e-=1721119,a=(4*e-1)/146097|0,e=(4*e-1)%146097,r=e/4|0,e=(4*r+3)/1461|0,r=(4*r+3)%1461,r=(r+4)/4|0,t=(5*r-3)/153|0,r=(5*r-3)%153,r=(r+5)/5|0,a=100*a+e,t<=9?t+=3:(t-=9,a++),n(r,t,a),0):1}function Qe(){var e;return Pf&&Qi("lpf_create_it: warning: debug mode enabled"),e={},e.valid=0,e.m0_max=e.m0=0,e.luf=Fn(),e.m=0,e.B=null,e.n_max=50,e.n=0,e.R_ptr=e.R_len=null,e.S_ptr=e.S_len=null,e.scf=null,e.P_row=e.P_col=null,e.Q_row=e.Q_col=null,e.v_size=1e3,e.v_ptr=0,e.v_ind=null,e.v_val=null,e.work1=e.work2=null,e}function Ye(e,t,a,l,o){var i;if(Pf)var u,s,c,f,_,p;switch(n(a==a),t<1&&r("lpf_factorize: m = "+t+"; invalid parameter"),t>Hi&&r("lpf_factorize: m = "+t+"; matrix too big"),e.m0=e.m=t,e.valid=0,null==e.R_ptr&&(e.R_ptr=new Int32Array(1+e.n_max)),null==e.R_len&&(e.R_len=new Int32Array(1+e.n_max)),null==e.S_ptr&&(e.S_ptr=new Int32Array(1+e.n_max)),null==e.S_len&&(e.S_len=new Int32Array(1+e.n_max)),null==e.scf&&(e.scf=ji(e.n_max)),null==e.v_ind&&(e.v_ind=new Int32Array(1+e.v_size)),null==e.v_val&&(e.v_val=new Float64Array(1+e.v_size)),e.m0_max<t&&(e.m0_max=t+100,e.P_row=new Int32Array(1+e.m0_max+e.n_max),e.P_col=new Int32Array(1+e.m0_max+e.n_max),e.Q_row=new Int32Array(1+e.m0_max+e.n_max),e.Q_col=new Int32Array(1+e.m0_max+e.n_max),e.work1=new Float64Array(1+e.m0_max+e.n_max),e.work2=new Float64Array(1+e.m0_max+e.n_max)),Bn(e.luf,t,l,o)){case 0:break;case O_:return Mf;case q_:return LPF_ECOND;default:n(e!=e)}if(e.valid=1,Pf){for(n(t<=32767),e.B=_=new Float64Array(1+t*t),f=new Int32Array(1+t),p=new Float64Array(1+t),i=1;i<=t*t;i++)_[i]=0;for(s=1;s<=t;s++)for(c=l(o,s,f,p),n(0<=c&&c<=t),i=1;i<=c;i++)u=f[i],n(1<=u&&u<=t),n(0==_[(u-1)*t+s]),n(0!=p[i]),_[(u-1)*t+s]=p[i]}for(e.n=0,Gi(e.scf),i=1;i<=t;i++)e.P_row[i]=e.P_col[i]=i,e.Q_row[i]=e.Q_col[i]=i;return e.v_ptr=1,0}function $e(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.R_ptr,_=e.R_len,p=e.v_ind,m=e.v_val;for(l=1;l<=c;l++)if(0!=t[l+a])for(s=r*t[l+a],o=f[l],i=o+_[l],u=o;u<i;u++)n[p[u]]+=s*m[u]}function Ze(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.R_ptr,_=e.R_len,p=e.v_ind,m=e.v_val;for(l=1;l<=c;l++){for(s=0,o=f[l],i=o+_[l],u=o;u<i;u++)s+=m[u]*a[p[u]];n[l+r]+=t*s}}function en(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.S_ptr,_=e.S_len,p=e.v_ind,m=e.v_val;for(l=1;l<=c;l++){for(s=0,o=f[l],i=o+_[l],u=o;u<i;u++)s+=m[u]*a[p[u]];n[l+r]+=t*s}}function nn(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.S_ptr,_=e.S_len,p=e.v_ind,m=e.v_val;for(l=1;l<=c;l++)if(0!=t[l+a])for(s=r*t[l+a],o=f[l],i=o+_[l],u=o;u<i;u++)n[p[u]]+=s*m[u]}function rn(e,n,r,t){var a,l,o,i,u,s,c=e.m,f=e.B,_=0;for(a=1;a<=c;a++){for(i=0,s=1,l=1;l<=c;l++)u=n?f[c*(l-1)+a]*r[l]:f[c*(a-1)+l]*r[l],s<Math.abs(u)&&(s=Math.abs(u)),i+=u;o=Math.abs(i-t[a])/s,_<o&&(_=o)}_>1e-8&&Qi((n?"lpf_btran":"lpf_ftran")+": dmax = "+_+"; relative error too large")}function tn(e,t){var a,l,o=e.m0,i=e.m,u=e.n,s=e.P_col,c=e.Q_col,f=e.work1,_=f,p=f;if(Pf)var m;if(e.valid||r("lpf_ftran: the factorization is not valid"),n(0<=i&&i<=o+u),Pf)for(m=new Float64Array(1+i),a=1;a<=i;a++)m[a]=t[a];for(a=1;a<=o+u;a++)f[a]=(l=s[a])<=i?t[l]:0;for(Dn(e.luf,0,_),en(e,p,o,-1,_),qi(e.scf,0,p,o),$e(e,_,-1,p,o),Un(e.luf,0,_),a=1;a<=i;a++)t[a]=f[c[a]];Pf&&rn(e,0,t,m)}function an(e,t){var a,l,o=e.m0,i=e.m,u=e.n,s=e.P_row,c=e.Q_row,f=e.work1,_=f,p=f;if(Pf)var m;if(e.valid||r("lpf_btran: the factorization is not valid"),n(0<=i&&i<=o+u),Pf)for(m=new Float64Array(1+i),a=1;a<=i;a++)m[a]=t[a];for(a=1;a<=o+u;a++)f[a]=(l=c[a])<=i?t[l]:0;for(Un(e.luf,1,_),Ze(e,p,o,-1,_),qi(e.scf,1,p,o),nn(e,_,-1,p,o),Dn(e.luf,1,_),a=1;a<=i;a++)t[a]=f[s[a]];Pf&&rn(e,1,t,m)}function ln(e,r){var t=e.v_size,l=e.v_ptr-1,o=e.v_ind,i=e.v_val;for(n(t<r);t<r;)t+=t;e.v_size=t,e.v_ind=new Int32Array(1+t),e.v_val=new Float64Array(1+t),n(l>=0),a(e.v_ind,1,o,1,l),a(e.v_val,1,i,1,l)}function on(e,t,a,l,o,i,u){var s=e.m0,c=e.m;if(Pf)var f=e.B;var _,p,m,b,d=e.n,v=e.R_ptr,g=e.R_len,h=e.S_ptr,y=e.S_len,k=e.P_row,w=e.P_col,x=e.Q_row,A=e.Q_col,j=e.v_ptr,M=e.v_ind,P=e.v_val,L=e.work2,z=e.work1,I=z,E=z,F=e.work2,S=F,N=F,O=E,q=N;if(n(a==a),e.valid||r("lpf_update_it: the factorization is not valid"),1<=t&&t<=c||r("lpf_update_it: j = "+t+"; column number out of range"),n(0<=c&&c<=s+d),d==e.n_max)return e.valid=0,LPF_ELIMIT;for(p=1;p<=c;p++)L[p]=0;for(b=1;b<=l;b++)p=o[i+b],1<=p&&p<=c||r("lpf_update_it: ind["+b+"] = "+p+"; row number out of range"),0!=L[p]&&r("lpf_update_it: ind["+b+"] = "+p+"; duplicate row index not allowed"),0==u[b]&&r("lpf_update_it: val["+b+"] = "+u[b]+"; zero element not allowed"),L[p]=u[b];if(Pf)for(p=1;p<=c;p++)f[(p-1)*c+t]=L[p];for(p=1;p<=s+d;p++)z[p]=(m=w[p])<=c?L[m]:0;for(p=1;p<=s+d;p++)F[p]=0;for(F[A[t]]=1,Dn(e.luf,0,I),Un(e.luf,1,S),e.v_size<j+s+s&&(ln(e,j+s+s),M=e.v_ind,P=e.v_val),v[d+1]=j,p=1;p<=s;p++)0!=I[p]&&(M[j]=p,P[j]=I[p],j++);for(g[d+1]=j-e.v_ptr,e.v_ptr=j,h[d+1]=j,p=1;p<=s;p++)0!=S[p]&&(M[j]=p,P[j]=S[p],j++);for(y[d+1]=j-e.v_ptr,e.v_ptr=j,en(e,O,0,-1,I),Ze(e,q,0,-1,S),_=0,p=1;p<=s;p++)_-=S[p]*I[p];switch(Si(e.scf,O,s,q,s,_)){case 0:break;case Gd:return e.valid=0,Mf;case Td:n(e!=e);default:n(e!=e)}return k[s+d+1]=w[s+d+1]=s+d+1,x[s+d+1]=A[s+d+1]=s+d+1,p=A[t],m=A[s+d+1],x[p]=s+d+1,A[s+d+1]=p,x[m]=t,A[t]=m,e.n++,n(e.n<=e.n_max),0}function un(e){return hu(e)}function sn(e){return yu(e)}function cn(e,n){return xu(e,n)-Qs+Lf}function fn(e,n){var r=Au(e,n);return r==-Xi&&(r=0),r}function _n(e,n){var r=ju(e,n);return r==+Xi&&(r=0),r}function pn(e,n,r){r(cn(e,n),fn(e,n),_n(e,n))}function mn(e,n){return Mu(e,n)-Qs+Lf}function bn(e,n){var r=Pu(e,n);return r==-Xi&&(r=0),r}function dn(e,n){var r=Lu(e,n);return r==+Xi&&(r=0),r}function vn(e,n,r){r(mn(e,n),bn(e,n),dn(e,n))}function gn(e,n,r,t){return zu(e,n,r,t)}function hn(e,n,r,t){return Iu(e,n,r,t)}function yn(e,n,r){Cu(e,n,r-Sf+nc)}function kn(e,n,r){Xu(e,n,r-Sf+nc)}function wn(e){var r;switch(Ku(e)){case gc:r=Cf;break;case bc:r=Xf;break;case dc:r=Bf;break;case vc:r=Df;break;case hc:r=Uf;break;case mc:r=Kf;break;default:n(e!=e)}return r}function xn(e){return Wu(e)}function An(e,n){return Zu(e,n)}function jn(e,n,r,t){return gs(e,n,r,t)}function Mn(e,r,t,a,l,o){var i=ws(e,r,t,a,l,o);return n(0<=i&&i<=r),0==i?0:t[i]}function Pn(e,n){return rs(e,n)==Hs?Tf:Rf}function Ln(e){var r=e.parms;n(null!=r),r.msg_lev=3,r.scale=1,r.dual=0,r.price=1,r.relax=.07,r.tol_bnd=1e-7,r.tol_dj=1e-7,r.tol_piv=1e-9,r.round=0,r.obj_ll=-Xi,r.obj_ul=+Xi,r.it_lim=-1,r.tm_lim=-1,r.out_frq=200,r.out_dly=0,r.branch=2,r.btrack=3,r.tol_int=1e-5,r.tol_obj=1e-7,r.mps_info=1,r.mps_obj=2,r.mps_orig=0,r.mps_wide=1,r.mps_free=0,r.mps_skip=0,r.lpt_orig=0,r.presol=0,r.binarize=0,r.use_cuts=0,r.mip_gap=0}function zn(e){return null==e.parms&&(e.parms={},Ln(e)),e.parms}function In(e,t){var a=zn(e),l=0;switch(t){case Zf:l=a.msg_lev;break;case e_:l=a.scale;break;case n_:l=a.dual;break;case r_:l=a.price;break;case i_:l=a.round;break;case c_:l=a.it_lim;break;case f_:l=e.it_cnt;break;case p_:l=a.out_frq;break;case b_:l=a.branch;break;case d_:l=a.btrack;break;case h_:l=a.mps_info;break;case y_:l=a.mps_obj;break;case k_:l=a.mps_orig;break;case w_:l=a.mps_wide;break;case x_:l=a.mps_free;break;case A_:l=a.mps_skip;break;case j_:l=a.lpt_orig;break;case M_:l=a.presol;break;case P_:l=a.binarize;break;case L_:l=a.use_cuts;break;case z_:switch(t={},fs(e,t),t.type){case yc:l=1;break;case kc:l=2;break;case wc:l=3;break;default:n(e!=e)}break;default:r("lpx_get_int_parm: parm = "+t+"; invalid parameter")}return l}function En(e,n){var t=zn(e),a=0;switch(n){case t_:a=t.relax;break;case a_:a=t.tol_bnd;break;case l_:a=t.tol_dj;break;case o_:a=t.tol_piv;break;case u_:a=t.obj_ll;break;case s_:a=t.obj_ul;break;case __:a=t.tm_lim;break;case m_:a=t.out_dly;break;case v_:a=t.tol_int;break;case g_:a=t.tol_obj;break;case I_:a=t.mip_gap;break;default:r("lpx_get_real_parm: parm = "+n+"; invalid parameter")}return a}function Fn(){var e={};return e.n_max=e.n=0,e.valid=0,e.fr_ptr=e.fr_len=null,e.fc_ptr=e.fc_len=null,e.vr_ptr=e.vr_len=e.vr_cap=null,e.vr_piv=null,e.vc_ptr=e.vc_len=e.vc_cap=null,e.pp_row=e.pp_col=null,e.qq_row=e.qq_col=null,e.sv_size=0,e.sv_beg=e.sv_end=0,e.sv_ind=null,e.sv_val=null,e.sv_head=e.sv_tail=0,e.sv_prev=e.sv_next=null,e.vr_max=null,e.rs_head=e.rs_prev=e.rs_next=null,e.cs_head=e.cs_prev=e.cs_next=null,e.flag=null,e.work=null,e.new_sva=0,e.piv_tol=.1,e.piv_lim=4,e.suhl=1,e.eps_tol=1e-15,e.max_gro=1e10,e.nnz_a=e.nnz_f=e.nnz_v=0,e.max_a=e.big_v=0,e.rank=0,e}function Sn(e){var n,r,t,l=e.n,o=e.vr_ptr,i=e.vr_len,u=e.vr_cap,s=e.vc_ptr,c=e.vc_len,f=e.vc_cap,_=e.sv_ind,p=e.sv_val,m=e.sv_next,b=1;for(t=e.sv_head;0!=t;t=m[t])if(t<=l){if(n=t,o[n]!=b)break;u[n]=i[n],b+=u[n]}else{if(r=t-l,s[r]!=b)break;f[r]=c[r],b+=f[r]}for(;0!=t;t=m[t])t<=l?(n=t,a(_,b,_,o[n],i[n]),a(p,b,p,o[n],i[n]),o[n]=b,u[n]=i[n],b+=u[n]):(r=t-l,a(_,b,_,s[r],c[r]),a(p,b,p,s[r],c[r]),s[r]=b,f[r]=c[r],b+=f[r]);e.sv_beg=b}function Nn(e,r,t){var l,o,i,u=e.n,s=e.vr_ptr,c=e.vr_len,f=e.vr_cap,_=e.vc_cap,p=e.sv_ind,m=e.sv_val,b=e.sv_prev,d=e.sv_next,v=0;return n(1<=r&&r<=u),n(f[r]<t),e.sv_end-e.sv_beg<t&&(Sn(e),e.sv_end-e.sv_beg<t)?v=1:(l=f[r],a(p,e.sv_beg,p,s[r],c[r]),a(m,e.sv_beg,m,s[r],c[r]),s[r]=e.sv_beg,f[r]=t,e.sv_beg+=t,o=r,0==b[o]?e.sv_head=d[o]:(i=b[o],i<=u?f[i]+=l:_[i-u]+=l,d[b[o]]=d[o]),0==d[o]?e.sv_tail=b[o]:b[d[o]]=b[o],b[o]=e.sv_tail,d[o]=0,0==b[o]?e.sv_head=o:d[b[o]]=o,e.sv_tail=o,v)}function On(e,r,t){var l,o,i,u=e.n,s=e.vr_cap,c=e.vc_ptr,f=e.vc_len,_=e.vc_cap,p=e.sv_ind,m=e.sv_val,b=e.sv_prev,d=e.sv_next,v=0;return n(1<=r&&r<=u),n(_[r]<t),e.sv_end-e.sv_beg<t&&(Sn(e),e.sv_end-e.sv_beg<t)?v=1:(l=_[r],a(p,e.sv_beg,p,c[r],f[r]),a(m,e.sv_beg,m,c[r],f[r]),c[r]=e.sv_beg,_[r]=t,e.sv_beg+=t,o=u+r,0==b[o]?e.sv_head=d[o]:(i=b[o],i<=u?s[i]+=l:_[i-u]+=l,d[b[o]]=d[o]),0==d[o]?e.sv_tail=b[o]:b[d[o]]=b[o],b[o]=e.sv_tail,d[o]=0,0==b[o]?e.sv_head=o:d[b[o]]=o,e.sv_tail=o,v)}function qn(e,n){var r=e.n_max;e.n=n,n<=r||(e.n_max=r=n+100,e.fr_ptr=new Int32Array(1+r),e.fr_len=new Int32Array(1+r),e.fc_ptr=new Int32Array(1+r),e.fc_len=new Int32Array(1+r),e.vr_ptr=new Int32Array(1+r),e.vr_len=new Int32Array(1+r),e.vr_cap=new Int32Array(1+r),e.vr_piv=new Float64Array(1+r),e.vc_ptr=new Int32Array(1+r),e.vc_len=new Int32Array(1+r),e.vc_cap=new Int32Array(1+r),e.pp_row=new Int32Array(1+r),e.pp_col=new Int32Array(1+r),e.qq_row=new Int32Array(1+r),e.qq_col=new Int32Array(1+r),e.sv_prev=new Int32Array(1+r+r),e.sv_next=new Int32Array(1+r+r),e.vr_max=new Float64Array(1+r),e.rs_head=new Int32Array(1+r),e.rs_prev=new Int32Array(1+r),e.rs_next=new Int32Array(1+r),e.cs_head=new Int32Array(1+r),e.cs_prev=new Int32Array(1+r),e.cs_next=new Int32Array(1+r),e.flag=new Int32Array(1+r),e.work=new Float64Array(1+r))}function Gn(e,n,t){var a,l,o,i,u,s,c,f,_,p,m,b,d,v=e.n,g=e.fc_ptr,h=e.fc_len,y=e.vr_ptr,k=e.vr_len,w=e.vr_cap,x=e.vc_ptr,A=e.vc_len,j=e.vc_cap,M=e.pp_row,P=e.pp_col,L=e.qq_row,z=e.qq_col,I=e.sv_ind,E=e.sv_val,F=e.sv_prev,S=e.sv_next,N=e.vr_max,O=e.rs_head,q=e.rs_prev,G=e.rs_next,T=e.cs_head,R=e.cs_prev,C=e.cs_next,X=e.flag,B=e.work,D=0;for(_=1,p=e.sv_size+1,o=1;o<=v;o++)g[o]=p,h[o]=0;for(a=1;a<=v;a++)k[a]=w[a]=0,X[a]=0;for(f=0,b=0,o=1;o<=v;o++){var U=M,K=B;if(c=n(t,o,U,K),0<=c&&c<=v||r("luf_factorize: j = "+o+"; len = "+c+"; invalid column length"),p-_<c)return D=1;for(x[o]=_,A[o]=j[o]=c,f+=c,m=1;m<=c;m++)a=U[m],d=K[m],1<=a&&a<=v||r("luf_factorize: i = "+a+"; j = "+o+"; invalid row index"),X[a]&&r("luf_factorize: i = "+a+"; j = "+o+"; duplicate element not allowed"),0==d&&r("luf_factorize: i = "+a+"; j = "+o+"; zero element not allowed"),I[_]=a,E[_]=d,_++,d<0&&(d=-d),b<d&&(b=d),X[a]=1,w[a]++;for(m=1;m<=c;m++)X[U[m]]=0}for(a=1;a<=v;a++){if(c=w[a],p-_<c)return D=1;y[a]=_,_+=c}for(o=1;o<=v;o++)for(i=x[o],u=i+A[o]-1,s=i;s<=u;s++)a=I[s],d=E[s],l=y[a]+k[a],I[l]=o,E[l]=d,k[a]++;for(s=1;s<=v;s++)M[s]=P[s]=L[s]=z[s]=s;for(e.sv_beg=_,e.sv_end=p,e.sv_head=v+1,e.sv_tail=v,a=1;a<=v;a++)F[a]=a-1,S[a]=a+1;for(F[1]=v+v,S[v]=0,o=1;o<=v;o++)F[v+o]=v+o-1,S[v+o]=v+o+1;for(F[v+1]=0,S[v+v]=1,s=1;s<=v;s++)X[s]=0,B[s]=0;for(e.nnz_a=f,e.nnz_f=0,e.nnz_v=f,e.max_a=b,e.big_v=b,e.rank=-1,a=1;a<=v;a++)N[a]=-1;for(c=0;c<=v;c++)O[c]=0;for(a=1;a<=v;a++)c=k[a],q[a]=0,G[a]=O[c],0!=G[a]&&(q[G[a]]=a),O[c]=a;for(c=0;c<=v;c++)T[c]=0;for(o=1;o<=v;o++)c=A[o],R[o]=0,C[o]=T[c],0!=C[o]&&(R[C[o]]=o),T[c]=o;return D}function Tn(e,r){function t(){return r(a,l),0==a}var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A=e.n,j=e.vr_ptr,M=e.vr_len,P=e.vc_ptr,L=e.vc_len,z=e.sv_ind,I=e.sv_val,E=e.vr_max,F=e.rs_head,S=e.rs_next,N=e.cs_head,O=e.cs_prev,q=e.cs_next,G=e.piv_tol,T=e.piv_lim,R=e.suhl;if(a=l=0,y=Xi,b=0,0!=(f=N[1]))return n(1==L[f]),a=z[P[f]],l=f,t();if(0!=(i=F[1]))return n(1==M[i]),a=i,l=z[j[i]],t();for(o=2;o<=A;o++){for(f=N[o];0!=f;f=d){for(_=P[f],p=_+L[f]-1,d=q[f],v=g=0,h=Ui,m=_;m<=p;m++)if(i=z[m],u=j[i],s=u+M[i]-1,!(M[i]>=h)){if((w=E[i])<0){for(c=u;c<=s;c++)x=I[c],x<0&&(x=-x),w<x&&(w=x);E[i]=w}for(c=j[i];z[c]!=f;c++);if(n(c<=s),x=I[c],x<0&&(x=-x),!(x<G*w)&&(v=i,g=f,(h=M[i])<=o))return a=v,l=g,t()}if(0!=v){if(b++,k=(h-1)*(o-1),k<y&&(a=v,l=g,y=k),b==T)return t()}else R&&(0==O[f]?N[o]=q[f]:q[O[f]]=q[f],0==q[f]||(O[q[f]]=O[f]),O[f]=q[f]=f)}for(i=F[o];0!=i;i=S[i]){if(u=j[i],s=u+M[i]-1,(w=E[i])<0){for(c=u;c<=s;c++)x=I[c],x<0&&(x=-x),w<x&&(w=x);E[i]=w}for(v=g=0,h=Ui,c=u;c<=s;c++)if(f=z[c],!(L[f]>=h)&&(x=I[c],x<0&&(x=-x),!(x<G*w)&&(v=i,g=f,(h=L[f])<=o)))return a=v,l=g,t();if(0!=v){if(b++,k=(o-1)*(h-1),k<y&&(a=v,l=g,y=k),b==T)return t()}else n(v!=v)}}return t()}function Rn(e,r,t){var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A,j=e.n,M=e.fc_ptr,P=e.fc_len,L=e.vr_ptr,z=e.vr_len,I=e.vr_cap,E=e.vr_piv,F=e.vc_ptr,S=e.vc_len,N=e.vc_cap,O=e.sv_ind,q=e.sv_val,G=e.sv_prev,T=e.sv_next,R=e.vr_max,C=e.rs_head,X=e.rs_prev,B=e.rs_next,D=e.cs_head,U=e.cs_prev,K=e.cs_next,V=e.flag,H=e.work,W=e.eps_tol,J=e.fr_len,Q=0;for(n(1<=r&&r<=j),n(1<=t&&t<=j),0==X[r]?C[z[r]]=B[r]:B[X[r]]=B[r],0==B[r]||(X[B[r]]=X[r]),0==U[t]?D[S[t]]=K[t]:K[U[t]]=K[t],0==K[t]||(U[K[t]]=U[t]),b=L[r],d=b+z[r]-1,v=b;O[v]!=t;v++);for(n(v<=d),x=E[r]=q[v],O[v]=O[d],q[v]=q[d],z[r]--,d--,g=F[t],h=g+S[t]-1,y=g;O[y]!=r;y++);for(n(y<=h),O[y]=O[h],S[t]--,h--,v=b;v<=d;v++){for(c=O[v],V[c]=1,H[c]=q[v],0==U[c]?D[S[c]]=K[c]:K[U[c]]=K[c],0==K[c]||(U[K[c]]=U[c]),f=F[c],_=f+S[c]-1,p=f;O[p]!=r;p++);n(p<=_),O[p]=O[_],S[c]--}for(;g<=h;){for(o=O[g],0==X[o]?C[z[o]]=B[o]:B[X[o]]=B[o],0==B[o]||(X[B[o]]=X[o]),i=L[o],u=i+z[o]-1,s=i;O[s]!=t;s++);for(n(s<=u),k=q[s]/x,O[s]=O[u],q[s]=q[u],z[o]--,u--,O[g]=O[h],S[t]--,h--,l=z[r],s=i;s<=u;s++)if(c=O[s],V[c])if(A=q[s]-=k*H[c],A<0&&(A=-A),V[c]=0,l--,0==A||A<W){for(O[s]=O[u],q[s]=q[u],z[o]--,s--,u--,f=F[c],_=f+S[c]-1,p=f;O[p]!=o;p++);n(p<=_),O[p]=O[_],S[c]--}else e.big_v<A&&(e.big_v=A);if(z[o]+l>I[o]){if(Nn(e,o,z[o]+l))return Q=1;b=L[r],d=b+z[r]-1,g=F[t],h=g+S[t]-1}for(a=0,v=b;v<=d;v++)c=O[v],V[c]?(A=w=-k*H[c],A<0&&(A=-A),0==A||A<W||(s=L[o]+z[o],O[s]=c,q[s]=w,z[o]++,J[++a]=c,e.big_v<A&&(e.big_v=A))):V[c]=1;for(m=1;m<=a;m++){if(c=J[m],S[c]+1>N[c]){if(On(e,c,S[c]+10))return Q=1;b=L[r],d=b+z[r]-1,g=F[t],h=g+S[t]-1}p=F[c]+S[c],O[p]=o,S[c]++}if(X[o]=0,B[o]=C[z[o]],0!=B[o]&&(X[B[o]]=o),C[z[o]]=o,R[o]=-1,e.sv_end-e.sv_beg<1){if(Sn(e),e.sv_end-e.sv_beg<1)return Q=1;b=L[r],d=b+z[r]-1,g=F[t],h=g+S[t]-1}e.sv_end--,O[e.sv_end]=o,q[e.sv_end]=k,P[r]++}for(n(0==S[t]),N[t]=0,m=j+t,0==G[m]?e.sv_head=T[m]:T[G[m]]=T[m],0==T[m]?e.sv_tail=G[m]:G[T[m]]=G[m],M[r]=e.sv_end,v=b;v<=d;v++)c=O[v],V[c]=0,H[c]=0,1!=S[c]&&U[c]==c&&K[c]==c||(U[c]=0,K[c]=D[S[c]],0!=K[c]&&(U[K[c]]=c),D[S[c]]=c);return Q}function Cn(e){var n,r,t,a,l,o,i,u,s=e.n,c=e.vr_ptr,f=e.vr_len,_=e.vc_ptr,p=e.vc_len,m=e.vc_cap,b=e.sv_ind,d=e.sv_val,v=e.sv_prev,g=e.sv_next,h=0;for(u=0,n=1;n<=s;n++){for(r=c[n],t=r+f[n]-1,a=r;a<=t;a++)m[b[a]]++;u+=f[n]}if(e.nnz_v=u,e.sv_end-e.sv_beg<u)return h=1;for(l=1;l<=s;l++)_[l]=e.sv_beg,e.sv_beg+=m[l];for(n=1;n<=s;n++)for(r=c[n],t=r+f[n]-1,a=r;a<=t;a++)l=b[a],o=_[l]+p[l],b[o]=n,d[o]=d[a],p[l]++;for(i=s+1;i<=s+s;i++)v[i]=i-1,g[i]=i+1;return v[s+1]=e.sv_tail,g[e.sv_tail]=s+1,g[s+s]=0,e.sv_tail=s+s,h}function Xn(e){var n,r,t,a,l,o,i,u=e.n,s=e.fr_ptr,c=e.fr_len,f=e.fc_ptr,_=e.fc_len,p=e.sv_ind,m=e.sv_val,b=0;for(n=1;n<=u;n++)c[n]=0;for(i=0,r=1;r<=u;r++){for(t=f[r],a=t+_[r]-1,l=t;l<=a;l++)c[p[l]]++;i+=_[r]}if(e.nnz_f=i,e.sv_end-e.sv_beg<i)return b=1;for(n=1;n<=u;n++)s[n]=e.sv_end,e.sv_end-=c[n];for(r=1;r<=u;r++)for(t=f[r],a=t+_[r]-1,l=t;l<=a;l++)n=p[l],o=--s[n],p[o]=r,m[o]=m[l];return b}function Bn(e,t,a,l){var o,i,u,s,c,f,_,p,m,b,d=e.max_gro,v=null;for(t<1&&r("luf_factorize: n = "+t+"; invalid parameter"),t>Wi&&r("luf_factorize: n = "+t+"; matrix too big"),e.valid=0,qn(e,t),o=e.pp_row,i=e.pp_col,u=e.qq_row,s=e.qq_col,0==e.sv_size&&0==e.new_sva&&(e.new_sva=5*(t+10));function(){if(e.new_sva>0&&(e.sv_size=e.new_sva,e.sv_ind=new Int32Array(1+e.sv_size),e.sv_val=new Float64Array(1+e.sv_size),e.new_sva=0),Gn(e,a,l))return e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0;for(_=1;_<=t;_++){if(Tn(e,function(e,n){p=e,m=n}))return e.rank=_-1,v=O_,!1;if(c=i[p],f=u[m],n(_<=c&&c<=t&&_<=f&&f<=t),b=o[_],o[c]=b,i[b]=c,o[_]=p,i[p]=_,b=s[_],s[f]=b,u[b]=f,s[_]=m,u[m]=_,Rn(e,p,m))return e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0;if(e.big_v>d*e.max_a)return e.rank=_-1,v=q_,!1}return Sn(e),Cn(e)?(e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0):!!Xn(e)&&(e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0)}(););if(null!=v)return v;if(e.valid=1,e.rank=t,v=0,b=3*(t+e.nnz_v)+2*e.nnz_f,e.sv_size<b)for(e.new_sva=e.sv_size;e.new_sva<b;)_=e.new_sva,e.new_sva=_+_,n(e.new_sva>_);return v}function Dn(e,n,t){var a,l,o,i,u,s,c,f=e.n,_=e.fr_ptr,p=e.fr_len,m=e.fc_ptr,b=e.fc_len,d=e.pp_row,v=e.sv_ind,g=e.sv_val;if(e.valid||r("luf_f_solve: LU-factorization is not valid"),n){for(a=f;a>=1;a--)if(o=d[a],0!=(c=t[o]))for(i=_[o],u=i+p[o]-1,s=i;s<=u;s++)t[v[s]]-=g[s]*c}else for(l=1;l<=f;l++)if(o=d[l],0!=(c=t[o]))for(i=m[o],u=i+b[o]-1,s=i;s<=u;s++)t[v[s]]-=g[s]*c}function Un(e,n,t){var a,l,o,i,u,s,c,f=e.n,_=e.vr_ptr,p=e.vr_len,m=e.vr_piv,b=e.vc_ptr,d=e.vc_len,v=e.pp_row,g=e.qq_col,h=e.sv_ind,y=e.sv_val,k=e.work;for(e.valid||r("luf_v_solve: LU-factorization is not valid"),o=1;o<=f;o++)k[o]=t[o],t[o]=0;if(n){for(o=1;o<=f;o++)if(a=v[o],l=g[o],0!=(c=k[l]))for(t[a]=c/=m[a],i=_[a],u=i+p[a]-1,s=i;s<=u;s++)k[h[s]]-=y[s]*c}else for(o=f;o>=1;o--)if(a=v[o],l=g[o],0!=(c=k[a]))for(t[l]=c/=m[a],i=b[l],u=i+d[l]-1,s=i;s<=u;s++)k[h[s]]-=y[s]*c}function Kn(){return{index:{},par:{},set:{},var_:{},con:{},arg:{},loop:{}}}function Vn(e){var r;r=e.token==pp?"_|_":e.token==vp?"'...'":e.image,n(0<=e.c_ptr&&e.c_ptr<fp),e.context[e.c_ptr++]=" ",e.c_ptr==fp&&(e.c_ptr=0);for(var t=0;t<r.length;t++)e.context[e.c_ptr++]=r[t],e.c_ptr==fp&&(e.c_ptr=0)}function Hn(e){for(var n;e.c_ptr>0;)e.c_ptr--,n=e.context[0],a(e.context,0,e.context,1,fp-1),e.context[fp-1]=n;Qi("Context: "+e.line+" > "+(" "==e.context[0]?"":"...")+e.context.join("").trim())}function Wn(e){var n;e.c!=G_&&("\n"==e.c&&(e.line++,e.column=0),n=Wl(e),e.column++,n==G_?"\n"==e.c?e.line--:no(e,"final NL missing before end of file"):"\n"==n||(f(n)?n=" ":_(n)&&(Vn(e),eo(e,"control character "+n+" not allowed"))),e.c=n)}function Jn(e){n(0<=e.imlen),e.image+=e.c,e.imlen++,Wn(e)}function Qn(e){function r(){Vn(e),eo(e,"keyword s.t. incomplete")}function t(){Vn(e),eo(e,"cannot convert numeric literal "+e.image+" to floating-point number")}function a(){if("e"==e.c||"E"==e.c)for(Jn(e),"+"!=e.c&&"-"!=e.c||Jn(e),b(e.c)||(Vn(e),eo(e,"numeric literal "+e.image+" incomplete"));b(e.c);)Jn(e);(p(e.c)||"_"==e.c)&&(Vn(e),eo(e,"symbol "+e.image+e.c+"... should be enclosed in quotes"))}function l(){for(;;){if(("\n"==e.c&&!u||e.c==G_)&&(Vn(e),eo(e,"unexpected end of line; string literal incomplete")),e.c==i)if(Wn(e),e.c==i){if(u){if(Wn(e),e.c==i){Wn(e);break}e.image+='""',e.imlen+=2}}else{if(!u)break;e.image+='"',e.imlen++}Jn(e)}}if(e.b_token=e.token,e.b_imlen=e.imlen,e.b_image=e.image,e.b_value=e.value,e.f_scan)return e.f_scan=0,e.token=e.f_token,e.imlen=e.f_imlen,e.image=e.f_image,void(e.value=e.f_value);for(;;){for(e.token=0,e.imlen=0,e.image="",e.value=0;" "==e.c||"\n"==e.c;)Wn(e);if(e.c==G_)e.token=pp;else{if("#"==e.c){for(;"\n"!=e.c&&e.c!=G_;)Wn(e);continue}if(e.flag_d||!p(e.c)&&"_"!=e.c)if(!e.flag_d&&b(e.c)){for(e.token=dp;b(e.c);)Jn(e);var o=!1;if("."==e.c)if(Jn(e),"."==e.c)e.imlen--,e.image=e.image.substr(0,e.image.length-1),e.f_dots=1,o=!0;else for(;b(e.c);)Jn(e);o||a(),Ve(e.image,function(n){e.value=n})&&t()}else if("'"==e.c||'"'==e.c){var i=e.c,u=!1;e.token=vp,Wn(e),e.c==i?(Wn(e),e.c==i&&(u=!0,Wn(e),l())):l()}else if(e.flag_d||"+"!=e.c)if(e.flag_d||"-"!=e.c){if("*"==e.c)e.token=Rp,Jn(e),"*"==e.c&&(e.token=Xp,Jn(e));else if("/"==e.c){if(e.token=Cp,Jn(e),"*"==e.c){for(Wn(e);;)if(e.c==G_)eo(e,"unexpected end of file; comment sequence incomplete");else if("*"==e.c){if(Wn(e),"/"==e.c)break}else Wn(e);Wn(e);continue}}else if("^"==e.c)e.token=Xp,Jn(e);else if("<"==e.c)e.token=Bp,Jn(e),"="==e.c?(e.token=Dp,Jn(e)):">"==e.c?(e.token=Hp,Jn(e)):"-"==e.c&&(e.token=cm,Jn(e));else if("="==e.c)e.token=Up,Jn(e),"="==e.c&&Jn(e);else if(">"==e.c)e.token=Vp,Jn(e),"="==e.c?(e.token=Kp,Jn(e)):">"==e.c&&(e.token=um,Jn(e));else if("!"==e.c)e.token=Ip,Jn(e),"="==e.c&&(e.token=Hp,Jn(e));else if("&"==e.c)e.token=Wp,Jn(e),"&"==e.c&&(e.token=gp,Jn(e));else if("|"==e.c)e.token=Jp,Jn(e),"|"==e.c&&(e.token=Ep,Jn(e));else if(e.flag_d||"."!=e.c)if(","==e.c)e.token=Yp,Jn(e);else if(":"==e.c)e.token=$p,Jn(e),"="==e.c&&(e.token=em,Jn(e));else if(";"==e.c)e.token=Zp,Jn(e);else if("("==e.c)e.token=rm,Jn(e);else if(")"==e.c)e.token=tm,Jn(e);else if("["==e.c)e.token=am,Jn(e);else if("]"==e.c)e.token=lm,Jn(e);else if("{"==e.c)e.token=om,Jn(e);else if("}"==e.c)e.token=im,Jn(e);else if("~"==e.c)e.token=sm,Jn(e);else if(m(e.c)||d("+-._",e.c)>=0){for(n(e.flag_d),e.token=bp;m(e.c)||d("+-._",e.c)>=0;)Jn(e);switch(Ve(e.image,function(n){e.value=n})){case 0:e.token=dp;break;case 1:t();break;case 2:break;default:n(e!=e)}}else Vn(e),eo(e,"character "+e.c+" not allowed");else if(e.token=Qp,Jn(e),e.f_dots)e.token=nm,e.imlen=2,e.image="..",e.f_dots=0;else if("."==e.c)e.token=nm,Jn(e);else if(b(e.c)){for(e.token=dp,Jn(e);b(e.c);)Jn(e);a(),Ve(e.image,function(n){e.value=n})&&t()}}else e.token=Tp,Jn(e);else e.token=Gp,Jn(e);else{for(e.token=mp;m(e.c)||"_"==e.c;)Jn(e);"and"==e.image?e.token=gp:"by"==e.image?e.token=hp:"cross"==e.image?e.token=yp:"diff"==e.image?e.token=kp:"div"==e.image?e.token=wp:"else"==e.image?e.token=xp:"if"==e.image?e.token=Ap:"in"==e.image?e.token=jp:"Infinity"==e.image?e.token=Mp:"inter"==e.image?e.token=Pp:"less"==e.image?e.token=Lp:"mod"==e.image?e.token=zp:"not"==e.image?e.token=Ip:"or"==e.image?e.token=Ep:"s"==e.image&&"."==e.c?(e.token=Fp,Jn(e),"t"!=e.c&&r(),Jn(e),"."!=e.c&&r(),Jn(e)):"symdiff"==e.image?e.token=Sp:"then"==e.image?e.token=Np:"union"==e.image?e.token=Op:"within"==e.image&&(e.token=qp)}}break}Vn(e),e.flag_x=0}function Yn(e){n(!e.f_scan),e.f_scan=1,e.f_token=e.token,e.f_imlen=e.imlen,e.f_image=e.image,e.f_value=e.value,e.token=e.b_token,e.imlen=e.b_imlen,e.image=e.b_image,e.value=e.b_value}function $n(e,n){return e.token==mp&&e.image==n}function Zn(e){return e.token==gp&&"a"==e.image[0]||e.token==hp||e.token==yp||e.token==kp||e.token==wp||e.token==xp||e.token==Ap||e.token==jp||e.token==Pp||e.token==Lp||e.token==zp||e.token==Ip&&"n"==e.image[0]||e.token==Ep&&"o"==e.image[0]||e.token==Sp||e.token==Np||e.token==Op||e.token==qp}function er(e,r,t,a,l){var o,i,u,s={};switch(s.op=r,s.vflag=0,s.arg=Kn(),s.value={},r){case vm:s.arg.num=t.num;break;case gm:s.arg.str=t.str;break;case hm:s.arg.index.slot=t.index.slot,s.arg.index.next=t.index.next;break;case ym:case km:for(u=t.par.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.par.par=t.par.par,s.arg.par.list=t.par.list;break;case wm:for(u=t.set.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.set.set=t.set.set,s.arg.set.list=t.set.list;break;case xm:for(u=t.var_.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.var_.var_=t.var_.var_,s.arg.var_.list=t.var_.list,s.arg.var_.suff=t.var_.suff;break;case Am:for(u=t.con.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.con.con=t.con.con,s.arg.con.list=t.con.list,s.arg.con.suff=t.con.suff;break;case jm:case Mm:for(u=t.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.list=t.list;break;case Pm:n(null!=t.slice),s.arg.slice=t.slice;break;case Lm:case zm:case Im:case Em:s.vflag=1;break;case Fm:case Sm:case Nm:case Om:case qm:case Gm:case Tm:case Rm:case Cm:case Xm:case Bm:case Dm:case Um:case Km:case Vm:case Hm:case Wm:case Jm:case Qm:case Ym:case $m:case Zm:n(null!=t.arg.x),n(null==t.arg.x.up),t.arg.x.up=s,s.vflag|=t.arg.x.vflag,s.arg.arg.x=t.arg.x;break;case eb:case nb:case rb:case tb:case ab:case lb:case ob:case ib:case ub:case sb:case cb:case fb:r==fb&&(s.vflag=1);case _b:r==_b&&(s.vflag=1);case pb:case mb:case bb:case db:case vb:case gb:case hb:case yb:case kb:case wb:case xb:case Ab:case jb:case Mb:case Pb:case Lb:case zb:case Ib:case Eb:case Fb:case Sb:n(null!=t.arg.x),n(null==t.arg.x.up),t.arg.x.up=s,s.vflag|=t.arg.x.vflag,n(null!=t.arg.y),n(null==t.arg.y.up),t.arg.y.up=s,s.vflag|=t.arg.y.vflag,s.arg.arg.x=t.arg.x,s.arg.arg.y=t.arg.y;break;case Nb:case Ob:case qb:n(null!=t.arg.x),n(null==t.arg.x.up),t.arg.x.up=s,s.vflag|=t.arg.x.vflag,n(null!=t.arg.y),n(null==t.arg.y.up),t.arg.y.up=s,s.vflag|=t.arg.y.vflag,null!=t.arg.z&&(n(null==t.arg.z.up),t.arg.z.up=s,s.vflag|=t.arg.z.vflag),s.arg.arg.x=t.arg.x,s.arg.arg.y=t.arg.y,s.arg.arg.z=t.arg.z;break;case Gb:case Tb:for(u=t.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.list=t.list;break;case Rb:case Cb:case Xb:case Bb:case Db:case Ub:case Kb:case Vb:for(o=t.loop.domain,n(null!=o),null!=o.code&&(n(null==o.code.up),o.code.up=s,s.vflag|=o.code.vflag),i=o.list;null!=i;i=i.next)n(null!=i.code),n(null==i.code.up),i.code.up=s,s.vflag|=i.code.vflag;null!=t.loop.x&&(n(null==t.loop.x.up),t.loop.x.up=s,s.vflag|=t.loop.x.vflag),s.arg.loop.domain=t.loop.domain,s.arg.loop.x=t.loop.x;break;default:n(r!=r)}return s.type=a,s.dim=l,s.up=null,s.valid=0,s.value={},s}function nr(e,r,t,a,l){var o=Kn();return n(null!=t),o.arg.x=t,er(e,r,o,a,l)}function rr(e,r,t,a,l,o){var i=Kn();return n(null!=t),n(null!=a),i.arg.x=t,i.arg.y=a,er(e,r,i,l,o)}function tr(e,r,t,a,l,o,i){var u=Kn();return n(null!=t),n(null!=a),u.arg.x=t,u.arg.y=a,u.arg.z=l,er(e,r,u,o,i)}function ar(e){var r,t=Kn();return n(e.token==dp),t.num=e.value,r=er(e,vm,t,np,0),Qn(e),r}function lr(e){var r,t=Kn();return n(e.token==vp),t.str=e.image,r=er(e,gm,t,ip,0),Qn(e),r}function or(e,r,t){var a,l={};if(n(null!=t),l.x=t,l.next=null,null==r)r=l;else{for(a=r;null!=a.next;a=a.next);a.next=l}return r}function ir(e,n){var r,t;for(t=0,r=n;null!=r;r=r.next)t++;return t}function ur(e){for(var r,t=null;;)if(r=Nr(e),r.type==np&&(r=nr(e,Sm,r,ip,0)),r.type!=ip&&eo(e,"subscript expression has invalid type"),n(0==r.dim),t=or(e,t,r),e.token==Yp)Qn(e);else{if(e.token==lm)break;eo(e,"syntax error in subscript list")}return t}function sr(e){var r,t,a,l,o,i,u,s,c,f,_=Kn();n(e.token==mp);var p=e.tree[e.image];switch(null==p&&eo(e,e.image+" not defined"),p.type){case W_:r=p.link,s=r.name,c=0;break;case lp:t=p.link,s=t.name,c=t.dim,0==t.dimen&&(t.dimen=1);break;case tp:a=p.link,s=a.name,c=a.dim;break;case cp:l=p.link,s=l.name,c=l.dim;break;case C_:o=p.link,s=o.name,c=o.dim;break;default:n(p!=p)}switch(Qn(e),e.token==am?(0==c&&eo(e,s+" cannot be subscripted"),Qn(e),i=ur(e),c!=ir(e,i)&&eo(e,s+" must have "+c+" subscript"+(1==c?"":"s")+" rather than "+ir(e,i)),n(e.token==lm),Qn(e)):(0!=c&&eo(e,s+" must be subscripted"),i=null),f=e.flag_s||p.type!=cp?bm:fm,e.token==Qp&&(Qn(e),e.token!=mp&&eo(e,"invalid use of period"),p.type!=cp&&p.type!=C_&&eo(e,s+" cannot have a suffix"),"lb"==e.image?f=_m:"ub"==e.image?f=pm:"status"==e.image?f=mm:"val"==e.image?f=bm:"dual"==e.image?f=dm:eo(e,"suffix ."+e.image+" invalid"),Qn(e)),p.type){case W_:_.index.slot=r,_.index.next=r.list,u=er(e,hm,_,ip,0),r.list=u;break;case lp:_.set.set=t,_.set.list=i,u=er(e,wm,_,D_,t.dimen);break;case tp:_.par.par=a,_.par.list=i,u=a.type==ip?er(e,km,_,ip,0):er(e,ym,_,np,0);break;case cp:e.flag_s||f!=mm&&f!=bm&&f!=dm||eo(e,"invalid reference to status, primal value, or dual value of variable "+l.name+" above solve statement"),_.var_.var_=l,_.var_.list=i,_.var_.suff=f,u=er(e,xm,_,f==fm?H_:np,0);break;case C_:e.flag_s||f!=mm&&f!=bm&&f!=dm||eo(e,"invalid reference to status, primal value, or dual value of "+(o.type==C_?"constraint":"objective")+" "+o.name+" above solve statement"),_.con.con=o,_.con.list=i,_.con.suff=f,u=er(e,Am,_,np,0);break;default:n(p!=p)}return u}function cr(e,r){var t=Nr(e);return t.type==ip&&(t=nr(e,Fm,t,np,0)),t.type!=np&&eo(e,"argument for "+r+" has invalid type"),n(0==t.dim),t}function fr(e,r){var t=Nr(e);return t.type==np&&(t=nr(e,Sm,t,ip,0)),t.type!=ip&&eo(e,"argument for "+r+" has invalid type"),n(0==t.dim),t}function _r(e,r){var t=Tr(e);return t.type!=D_&&eo(e,"argument for "+r+" has invalid type"),n(t.dim>0),t}function pr(e){var r,t,a,l=Kn();if(n(e.token==mp),"abs"==e.image?t=Cm:"ceil"==e.image?t=Xm:"floor"==e.image?t=Bm:"exp"==e.image?t=Dm:"log"==e.image?t=Um:"log10"==e.image?t=Km:"sqrt"==e.image?t=Vm:"sin"==e.image?t=Hm:"cos"==e.image?t=Wm:"atan"==e.image?t=Jm:"min"==e.image?t=Gb:"max"==e.image?t=Tb:"round"==e.image?t=Qm:"trunc"==e.image?t=Ym:"Irand224"==e.image?t=Lm:"Uniform01"==e.image?t=zm:"Uniform"==e.image?t=fb:"Normal01"==e.image?t=Im:"Normal"==e.image?t=_b:"card"==e.image?t=$m:"length"==e.image?t=Zm:"substr"==e.image?t=Eb:"str2time"==e.image?t=Fb:"time2str"==e.image?t=Sb:"gmtime"==e.image?t=Em:eo(e,"function "+e.image+" unknown"),a=e.image,n(a.length<16),Qn(e),n(e.token==rm),Qn(e),t==Gb||t==Tb)for(l.list=null;;)if(l.list=or(e,l.list,cr(e,a)),e.token==Yp)Qn(e);else{if(e.token==tm)break;eo(e,"syntax error in argument list for "+a)}else if(t==Lm||t==zm||t==Im||t==Em)e.token!=tm&&eo(e,a+" needs no arguments");else if(t==fb||t==_b)l.arg.x=cr(e,a),e.token==Yp||(e.token==tm?eo(e,a+" needs two arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=cr(e,a),e.token==Yp?eo(e,a+" needs two argument"):e.token==tm||eo(e,"syntax error in argument for "+a);else if(t==Jm||t==Qm||t==Ym){if(l.arg.x=cr(e,a),e.token==Yp){switch(t){case Jm:t=ub;break;case Qm:t=sb;break;case Ym:t=cb;break;default:n(t!=t)}Qn(e),l.arg.y=cr(e,a)}e.token==Yp?eo(e,a+" needs one or two arguments"):e.token==tm||eo(e,"syntax error in argument for "+a)}else t==Eb?(l.arg.x=fr(e,a),e.token==Yp||(e.token==tm?eo(e,a+" needs two or three arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=cr(e,a),e.token==Yp&&(t=qb,Qn(e),l.arg.z=cr(e,a)),e.token==Yp?eo(e,a+" needs two or three arguments"):e.token==tm||eo(e,"syntax error in argument for "+a)):t==Fb?(l.arg.x=fr(e,a),e.token==Yp||(e.token==tm?eo(e,a+" needs two arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=fr(e,a),e.token==Yp?eo(e,a+" needs two argument"):e.token==tm||eo(e,"syntax error in argument for "+a)):t==Sb?(l.arg.x=cr(e,a),e.token==Yp||(e.token==tm?eo(e,a+" needs two arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=fr(e,a),e.token==Yp?eo(e,a+" needs two argument"):e.token==tm||eo(e,"syntax error in argument for "+a)):(l.arg.x=t==$m?_r(e,a):t==Zm?fr(e,a):cr(e,a),e.token==Yp?eo(e,a+" needs one argument"):e.token==tm||eo(e,"syntax error in argument for "+a));return r=t==Eb||t==qb||t==Sb?er(e,t,l,ip,0):er(e,t,l,np,0),n(e.token==tm),Qn(e),r}function mr(e,r,t){var a;if(n(null!=r),n(null!=t),n(null==t.next),null==r.list)r.list=t;else{for(a=r.list;null!=a.next;a=a.next);a.next=t}}function br(e,r,t,a){var l,o={};if(n(null!=r),o.name=t,o.code=a,o.value=null,o.list=null,o.next=null,null==r.list)r.list=o;else{for(l=r.list;null!=l.next;l=l.next);l.next=o}return o}function dr(e){function r(){t=Br(e),(e.token==Yp||s>1)&&(t.type==np&&(t=nr(e,Sm,t,ip,0)),t.type!=ip&&eo(e,"component expression has invalid type"),n(0==t.dim)),l[s].name=null,l[s].code=t}var t,a=Kn(),l=new Array(21);o(l,0,21);var i,u,s,c,f=0;for(n(e.token==rm),i=e.flag_x,Qn(e),s=1;;s++){if(s>20&&eo(e,"too many components within parentheses"),e.token==mp)if(Qn(e),u=e.token,Yn(e),!i||u!=Yp&&u!=tm||null!=e.tree[e.image])r();else{for(c=1;c<s;c++)null!=l[c].name&&l[c].name==e.image&&eo(e,"duplicate dummy index "+e.image+" not allowed");l[s].name=e.image,l[s].code=null,Qn(e),f=1,1==s&&e.token==tm&&eo(e,l[s].name+" not defined")}else r();if(e.token==Yp)Qn(e);else{if(e.token==tm)break;eo(e,"right parenthesis missing where expected")}}if(1!=s||f)if(f){for(a.slice={},c=1;c<=s;c++)br(e,a.slice,l[c].name,l[c].code);t=er(e,Pm,a,sp,s)}else{for(a.list=null,c=1;c<=s;c++)a.list=or(e,a.list,l[c].code);t=er(e,jm,a,sp,s)}else t=l[1].code;return Qn(e),f&&e.token!=jp&&eo(e,"keyword in missing where expected"),i&&e.token==jp&&!f&&(1==s?eo(e,"syntax error in indexing expression"):eo(e,"0-ary slice not allowed")),t}function vr(e,r){var t,a=Kn();for(n(null!=r),a.list=null,t=1;;t++){if(r.type==np&&(r=nr(e,Sm,r,ip,0)),r.type==ip&&(r=nr(e,Om,r,sp,1)),r.type!=sp&&eo(e,"member expression has invalid type"),null!=a.list&&a.list.x.dim!=r.dim&&eo(e,"member "+(t-1)+" has "+a.list.x.dim+" component"+(1==a.list.x.dim?"":"s")+" while member "+t+" has "+r.dim+" component"+(1==r.dim?"":"s")),a.list=or(e,a.list,r),e.token==Yp)Qn(e);else{if(e.token==im)break;eo(e,"syntax error in literal set")}r=Nr(e)}return r=er(e,Mm,a,D_,a.list.x.dim)}function gr(e){var r,t,a,l;for(n(e.token==om),Qn(e),e.token==im&&eo(e,"empty indexing expression not allowed"),r={};;){if(t=null,l=null,e.token==mp){var o,i;Qn(e),o=e.token,Yn(e),o==jp&&null==e.tree[e.image]&&(t={},i=e.image,br(e,t,i,null),Qn(e),n(e.token==jp),Qn(e))}else e.token==rm&&(e.flag_x=1,l=Tr(e),l.op==Pm&&(t=l.arg.slice,l=null,n(e.token==jp),Qn(e)));if(null==l&&(l=Tr(e)),l.type!=D_&&(null!=t&&eo(e,"domain expression has invalid type"),l=vr(e,l)),n(null!=l),n(l.type==D_),n(l.dim>0),null==t){var u;for(t={},u=1;u<=l.dim;u++)br(e,t,null,null)}var s=0;for(a=t.list;null!=a;a=a.next)s++;for(s!=l.dim&&eo(e,s+" "+(1==s?"index":"indices")+" specified for set of dimension "+l.dim),n(null==t.code),t.code=l,mr(e,r,t),a=t.list;null!=a;a=a.next)if(null!=a.name){n(null==e.tree[a.name]),e.tree[a.name]={type:W_,link:a}}if(e.token==Yp)Qn(e);else{if(e.token==$p||e.token==im)break;eo(e,"syntax error in indexing expression")}}return e.token==$p&&(Qn(e),l=Br(e),l.type==ip&&(l=nr(e,Fm,l,np,0)),l.type==np&&(l=nr(e,Nm,l,Y_,0)),l.type!=Y_&&eo(e,"expression following colon has invalid type"),n(0==l.dim),r.code=l,e.token!=im&&eo(e,"syntax error in indexing expression")),Qn(e),r}function hr(e,r){var t,a,l;for(n(null!=r),t=r.list;null!=t;t=t.next)for(a=t.list;null!=a;a=a.next)null!=a.name&&(l=e.tree[a.name],n(null!=l),n(l.type==W_),delete e.tree[a.name])}function yr(e){var r,t;for(r=e.arg.loop.domain.list;null!=r;r=r.next)for(t=r.list;null!=t;t=t.next)null!=t.code&&(n(null==t.code.up),t.code.up=e)}function kr(e){function r(){eo(e,"integrand following "+l+"{...} has invalid type")}var t,a,l,o=Kn();switch(n(e.token==mp),"sum"==e.image?a=Rb:"prod"==e.image?a=Cb:"min"==e.image?a=Xb:"max"==e.image?a=Bb:"forall"==e.image?a=Db:"exists"==e.image?a=Ub:"setof"==e.image?a=Kb:eo(e,"operator "+e.image+" unknown"),l=e.image,n(l.length<8),Qn(e),n(e.token==om),o.loop.domain=gr(e),a){case Rb:case Cb:case Xb:case Bb:o.loop.x=Fr(e),o.loop.x.type==ip&&(o.loop.x=nr(e,Fm,o.loop.x,np,0)),o.loop.x.type==np||a==Rb&&o.loop.x.type==H_||r(),n(0==o.loop.x.dim),t=er(e,a,o,o.loop.x.type,0);break;case Db:case Ub:o.loop.x=Xr(e),o.loop.x.type==ip&&(o.loop.x=nr(e,Fm,o.loop.x,np,0)),o.loop.x.type==np&&(o.loop.x=nr(e,Nm,o.loop.x,Y_,0)),o.loop.x.type!=Y_&&r(),n(0==o.loop.x.dim),t=er(e,a,o,Y_,0);break;case Kb:o.loop.x=Nr(e),o.loop.x.type==np&&(o.loop.x=nr(e,Sm,o.loop.x,ip,0)),o.loop.x.type==ip&&(o.loop.x=nr(e,Om,o.loop.x,sp,1)),o.loop.x.type!=sp&&r(),n(o.loop.x.dim>0),t=er(e,a,o,D_,o.loop.x.dim);break;default:n(a!=a)}return hr(e,o.loop.domain),yr(t),t}function wr(e,n){for(var r=0,t=n.list;null!=t;t=t.next)for(var a=t.list;null!=a;a=a.next)null==a.code&&r++;return r}function xr(e){var r,t=Kn();return n(e.token==om),Qn(e),e.token==im?(t.list=null,r=er(e,Mm,t,D_,1),Qn(e)):(Yn(e),t.loop.domain=gr(e),t.loop.x=null,hr(e,t.loop.domain),r=er(e,Vb,t,D_,wr(e,t.loop.domain)),yr(r)),r}function Ar(e){var r,t,a;return n(e.token==Ap),Qn(e),r=Br(e),r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type==np&&(r=nr(e,Nm,r,Y_,0)),r.type!=Y_&&eo(e,"expression following if has invalid type"),n(0==r.dim),e.token!=Np&&eo(e,"keyword then missing where expected"),Qn(e),t=Tr(e),t.type!=np&&t.type!=ip&&t.type!=D_&&t.type!=H_&&eo(e,"expression following then has invalid type"),e.token!=xp?(t.type==D_&&eo(e,"keyword else missing where expected"),a=null):(Qn(e),a=Tr(e),a.type!=np&&a.type!=ip&&a.type!=D_&&a.type!=H_&&eo(e,"expression following else has invalid type"),t.type!=H_&&a.type!=H_||(t.type==ip&&(t=nr(e,Fm,t,np,0)),t.type==np&&(t=nr(e,qm,t,H_,0)),a.type==ip&&(a=nr(e,Fm,a,np,0)),a.type==np&&(a=nr(e,qm,a,H_,0))),t.type!=ip&&a.type!=ip||(t.type==np&&(t=nr(e,Sm,t,ip,0)),a.type==np&&(a=nr(e,Sm,a,ip,0))),t.type!=a.type&&eo(e,"expressions following then and else have incompatible types"),t.dim!=a.dim&&eo(e,"expressions following then and else have different dimensions "+t.dim+" and "+a.dim+", respectively")),tr(e,Ob,r,t,a,t.type,t.dim)}function jr(e){var n;if(e.token==dp)n=ar(e);else if(e.token==Mp){var r=Kn();r.num=Xi,n=er(e,vm,r,np,0),Qn(e)}else if(e.token==vp)n=lr(e);else if(e.token==mp){var t;switch(Qn(e),t=e.token,Yn(e),t){case am:n=sr(e);break;case rm:n=pr(e);break;case om:n=kr(e);break;default:n=sr(e)}}else e.token==rm?n=dr(e):e.token==om?n=xr(e):e.token==Ap?n=Ar(e):Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"syntax error in expression");return n}function Mr(e,n){eo(e,"operand preceding "+n+" has invalid type")}function Pr(e,n){eo(e,"operand following "+n+" has invalid type")}function Lr(e,n,r,t){eo(e,"operands preceding and following "+n+" have different dimensions "+r+" and "+t+", respectively")}function zr(e){return jr(e)}function Ir(e){var r,t=zr(e);if(e.token==Xp){var a=e.image;n(a.length<8),t.type==ip&&(t=nr(e,Fm,t,np,0)),t.type!=np&&Mr(e,a),Qn(e),r=e.token==Gp||e.token==Tp?Er(e):Ir(e),r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&Pr(e,a),t=rr(e,ib,t,r,np,0)}return t}function Er(e){var n;return e.token==Gp?(Qn(e),n=Ir(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&n.type!=H_&&Pr(e,"+"),n=nr(e,Gm,n,n.type,0)):e.token==Tp?(Qn(e),n=Ir(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&n.type!=H_&&Pr(e,"-"),n=nr(e,Tm,n,n.type,0)):n=Ir(e),n}function Fr(e){for(var n,r=Er(e);;)if(e.token==Rp)r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&r.type!=H_&&Mr(e,"*"),Qn(e),n=Er(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&n.type!=H_&&Pr(e,"*"),r.type==H_&&n.type==H_&&eo(e,"multiplication of linear forms not allowed"),r=r.type==np&&n.type==np?rr(e,tb,r,n,np,0):rr(e,tb,r,n,H_,0);else if(e.token==Cp)r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&r.type!=H_&&Mr(e,"/"),Qn(e),n=Er(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&Pr(e,"/"),r=r.type==np?rr(e,ab,r,n,np,0):rr(e,ab,r,n,H_,0);else if(e.token==wp)r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&Mr(e,"div"),Qn(e),n=Er(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&Pr(e,"div"),r=rr(e,lb,r,n,np,0);else{if(e.token!=zp)break;r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&Mr(e,"mod"),Qn(e),n=Er(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&Pr(e,"mod"),r=rr(e,ob,r,n,np,0)}return r}function Sr(e){for(var n,r=Fr(e);;)if(e.token==Gp)r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&r.type!=H_&&Mr(e,"+"),Qn(e),n=Fr(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&n.type!=H_&&Pr(e,"+"),r.type==np&&n.type==H_&&(r=nr(e,qm,r,H_,0)),r.type==H_&&n.type==np&&(n=nr(e,qm,n,H_,0)),r=rr(e,eb,r,n,r.type,0);else if(e.token==Tp)r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&r.type!=H_&&Mr(e,"-"),Qn(e),n=Fr(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&n.type!=H_&&Pr(e,"-"),r.type==np&&n.type==H_&&(r=nr(e,qm,r,H_,0)),r.type==H_&&n.type==np&&(n=nr(e,qm,n,H_,0)),r=rr(e,nb,r,n,r.type,0);else{if(e.token!=Lp)break;r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&Mr(e,"less"),Qn(e),n=Fr(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&Pr(e,"less"),r=rr(e,rb,r,n,np,0)}return r}function Nr(e){for(var n,r=Sr(e);e.token==Wp;)r.type==np&&(r=nr(e,Sm,r,ip,0)),r.type!=ip&&Mr(e,"&"),Qn(e),n=Sr(e),n.type==np&&(n=nr(e,Sm,n,ip,0)),n.type!=ip&&Pr(e,"&"),r=rr(e,pb,r,n,ip,0);return r}function Or(e){var n,r,t=Nr(e);return e.token==nm&&(t.type==ip&&(t=nr(e,Fm,t,np,0)),t.type!=np&&Mr(e,".."),Qn(e),n=Nr(e),n.type==ip&&(n=nr(e,Fm,n,np,0)),n.type!=np&&Pr(e,".."),e.token==hp?(Qn(e),r=Nr(e),r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type!=np&&Pr(e,"by")):r=null,t=tr(e,Nb,t,n,r,D_,1)),t}function qr(e){for(var n,r=Or(e);e.token==yp;)r.type!=D_&&Mr(e,"cross"),Qn(e),n=Or(e),n.type!=D_&&Pr(e,"cross"),r=rr(e,Mb,r,n,D_,r.dim+n.dim);return r}function Gr(e){for(var n,r=qr(e);e.token==Pp;)r.type!=D_&&Mr(e,"inter"),Qn(e),n=qr(e),n.type!=D_&&Pr(e,"inter"),r.dim!=n.dim&&Lr(e,"inter",r.dim,n.dim),r=rr(e,jb,r,n,D_,r.dim);return r}function Tr(e){for(var n,r=Gr(e);;)if(e.token==Op)r.type!=D_&&Mr(e,"union"),Qn(e),n=Gr(e),n.type!=D_&&Pr(e,"union"),r.dim!=n.dim&&Lr(e,"union",r.dim,n.dim),r=rr(e,wb,r,n,D_,r.dim);else if(e.token==kp)r.type!=D_&&Mr(e,"diff"),Qn(e),n=Gr(e),n.type!=D_&&Pr(e,"diff"),r.dim!=n.dim&&Lr(e,"diff",r.dim,n.dim),r=rr(e,xb,r,n,D_,r.dim);else{if(e.token!=Sp)break;r.type!=D_&&Mr(e,"symdiff"),Qn(e),n=Gr(e),n.type!=D_&&Pr(e,"symdiff"),r.dim!=n.dim&&Lr(e,"symdiff",r.dim,n.dim),r=rr(e,Ab,r,n,D_,r.dim)}return r}function Rr(e){var r,t=-1,a="",l=Tr(e);switch(e.token){case Bp:t=mb;break;case Dp:t=bb;break;case Up:t=db;break;case Kp:t=vb;break;case Vp:t=gb;break;case Hp:t=hb;break;case jp:t=Pb;break;case qp:t=zb;break;case Ip:a=e.image,Qn(e),e.token==jp?t=Lb:e.token==qp?t=Ib:eo(e,"invalid use of "+a),a+=" ";break;default:return l}switch(a+=e.image,n(a.length<16),t){case db:case hb:case mb:case bb:case gb:case vb:l.type!=np&&l.type!=ip&&Mr(e,a),Qn(e),r=Tr(e),r.type!=np&&r.type!=ip&&Pr(e,a),l.type==np&&r.type==ip&&(l=nr(e,Sm,l,ip,0)),l.type==ip&&r.type==np&&(r=nr(e,Sm,r,ip,0)),l=rr(e,t,l,r,Y_,0);break;case Pb:case Lb:l.type==np&&(l=nr(e,Sm,l,ip,0)),l.type==ip&&(l=nr(e,Om,l,sp,1)),l.type!=sp&&Mr(e,a),Qn(e),r=Tr(e),r.type!=D_&&Pr(e,a),l.dim!=r.dim&&Lr(e,a,l.dim,r.dim),l=rr(e,t,l,r,Y_,0);break;case zb:case Ib:l.type!=D_&&Mr(e,a),Qn(e),r=Tr(e),r.type!=D_&&Pr(e,a),l.dim!=r.dim&&Lr(e,a,l.dim,r.dim),l=rr(e,t,l,r,Y_,0);break;default:n(t!=t)}return l}function Cr(e){var r,t;return e.token==Ip?(t=e.image,n(t.length<8),Qn(e),r=Rr(e),r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type==np&&(r=nr(e,Nm,r,Y_,0)),r.type!=Y_&&Pr(e,t),r=nr(e,Rm,r,Y_,0)):r=Rr(e),r}function Xr(e){for(var r,t="",a=Cr(e);e.token==gp;)t=e.image,n(t.length<8),a.type==ip&&(a=nr(e,Fm,a,np,0)),a.type==np&&(a=nr(e,Nm,a,Y_,0)),a.type!=Y_&&Mr(e,t),Qn(e),r=Cr(e),r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type==np&&(r=nr(e,Nm,r,Y_,0)),r.type!=Y_&&Pr(e,t),a=rr(e,yb,a,r,Y_,0);return a}function Br(e){for(var r,t=Xr(e);e.token==Ep;){var a=e.image;n(a.length<8),t.type==ip&&(t=nr(e,Fm,t,np,0)),t.type==np&&(t=nr(e,Nm,t,Y_,0)),t.type!=Y_&&Mr(e,a),Qn(e),r=Xr(e),r.type==ip&&(r=nr(e,Fm,r,np,0)),r.type==np&&(r=nr(e,Nm,r,Y_,0)),r.type!=Y_&&Pr(e,a),t=rr(e,kb,t,r,Y_,0)}return t}function Dr(e){function r(){eo(e,"at most one := or default/data allowed")}function t(){eo(e,e.image+" not a plain set")}function a(){eo(e,"dimension of "+e.image+" too small")}function l(){eo(e,"component number must be integer between 1 and "+u.set.dimen)}var o,i,u,s=0;for(n($n(e,"set")),Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared"),o={},o.name=e.image,o.alias=null,o.dim=0,o.domain=null,o.dimen=0,o.within=null,o.assign=null,o.option=null,o.gadget=null,o.data=0,o.array=null,Qn(e),e.token==vp&&(o.alias=e.image,Qn(e)),e.token==om&&(o.domain=gr(e),o.dim=wr(e,o.domain)),i=e.tree[o.name]={},i.type=lp,i.link=o;;){if(e.token==Yp)Qn(e);else if(e.token==Zp)break;if($n(e,"dimen")){var c;Qn(e),e.token==dp&&1<=e.value&&e.value<=20&&Math.floor(e.value)==e.value||eo(e,"dimension must be integer between 1 and 20"),c=e.value+.5|0,s&&eo(e,"at most one dimension attribute allowed"),o.dimen>0&&eo(e,"dimension "+c+" conflicts with dimension "+o.dimen+" already determined"),o.dimen=c,s=1,Qn(e)}else if(e.token==qp||e.token==jp){var f,_;if(e.token!=jp||e.as_within||(no(e,"keyword in understood as within"),e.as_within=1),Qn(e),f={},f.code=null,f.next=null,null==o.within)o.within=f;else{for(_=o.within;null!=_.next;_=_.next);_.next=f}f.code=Tr(e),f.code.type!=D_&&eo(e,"expression following within has invalid type"),n(f.code.dim>0),0==o.dimen&&(o.dimen=f.code.dim),o.dimen!=f.code.dim&&eo(e,"set expression following within must have dimension "+o.dimen+" rather than "+f.code.dim)}else if(e.token==em)null==o.assign&&null==o.option&&null==o.gadget||r(),Qn(e),o.assign=Tr(e),o.assign.type!=D_&&eo(e,"expression following := has invalid type"),n(o.assign.dim>0),0==o.dimen&&(o.dimen=o.assign.dim),o.dimen!=o.assign.dim&&eo(e,"set expression following := must have dimension "+o.dimen+" rather than "+o.assign.dim);else if($n(e,"default"))null==o.assign&&null==o.option||r(),Qn(e),o.option=Tr(e),o.option.type!=D_&&eo(e,"expression following default has invalid type"),n(o.option.dim>0),0==o.dimen&&(o.dimen=o.option.dim),o.dimen!=o.option.dim&&eo(e,"set expression following default must have dimension "+o.dimen+" rather than "+o.option.dim);else if($n(e,"data")){var p,m=0,b=new Array(20);for(null==o.assign&&null==o.gadget||r(),Qn(e),o.gadget=u={},e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"set name missing where expected")),i=e.tree[e.image],null==i&&eo(e,e.image+" not defined"),i.type!=lp&&t(),u.set=i.link,0!=u.set.dim&&t(),u.set==o&&eo(e,"set cannot be initialized by itself"),o.dim>=u.set.dimen&&a(),0==o.dimen&&(o.dimen=u.set.dimen-o.dim),o.dim+o.dimen>u.set.dimen?a():o.dim+o.dimen<u.set.dimen&&eo(e,"dimension of "+e.image+" too big"),Qn(e),e.token==rm?Qn(e):eo(e,"left parenthesis missing where expected"),p=0;p<u.set.dimen;p++)b[p]=0;for(p=0;;)if(e.token!=dp&&eo(e,"component number missing where expected"),0!=He(e.image,function(e){m=e})&&l(),1<=m&&m<=u.set.dimen||l(),0!=b[m-1]&&eo(e,"component "+m+" multiply specified"),u.ind[p++]=m,b[m-1]=1,n(p<=u.set.dimen),Qn(e),e.token==Yp)Qn(e);else{if(e.token==tm)break;eo(e,"syntax error in data attribute")}p<u.set.dimen&&eo(e,"there are must be "+u.set.dimen+" components rather than "+p),Qn(e)}else eo(e,"syntax error in set statement")}return null!=o.domain&&hr(e,o.domain),0==o.dimen&&(o.dimen=1),n(e.token==Zp),Qn(e),o}function Ur(e){function r(){i&&eo(e,"at most one binary allowed"),a.type==ip&&eo(e,"symbolic parameter cannot be binary"),a.type=T_,i=1,Qn(e)}function t(){eo(e,"at most one := or default allowed")}var a,l,o=0,i=0,u=0;n($n(e,"param")),Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared"),a={},a.name=e.image,a.alias=null,a.dim=0,a.domain=null,a.type=np,a.cond=null,a.in_=null,a.assign=null,a.option=null,a.data=0,a.defval=null,a.array=null,Qn(e),e.token==vp&&(a.alias=e.image,Qn(e)),e.token==om&&(a.domain=gr(e),a.dim=wr(e,a.domain));var s=e.tree[a.name]={};for(s.type=tp,s.link=a;;){if(e.token==Yp)Qn(e);else if(e.token==Zp)break;if($n(e,"integer"))o&&eo(e,"at most one integer allowed"),a.type==ip&&eo(e,"symbolic parameter cannot be integer"),a.type!=T_&&(a.type=Q_),o=1,Qn(e);else if($n(e,"binary"))r();else if($n(e,"logical"))e.as_binary||(no(e,"keyword logical understood as binary"),e.as_binary=1),r();else if($n(e,"symbolic"))u&&eo(e,"at most one symbolic allowed"),a.type!=np&&eo(e,"integer or binary parameter cannot be symbolic"),null==a.cond&&null==a.in_&&null==a.assign&&null==a.option||eo(e,"keyword symbolic must precede any other parameter attributes"),a.type=ip,u=1,Qn(e);else if(e.token==Bp||e.token==Dp||e.token==Up||e.token==Kp||e.token==Vp||e.token==Hp){var c,f={};switch(e.token){case Bp:f.rho=mb,c=e.image;break;case Dp:f.rho=bb,c=e.image;break;case Up:f.rho=db,c=e.image;break;case Kp:f.rho=vb,c=e.image;break;case Vp:f.rho=gb,c=e.image;break;case Hp:f.rho=hb,c=e.image;break;default:n(e.token!=e.token)}if(n(c.length<8),f.code=null,f.next=null,null==a.cond)a.cond=f;else{for(l=a.cond;null!=l.next;l=l.next);l.next=f}Qn(e),f.code=Nr(e),f.code.type!=np&&f.code.type!=ip&&eo(e,"expression following "+c+" has invalid type"),n(0==f.code.dim),a.type!=ip&&f.code.type==ip&&(f.code=nr(e,Fm,f.code,np,0)),a.type==ip&&f.code.type!=ip&&(f.code=nr(e,Sm,f.code,ip,0))}else if(e.token==jp||e.token==qp){var _;if(e.token!=qp||e.as_in||(no(e,"keyword within understood as in"),e.as_in=1),Qn(e),_={},_.code=null,_.next=null,null==a.in_)a.in_=_;else{for(l=a.in_;null!=l.next;l=l.next);l.next=_}_.code=Tr(e),_.code.type!=D_&&eo(e,"expression following in has invalid type"),n(_.code.dim>0),1!=_.code.dim&&eo(e,"set expression following in must have dimension 1 rather than "+_.code.dim)}else e.token==em?(null==a.assign&&null==a.option||t(),Qn(e),a.assign=Nr(e),a.assign.type!=np&&a.assign.type!=ip&&eo(e,"expression following := has invalid type"),n(0==a.assign.dim),a.type!=ip&&a.assign.type==ip&&(a.assign=nr(e,Fm,a.assign,np,0)),a.type==ip&&a.assign.type!=ip&&(a.assign=nr(e,Sm,a.assign,ip,0))):$n(e,"default")?(null==a.assign&&null==a.option||t(),Qn(e),a.option=Nr(e),a.option.type!=np&&a.option.type!=ip&&eo(e,"expression following default has invalid type"),n(0==a.option.dim),a.type!=ip&&a.option.type==ip&&(a.option=nr(e,Fm,a.option,np,0)),a.type==ip&&a.option.type!=ip&&(a.option=nr(e,Sm,a.option,ip,0))):eo(e,"syntax error in parameter statement")}return null!=a.domain&&hr(e,a.domain),n(e.token==Zp),Qn(e),a}function Kr(e){function r(){a&&eo(e,"at most one binary allowed"),l.type=T_,a=1,Qn(e)}var t=0,a=0;n($n(e,"var")),e.flag_s&&eo(e,"variable statement must precede solve statement"),Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared");var l={};l.name=e.image,l.alias=null,l.dim=0,l.domain=null,l.type=np,l.lbnd=null,l.ubnd=null,l.array=null,Qn(e),e.token==vp&&(l.alias=e.image,Qn(e)),e.token==om&&(l.domain=gr(e),l.dim=wr(e,l.domain));var o=e.tree[l.name]={};for(o.type=cp,o.link=l;;){if(e.token==Yp)Qn(e);else if(e.token==Zp)break;if($n(e,"integer"))t&&eo(e,"at most one integer allowed"),l.type!=T_&&(l.type=Q_),t=1,Qn(e);else if($n(e,"binary"))r();else if($n(e,"logical"))e.as_binary||(no(e,"keyword logical understood as binary"),e.as_binary=1),r();else if($n(e,"symbolic"))eo(e,"variable cannot be symbolic");else if(e.token==Kp)null!=l.lbnd&&(l.lbnd==l.ubnd?eo(e,"both fixed value and lower bound not allowed"):eo(e,"at most one lower bound allowed")),Qn(e),l.lbnd=Nr(e),l.lbnd.type==ip&&(l.lbnd=nr(e,Fm,l.lbnd,np,0)),l.lbnd.type!=np&&eo(e,"expression following >= has invalid type"),n(0==l.lbnd.dim);else if(e.token==Dp)null!=l.ubnd&&(l.ubnd==l.lbnd?eo(e,"both fixed value and upper bound not allowed"):eo(e,"at most one upper bound allowed")),Qn(e),l.ubnd=Nr(e),l.ubnd.type==ip&&(l.ubnd=nr(e,Fm,l.ubnd,np,0)),l.ubnd.type!=np&&eo(e,"expression following <= has invalid type"),n(0==l.ubnd.dim);else if(e.token==Up){var i;null==l.lbnd&&null==l.ubnd||(l.lbnd==l.ubnd?eo(e,"at most one fixed value allowed"):null!=l.lbnd?eo(e,"both lower bound and fixed value not allowed"):eo(e,"both upper bound and fixed value not allowed")),i=e.image,n(i.length<8),Qn(e),l.lbnd=Nr(e),l.lbnd.type==ip&&(l.lbnd=nr(e,Fm,l.lbnd,np,0)),l.lbnd.type!=np&&eo(e,"expression following "+i+" has invalid type"),n(0==l.lbnd.dim),l.ubnd=l.lbnd}else e.token==Bp||e.token==Vp||e.token==Hp?eo(e,"strict bound not allowed"):eo(e,"syntax error in variable statement")}return null!=l.domain&&hr(e,l.domain),n(e.token==Zp),Qn(e),l}function Vr(e){function r(){eo(e,"syntax error in constraint statement")}var t,a,l,o,i;e.flag_s&&eo(e,"constraint statement must precede solve statement"),$n(e,"subject")?(Qn(e),$n(e,"to")||eo(e,"keyword subject to incomplete"),Qn(e)):$n(e,"subj")?(Qn(e),$n(e,"to")||eo(e,"keyword subj to incomplete"),Qn(e)):e.token==Fp&&Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared");var u={};u.name=e.image,u.alias=null,u.dim=0,u.domain=null,u.type=C_,u.code=null,u.lbnd=null,u.ubnd=null,u.array=null,Qn(e),e.token==vp&&(u.alias=e.image,Qn(e)),e.token==om&&(u.domain=gr(e),u.dim=wr(e,u.domain));var s=e.tree[u.name]={};switch(s.type=C_,s.link=u,e.token!=$p&&eo(e,"colon missing where expected"),Qn(e),t=Nr(e),t.type==ip&&(t=nr(e,Fm,t,np,0)),t.type!=np&&t.type!=H_&&eo(e,"expression following colon has invalid type"),n(0==t.dim),e.token==Yp&&Qn(e),e.token){case Dp:case Kp:case Up:break;case Bp:case Vp:case Hp:eo(e,"strict inequality not allowed");break;case Zp:eo(e,"constraint must be equality or inequality");break;default:r()}if(o=e.token,i=e.image,n(i.length<8),Qn(e),a=Nr(e),a.type==ip&&(a=nr(e,Fm,a,np,0)),a.type!=np&&a.type!=H_&&eo(e,"expression following "+i+" has invalid type"),n(0==a.dim),e.token==Yp&&(Qn(e),e.token==Zp&&r()),e.token==Bp||e.token==Dp||e.token==Up||e.token==Kp||e.token==Vp||e.token==Hp?(o!=Up&&e.token==o||eo(e,"double inequality must be ... <= ... <= ... or ... >= ... >= ..."),t.type==H_&&eo(e,"leftmost expression in double inequality cannot be linear form"),Qn(e),l=Nr(e),l.type==ip&&(l=nr(e,Fm,a,np,0)),l.type!=np&&l.type!=H_&&eo(e,"rightmost expression in double inequality constraint has invalid type"),n(0==l.dim),l.type==H_&&eo(e,"rightmost expression in double inequality cannot be linear form")):l=null,null!=u.domain&&hr(e,u.domain),t.type!=H_&&(t=nr(e,qm,t,H_,0)),a.type!=H_&&(a=nr(e,qm,a,H_,0)),null!=l&&(l=nr(e,qm,l,H_,0)),null==l)switch(o){case Dp:u.code=t,u.lbnd=null,u.ubnd=a;break;case Kp:u.code=t,u.lbnd=a,u.ubnd=null;break;case Up:u.code=t,u.lbnd=a,u.ubnd=a;break;default:n(o!=o)}else switch(o){case Dp:u.code=a,u.lbnd=t,u.ubnd=l;break;case Kp:u.code=a,u.lbnd=l,u.ubnd=t;break;default:n(o!=o)}return e.token!=Zp&&r(),Qn(e),u}function Hr(e){var r,t;$n(e,"minimize")?t=Z_:$n(e,"maximize")?t=$_:n(e!=e),e.flag_s&&eo(e,"objective statement must precede solve statement"),Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared"),r={},r.name=e.image,r.alias=null,r.dim=0,r.domain=null,r.type=t,r.code=null,r.lbnd=null,r.ubnd=null,r.array=null,Qn(e),e.token==vp&&(r.alias=e.image,Qn(e)),e.token==om&&(r.domain=gr(e),r.dim=wr(e,r.domain));var a=e.tree[r.name]={};return a.type=C_,a.link=r,e.token!=$p&&eo(e,"colon missing where expected"),Qn(e),r.code=Nr(e),r.code.type==ip&&(r.code=nr(e,Fm,r.code,np,0)),r.code.type==np&&(r.code=nr(e,qm,r.code,H_,0)),r.code.type!=H_&&eo(e,"expression following colon has invalid type"),n(0==r.code.dim),null!=r.domain&&hr(e,r.domain),e.token!=Zp&&eo(e,"syntax error in objective statement"),Qn(e),r}function Wr(e){var r,t,a,l,o,i,u,s,c,f,_;n($n(e,"table")),Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared");var p={u:{in_:{},out:{}}};for(p.name=e.image,Qn(e),e.token==vp?(p.alias=e.image,Qn(e)):p.alias=null,e.token==om?(p.type=rp,p.u.out.domain=gr(e),$n(e,"OUT")||eo(e,"keyword OUT missing where expected"),Qn(e)):(p.type=J_,$n(e,"IN")||eo(e,"keyword IN missing where expected"),Qn(e)),p.arg=r=null;;)if(t={},e.token!=Yp&&e.token!=$p&&e.token!=Zp||eo(e,"argument expression missing where expected"),t.code=Nr(e),t.code.type==np&&(t.code=nr(e,Sm,t.code,ip,0)),t.code.type!=ip&&eo(e,"argument expression has invalid type"),t.next=null,null==r?p.arg=t:r.next=t,r=t,e.token==Yp)Qn(e);else if(e.token==$p||e.token==Zp)break;switch(n(null!=p.arg),e.token==$p?Qn(e):eo(e,"colon missing where expected"),p.type){case J_:for(e.token==mp?(c=e.tree[e.image],null==c&&eo(e,e.image+" not defined"),c.type!=lp&&eo(e,e.image+" not a set"),p.u.in_.set=c.link,null!=p.u.in_.set.assign&&eo(e,e.image+" needs no data"),0!=p.u.in_.set.dim&&eo(e,e.image+" must be a simple set"),Qn(e),e.token==cm?Qn(e):eo(e,"delimiter <- missing where expected")):Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):p.u.in_.set=null,p.u.in_.fld=a=null,f=0,e.token==am?Qn(e):eo(e,"field list missing where expected");;)if(l={},e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"field name missing where expected")),l.name=e.image,Qn(e),l.next=null,null==a?p.u.in_.fld=l:a.next=l,a=l,f++,e.token==Yp)Qn(e);else{if(e.token==lm)break;eo(e,"syntax error in field list")}for(null!=p.u.in_.set&&p.u.in_.set.dimen!=f&&eo(e,"there must be "+p.u.in_.set.dimen+" field"+(1==p.u.in_.set.dimen?"":"s")+" rather than "+f),Qn(e),p.u.in_.list=o=null;e.token==Yp;)Qn(e),i={},e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"parameter name missing where expected")),c=e.tree[e.image],null==c&&eo(e,e.image+" not defined"),c.type!=tp&&eo(e,e.image+" not a parameter"),i.par=c.link,i.par.dim!=f&&eo(e,e.image+" must have "+f+" subscript"+(1==f?"":"s")+" rather than "+i.par.dim),null!=i.par.assign&&eo(e,e.image+" needs no data"),Qn(e),e.token==sm?(Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"field name missing where expected")),_=e.image,Qn(e)):_=i.par.name,i.name=_,i.next=null,null==o?p.u.in_.list=i:o.next=i,o=i;break;case rp:for(p.u.out.list=u=null;;)if(s={},e.token!=Yp&&e.token!=Zp||eo(e,"expression missing where expected"),_=e.token==mp?e.image:"",s.code=Nr(e),e.token==sm&&(Qn(e),e.token==mp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"field name missing where expected")),_=e.image,Qn(e)),""==_&&eo(e,"field name required"),s.name=_,s.next=null,null==u?p.u.out.list=s:u.next=s,u=s,e.token==Yp)Qn(e);else{if(e.token==Zp)break;eo(e,"syntax error in output list")}hr(e,p.u.out.domain);break;default:n(p!=p)}return e.token!=Zp&&eo(e,"syntax error in table statement"),Qn(e),p}function Jr(e){return n($n(e,"solve")),e.flag_s&&eo(e,"at most one solve statement allowed"),e.flag_s=1,Qn(e),e.token!=Zp&&eo(e,"syntax error in solve statement"),Qn(e),null}function Qr(e){n($n(e,"check"));var r={};return r.domain=null,r.code=null,Qn(e),e.token==om&&(r.domain=gr(e)),e.token==$p&&Qn(e),r.code=Br(e),r.code.type!=Y_&&eo(e,"expression has invalid type"),n(0==r.code.dim),null!=r.domain&&hr(e,r.domain),e.token!=Zp&&eo(e,"syntax error in check statement"),Qn(e),r}function Yr(e){function r(){l.type=K_,l.u.code=Br(e)}var t;n($n(e,"display"));var a={};for(a.domain=null,a.list=t=null,Qn(e),e.token==om&&(a.domain=gr(e)),e.token==$p&&Qn(e);;){var l={u:{}};if(l.type=0,l.next=null,null==a.list?a.list=l:t.next=l,t=l,e.token==mp){var o,i;if(Qn(e),i=e.token,Yn(e),i!=Yp&&i!=Zp)r();else{switch(o=e.tree[e.image],null==o&&eo(e,e.image+" not defined"),l.type=o.type,o.type){case W_:l.u.slot=o.link;break;case lp:l.u.set=o.link;break;case tp:l.u.par=o.link;break;case cp:l.u.var_=o.link,e.flag_s||eo(e,"invalid reference to variable "+l.u.var_.name+" above solve statement");break;case C_:l.u.con=o.link,e.flag_s||eo(e,"invalid reference to "+(l.u.con.type==C_?"constraint":"objective")+" "+l.u.con.name+" above solve statement");break;default:n(o!=o)}Qn(e)}}else r();if(e.token!=Yp)break;Qn(e)}return null!=a.domain&&hr(e,a.domain),e.token!=Zp&&eo(e,"syntax error in display statement"),Qn(e),a}function $r(e){var r,t;n($n(e,"printf"));var a={};for(a.domain=null,a.fmt=null,a.list=t=null,Qn(e),e.token==om&&(a.domain=gr(e)),e.token==$p&&Qn(e),a.fmt=Nr(e),a.fmt.type==np&&(a.fmt=nr(e,Sm,a.fmt,ip,0)),a.fmt.type!=ip&&eo(e,"format expression has invalid type");e.token==Yp;)Qn(e),r={},r.code=null,r.next=null,null==a.list?a.list=r:t.next=r,t=r,r.code=Tr(e),r.code.type!=np&&r.code.type!=ip&&r.code.type!=Y_&&eo(e,"only numeric, symbolic, or logical expression allowed");return null!=a.domain&&hr(e,a.domain),a.fname=null,a.app=0,e.token!=Vp&&e.token!=um||(a.app=e.token==um,Qn(e),a.fname=Nr(e),a.fname.type==np&&(a.fname=nr(e,Sm,a.fname,ip,0)),a.fname.type!=ip&&eo(e,"file name expression has invalid type")),e.token!=Zp&&eo(e,"syntax error in printf statement"),Qn(e),a}function Zr(e){var r,t;n($n(e,"for"));var a={};if(a.domain=null,a.list=t=null,Qn(e),e.token!=om&&eo(e,"indexing expression missing where expected"),a.domain=gr(e),e.token==$p&&Qn(e),e.token!=om)a.list=nt(e,1);else{for(Qn(e);e.token!=im;)r=nt(e,1),null==t?a.list=r:t.next=r,t=r;Qn(e)}return n(null!=a.domain),hr(e,a.domain),a}function et(e){!e.flag_d&&$n(e,"end")||e.flag_d&&ct(e,"end")?(Qn(e),e.token==Zp?Qn(e):no(e,"no semicolon following end statement; missing semicolon inserted")):no(e,"unexpected end of file; missing end statement inserted"),e.token!=pp&&no(e,"some text detected beyond end statement; text ignored")}function nt(e,n){var r={u:{}};return r.line=e.line,r.column=e.column,r.next=null,$n(e,"set")?(n&&eo(e,"set statement not allowed here"),r.type=lp,r.u.set=Dr(e)):$n(e,"param")?(n&&eo(e,"parameter statement not allowed here"),r.type=tp,r.u.par=Ur(e)):$n(e,"var")?(n&&eo(e,"variable statement not allowed here"),r.type=cp,r.u.var_=Kr(e)):$n(e,"subject")||$n(e,"subj")||e.token==Fp?(n&&eo(e,"constraint statement not allowed here"),r.type=C_,r.u.con=Vr(e)):$n(e,"minimize")||$n(e,"maximize")?(n&&eo(e,"objective statement not allowed here"),r.type=C_,r.u.con=Hr(e)):$n(e,"table")?(n&&eo(e,"table statement not allowed here"),r.type=up,r.u.tab=Wr(e)):$n(e,"solve")?(n&&eo(e,"solve statement not allowed here"),r.type=op,r.u.slv=Jr(e)):$n(e,"check")?(r.type=R_,r.u.chk=Qr(e)):$n(e,"display")?(r.type=X_,r.u.dpy=Yr(e)):$n(e,"printf")?(r.type=ap,r.u.prt=$r(e)):$n(e,"for")?(r.type=V_,r.u.fur=Zr(e)):e.token==mp?(n&&eo(e,"constraint statement not allowed here"),r.type=C_,r.u.con=Vr(e)):Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"syntax error in model section"),r}function rt(e){var r,t;for(n(null==e.model),t=null;e.token!=pp&&!$n(e,"data")&&!$n(e,"end");)r=nt(e,0),null==t?e.model=r:t.next=r,t=r}function tt(e,n,r){var t,a={};if(a.sym=r,a.next=null,null==n)n=a;else{for(t=n;null!=t.next;t=t.next);t.next=a}return n}function at(e,n){var r,t=0;for(r=n;null!=r;r=r.next)t++;return t}function lt(e,n){var r,t=0;for(r=n;null!=r;r=r.next)null==r.sym&&t++;return t}function ot(e,n){for(var r=null;n-- >0;)r=tt(e,r,null);return r}function it(e,n){for(var r;null!=n;)r=n,n=r.next}function ut(e){return e.token==dp}function st(e){return e.token==dp||e.token==bp||e.token==vp}function ct(e,n){return st(e)&&e.image==n}function ft(e){n(ut(e));var r=e.value;return Qn(e),r}function _t(e){var r;return n(st(e)),r=ut(e)?Qt(e,e.value):Yt(e,e.image),Qn(e),r}function pt(e,r,t){var a,l;switch(n(null!=r),e.token){case am:l=lm;break;case rm:n(t>0),l=tm;break;default:n(e!=e)}for(0==t&&eo(e,r+" cannot be subscripted"),Qn(e),a=null;;)if(st(e)?a=tt(e,a,_t(e)):e.token==Rp?(a=tt(e,a,null),Qn(e)):eo(e,"number, symbol, or asterisk missing where expected"),e.token==Yp)Qn(e);else{if(e.token==l)break;eo(e,"syntax error in slice")}if(at(e,a)!=t)switch(l){case lm:eo(e,r+" must have "+t+" subscript"+(1==t?"":"s")+", not "+at(e,a));break;case tm:eo(e,r+" has dimension "+t+", not "+at(e,a));break;default:n(l!=l)}return Qn(e),a}function mt(e,r){var t,a;return n(null!=r),a=e.tree[r],null!=a&&a.type==lp||eo(e,r+" not a set"),t=a.link,null==t.assign&&null==t.gadget||eo(e,r+" needs no data"),t.data=1,t}function bt(e,r,t,a){var l,o,i,u=null;for(n(null!=r),n(null!=t),n(null!=a),n(r.dimen==at(e,a)),n(t.value.set.dim==r.dimen),lt(e,a)>0&&n(st(e)),l=null,o=a;null!=o;o=o.next){if(null==o.sym){if(!st(e)){var s=lt(e,o);n(null!=u),1==s?eo(e,"one item missing in data group beginning with "+ea(e,u)):eo(e,s+" items missing in data group beginning with "+ea(e,u))}i=_t(e),null==u&&(u=i)}else i=$t(e,o.sym);l=ra(e,l,i),null!=o.next&&e.token==Yp&&Qn(e)}fa(e,t.value.set,l)}function dt(e,r,t,a,l){var o,i,u,s,c;for(n(null!=r),n(null!=t),n(null!=a),n(r.dimen==at(e,a)),n(t.value.set.dim==r.dimen),n(2==lt(e,a)),o=null;e.token!=em;)st(e)||eo(e,"number, symbol, or := missing where expected"),o=tt(e,o,_t(e));for(Qn(e);st(e);)for(c=_t(e),i=o;null!=i;i=i.next){var f=0;if(ct(e,"+"));else{if(ct(e,"-")){Qn(e);continue}var _=at(e,i);1==_?eo(e,"one item missing in data group beginning with "+ea(e,c)):eo(e,_+" items missing in data group beginning with "+ea(e,c))}for(s=null,u=a;null!=u;u=u.next)if(null==u.sym)switch(++f){case 1:s=ra(e,s,$t(e,l?i.sym:c));break;case 2:s=ra(e,s,$t(e,l?c:i.sym));break;default:n(f!=f)}else s=ra(e,s,$t(e,u.sym));n(2==f),fa(e,t.value.set,s),Qn(e)}it(e,o)}function vt(e){function r(){eo(e,"slice currently used must specify 2 asterisks, not "+lt(e,u))}function t(){eo(e,"transpose indicator (tr) incomplete")}function a(){Qn(e),ct(e,"tr")||t(),2!=lt(e,u)&&r(),Qn(e),e.token!=tm&&t(),Qn(e),e.token==$p&&Qn(e),s=1,dt(e,l,i,u,s)}var l,o,i,u,s=0;if(n(ct(e,"set")),Qn(e),st(e)||eo(e,"set name missing where expected"),l=mt(e,e.image),Qn(e),o=null,e.token==am){for(0==l.dim&&eo(e,l.name+" cannot be subscripted"),Qn(e);;)if(st(e)||eo(e,"number or symbol missing where expected"),o=ra(e,o,_t(e)),e.token==Yp)Qn(e);else{if(e.token==lm)break;eo(e,"syntax error in subscript list")}l.dim!=ta(e,o)&&eo(e,l.name+" must have "+l.dim+" subscript"+(1==l.dim?"":"s")+" rather than "+ta(e,o)),Qn(e)}else 0!=l.dim&&eo(e,l.name+" must be subscripted");for(null!=Ia(e,l.array,o)&&eo(e,l.name+ia(e,"[",o)+" already defined"),i=Ea(e,l.array,o),i.value.set=ua(e,l.dimen),u=ot(e,l.dimen);;)if(e.token==Yp&&Qn(e),e.token==em)Qn(e);else if(e.token==rm){var c;Qn(e),c=ct(e,"tr"),Yn(e),c?a():(it(e,u),u=pt(e,l.name,l.dimen),s=0,0==lt(e,u)&&bt(e,l,i,u))}else if(st(e))bt(e,l,i,u);else if(e.token==$p)2!=lt(e,u)&&r(),Qn(e),dt(e,l,i,u,s);else if(e.token==rm)a();else{if(e.token==Zp){Qn(e);break}eo(e,"syntax error in set data block")}it(e,u)}function gt(e,r){var t,a;return n(null!=r),a=e.tree[r],null!=a&&a.type==tp||eo(e,r+" not a parameter"),t=a.link,null!=t.assign&&eo(e,r+" needs no data"),t.data&&eo(e,r+" already provided with data"),t.data=1,t}function ht(e,r,t){n(null!=r),n(null!=t),null!=r.option&&eo(e,"default value for "+r.name+" already specified in model section"),n(null==r.defval),r.defval=t}function yt(e,r,t){var a;switch(n(null!=r),n(st(e)),null!=Ia(e,r.array,t)&&eo(e,r.name+ia(e,"[",t)+" already defined"),a=Ea(e,r.array,t),r.type){case np:case Q_:case T_:ut(e)||eo(e,r.name+" requires numeric data"),a.value.num=ft(e);break;case ip:a.value.sym=_t(e);break;default:n(r!=r)}return a}function kt(e,r,t){var a,l,o,i=null;for(n(null!=r),n(r.dim==at(e,t)),n(st(e)),a=null,l=t;null!=l;l=l.next){if(null==l.sym){if(!st(e)){var u=lt(e,l)+1;n(null!=i),n(u>1),eo(e,u+" items missing in data group beginning with "+ea(e,i))}o=_t(e),null==i&&(i=o)}else o=$t(e,l.sym);a=ra(e,a,o),e.token==Yp&&Qn(e)}st(e)||(n(null!=i),eo(e,"one item missing in data group beginning with "+ea(e,i))),yt(e,r,a)}function wt(e,r,t,a){var l,o,i,u,s;for(n(null!=r),n(r.dim==at(e,t)),n(2==lt(e,t)),l=null;e.token!=em;)st(e)||eo(e,"number, symbol, or := missing where expected"),l=tt(e,l,_t(e));for(Qn(e);st(e);)for(s=_t(e),o=l;null!=o;o=o.next){var c=0;if(ct(e,"."))Qn(e);else{for(u=null,i=t;null!=i;i=i.next)if(null==i.sym)switch(++c){case 1:u=ra(e,u,$t(e,a?o.sym:s));break;case 2:u=ra(e,u,$t(e,a?s:o.sym));break;default:n(c!=c)}else u=ra(e,u,$t(e,i.sym));if(n(2==c),!st(e)){var f=at(e,o);1==f?eo(e,"one item missing in data group beginning with "+ea(e,s)):eo(e,f+" items missing in data group beginning with "+ea(e,s))}yt(e,r,u)}}it(e,l)}function xt(e,r){var t,a,l,o,i,u,s=null,c=0,f=null;for(st(e)&&(Qn(e),i=e.token,Yn(e),i==$p&&(s=mt(e,e.image),0!=s.dim&&eo(e,s.name+" must be a simple set"),null!=s.array.head&&eo(e,s.name+" already defined"),Ea(e,s.array,null).value.set=ua(e,s.dimen),f=s.name,c=s.dimen,Qn(e),n(e.token==$p),Qn(e))),a=null;e.token!=em;)st(e)||eo(e,"parameter name or := missing where expected"),t=gt(e,e.image),0==t.dim&&eo(e,e.image+" not a subscripted parameter"),0!=c&&t.dim!=c&&(n(null!=f),eo(e,f+" has dimension "+c+" while "+t.name+" has dimension "+t.dim)),null!=r&&ht(e,t,$t(e,r)),a=tt(e,a,t),f=t.name,c=t.dim,Qn(e),e.token==Yp&&Qn(e);for(0==at(e,a)&&eo(e,"at least one parameter name required"),Qn(e),e.token==Yp&&Qn(e);st(e);){var _;for(o=null,u=1;u<=c;u++)st(e)||(_=at(e,a)+c-u+1,n(null!=o),n(_>1),eo(e,_+" items missing in data group beginning with "+ea(e,o.sym))),o=ra(e,o,_t(e)),u<c&&e.token==Yp&&Qn(e);for(null!=s&&fa(e,s.array.head.value.set,aa(e,o)),e.token==Yp&&Qn(e),l=a;null!=l;l=l.next)ct(e,".")?Qn(e):(st(e)||(_=at(e,l),n(null!=o),1==_?eo(e,"one item missing in data group beginning with "+ea(e,o.sym)):eo(e,_+" items missing in data group beginning with "+ea(e,o.sym))),yt(e,l.sym,aa(e,o)),null!=l.next&&e.token==Yp&&Qn(e));e.token==Yp&&(Qn(e),st(e)||Yn(e))}for(l=a;null!=l;l=l.next)l.sym=null;it(e,a)}function At(e){function r(){eo(e,l.name+" not a subscripted parameter")}function t(){eo(e,"slice currently used must specify 2 asterisks, not "+lt(e,o))}function a(){eo(e,"transpose indicator (tr) incomplete")}var l,o,i=null,u=0;if(n(ct(e,"param")),Qn(e),ct(e,"default")&&(Qn(e),st(e)||eo(e,"default value missing where expected"),i=_t(e),e.token!=$p&&eo(e,"colon missing where expected")),e.token==$p)return Qn(e),e.token==Yp&&Qn(e),xt(e,i),e.token!=Zp&&eo(e,"symbol, number, or semicolon missing where expected"),void Qn(e);for(st(e)||eo(e,"parameter name missing where expected"),l=gt(e,e.image),Qn(e),ct(e,"default")&&(Qn(e),st(e)||eo(e,"default value missing where expected"),i=_t(e),ht(e,l,i)),o=ot(e,l.dim);;)if(e.token==Yp&&Qn(e),e.token==em)Qn(e);else if(e.token==am)it(e,o),o=pt(e,l.name,l.dim),u=0;else if(st(e))kt(e,l,o);else if(e.token==$p)0==l.dim&&r(),2!=lt(e,o)&&t(),Qn(e),wt(e,l,o,u);else if(e.token==rm)Qn(e),ct(e,"tr")||a(),0==l.dim&&r(),2!=lt(e,o)&&t(),Qn(e),e.token!=tm&&a(),Qn(e),e.token==$p&&Qn(e),u=1,wt(e,l,o,u);else{if(e.token==Zp){Qn(e);break}eo(e,"syntax error in parameter data block")}it(e,o)}function jt(e){for(;e.token!=pp&&!ct(e,"end");)ct(e,"set")?vt(e):ct(e,"param")?At(e):eo(e,"syntax error in data section")}function Mt(e,n,r){return(n>0&&r>0&&n>.999*Xi-r||n<0&&r<0&&n<-.999*Xi-r)&&eo(e,n+" + "+r+"; floating-point overflow"),n+r}function Pt(e,n,r){return(n>0&&r<0&&n>.999*Xi+r||n<0&&r>0&&n<-.999*Xi+r)&&eo(e,n+" - "+r+"; floating-point overflow"),n-r}function Lt(e,n,r){return n<r?0:(n>0&&r<0&&n>.999*Xi+r&&eo(e,n+" less "+r+"; floating-point overflow"),n-r)}function zt(e,n,r){return Math.abs(r)>1&&Math.abs(n)>.999*Xi/Math.abs(r)&&eo(e,n+" * "+r+"; floating-point overflow"),n*r}function It(e,n,r){return Math.abs(r)<Bi&&eo(e,n+" / "+r+"; floating-point zero divide"),Math.abs(r)<1&&Math.abs(n)>.999*Xi*Math.abs(r)&&eo(e,n+" / "+r+"; floating-point overflow"),n/r}function Et(e,n,r){return Math.abs(r)<Bi&&eo(e,n+" div "+r+"; floating-point zero divide"),Math.abs(r)<1&&Math.abs(n)>.999*Xi*Math.abs(r)&&eo(e,n+" div "+r+"; floating-point overflow"),n/=r,n>0?Math.floor(n):n<0?Math.ceil(n):0}function Ft(e,n,r){var t;return 0==n?t=0:0==r?t=n:0!=(t=Math.abs(n)%Math.abs(r))&&(n<0&&(t=-t),(n>0&&r<0||n<0&&r>0)&&(t+=r)),t}function St(e,n,r){var t;return(0==n&&r<=0||n<0&&r!=Math.floor(r))&&eo(e,n+" ** "+r+"; result undefined"),0==n?t=Math.pow(n,r):((Math.abs(n)>1&&r>1&&+Math.log(Math.abs(n))>.999*Math.log(Xi)/r||Math.abs(n)<1&&r<-1&&+Math.log(Math.abs(n))<.999*Math.log(Xi)/r)&&eo(e,n+" ** "+r+"; floating-point overflow"),t=Math.abs(n)>1&&r<-1&&-Math.log(Math.abs(n))<.999*Math.log(Xi)/r||Math.abs(n)<1&&r>1&&-Math.log(Math.abs(n))>.999*Math.log(Xi)/r?0:Math.pow(n,r)),t}function Nt(e,n){return n>.999*Math.log(Xi)&&eo(e,"exp("+n+"); floating-point overflow"),Math.exp(n)}function Ot(e,n){return n<=0&&eo(e,"log("+n+"); non-positive argument"),Math.log(n)}function qt(e,n){return n<=0&&eo(e,"log10("+n+"); non-positive argument"),Math.log(n)/Math.LN10}function Gt(e,n){return n<0&&eo(e,"sqrt("+n+"); negative argument"),Math.sqrt(n)}function Tt(e,n){return-1e6<=n&&n<=1e6||eo(e,"sin("+n+"); argument too large"),Math.sin(n)}function Rt(e,n){return-1e6<=n&&n<=1e6||eo(e,"cos("+n+"); argument too large"),Math.cos(n)}function Ct(e,n){return Math.atan(n)}function Xt(e,n,r){return Math.atan2(n,r)}function Bt(e,n,r){var t;return r!=Math.floor(r)&&eo(e,"round("+n+", "+r+"); non-integer second argument"),r<=Di+2&&(t=Math.pow(10,r),Math.abs(n)<.999*Xi/t&&0!=(n=Math.floor(n*t+.5))&&(n/=t)),n}function Dt(e,n,r){var t;return r!=Math.floor(r)&&eo(e,"trunc("+n+", "+r+"); non-integer second argument"),r<=Di+2&&(t=Math.pow(10,r),Math.abs(n)<.999*Xi/t&&0!=(n=n>=0?Math.floor(n*t):Math.ceil(n*t))&&(n/=t)),n}function Ut(e){return wi(e.rand,16777216)}function Kt(e){return ki(e.rand)/2147483648}function Vt(e,n,r){var t;return n>=r&&eo(e,"Uniform("+n+", "+r+"); invalid range"),t=Kt(e),t=Mt(e,n*(1-t),r*t)}function Ht(e){var n,r,t;do{n=2*Kt(e)-1,r=2*Kt(e)-1,t=n*n+r*r}while(t>1||0==t);return r*Math.sqrt(-2*Math.log(t)/t)}function Wt(e,n,r){return Mt(e,n,zt(e,r,Ht(e)))}function Jt(e,n,r){return n==r?0:n>r?1:-1}function Qt(e,n){var r={};return r.num=n,r.str=null,r}function Yt(e,r){n(null!=r);var t={};return t.num=0,t.str=r,t}function $t(e,r){n(null!=r);var t={};return null==r.str?(t.num=r.num,t.str=null):(t.num=0,t.str=r.str),t}function Zt(e,r,t){return n(null!=r),n(null!=t),null==r.str&&null==t.str?r.num<t.num?-1:r.num>t.num?1:0:null==r.str?-1:null==t.str?1:Jt(e,r.str,t.str)}function ea(e,r){function t(e){i<255&&(a+=e,i++)}n(null!=r);var a;if(null==r.str)a=String(r.num);else{var l,o,i,u=r.str;if(p(u[0])||"_"==u[0]){for(l=!1,o=1;o<u.length;o++)if(!(m(u[o])||d("+-._",u[o])>=0)){l=!0;break}}else l=!0;for(a="",i=0,l&&t("'"),o=0;o<u.length;o++)l&&"'"==u[o]&&t("'"),t(u[o]);l&&t("'"),255==i&&(a=a.slice(0,252)+"...")}return n(a.length<=255),a}function na(e,n,r){var t,a;return t=null==n.str?String(n.num):n.str,a=null==r.str?String(r.num):r.str,Yt(e,t+a)}function ra(e,r,t){var a;n(null!=t);var l={};if(l.sym=t,l.next=null,null==r)r=l;else{for(a=r;null!=a.next;a=a.next);a.next=l}return r}function ta(e,n){for(var r=0,t=n;null!=t;t=t.next)r++;return r}function aa(e,r){var t,a;if(null==r)t=null;else{for(t=a={};null!=r;r=r.next)n(null!=r.sym),a.sym=$t(e,r.sym),null!=r.next&&(a=a.next={});a.next=null}return t}function la(e,r,t){var a,l,o;for(a=r,l=t;null!=a;a=a.next,l=l.next)if(n(null!=l),n(null!=a.sym),n(null!=l.sym),0!=(o=Zt(e,a.sym,l.sym)))return o;return n(null==l),0}function oa(e,r,t){for(var a=null,l=1,o=r;l<=t;l++,o=o.next)n(null!=o),a=ra(e,a,$t(e,o.sym));return a}function ia(e,r,t){function a(e){i<255&&(u+=e),i++}var l,o,i=0,u="",s="",c=ta(e,t);for("["==r&&c>0&&a("["),"("==r&&c>1&&a("("),l=t;null!=l;l=l.next)for(l!=t&&a(","),n(null!=l.sym),s=ea(e,l.sym),n(s.length<=255),o=0;o<s.length;o++)a(s[o]);return"["==r&&c>0&&a("]"),"("==r&&c>1&&a(")"),255==i&&(u=u.slice(0,252)+"..."),n(u.length<=255),u}function ua(e,r){return n(r>0),La(e,ep,r)}function sa(e,r,t){return n(null!=r),n(r.type==ep),n(r.dim==ta(e,t)),Ia(e,r,t)}function ca(e,r,t){var a;return n(null!=r),n(r.type==ep),n(r.dim==ta(e,t)),a=Ea(e,r,t),a.value.none=null,a}function fa(e,n,r){return null!=sa(e,n,r)&&eo(e,"duplicate tuple "+ia(e,"(",r)+" detected"),ca(e,n,r)}function _a(e,r){var t,a;for(n(null!=r),n(r.type==ep),n(r.dim>0),t=ua(e,r.dim),a=r.head;null!=a;a=a.next)ca(e,t,aa(e,a.tuple));return t}function pa(e,r,t,a){var l;return 0==a&&eo(e,r+" .. "+t+" by "+a+"; zero stride not allowed"),l=t>0&&r<0&&t>.999*Xi+r?+Xi:t<0&&r>0&&t<-.999*Xi+r?-Xi:t-r,Math.abs(a)<1&&Math.abs(l)>.999*Xi*Math.abs(a)?l=l>0&&a>0||l<0&&a<0?+Xi:0:(l=Math.floor(l/a)+1)<0&&(l=0),n(l>=0),l>Ui-1&&eo(e,r+" .. "+t+" by "+a+"; set too large"),l+.5|0}function ma(e,r,t,a,l){return n(1<=l&&l<=pa(e,r,t,a)),r+(l-1)*a}function ba(e,n,r,t){for(var a=ua(e,1),l=pa(e,n,r,t),o=1;o<=l;o++)ca(e,a,ra(e,null,Qt(e,ma(e,n,r,t,o))));return a}function da(e,r,t){n(null!=r),n(r.type==ep),n(r.dim>0),n(null!=t),n(t.type==ep),n(t.dim>0),n(r.dim==t.dim);for(var a=t.head;null!=a;a=a.next)null==sa(e,r,a.tuple)&&ca(e,r,aa(e,a.tuple));return r}function va(e,r,t){n(null!=r),n(r.type==ep),n(r.dim>0),n(null!=t),n(t.type==ep),n(t.dim>0),n(r.dim==t.dim);for(var a=ua(e,r.dim),l=r.head;null!=l;l=l.next)null==sa(e,t,l.tuple)&&ca(e,a,aa(e,l.tuple));return a}function ga(e,r,t){var a;n(null!=r),n(r.type==ep),n(r.dim>0),n(null!=t),n(t.type==ep),n(t.dim>0),n(r.dim==t.dim);var l=ua(e,r.dim);for(a=r.head;null!=a;a=a.next)null==sa(e,t,a.tuple)&&ca(e,l,aa(e,a.tuple));for(a=t.head;null!=a;a=a.next)null==sa(e,r,a.tuple)&&ca(e,l,aa(e,a.tuple));return l}function ha(e,r,t){n(null!=r),n(r.type==ep),n(r.dim>0),n(null!=t),n(t.type==ep),n(t.dim>0),n(r.dim==t.dim);for(var a=ua(e,r.dim),l=r.head;null!=l;l=l.next)null!=sa(e,t,l.tuple)&&ca(e,a,aa(e,l.tuple));return a}function ya(e,r,t){var a,l,o,i;n(null!=r),n(r.type==ep),n(r.dim>0),n(null!=t),n(t.type==ep),n(t.dim>0);var u=ua(e,r.dim+t.dim);for(a=r.head;null!=a;a=a.next)for(l=t.head;null!=l;l=l.next){for(o=aa(e,a.tuple),i=l.tuple;null!=i;i=i.next)o=ra(e,o,$t(e,i.sym));ca(e,u,o)}return u}function ka(e,n){var r;return 0==n?r=null:(r={},r.coef=n,r.var_=null,r.next=null),r}function wa(e,r){n(null!=r);var t={};return t.coef=1,t.var_=r,t.next=null,t}function xa(e,n){var r,t;if(null==n)r=null;else{for(r=t={};null!=n;n=n.next)t.coef=n.coef,t.var_=n.var_,null!=n.next&&(t=t.next={});t.next=null}return r}function Aa(e,n,r,t,a){var l,o,i=null,u=0;for(l=r;null!=l;l=l.next)null==l.var_?u=Mt(e,u,zt(e,n,l.coef)):l.var_.temp=Mt(e,l.var_.temp,zt(e,n,l.coef));for(l=a;null!=l;l=l.next)null==l.var_?u=Mt(e,u,zt(e,t,l.coef)):l.var_.temp=Mt(e,l.var_.temp,zt(e,t,l.coef));for(l=r;null!=l;l=l.next)null!=l.var_&&0!=l.var_.temp&&(o={},o.coef=l.var_.temp,o.var_=l.var_,o.next=i,i=o,l.var_.temp=0);for(l=a;null!=l;l=l.next)null!=l.var_&&0!=l.var_.temp&&(o={},o.coef=l.var_.temp,o.var_=l.var_,o.next=i,i=o,l.var_.temp=0);return 0!=u&&(o={},o.coef=u,o.var_=null,o.next=i,i=o),i}function ja(e,n,r){for(var t,a=null,l=0;null!=n;)t=n,n=n.next,null==t.var_?l=Mt(e,l,t.coef):(t.next=a,a=t);return r(l),a}function Ma(e,n){var r,t,a=0;for(r=n;null!=r;r=r.next)null==r.var_?a=Mt(e,a,r.coef):r.var_.temp=Mt(e,r.var_.temp,r.coef);for(t=n,n=null,r=t;null!=r;r=t)t=r.next,null==r.var_&&0!=a?(r.coef=a,a=0,r.next=n,n=r):null!=r.var_&&0!=r.var_.temp&&(r.coef=r.var_.temp,r.var_.temp=0,r.next=n,n=r);return n}function Pa(e,r,t){switch(n(null!=t),r){case ep:t.none=null;break;case np:t.num=0;break;case ip:t.sym=null;break;case Y_:t.bit=0;break;case sp:t.tuple=null;break;case D_:t.set=null;break;case U_:t.var_=null;break;case H_:t.form=null;break;case B_:t.con=null;break;default:n(r!=r)}}function La(e,r,t){n(r==ep||r==np||r==ip||r==D_||r==U_||r==B_),n(t>=0);var a={};return a.type=r,a.dim=t,a.size=0,a.head=null,a.tail=null,a.tree=!1,a.prev=null,a.next=e.a_list,null!=a.next&&(a.next.prev=a),e.a_list=a,a}function za(e,n,r){return la(e,n,r)}function Ia(e,r,t){var a;if(n(null!=r),n(ta(e,t)==r.dim),r.size>30&&!r.tree)for(r.tree=P(za,e),a=r.head;null!=a;a=a.next)z(L(r.tree,a.tuple),a);if(a=null,r.tree){var l=I(r.tree,t);a=null==l?null:E(l)}else for(a=r.head;null!=a&&0!=la(e,a.tuple,t);a=a.next);return a}function Ea(e,r,t){n(null!=r),n(ta(e,t)==r.dim);var a={};return a.tuple=t,a.next=null,a.value={},r.size++,null==r.head?r.head=a:r.tail.next=a,r.tail=a,null!=r.tree&&z(L(r.tree,a.tuple),a),a}function Fa(e,r,t){var a,l;if(n(null!=r),n(null!=t),null!=r.value){if(0==Zt(e,r.value,t))return;r.value=null}for(a=r.list;null!=a;a=a.arg.index.next)for(n(a.op==hm),l=a;null!=l;l=l.up)l.valid&&(l.valid=0,Pa(e,l.type,l.value));r.value=$t(e,t)}function Sa(e,r){var t,a;if(null!=r.backup)for(t=r.list,a=r.backup;null!=t;t=t.next,a=a.next)n(null!=a),n(null!=a.sym),Fa(e,t,a.sym)}function Na(e,r,t,a,l){var o,i=0;return n(null!=r.code),kl(e,r.code,t)?(o=r.backup,r.backup=t,Sa(e,r),l(e,a),r.backup=o,Sa(e,r),i):i=1}function Oa(e,r){if(null!=r.block){var t,a,l=null,o=null;for(t=r.block,r.block=t.next,a=t.list;null!=a;a=a.next)null==l?l=o={}:o=o.next={},null==a.code?(n(null!=r.tuple),o.sym=r.tuple.sym,n(null!=o.sym),r.tuple=r.tuple.next):o.sym=ml(e,a.code);for(o.next=null,Na(e,t,l,r,Oa)&&(r.failure=1),a=t.list;null!=a;a=a.next)n(null!=l),o=l,l=l.next}else n(null==r.tuple),null==r.domain.code||dl(e,r.domain.code)?r.func(e,r.info):r.failure=2}function qa(e,r,t,a,l){var o={};return null==r?(n(null==t),l(e,a),o.failure=0):(n(null!=t),o.domain=r,o.block=r.list,o.tuple=t,o.info=a,o.func=l,o.failure=0,Oa(e,o)),o.failure}function Ga(e,r){if(null!=r.block){var t,a,l;for(t=r.block,r.block=t.next,l=null,a=t.list;null!=a;a=a.next)null!=a.code&&(l=ra(e,l,ml(e,a.code)));if(n(null!=t.code),t.code.op==Nb){var o,i,u,s,c,f;for(s=pl(e,t.code.arg.arg.x),c=pl(e,t.code.arg.arg.y),f=null==t.code.arg.arg.z?1:pl(e,t.code.arg.arg.z),i=pa(e,s,c,f),o=ra(e,null,Qt(e,0)),n(null==l),u=1;u<=i&&r.looping;u++)o.sym.num=ma(e,s,c,f,u),Na(e,t,o,r,Ga)}else{var _,p,m,b;for(_=hl(e,t.code),p=_.head;null!=p&&r.looping;p=p.next){m=p.tuple,b=l;var d=!1;for(a=t.list;null!=a;a=a.next){if(n(null!=m),null!=a.code){if(n(null!=b),0!=Zt(e,m.sym,b.sym)){d=!0;break}b=b.next}m=m.next}d||(n(null==m),n(null==b),Na(e,t,p.tuple,r,Ga))}}r.block=t}else(null==r.domain.code||dl(e,r.domain.code))&&(r.looping=!r.func(e,r.info))}function Ta(e,n,r,t){var a={};null==n?t(e,r):(a.domain=n,a.block=n.list,a.looping=1,a.info=r,a.func=t,Ga(e,a))}function Ra(e,r,t){n(null!=r),n(null!=t),eo(e,r+ia(e,"[",t)+" out of domain")}function Ca(e,r){var t=null;if(null!=r)for(var a=r.list;null!=a;a=a.next)for(var l=a.list;null!=l;l=l.next)null==l.code&&(n(null!=l.value),t=ra(e,t,$t(e,l.value)));return t}function Xa(e,r,t,a){for(var l=r.within,o=1;null!=l;l=l.next,o++){n(null!=l.code);for(var i=a.head;null!=i;i=i.next)if(!kl(e,l.code,i.tuple)){var u=ia(e,"(",i.tuple);n(u.length<255),eo(e,r.name+ia(e,"[",t)+" contains "+u+" which not within specified set; see ("+o+")")}}}function Ba(e,n,r){function t(){Xa(e,n,r,a),l=Ea(e,n.array,aa(e,r)),l.value.set=a}var a,l=Ia(e,n.array,r);return null!=l?a=l.value.set:null!=n.assign?(a=hl(e,n.assign),t()):null!=n.option?(a=hl(e,n.option),t()):eo(e,"no value for "+n.name+ia(e,"[",r)),a}function Da(e,n){null!=n.memb?Xa(e,n.set,n.memb.tuple,n.memb.value.set):n.refer=Ba(e,n.set,n.tuple)}function Ua(e,r){var t,a,l,o,i,u=r.gadget,s=new Array(20);for(Qi("Generating "+r.name+"..."),Ha(e,u.set),n(null!=u.set.array),n(null!=u.set.array.head),n(u.set.array.head==u.set.array.tail),t=u.set.array.head.value.set,n(t.type==ep),n(t.dim==u.set.dimen),a=t.head;null!=a;a=a.next){for(o=aa(e,a.tuple),i=0;i<u.set.dimen;i++)s[i]=null;for(i=0;null!=o;o=o.next)s[u.ind[i++]-1]=o;for(n(i==u.set.dimen),i=0;i<u.set.dimen;i++)n(null!=s[i]),s[i].next=s[i+1];0==r.dim?o=null:(o=s[0],s[r.dim-1].next=null),l=Ia(e,r.array,o),null==l&&(l=Ea(e,r.array,o),l.value.set=ua(e,r.dimen)),o=s[r.dim],n(r.dim+r.dimen==u.set.dimen),s[u.set.dimen-1].next=null,ca(e,l.value.set,o)}r.data=1}function Ka(e,r,t){var a={};if(n(r.dim==ta(e,t)),a.set=r,a.tuple=t,null!=r.gadget&&0==r.data&&Ua(e,r),1==r.data){var l=r.array.tail;for(r.data=2,a.memb=r.array.head;null!=a.memb&&(qa(e,r.domain,a.memb.tuple,a,Da)&&Ra(e,r.name,a.memb.tuple),a.memb!=l);a.memb=a.memb.next);}return a.memb=null,qa(e,a.set.domain,a.tuple,a,Da)&&Ra(e,r.name,a.tuple),a.refer}function Va(e,n){return Ka(e,n,Ca(e,n.domain)),0}function Ha(e,n){Ta(e,n.domain,n,Va)}function Wa(e,r,t,a){function l(n){eo(e,r.name+ia(e,"[",t)+" = "+a+" not "+n+" "+u+"; see ("+i+")")}var o,i;switch(r.type){case np:break;case Q_:a!=Math.floor(a)&&eo(e,r.name+ia(e,"[",t)+" = "+a+" not integer");break;case T_:0!=a&&1!=a&&eo(e,r.name+ia(e,"[",t)+" = "+a+" not binary");break;default:n(r!=r)}for(o=r.cond,i=1;null!=o;o=o.next,i++){var u;switch(n(null!=o.code),u=pl(e,o.code),o.rho){case mb:a<u||l("<");break;case bb:a<=u||l("<=");break;case db:a!=u&&l("=");break;case vb:a>=u||l(">=");break;case gb:a>u||l(">");break;case hb:a==u&&l("<>");break;default:n(o!=o)}}i=1;for(var s=r.in_;null!=s;s=s.next,i++){n(null!=s.code),n(1==s.code.dim);var c=ra(e,null,Qt(e,a));kl(e,s.code,c)||eo(e,r.name+ia(e,"[",t)+" = "+a+" not in specified set; see ("+i+")")}}function Ja(e,n,r){function t(t){return Wa(e,n,r,t),a=Ea(e,n.array,aa(e,r)),a.value.num=t,t}var a=Ia(e,n.array,r);return null!=a?a.value.num:null!=n.assign?t(pl(e,n.assign)):null!=n.option?t(pl(e,n.option)):null!=n.defval?(null!=n.defval.str&&eo(e,"cannot convert "+ea(e,n.defval)+" to floating-point number"),t(n.defval.num)):eo(e,"no value for "+n.name+ia(e,"[",r))}function Qa(e,n){null!=n.memb?Wa(e,n.par,n.memb.tuple,n.memb.value.num):n.value=Ja(e,n.par,n.tuple)}function Ya(e,r,t){var a={};if(n(r.type==np||r.type==Q_||r.type==T_),n(r.dim==ta(e,t)),a.par=r,a.tuple=t,1==r.data){var l=r.array.tail;for(r.data=2,a.memb=r.array.head;null!=a.memb&&(qa(e,r.domain,a.memb.tuple,a,Qa)&&Ra(e,r.name,a.memb.tuple),a.memb!=l);a.memb=a.memb.next);}return a.memb=null,qa(e,a.par.domain,a.tuple,a,Qa)&&Ra(e,r.name,a.tuple),a.value}function $a(e,r,t,a){for(var l,o=1,i=r.cond;null!=i;i=i.next,o++){var u;n(null!=i.code);var s=ml(e,i.code);switch(i.rho){case mb:Zt(e,a,s)<0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not < "+u));break;case bb:Zt(e,a,s)<=0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not <= "+u));break;case db:0!=Zt(e,a,s)&&(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not = "+u));break;case vb:Zt(e,a,s)>=0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not >= "+u));break;case gb:Zt(e,a,s)>0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not > "+u));break;case hb:0==Zt(e,a,s)&&(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" <> "+ea(e,a)+" not > "+u));break;default:n(i!=i)}}for(o=1,l=r.in_;null!=l;l=l.next,o++){n(null!=l.code),n(1==l.code.dim);var c=ra(e,null,$t(e,a));kl(e,l.code,c)||eo(e,r.name,ia(e,"[",t)+" = "+ea(e,a)+" not in specified set; see ("+o+")")}}function Za(e,n,r){function t(t){return $a(e,n,r,t),a=Ea(e,n.array,aa(e,r)),a.value.sym=$t(e,t),t}var a=Ia(e,n.array,r);return null!=a?$t(e,a.value.sym):null!=n.assign?t(ml(e,n.assign)):null!=n.option?t(ml(e,n.option)):null!=n.defval?$t(e,n.defval):eo(e,"no value for "+n.name+ia(e,"[",r))}function el(e,n){null!=n.memb?$a(e,n.par,n.memb.tuple,n.memb.value.sym):n.value=Za(e,n.par,n.tuple)}function nl(e,r,t){var a={};if(n(r.type==ip),n(r.dim==ta(e,t)),a.par=r,a.tuple=t,1==r.data){var l=r.array.tail;for(r.data=2,a.memb=r.array.head;null!=a.memb&&(qa(e,r.domain,a.memb.tuple,a,el)&&Ra(e,r.name,a.memb.tuple),a.memb!=l);a.memb=a.memb.next);}return a.memb=null,qa(e,a.par.domain,a.tuple,a,el)&&Ra(e,r.name,a.tuple),a.value}function rl(e,r){var t=Ca(e,r.domain);switch(r.type){case np:case Q_:case T_:Ya(e,r,t);break;case ip:nl(e,r,t);break;default:n(r!=r)}return 0}function tl(e,n){Ta(e,n.domain,n,rl)}function al(e,n,r){var t,a=Ia(e,n.array,r);return null!=a?t=a.value.var_:(a=Ea(e,n.array,aa(e,r)),t=a.value.var_={},t.j=0,t.var_=n,t.memb=a,null==n.lbnd?t.lbnd=0:t.lbnd=pl(e,n.lbnd),null==n.ubnd?t.ubnd=0:n.ubnd==n.lbnd?t.ubnd=t.lbnd:t.ubnd=pl(e,n.ubnd),t.temp=0,t.stat=0,t.prim=t.dual=0),t}function ll(e,n){n.refer=al(e,n.var_,n.tuple)}function ol(e,r,t){var a={};return n(r.dim==ta(e,t)),a.var_=r,a.tuple=t,qa(e,a.var_.domain,a.tuple,a,ll)&&Ra(e,r.name,a.tuple),a.refer}function il(e,r,t){var a,l=null,o=Ia(e,r.array,t);if(null!=o)a=o.value.con;else{if(o=Ea(e,r.array,aa(e,t)),a=o.value.con={},a.i=0,a.con=r,a.memb=o,n(null!=r.code),a.form=xl(e,r.code),null==r.lbnd&&null==r.ubnd)n(r.type==Z_||r.type==$_),a.form=ja(e,a.form,function(e){l=e}),a.lbnd=a.ubnd=-l;else if(null!=r.lbnd&&null==r.ubnd)n(r.type==C_),a.form=Aa(e,1,a.form,-1,xl(e,r.lbnd)),a.form=ja(e,a.form,function(e){l=e}),a.lbnd=-l,a.ubnd=0;else if(null==r.lbnd&&null!=r.ubnd)n(r.type==C_),a.form=Aa(e,1,a.form,-1,xl(e,r.ubnd)),a.form=ja(e,a.form,function(e){l=e}),a.lbnd=0,a.ubnd=-l;else if(r.lbnd==r.ubnd)n(r.type==C_),a.form=Aa(e,1,a.form,-1,xl(e,r.lbnd)),a.form=ja(e,a.form,function(e){l=e}),a.lbnd=a.ubnd=-l;else{var i=null,u=null;n(r.type==C_),a.form=ja(e,a.form,function(e){l=e}),n(null==ja(e,xl(e,r.lbnd),function(e){i=e})),n(null==ja(e,xl(e,r.ubnd),function(e){u=e})),a.lbnd=Pt(e,i,l),a.ubnd=Pt(e,u,l)}a.stat=0,a.prim=a.dual=0}return a}function ul(e,n){n.refer=il(e,n.con,n.tuple)}function sl(e,r,t){var a={};return n(r.dim==ta(e,t)),a.con=r,a.tuple=t,qa(e,a.con.domain,a.tuple,a,ul)&&Ra(e,r.name,a.tuple),a.refer}function cl(e,n){return sl(e,n,Ca(e,n.domain)),0}function fl(e,n){Ta(e,n.domain,n,cl)}function _l(e,r){var t=pl(e,r.code.arg.loop.x);switch(r.code.op){case Rb:r.value=Mt(e,r.value,t);break;case Cb:r.value=zt(e,r.value,t);break;case Xb:r.value>t&&(r.value=t);break;case Bb:r.value<t&&(r.value=t);break;default:n(r!=r)}return 0}function pl(e,r){var t,a,l,o,i,u,s;if(n(null!=r),n(r.type==np),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return r.value.num;switch(r.op){case vm:t=r.arg.num;break;case ym:for(a=null,l=r.arg.par.list;null!=l;l=l.next)a=ra(e,a,ml(e,l.x));t=Ya(e,r.arg.par.par,a);break;case xm:var c;for(a=null,l=r.arg.var_.list;null!=l;l=l.next)a=ra(e,a,ml(e,l.x));switch(c=ol(e,r.arg.var_.var_,a),r.arg.var_.suff){case _m:t=null==c.var_.lbnd?-Xi:c.lbnd;break;case pm:t=null==c.var_.ubnd?+Xi:c.ubnd;break;case mm:t=c.stat;break;case bm:t=c.prim;break;case dm:t=c.dual;break;default:n(r!=r)}break;case Am:var f;for(a=null,l=r.arg.con.list;null!=l;l=l.next)a=ra(e,a,ml(e,l.x));switch(f=sl(e,r.arg.con.con,a),r.arg.con.suff){case _m:t=null==f.con.lbnd?-Xi:f.lbnd;break;case pm:t=null==f.con.ubnd?+Xi:f.ubnd;break;case mm:t=f.stat;break;case bm:t=f.prim;break;case dm:t=f.dual;break;default:n(r!=r)}break;case Lm:t=Ut(e);break;case zm:t=Kt(e);break;case Im:t=Ht(e);break;case Em:t=ro(e);break;case Fm:o=ml(e,r.arg.arg.x),null==o.str?t=o.num:Ve(o.str,function(e){t=e})&&eo(e,"cannot convert "+ea(e,o)+" to floating-point number");break;case Gm:t=+pl(e,r.arg.arg.x);break;case Tm:t=-pl(e,r.arg.arg.x);break;case Cm:t=Math.abs(pl(e,r.arg.arg.x));break;case Xm:t=Math.ceil(pl(e,r.arg.arg.x));break;case Bm:t=Math.floor(pl(e,r.arg.arg.x));break;case Dm:t=Nt(e,pl(e,r.arg.arg.x));break;case Um:t=Ot(e,pl(e,r.arg.arg.x));break;case Km:t=qt(e,pl(e,r.arg.arg.x));break;case Vm:t=Gt(e,pl(e,r.arg.arg.x));break;case Hm:t=Tt(e,pl(e,r.arg.arg.x));break;case Wm:t=Rt(e,pl(e,r.arg.arg.x));break;case Jm:t=Ct(e,pl(e,r.arg.arg.x));break;case ub:t=Xt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case Qm:t=Bt(e,pl(e,r.arg.arg.x),0);break;case sb:t=Bt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case Ym:t=Dt(e,pl(e,r.arg.arg.x),0);break;case cb:t=Dt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case eb:t=Mt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case nb:t=Pt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case rb:t=Lt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case tb:t=zt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ab:t=It(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case lb:t=Et(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ob:t=Ft(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ib:t=St(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case fb:t=Vt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case _b:t=Wt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case $m:var _=hl(e,r.arg.arg.x);t=_.size;break;case Zm:o=ml(e,r.arg.arg.x),i=null==o.str?String(o.num):o.str,t=i.length;break;case Fb:var p;o=ml(e,r.arg.arg.x),i=null==o.str?String(o.num):o.str,o=ml(e,r.arg.arg.y),p=null==o.str?String(o.num):o.str,t=lo(e,i,p);break;case Ob:t=dl(e,r.arg.arg.x)?pl(e,r.arg.arg.y):null==r.arg.arg.z?0:pl(e,r.arg.arg.z);break;case Gb:for(t=+Xi,l=r.arg.list;null!=l;l=l.next)u=pl(e,l.x),t>u&&(t=u);break;case Tb:for(t=-Xi,l=r.arg.list;null!=l;l=l.next)u=pl(e,l.x),t<u&&(t=u);break;case Rb:s={},s.code=r,s.value=0,Ta(e,r.arg.loop.domain,s,_l),t=s.value;break;case Cb:s={},s.code=r,s.value=1,Ta(e,r.arg.loop.domain,s,_l),t=s.value;break;case Xb:s={},s.code=r,s.value=+Xi,Ta(e,r.arg.loop.domain,s,_l),s.value==+Xi&&eo(e,"min{} over empty set; result undefined"),t=s.value;break;case Bb:s={},s.code=r,s.value=-Xi,Ta(e,r.arg.loop.domain,s,_l),s.value==-Xi&&eo(e,"max{} over empty set; result undefined"),t=s.value;break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.num=t,t}function ml(e,r){var t,a;if(n(null!=r),n(r.type==ip),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return $t(e,r.value.sym);switch(r.op){case gm:t=Yt(e,r.arg.str);break;case hm:n(null!=r.arg.index.slot.value),t=$t(e,r.arg.index.slot.value);break;case km:var l,o;for(l=null,o=r.arg.par.list;null!=o;o=o.next)l=ra(e,l,ml(e,o.x));t=nl(e,r.arg.par.par,l);break;case Sm:t=Qt(e,pl(e,r.arg.arg.x));break;case pb:t=na(e,ml(e,r.arg.arg.x),ml(e,r.arg.arg.y));break;case Ob:t=dl(e,r.arg.arg.x)?ml(e,r.arg.arg.y):null==r.arg.arg.z?Qt(e,0):ml(e,r.arg.arg.z);break;case Eb:case qb:var i,u;t=ml(e,r.arg.arg.x),a=null==t.str?String(t.num):t.str,r.op==Eb?(i=pl(e,r.arg.arg.y),i!=Math.floor(i)&&eo(e,"substr('...', "+i+"); non-integer second argument"),(i<1||i>a.length+1)&&eo(e,"substr('...', "+i+"); substring out of range")):(i=pl(e,r.arg.arg.y),u=pl(e,r.arg.arg.z),i==Math.floor(i)&&u==Math.floor(u)||eo(e,"substr('...', "+i+", "+u+"); non-integer second and/or third argument"),(i<1||u<0||i+u>a.length+1)&&eo(e,"substr('...', "+i+", "+u+"); substring out of range")),t=Yt(e,a.slice(i-1,i+u-1));break;case Sb:var s,c,f;s=pl(e,r.arg.arg.x),c=ml(e,r.arg.arg.y),f=null==c.str?String(c.num):c.str,a=so(e,s,f),t=Yt(e,a);break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.sym=$t(e,t),t}function bl(e,r){var t=0;switch(r.code.op){case Db:r.value&=dl(e,r.code.arg.loop.x),r.value||(t=1);break;case Ub:r.value|=dl(e,r.code.arg.loop.x),r.value&&(t=1);break;default:n(r!=r)}return t}function dl(e,r){var t,a,l,o,i,u,s;if(n(r.type==Y_),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return r.value.bit;switch(r.op){case Nm:t=0!=pl(e,r.arg.arg.x);break;case Rm:t=!dl(e,r.arg.arg.x);break;case mb:n(null!=r.arg.arg.x),r.arg.arg.x.type==np?t=pl(e,r.arg.arg.x)<pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)<0);break;case bb:n(null!=r.arg.arg.x),r.arg.arg.x.type==np?t=pl(e,r.arg.arg.x)<=pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)<=0);break;case db:n(null!=r.arg.arg.x),r.arg.arg.x.type==np?t=pl(e,r.arg.arg.x)==pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=0==Zt(e,a,l));break;case vb:n(null!=r.arg.arg.x),r.arg.arg.x.type==np?t=pl(e,r.arg.arg.x)>=pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)>=0);break;case gb:n(null!=r.arg.arg.x),r.arg.arg.x.type==np?t=pl(e,r.arg.arg.x)>pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)>0);break;case hb:n(null!=r.arg.arg.x),r.arg.arg.x.type==np?t=pl(e,r.arg.arg.x)!=pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=0!=Zt(e,a,l));break;case yb:t=dl(e,r.arg.arg.x)&&dl(e,r.arg.arg.y);break;case kb:t=dl(e,r.arg.arg.x)||dl(e,r.arg.arg.y);break;case Pb:o=vl(e,r.arg.arg.x),t=kl(e,r.arg.arg.y,o);break;case Lb:o=vl(e,r.arg.arg.x),t=!kl(e,r.arg.arg.y,o);break;case zb:for(i=hl(e,r.arg.arg.x),t=1,u=i.head;null!=u;u=u.next)if(!kl(e,r.arg.arg.y,u.tuple)){t=0;break}break;case Ib:for(i=hl(e,r.arg.arg.x),t=1,u=i.head;null!=u;u=u.next)if(kl(e,r.arg.arg.y,u.tuple)){t=0;break}break;case Db:s={},s.code=r,s.value=1,Ta(e,r.arg.loop.domain,s,bl),t=s.value;break;case Ub:s={},s.code=r,s.value=0,Ta(e,r.arg.loop.domain,s,bl),t=s.value;break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.bit=t,t}function vl(e,r){var t;if(n(null!=r),n(r.type==sp),n(r.dim>0),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return aa(e,r.value.tuple);switch(r.op){case jm:t=null;for(var a=r.arg.list;null!=a;a=a.next)t=ra(e,t,ml(e,a.x));break;case Om:t=ra(e,null,ml(e,r.arg.arg.x));break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.tuple=aa(e,t),t}function gl(e,r){var t;switch(r.code.op){case Kb:t=vl(e,r.code.arg.loop.x),null==sa(e,r.value,t)&&ca(e,r.value,t);break;case Vb:ca(e,r.value,Ca(e,r.code.arg.loop.domain));break;default:n(r!=r)}return 0}function hl(e,r){var t,a,l;if(n(null!=r),n(r.type==D_),n(r.dim>0),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return _a(e,r.value.set);switch(r.op){case wm:var o;for(o=null,a=r.arg.set.list;null!=a;a=a.next)o=ra(e,o,ml(e,a.x));t=_a(e,Ka(e,r.arg.set.set,o));break;case Mm:for(t=ua(e,r.dim),a=r.arg.list;null!=a;a=a.next)fa(e,t,vl(e,a.x));break;case wb:t=da(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case xb:t=va(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Ab:t=ga(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case jb:t=ha(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Mb:t=ya(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Nb:t=ba(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y),null==r.arg.arg.z?1:pl(e,r.arg.arg.z));break;case Ob:t=dl(e,r.arg.arg.x)?hl(e,r.arg.arg.y):hl(e,r.arg.arg.z);break;case Kb:case Vb:l={},l.code=r,l.value=ua(e,r.dim),Ta(e,r.arg.loop.domain,l,gl),t=l.value;break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.set=_a(e,t),t}function yl(e,r){n(null==r)}function kl(e,r,t){var a,l,o,i;switch(n(null!=r),n(r.type==D_),n(r.dim>0),n(null!=t),r.op){case wm:var u;for(o=null,l=r.arg.set.list;null!=l;l=l.next)o=ra(e,o,ml(e,l.x));u=Ka(e,r.arg.set.set,o),o=oa(e,t,u.dim),a=null!=sa(e,u,o);break;case Mm:var s;for(a=0,o=oa(e,t,r.dim),l=r.arg.list;null!=l&&(s=vl(e,l.x),!(a=0==la(e,o,s)));l=l.next);break;case wb:a=kl(e,r.arg.arg.x,t)||kl(e,r.arg.arg.y,t);break;case xb:a=kl(e,r.arg.arg.x,t)&&!kl(e,r.arg.arg.y,t);break;case Ab:var c=kl(e,r.arg.arg.x,t),f=kl(e,r.arg.arg.y,t);a=c&&!f||!c&&f;break;case jb:a=kl(e,r.arg.arg.x,t)&&kl(e,r.arg.arg.y,t);break;case Mb:if(a=kl(e,r.arg.arg.x,t)){for(i=1;i<=r.arg.arg.x.dim;i++)n(null!=t),t=t.next;a=kl(e,r.arg.arg.y,t)}break;case Nb:var _,p,m,b;if(n(1==r.dim),p=pl(e,r.arg.arg.x),m=pl(e,r.arg.arg.y),b=null==r.arg.arg.z?1:pl(e,r.arg.arg.z),pa(e,p,m,b),n(null!=t.sym),null!=t.sym.str){a=0;break}if(_=t.sym.num,b>0&&!(p<=_&&_<=m)||b<0&&!(m<=_&&_<=p)){a=0;break}i=1+((_-p)/b+.5|0),a=ma(e,p,m,b,i)==_;break;case Ob:a=dl(e,r.arg.arg.x)?kl(e,r.arg.arg.y,t):kl(e,r.arg.arg.z,t);break;case Kb:eo(e,"implementation restriction; in/within setof{} not allowed");break;case Vb:o=oa(e,t,r.dim),a=0==qa(e,r.arg.loop.domain,o,null,yl);break;default:n(r!=r)}return a}function wl(e,r){switch(r.code.op){case Rb:var t,a=xl(e,r.code.arg.loop.x);for(null==r.value?(n(null==r.tail),r.value=a):(n(null!=r.tail),r.tail.next=a),t=a;null!=t;t=t.next)r.tail=t;break;default:n(r!=r)}return 0}function xl(e,r){var t;if(n(null!=r),n(r.type==H_),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return xa(e,r.value.form);switch(r.op){case xm:var a,l=null;for(a=r.arg.var_.list;null!=a;a=a.next)l=ra(e,l,ml(e,a.x));n(r.arg.var_.suff==fm),t=wa(e,ol(e,r.arg.var_.var_,l));break;case qm:t=ka(e,pl(e,r.arg.arg.x));break;case Gm:t=Aa(e,0,ka(e,0),1,xl(e,r.arg.arg.x));break;case Tm:t=Aa(e,0,ka(e,0),-1,xl(e,r.arg.arg.x));break;case eb:t=Aa(e,1,xl(e,r.arg.arg.x),1,xl(e,r.arg.arg.y));break;case nb:t=Aa(e,1,xl(e,r.arg.arg.x),-1,xl(e,r.arg.arg.y));break;case tb:n(null!=r.arg.arg.x),n(null!=r.arg.arg.y),r.arg.arg.x.type==np?(n(r.arg.arg.y.type==H_),t=Aa(e,pl(e,r.arg.arg.x),xl(e,r.arg.arg.y),0,ka(e,0))):(n(r.arg.arg.x.type==H_),n(r.arg.arg.y.type==np),t=Aa(e,pl(e,r.arg.arg.y),xl(e,r.arg.arg.x),0,ka(e,0)));break;case ab:t=Aa(e,It(e,1,pl(e,r.arg.arg.y)),xl(e,r.arg.arg.x),0,ka(e,0));break;case Ob:t=dl(e,r.arg.arg.x)?xl(e,r.arg.arg.y):null==r.arg.arg.z?ka(e,0):xl(e,r.arg.arg.z);break;case Rb:var o={};o.code=r,o.value=ka(e,0),o.tail=null,Ta(e,r.arg.loop.domain,o,wl),t=Ma(e,o.value);break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.form=xa(e,t),t}function Al(e,r){var t,a,l,o=e.dca;for(l=0,t=r.u.out.list;null!=t;t=t.next)switch(l++,t.code.type){case np:o.type[l]="N",o.num[l]=pl(e,t.code),o.str[l][0]="\0";break;case ip:a=ml(e,t.code),null==a.str?(o.type[l]="N",o.num[l]=a.num,o.str[l][0]="\0"):(o.type[l]="S",o.num[l]=0,o.str[l]=a.str);break;default:n(t!=t)}return _o(e),0}function jl(e,r){var t,a,l,o,i,u,s,c;for(n(null==e.dca),e.dca=i={},i.id=0,i.link=null,i.na=0,i.arg=null,i.nf=0,i.name=null,i.type=null,i.num=null,i.str=null,n(0==i.na),t=r.arg;null!=t;t=t.next)i.na++;for(i.arg=new Array(1+i.na),s=1;s<=i.na;s++)i.arg[s]=null;for(s=0,t=r.arg;null!=t;t=t.next){s++,n(t.code.type==ip);var f=ml(e,t.code);c=null==f.str?String(f.num):f.str,i.arg[s]=c}switch(r.type){case J_:for(u=r.u.in_.set,null!=u&&(u.data&&eo(e,u.name+" already provided with data"),n(null==u.array.head),Ea(e,u.array,null).value.set=ua(e,u.dimen),u.data=1),l=r.u.in_.list;null!=l;l=l.next)l.par.data&&eo(e,l.par.name+" already provided with data"),l.par.data=1;for(n(0==i.nf),a=r.u.in_.fld;null!=a;a=a.next)i.nf++;for(l=r.u.in_.list;null!=l;l=l.next)i.nf++;for(i.name=new Array(1+i.nf),i.type=new Array(1+i.nf),i.num=new Float64Array(1+i.nf),i.str=new Array(1+i.nf),s=0,a=r.u.in_.fld;null!=a;a=a.next)s++,i.name[s]=a.name,i.type[s]="?",i.num[s]=0,i.str[s]="";for(l=r.u.in_.list;null!=l;l=l.next)s++,i.name[s]=l.name,i.type[s]="?",i.num[s]=0,i.str[s]="";for(co(e,"R");;){var _;for(s=1;s<=i.nf;s++)i.type[s]="?";if(fo(e))break;for(s=1;s<=i.nf;s++)"?"==i.type[s]&&eo(e,"field "+i.name[s]+" missing in input table");for(_=null,s=0,a=r.u.in_.fld;null!=a;a=a.next)switch(s++,n(s<=i.nf),i.type[s]){case"N":_=ra(e,_,Qt(e,i.num[s]));break;case"S":_=ra(e,_,Yt(e,i.str[s]));break;default:n(i!=i)}for(null!=r.u.in_.set&&fa(e,r.u.in_.set.array.head.value.set,aa(e,_)),l=r.u.in_.list;null!=l;l=l.next){var p;switch(s++,n(s<=i.nf),null!=Ia(e,l.par.array,_)&&eo(e,l.par.name+ia(e,"[",_)+" already defined"),p=Ea(e,l.par.array,aa(e,_)),l.par.type){case np:case Q_:case T_:"N"!=i.type[s]&&eo(e,l.par.name+" requires numeric data"),p.value.num=i.num[s];break;case ip:switch(i.type[s]){case"N":p.value.sym=Qt(e,i.num[s]);break;case"S":p.value.sym=Yt(e,i.str[s]);break;default:n(i!=i)}break;default:n(l!=l)}}}e.dca=null;break;case rp:for(n(0==i.nf),o=r.u.out.list;null!=o;o=o.next)i.nf++;for(i.name=new Array(1+i.nf),i.type=new Array(1+i.nf),i.num=new Float64Array(1+i.nf),i.str=new Array(1+i.nf),s=0,o=r.u.out.list;null!=o;o=o.next)s++,i.name[s]=o.name,i.type[s]="?",i.num[s]=0,i.str[s]="";co(e,"W"),Ta(e,r.u.out.domain,r,Al),po(e),e.dca=null;break;default:n(r!=r)}}function Ml(e,n){return dl(e,n.code)||eo(e,"check"+ia(e,"[",Ca(e,n.domain))+" failed"),0}function Pl(e,n){Ta(e,n.domain,n,Ml)}function Ll(e,n,r){var t,a=r.value.set;for($l(e,n.name+ia(e,"[",r.tuple)+(null==a.head?" is empty":":")),t=a.head;null!=t;t=t.next)$l(e,"   "+ia(e,"(",t.tuple))}function zl(e,r,t){switch(r.type){case np:case Q_:case T_:$l(e,r.name+ia(e,"[",t.tuple)+" = "+t.value.num);break;case ip:$l(e,r.name+ia(e,"[",t.tuple)+" = "+ea(e,t.value.sym));break;default:n(r!=r)}}function Il(e,r,t,a){a==fm||a==bm?$l(e,r.name+ia(e,"[",t.tuple)+".val = "+t.value.var_.prim):a==_m?$l(e,r.name+ia(e,"[",t.tuple)+".lb = "+(null==t.value.var_.var_.lbnd?-Xi:t.value.var_.lbnd)):a==pm?$l(e,r.name+ia(e,"[",t.tuple)+".ub = "+(null==t.value.var_.var_.ubnd?+Xi:t.value.var_.ubnd)):a==mm?$l(e,r.name+ia(e,"[",t.tuple)+".status = "+t.value.var_.stat):a==dm?$l(e,r.name+ia(e,"[",t.tuple)+".dual = "+t.value.var_.dual):n(a!=a)}function El(e,r,t,a){a==fm||a==bm?$l(e,r.name+ia(e,"[",t.tuple)+".val = "+t.value.con.prim):a==_m?$l(e,r.name+ia(e,"[",t.tuple)+".lb = "+(null==t.value.con.con.lbnd?-Xi:t.value.con.lbnd)):a==pm?$l(e,r.name+ia(e,"[",t.tuple)+".ub = "+(null==t.value.con.con.ubnd?+Xi:t.value.con.ubnd)):a==mm?$l(e,r.name+ia(e,"[",t.tuple)+".status = "+t.value.con.stat):a==dm?$l(e,r.name+ia(e,"[",t.tuple)+".dual = "+t.value.con.dual):n(a!=a)}function Fl(e,r){var t,a={value:{}};for(n(r.op==ym||r.op==km||r.op==wm||r.op==xm||r.op==Am),a.tuple=null,t=r.arg.par.list||r.arg.var_.list;null!=t;t=t.next)a.tuple=ra(e,a.tuple,ml(e,t.x));switch(r.op){case ym:a.value.num=Ya(e,r.arg.par.par,a.tuple),zl(e,r.arg.par.par,a);break;case km:a.value.sym=nl(e,r.arg.par.par,a.tuple),zl(e,r.arg.par.par,a);break;case wm:a.value.set=Ka(e,r.arg.set.set,a.tuple),Ll(e,r.arg.set.set,a);break;case xm:a.value.var_=ol(e,r.arg.var_.var_,a.tuple),Il(e,r.arg.var_.var_,a,r.arg.var_.suff);break;case Am:a.value.con=sl(e,r.arg.con.con,a.tuple),El(e,r.arg.con.con,a,r.arg.con.suff);break;default:n(r!=r)}}function Sl(e,r){switch(r.type){case np:var t=pl(e,r);$l(e,String(t));break;case ip:$l(e,ea(e,ml(e,r)));break;case Y_:$l(e,dl(e,r)?"true":"false");break;case sp:$l(e,ia(e,"(",vl(e,r)));break;case D_:var a=hl(e,r);0==a.head&&$l(e,"set is empty");for(var l=a.head;null!=l;l=l.next)$l(e,"   "+ia(e,"(",l.tuple));break;case H_:var o,i=xl(e,r);for(null==i&&$l(e,"linear form is empty"),o=i;null!=o;o=o.next)null==o.var_?$l(e,"   "+o.coef):$l(e,"   "+o.coef+" "+o.var_.var_.name+ia(e,"[",o.var_.memb.tuple));break;default:n(r!=r)}}function Nl(e,r){for(var t,a=r.list;null!=a;a=a.next)if(a.type==W_){var l=a.u.slot;$l(e,l.name+" = "+ea(e,l.value))}else if(a.type==lp){var o=a.u.set;for(null!=o.assign?Ha(e,o):(null!=o.gadget&&0==o.data&&Ua(e,o),null!=o.array.head&&Ka(e,o,o.array.head.tuple)),null==o.array.head&&$l(e,o.name+" has empty content"),t=o.array.head;null!=t;t=t.next)Ll(e,o,t)}else if(a.type==tp){var i=a.u.par;for(null!=i.assign?tl(e,i):null!=i.array.head&&(i.type!=ip?Ya(e,i,i.array.head.tuple):nl(e,i,i.array.head.tuple)),null==i.array.head&&$l(e,i.name+" has empty content"),t=i.array.head;null!=t;t=t.next)zl(e,i,t)}else if(a.type==cp){var u=a.u.var_;for(n(e.flag_p),null==u.array.head&&$l(e,u.name+" has empty content"),t=u.array.head;null!=t;t=t.next)Il(e,u,t,fm)}else if(a.type==C_){var s=a.u.con;for(n(e.flag_p),null==s.array.head&&$l(e,s.name+" has empty content"),t=s.array.head;null!=t;t=t.next)El(e,s,t,fm)}else if(a.type==K_){var c=a.u.code;c.op==ym||c.op==km||c.op==wm||c.op==xm||c.op==Am?Fl(e,c):Sl(e,c)}else n(a!=a);return 0}function Ol(e,n){Ta(e,n.domain,n,Nl)}function ql(e,n){null==e.prt_fp?Yl(e,n):e.prt_fp(n)}function Gl(e,r){n(r.length<_p);for(var t=0;t<r.length;t++)ql(e,r[t])}function Tl(e,r){var t,a,l,o,i,u=ml(e,r.fmt);for(a=null==u.str?String(u.num):u.str,t=r.list,o=0;o<a.length;o++)if("%"==a[o]){if(l=o++,"%"==a[o]){ql(e,"%");continue}if(null==t)break;for(;"-"==a[o]||"+"==a[o]||" "==a[o]||"#"==a[o]||"0"==a[o];)o++;for(;b(a[o]);)o++;if("."==a[o])for(o++;b(a[o]);)o++;if("d"==a[o]||"i"==a[o]||"e"==a[o]||"E"==a[o]||"f"==a[o]||"F"==a[o]||"g"==a[o]||"G"==a[o]){switch(n(null!=t),t.code.type){case np:i=pl(e,t.code);break;case ip:u=ml(e,t.code),null!=u.str&&eo(e,"cannot convert "+ea(e,u)+" to floating-point number"),i=u.num;break;case Y_:i=dl(e,t.code)?1:0;break;default:n(t!=t)}if("d"==a[o]||"i"==a[o]){var s=Ui;-s<=i&&i<=+s||eo(e,"cannot convert "+i+" to integer"),Gl(e,g(a.slice(l,o+1),0|Math.floor(i+.5)))}else Gl(e,g(a.slice(l,o+1),i))}else if("s"==a[o]){switch(t.code.type){case np:i=String(pl(e,t.code));break;case Y_:i=dl(e,t.code)?"T":"F";break;case ip:u=ml(e,t.code),i=null==u.str?String(u.num):u.str;break;default:n(t!=t)}Gl(e,g(a.slice(l,o+1),i))}else eo(e,"format specifier missing or invalid");t=t.next}else"\\"==a[o]?(o++,"t"==a[o]?ql(e,"\t"):"n"==a[o]?ql(e,"\n"):"\0"==a[o]?eo(e,"invalid use of escape character \\ in format control string"):ql(e,a[o])):ql(e,a[o]);return 0}function Rl(e,n){if(null==n.fname)e.prt_file=null;else{var r=ml(e,n.fname);null==r.str?e.prt_file=r.num:e.prt_file=r.str}Ta(e,n.domain,n,Tl)}function Cl(e,n){for(var r=e.stmt,t=n.list;null!=t;t=t.next)Bl(e,t);return e.stmt=r,0}function Xl(e,n){Ta(e,n.domain,n,Cl)}function Bl(e,r){switch(e.stmt=r,r.type){case lp:case tp:case cp:break;case C_:Qi("Generating "+r.u.con.name+"..."),fl(e,r.u.con);break;case up:switch(r.u.tab.type){case J_:Qi("Reading "+r.u.tab.name+"...");break;case rp:Qi("Writing "+r.u.tab.name+"...");break;default:n(r!=r)}jl(e,r.u.tab);break;case op:break;case R_:Qi("Checking (line "+r.line+")..."),Pl(e,r.u.chk);break;case X_:$l(e,"Display statement at line "+r.line),Ol(e,r.u.dpy);break;case ap:Rl(e,r.u.prt);break;case V_:Xl(e,r.u.fur);break;default:n(r!=r)}}function Dl(e){var r;for(r=e.model;null!=r;r=r.next)switch(r.type){case lp:n(null==r.u.set.array),r.u.set.array=La(e,D_,r.u.set.dim);break;case tp:switch(n(null==r.u.par.array),r.u.par.type){case np:case Q_:case T_:r.u.par.array=La(e,np,r.u.par.dim);break;case ip:r.u.par.array=La(e,ip,r.u.par.dim);break;default:n(r!=r)}break;case cp:n(null==r.u.var_.array),r.u.var_.array=La(e,U_,r.u.var_.dim);break;case C_:n(null==r.u.con.array),r.u.con.array=La(e,B_,r.u.con.dim);break;case up:case op:case R_:case X_:case ap:case V_:break;default:n(r!=r)}}function Ul(e){var r;for(n(!e.flag_p),r=e.model;null!=r&&(Bl(e,r),e.stmt.type!=op);r=r.next);e.stmt=r}function Kl(e){var r,t,a,l,o,i,u;for(n(0==e.m),n(0==e.n),n(null==e.row),n(null==e.col),r=e.model;null!=r;r=r.next)if(r.type==cp)for(a=r.u.var_,t=a.array.head;null!=t;t=t.next)n(0==t.value.var_.j);for(r=e.model;null!=r;r=r.next)if(r.type==C_)for(l=r.u.con,t=l.array.head;null!=t;t=t.next)for(n(0==t.value.con.i),t.value.con.i=++e.m,o=t.value.con.form;null!=o;o=o.next)n(null!=o.var_),o.var_.memb.value.var_.j=-1;for(r=e.model;null!=r;r=r.next)if(r.type==cp)for(a=r.u.var_,t=a.array.head;null!=t;t=t.next)0!=t.value.var_.j&&(t.value.var_.j=++e.n);for(e.row=new Array(1+e.m),i=1;i<=e.m;i++)e.row[i]=null;for(r=e.model;null!=r;r=r.next)if(r.type==C_)for(l=r.u.con,t=l.array.head;null!=t;t=t.next)i=t.value.con.i,n(1<=i&&i<=e.m),n(null==e.row[i]),e.row[i]=t.value.con;for(i=1;i<=e.m;i++)n(null!=e.row[i]);for(e.col=new Array(1+e.n),u=1;u<=e.n;u++)e.col[u]=null;for(r=e.model;null!=r;r=r.next)if(r.type==cp)for(a=r.u.var_,t=a.array.head;null!=t;t=t.next)0!=(u=t.value.var_.j)&&(n(1<=u&&u<=e.n),n(null==e.col[u]),e.col[u]=t.value.var_);for(u=1;u<=e.n;u++)n(null!=e.col[u])}function Vl(e){var r;for(n(!e.flag_p),e.flag_p=1,r=e.stmt;null!=r;r=r.next)Bl(e,r);e.stmt=null}function Hl(e,r,t){e.line=0,e.column=0,e.c="\n",e.token=0,e.imlen=0,e.image="",e.value=0,e.b_token=pp,e.b_imlen=0,e.b_image="",e.b_value=0,e.f_dots=0,e.f_scan=0,e.f_token=0,e.f_imlen=0,e.f_image="",e.f_value=0,l(e.context,0," ",fp),e.c_ptr=0,n(null==e.in_fp),e.in_fp=t,e.in_file=r||"input",Wn(e),Qn(e)}function Wl(e){var r;return n(null!=e.in_fp),r=e.in_fp(),r<0&&(r=G_),r}function Jl(e){n(null!=e.in_fp),e.in_fp=null}function Ql(e,r,t){n(null==e.out_fp),null==t?e.out_fp=function(e){Qi(e)}:(e.out_fp=t,e.out_file=r),e.out_buffer=""}function Yl(e,r){n(null!=e.out_fp),"\n"==r?(e.out_fp(e.out_buffer,e.prt_file),e.out_buffer=""):e.out_buffer+=r}function $l(e,r){n(null!=e.out_fp),e.out_fp(r,e.prt_file)}function Zl(e){n(null!=e.out_fp),e.out_buffer.length>0&&(e.out_fp(e.out_buffer,e.prt_file),e.out_buffer="")}function eo(e,r){var t;switch(e.phase){case 1:case 2:t=new Error(e.in_file+":"+e.line+": "+r),t.line=e.line,t.column=e.column,Hn(e);break;case 3:var a=null==e.stmt?0:e.stmt.line,l=null==e.stmt?0:e.stmt.column;t=new Error(a+": "+r),t.line=a,t.column=l;break;default:n(e!=e)}throw e.phase=4,t}function no(e,r){switch(e.phase){case 1:case 2:Qi(e.in_file+":"+e.line+": warning: "+r);break;case 3:Qi(e.mod_file+":"+(null==e.stmt?0:e.stmt.line)+": warning: "+r);break;default:n(e!=e)}}function ro(e){return Math.round(Date.now()/1e3)}function to(e,n){for(var r="";n>0;)r+=e,n--;return r}function ao(e,n,r,t,a,l){Qi("Input string passed to str2time:"),Qi(n),Qi(to("^",r+1)),Qi("Format string passed to str2time:\n"),Qi(t),Qi(to("^",a+1)),eo(e,l)}function lo(e,r,t){function a(){ao(e,r,b,t,d,"time zone offset value incomplete or invalid")}function l(){ao(e,r,b,t,d,"time zone offset value out of range")}function o(){r[b]!=t[d]&&ao(e,r,b,t,d,"character mismatch"),b++}var i,u,s,c,f,_,p,m,b,d;for(u=s=c=f=_=p=-1,m=Ui,b=0,d=0;d<t.length;d++)if("%"==t[d])if(d++,"b"==t[d]||"h"==t[d]){var v,g;for(s>=0&&ao(e,r,b,t,d,"month multiply specified");" "==r[b];)b++;for(s=1;s<=12;s++){g=Fd[s-1];var h=!1;for(v=0;v<=2;v++)if(b[v].toUpperCase()!=g[v].toUpperCase()){h=!0;break}if(!h){for(b+=3,v=3;"\0"!=g[v]&&r[b].toUpperCase()==g[v].toUpperCase();v++)b++;break}}s>12&&ao(e,r,b,t,d,"abbreviated month name missing or invalid")}else if("d"==t[d]){for(c>=0&&ao(e,r,b,t,d,"day multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"day missing or invalid"),c=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(c=10*c+(r[b++]-"0")),1<=c&&c<=31||ao(e,r,b,t,d,"day out of range")}else if("H"==t[d]){for(f>=0&&ao(e,r,b,t,d,"hour multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"hour missing or invalid"),f=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(f=10*f+(r[b++]-"0")),0<=f&&f<=23||ao(e,r,b,t,d,"hour out of range")}else if("m"==t[d]){for(s>=0&&ao(e,r,b,t,d,"month multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"month missing or invalid"),s=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(s=10*s+(r[b++]-"0")),1<=s&&s<=12||ao(e,r,b,t,d,"month out of range")}else if("M"==t[d]){for(_>=0&&ao(e,r,b,t,d,"minute multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"minute missing or invalid"),_=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(_=10*_+(r[b++]-"0")),0<=_&&_<=59||ao(e,r,b,t,d,"minute out of range")}else if("S"==t[d]){for(p>=0&&ao(e,r,b,t,d,"second multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"second missing or invalid"),p=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(p=10*p+(r[b++]-"0")),0<=p&&p<=60||ao(e,r,b,t,d,"second out of range")}else if("y"==t[d]){for(u>=0&&ao(e,r,b,t,d,"year multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"year missing or invalid"),u=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(u=10*u+(r[b++]-"0")),u+=u>=69?1900:2e3}else if("Y"==t[d]){for(u>=0&&ao(e,r,b,t,d,"year multiply specified");" "==r[b];)b++;for("0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"year missing or invalid"),u=0,i=1;i<=4&&("0"<=r[b]&&r[b]<="9");i++)u=10*u+(r[b++]-"0");1<=u&&u<=4e3||ao(e,r,b,t,d,"year out of range")}else if("z"==t[d]){var y;for(m!=Ui&&ao(e,r,b,t,d,"time zone offset multiply specified");" "==r[b];)b++;if("Z"==r[b])y=f=_=0,b++;else{for("+"==r[b]?(y=1,b++):"-"==r[b]?(y=-1,b++):ao(e,r,b,t,d,"time zone offset sign missing"),f=0,i=1;i<=2;i++)"0"<=r[b]&&r[b]<="9"||a(),f=10*f+(r[b++]-"0");if(f>23&&l(),":"==r[b]&&(b++,"0"<=r[b]&&r[b]<="9"||a()),_=0,"0"<=r[b]&&r[b]<="9"){for(i=1;i<=2;i++)"0"<=r[b]&&r[b]<="9"||a(),_=10*_+(r[b++]-"0");_>59&&l()}}m=y*(60*f+_)}else"%"==t[d]?o():ao(e,r,b,t,d,"invalid conversion specifier");else" "==t[d]||o();return u<0&&(u=1970),s<0&&(s=1),c<0&&(c=1),f<0&&(f=0),_<0&&(_=0),p<0&&(p=0),m==Ui&&(m=0),i=We(c,s,u),n(i>=0),60*(60*(24*(i-We(1,1,1970))+f)+_)+p-60*m}function oo(e,n,r,t){Qi("Format string passed to time2str:"),Qi(n),Qi(to("^",r)),eo(e,t)}function io(e){return(e+We(1,1,1970))%7+1}function uo(e){var r;switch(r=We(1,1,e)-We(1,1,1970),io(r)){case 1:r+=0;break;case 2:r-=1;break;case 3:r-=2;break;case 4:r-=3;break;case 5:r+=3;break;case 6:r+=2;break;case 7:r+=1;break;default:n(r!=r)}return n(1==io(r)),r}function so(e,r,t){var a,l,o,i,u,s,c,f,_=0,p=0,m=0,b="";for(-62135596800<=r&&r<=64092211199||eo(e,"time2str("+r+",...); argument out of range"),r=Math.floor(r+.5),s=Math.abs(r)/86400,a=Math.floor(s),r<0&&(a=s==Math.floor(s)?-a:-(a+1)),n(0==Je(a+We(1,1,1970),function(e,n,r){m=e,p=n,_=r})),i=r-86400*a|0,n(0<=i&&i<86400),o=i/60,i%=60,l=o/60,o%=60,u=0,c=0;c<t.length;c++){if("%"==t[c])if(c++,"a"==t[c])f=Ed[io(a)-1].slice(0,3);else if("A"==t[c])f=Ed[io(a)-1];else if("b"==t[c]||"h"==t[c])f=Fd[p-1].slice(0,3);else if("B"==t[c])f=Fd[p-1];else if("C"==t[c])f=String(Math.floor(_/100));else if("d"==t[c])f=String(m);else if("D"==t[c])f=p+"/"+m+"/"+_%100;else if("e"==t[c])f=String(m);else if("F"==t[c])g(f,_+"-"+p+"-"+m);else if("g"==t[c]){var d;d=a<uo(_)?_-1:a<uo(_+1)?_:_+1,f=String(d%100)}else if("G"==t[c]){var d;d=a<uo(_)?_-1:a<uo(_+1)?_:_+1,f=String(d)}else if("H"==t[c])f=String(l);else if("I"==t[c])f=String(0==l?12:l<=12?l:l-12);else if("j"==t[c])f=String(We(m,p,_)-We(1,1,_)+1);else if("k"==t[c])f=String(l);else if("l"==t[c])f=String(0==l?12:l<=12?l:l-12);else if("m"==t[c])f=String(p);else if("M"==t[c])f=String(o);else if("p"==t[c])f=l<=11?"AM":"PM";else if("P"==t[c])f=l<=11?"am":"pm";else if("r"==t[c])f=(0==l?12:l<=12?l:l-12)+":"+o+":"+i+" "+(l<=11?"AM":"PM");else if("R"==t[c])f=l+":"+o;else if("S"==t[c])f=String(i);else if("T"==t[c])f=l+":"+o+":"+i;else if("u"==t[c])f=String(io(a));else if("U"==t[c]){var v=We(1,1,_)-We(1,1,1970);v+=7-io(v),f=String((a+7-v)/7)}else if("V"==t[c]){var d;d=a<uo(_)?a-uo(_-1):a<uo(_+1)?a-uo(_):a-uo(_+1),f=String(d/7+1)}else if("w"==t[c])f=String(io(a)%7);else if("W"==t[c]){var h=We(1,1,_)-We(1,1,1970);h+=(8-io(h))%7,f=String((a+7-h)/7)}else"y"==t[c]?f=String(_%100):"Y"==t[c]?f=String(_):"%"==t[c]?f="%":oo(e,t,c,"invalid conversion specifier");else f=t[c];b+=f,u+=f.length}return b}function co(e,r){var t=e.dca;n(0==t.id),n(null==t.link),n(t.na>=1);var a=Sd[t.arg[1].toLowerCase()];a?t.link=new a(t,r,e.tablecb):eo(e,"Invalid table driver '"+t.arg[1]+"'"),null==t.link&&eo(e,"error on opening table "+e.stmt.u.tab.name)}function fo(e){var n=e.dca,r=n.link.readRecord(n);return r>0&&eo(e,"error on reading data from table "+e.stmt.u.tab.name),r}function _o(e){var n=e.dca;n.link.writeRecord(n)&&eo(e,"error on writing data to table "+e.stmt.u.tab.name)}function po(e){var n=e.dca;n.link.flush(n)}function mo(e,t,a){this.mode=t,this.fname=null,this.count=0,this.c="\n",this.what=0,this.field="",this.nf=0,this.ref=[],this.tablecb=a,this.CSV_EOF=0,this.CSV_EOR=1,this.CSV_NUM=2,this.CSV_STR=3,td(e)<2&&r("csv_driver: file name not specified\n"),this.fname=ad(e,2);var l;if("R"==t){for(a?(this.data=a(e.arg,t),this.cursor=0):r("csv_driver: unable to open "+this.fname),this.nskip=0,this.readField(),n(this.what==this.CSV_EOR),n(0==this.nf);this.readField(),this.what!=this.CSV_EOR;){for(this.what!=this.CSV_STR&&r(this.fname+":"+this.count+": invalid field name\n"),this.nf++,l=ld(e);l>=1&&od(e,l)!=this.field;l--);this.ref[this.nf]=l}for(l=ld(e);l>=1&&"RECNO"!=od(e,l);l--);this.ref[0]=l}else if("W"==t){this.data="";var o=ld(e);for(l=1;l<=o;l++)this.data+=od(e,l)+(l<o?",":"\n");this.count++}else n(t!=t)}function bo(e,t,a){this.mode=t,this.fname=null,td(e)<2&&r("json driver: file name not specified"),this.fname=ad(e,2);var l;if("R"==t){this.ref={},a?(this.data=a(e.arg,t),"string"==typeof this.data&&(this.data=JSON.parse(this.data)),this.cursor=1):r("json driver: unable to open "+this.fname);for(var o=0,i=this.data[0];o<i.length;o++)this.ref[i[o]]=o}else if("W"==t){this.tablecb=a;var u=[];this.data=[u];var s=ld(e);for(l=1;l<=s;l++)u.push(od(e,l))}else n(t!=t)}function vo(){}function go(){var e={};return e.orig_dir=0,e.orig_m=e.orig_n=e.orig_nnz=0,e.name=e.obj=null,e.c0=0,e.nrows=e.ncols=0,e.r_head=e.r_tail=null,e.c_head=e.c_tail=null,e.top=null,e.m=e.n=e.nnz=0,e.row_ref=e.col_ref=null,e.sol=e.scaling=0,e.p_stat=e.d_stat=e.t_stat=e.i_stat=0,e.r_stat=null,e.r_pi=null,e.c_stat=null,e.c_value=null,e}function ho(e,n,r){0==r?(n.prev=null,n.next=e.r_head,null==n.next?e.r_tail=n:n.next.prev=n,e.r_head=n):(n.prev=e.r_tail,n.next=null,null==n.prev?e.r_head=n:n.prev.next=n,e.r_tail=n)}function yo(e,n){null==n.prev?e.r_head=n.next:n.prev.next=n.next,null==n.next?e.r_tail=n.prev:n.next.prev=n.prev}function ko(e,n){n.temp||(n.temp=1,yo(e,n),ho(e,n,0))}function wo(e,n){n.temp&&(n.temp=0,yo(e,n),ho(e,n,1))}function xo(e,n,r){0==r?(n.prev=null,n.next=e.c_head,null==n.next?e.c_tail=n:n.next.prev=n,e.c_head=n):(n.prev=e.c_tail,n.next=null,null==n.prev?e.c_head=n:n.prev.next=n,e.c_tail=n)}function Ao(e,n){null==n.prev?e.c_head=n.next:n.prev.next=n.next,null==n.next?e.c_tail=n.prev:n.next.prev=n.prev}function jo(e,n){n.temp||(n.temp=1,Ao(e,n),xo(e,n,0))}function Mo(e,n){n.temp&&(n.temp=0,Ao(e,n),xo(e,n,1))}function Po(e){var n={};return n.i=++e.nrows,n.name=null,n.lb=-Xi,n.ub=+Xi,n.ptr=null,n.temp=0,ho(e,n,1),n}function Lo(e){var n={};return n.j=++e.ncols,n.name=null,n.is_int=0,n.lb=n.ub=n.coef=0,n.ptr=null,n.temp=0,n.ll={},n.uu={},xo(e,n,1),n}function zo(e,n,r){var t={};return t.row=e,t.col=n,t.val=r,t.r_prev=null,t.r_next=e.ptr,t.c_prev=null,t.c_next=n.ptr,null!=t.r_next&&(t.r_next.r_prev=t),null!=t.c_next&&(t.c_next.c_prev=t),e.ptr=n.ptr=t,t}function Io(e,n){var r;return r={},r.func=n,r.info={},r.link=e.top,e.top=r,r.info}function Eo(e){for(var n;null!=e.ptr;)n=e.ptr,e.ptr=n.r_next,null==n.c_prev?n.col.ptr=n.c_next:n.c_prev.c_next=n.c_next,null!=n.c_next&&(n.c_next.c_prev=n.c_prev)}function Fo(e,n){Eo(n),yo(e,n)}function So(e,n){for(var r;null!=n.ptr;)r=n.ptr,n.ptr=r.c_next,null==r.r_prev?r.row.ptr=r.r_next:r.r_prev.r_next=r.r_next,null!=r.r_next&&(r.r_next.r_prev=r.r_prev);Ao(e,n)}function No(e,r,t,a,l){var o,i,u,s,c=r.m,f=r.n;for(n(t==ef||t==Zc),n(a==fc||a==_c||a==pc),n(l==ef||l==Zc),a==pc&&n(!l),e.orig_dir=r.dir,e.orig_dir==Ks?s=1:e.orig_dir==Vs?s=-1:n(e!=e),e.orig_m=c,e.orig_n=f,e.orig_nnz=r.nnz,t&&null!=r.name&&(e.name=r.name),t&&null!=r.obj&&(e.obj=r.obj),e.c0=s*r.c0,o=new Array(1+c),i=1;i<=c;i++){var _,p=r.row[i];if(o[i]=_=Po(e),n(_.i==i),t&&null!=p.name&&(_.name=p.name),l){var m=p.rii;p.type==Qs?(_.lb=-Xi,_.ub=+Xi):p.type==Ys?(_.lb=p.lb*m,_.ub=+Xi):p.type==$s?(_.lb=-Xi,_.ub=p.ub*m):p.type==Zs?(_.lb=p.lb*m,_.ub=p.ub*m):p.type==ec?_.lb=_.ub=p.lb*m:n(p!=p)}else p.type==Qs?(_.lb=-Xi,_.ub=+Xi):p.type==Ys?(_.lb=p.lb,_.ub=+Xi):p.type==$s?(_.lb=-Xi,_.ub=p.ub):p.type==Zs?(_.lb=p.lb,_.ub=p.ub):p.type==ec?_.lb=_.ub=p.lb:n(p!=p)}for(u=1;u<=f;u++){var b,d,v=r.col[u];if(d=Lo(e),n(d.j==u),t&&null!=v.name&&(d.name=v.name),a==pc&&(d.is_int=Number(v.kind==Ws)),l){var g=v.sjj;for(v.type==Qs?(d.lb=-Xi,d.ub=+Xi):v.type==Ys?(d.lb=v.lb/g,d.ub=+Xi):v.type==$s?(d.lb=-Xi,d.ub=v.ub/g):v.type==Zs?(d.lb=v.lb/g,d.ub=v.ub/g):v.type==ec?d.lb=d.ub=v.lb/g:n(v!=v),d.coef=s*v.coef*g,b=v.ptr;null!=b;b=b.c_next)zo(o[b.row.i],d,b.row.rii*b.val*g)}else for(v.type==Qs?(d.lb=-Xi,d.ub=+Xi):v.type==Ys?(d.lb=v.lb,d.ub=+Xi):v.type==$s?(d.lb=-Xi,d.ub=v.ub):v.type==Zs?(d.lb=v.lb,d.ub=v.ub):v.type==ec?d.lb=d.ub=v.lb:n(v!=v),d.coef=s*v.coef,b=v.ptr;null!=b;b=b.c_next)zo(o[b.row.i],d,b.val)}e.sol=a,e.scaling=l}function Oo(e,r){var t,a,l,o,i,u,s,c,f,_;for(du(r),nu(r,e.name),ru(r,e.obj),tu(r,e.orig_dir),e.orig_dir==Ks?f=1:e.orig_dir==Vs?f=-1:n(e!=e),cu(r,0,f*e.c0),t=e.r_head;null!=t;t=t.next)t.temp=o=au(r,1),ou(r,o,t.name),u=t.lb==-Xi&&t.ub==+Xi?Qs:t.ub==+Xi?Ys:t.lb==-Xi?$s:t.lb!=t.ub?Zs:ec,uu(r,o,u,t.lb,t.ub);for(c=new Int32Array(1+r.m),_=new Float64Array(1+r.m),a=e.c_head;null!=a;a=a.next){for(i=lu(r,1),iu(r,i,a.name),ns(r,i,a.is_int?Ws:Hs),u=a.lb==-Xi&&a.ub==+Xi?Qs:a.ub==+Xi?Ys:a.lb==-Xi?$s:a.lb!=a.ub?Zs:ec,su(r,i,u,a.lb,a.ub),cu(r,i,f*a.coef),s=0,l=a.ptr;null!=l;l=l.c_next)s++,c[s]=l.row.temp,_[s]=l.val;_u(r,i,s,c,_)}for(e.m=r.m,e.n=r.n,e.nnz=r.nnz,e.row_ref=new Int32Array(1+e.m),e.col_ref=new Int32Array(1+e.n),t=e.r_head,o=0;null!=t;t=t.next)e.row_ref[++o]=t.i;for(a=e.c_head,i=0;null!=a;a=a.next)e.col_ref[++i]=a.j;e.name=e.obj=null,e.c0=0,e.r_head=e.r_tail=null,e.c_head=e.c_tail=null}function qo(e,r){var t,a,l,o,i,u,s;if(n(e.orig_dir==r.dir),e.orig_dir==Ks?s=1:e.orig_dir==Vs?s=-1:n(e!=e),n(e.m==r.m),n(e.n==r.n),n(e.nnz==r.nnz),e.sol==fc?(e.p_stat=r.pbs_stat,e.d_stat=r.dbs_stat):e.sol==_c?e.t_stat=r.ipt_stat:e.sol==pc?e.i_stat=r.mip_stat:n(e!=e),e.sol==fc){for(null==e.r_stat&&(e.r_stat=new Int8Array(1+e.nrows)),o=1;o<=e.nrows;o++)e.r_stat[o]=0;for(null==e.c_stat&&(e.c_stat=new Int8Array(1+e.ncols)),i=1;i<=e.ncols;i++)e.c_stat[i]=0}for(null==e.c_value&&(e.c_value=new Float64Array(1+e.ncols)),i=1;i<=e.ncols;i++)e.c_value[i]=Xi;if(e.sol!=pc)for(null==e.r_pi&&(e.r_pi=new Float64Array(1+e.nrows)),o=1;o<=e.nrows;o++)e.r_pi[o]=Xi;if(e.sol==fc){for(o=1;o<=e.m;o++)t=r.row[o],u=e.row_ref[o],e.r_stat[u]=t.stat,e.r_pi[u]=s*t.dual;for(i=1;i<=e.n;i++)a=r.col[i],u=e.col_ref[i],e.c_stat[u]=a.stat,e.c_value[u]=a.prim}else if(e.sol==_c){for(o=1;o<=e.m;o++)t=r.row[o],u=e.row_ref[o],e.r_pi[u]=s*t.dval;for(i=1;i<=e.n;i++)a=r.col[i],u=e.col_ref[i],e.c_value[u]=a.pval}else if(e.sol==pc)for(i=1;i<=e.n;i++)a=r.col[i],u=e.col_ref[i],e.c_value[u]=a.mipx;else n(e!=e);for(l=e.top;null!=l;l=l.link)n(null!=l.func),n(0==l.func(e,l.info))}function Go(e,r){var t,a,l,o,i,u,s;if(n(e.orig_dir==r.dir),e.orig_dir==Ks?i=1:e.orig_dir==Vs?i=-1:n(e!=e),n(e.orig_m==r.m),n(e.orig_n==r.n),n(e.orig_nnz==r.nnz),e.sol==fc){for(r.valid=0,r.pbs_stat=e.p_stat,r.dbs_stat=e.d_stat,r.obj_val=r.c0,r.some=0,l=1;l<=r.m;l++)t=r.row[l],t.stat=e.r_stat[l],e.scaling?t.dual=i*e.r_pi[l]*t.rii:t.dual=i*e.r_pi[l],t.stat==nc?t.dual=0:t.stat==rc?(n(t.type==Ys||t.type==Zs),t.prim=t.lb):t.stat==tc?(n(t.type==$s||t.type==Zs),t.prim=t.ub):t.stat==ac?(n(t.type==Qs),t.prim=0):t.stat==lc?(n(t.type==ec),t.prim=t.lb):n(t!=t);for(o=1;o<=r.n;o++)a=r.col[o],a.stat=e.c_stat[o],e.scaling?a.prim=e.c_value[o]*a.sjj:a.prim=e.c_value[o],a.stat==nc?a.dual=0:a.stat==rc?(n(a.type==Ys||a.type==Zs),a.prim=a.lb):a.stat==tc?(n(a.type==$s||a.type==Zs),a.prim=a.ub):a.stat==ac?(n(a.type==Qs),a.prim=0):a.stat==lc?(n(a.type==ec),a.prim=a.lb):n(a!=a),r.obj_val+=a.coef*a.prim;for(l=1;l<=r.m;l++)if(t=r.row[l],t.stat==nc){for(s=0,u=t.ptr;null!=u;u=u.r_next)s+=u.val*u.col.prim;t.prim=s}for(o=1;o<=r.n;o++)if(a=r.col[o],a.stat!=nc){for(s=a.coef,u=a.ptr;null!=u;u=u.c_next)s-=u.val*u.row.dual;a.dual=s}}else if(e.sol==_c){for(r.ipt_stat=e.t_stat,r.ipt_obj=r.c0,l=1;l<=r.m;l++)t=r.row[l],e.scaling?t.dval=i*e.r_pi[l]*t.rii:t.dval=i*e.r_pi[l];for(o=1;o<=r.n;o++)a=r.col[o],e.scaling?a.pval=e.c_value[o]*a.sjj:a.pval=e.c_value[o],r.ipt_obj+=a.coef*a.pval;for(l=1;l<=r.m;l++){for(t=r.row[l],s=0,u=t.ptr;null!=u;u=u.r_next)s+=u.val*u.col.pval;t.pval=s}for(o=1;o<=r.n;o++){for(a=r.col[o],s=a.coef,u=a.ptr;null!=u;u=u.c_next)s-=u.val*u.row.dval;a.dval=s}}else if(e.sol==pc){for(n(!e.scaling),r.mip_stat=e.i_stat,r.mip_obj=r.c0,o=1;o<=r.n;o++)a=r.col[o],a.mipx=e.c_value[o],a.kind==Ws&&n(a.mipx==Math.floor(a.mipx)),r.mip_obj+=a.coef*a.mipx;for(l=1;l<=r.m;l++){for(t=r.row[l],s=0,u=t.ptr;null!=u;u=u.r_next)s+=u.val*u.col.mipx;t.mipx=s}}else n(e!=e)}function To(e,r){var t;n(r.lb==-Xi&&r.ub==+Xi),t=Io(e,function(e,n){return e.sol==fc&&(e.r_stat[n.p]=nc),e.sol!=pc&&(e.r_pi[n.p]=0),0}),t.p=r.i,Fo(e,r)}function Ro(e,r){var t,a,l;for(n(0!=r.lb),n(r.lb!=-Xi),n(r.lb<r.ub),t=Io(e,function(e,n){if(e.sol==fc){if(e.c_stat[n.q]!=nc&&e.c_stat[n.q]!=rc&&e.c_stat[n.q]!=tc)return vo(),1;e.c_stat[n.q]=e.c_stat[n.q]}return e.c_value[n.q]=n.bnd+e.c_value[n.q],0}),t.q=r.j,t.bnd=r.lb,e.c0+=r.coef*r.lb,l=r.ptr;null!=l;l=l.c_next)a=l.row,a.lb==a.ub?a.ub=a.lb-=l.val*r.lb:(a.lb!=-Xi&&(a.lb-=l.val*r.lb),a.ub!=+Xi&&(a.ub-=l.val*r.lb));r.ub!=+Xi&&(r.ub-=r.lb),r.lb=0}function Co(e,r){var t,a,l;for(n(r.lb==r.ub),t=Io(e,function(e,n){return e.sol==fc&&(e.c_stat[n.q]=lc),e.c_value[n.q]=n.s,0}),t.q=r.j,t.s=r.lb,e.c0+=r.coef*r.lb,l=r.ptr;null!=l;l=l.c_next)a=l.row,a.lb==a.ub?a.ub=a.lb-=l.val*r.lb:(a.lb!=-Xi&&(a.lb-=l.val*r.lb),a.ub!=+Xi&&(a.ub-=l.val*r.lb));So(e,r)}function Xo(e,r){var t,a,l,o;return n(r.lb!=-Xi),n(r.ub!=+Xi),n(r.lb<r.ub),l=1e-9+1e-12*Math.abs(r.lb),r.ub-r.lb>l?0:(t=Io(e,function(e,n){if(e.sol==fc)if(e.r_stat[n.p]==nc)e.r_stat[n.p]=nc;else{if(e.r_stat[n.p]!=lc)return vo(),1;e.r_pi[n.p]>=0?e.r_stat[n.p]=rc:e.r_stat[n.p]=tc}return 0}),t.p=r.i,a=.5*(r.ub+r.lb),o=Math.floor(a+.5),Math.abs(a-o)<=l&&(a=o),r.lb=r.ub=a,1)}function Bo(e,r){var t,a,l,o,i,u;if(n(r.lb!=-Xi),n(r.ub!=+Xi),n(r.lb<r.ub),i=1e-9+1e-12*Math.abs(r.lb),r.ub-r.lb>i)return 0;if(t=Io(e,function(e,n){var r,t;if(e.sol==fc)if(e.c_stat[n.q]==nc)e.c_stat[n.q]=nc;else{if(e.c_stat[n.q]!=lc)return vo(),1;for(t=n.c,r=n.ptr;null!=r;r=r.next)t-=r.val*e.r_pi[r.ref];e.c_stat[n.q]=t>=0?rc:tc}return 0}),t.q=r.j,t.c=r.coef,t.ptr=null,e.sol==fc)for(a=r.ptr;null!=a;a=a.c_next)l={},l.ref=a.row.i,l.val=a.val,l.next=t.ptr,t.ptr=l;return o=.5*(r.ub+r.lb),u=Math.floor(o+.5),Math.abs(o-u)<=i&&(o=u),r.lb=r.ub=o,1}function Do(e,r){return n(null==r.ptr),r.lb>.001||r.ub<-.001?1:(r.lb=-Xi,r.ub=+Xi,To(e,r),0)}function Uo(e,r){function t(){l.stat=rc,r.ub=r.lb}function a(){l.stat=tc,r.lb=r.ub}var l;return n(null==r.ptr),r.coef>.001&&r.lb==-Xi?1:r.coef<-.001&&r.ub==+Xi?1:(l=Io(e,function(e,n){return e.sol==fc&&(e.c_stat[n.q]=n.stat),0}),l.q=r.j,r.lb==-Xi&&r.ub==+Xi?(l.stat=ac,r.lb=r.ub=0):r.ub==+Xi?t():r.lb==-Xi?a():r.lb!=r.ub?r.coef>=+Ki?t():r.coef<=-Ki?a():Math.abs(r.lb)<=Math.abs(r.ub)?t():a():l.stat=lc,Co(e,r),0)}function Ko(e,r,t){var a,l;if(n(e==e),n(r.lb<r.ub),r.is_int){if(l=Math.floor(t+.5),!(Math.abs(t-l)<=1e-5))return 2;t=l}if(r.lb!=-Xi){if(a=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.lb),t<r.lb-a)return 1;if(t<r.lb+.001*a)return r.ub=r.lb,0}if(r.ub!=+Xi){if(a=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.ub),t>r.ub+a)return 1;if(t>r.ub-.001*a)return r.lb=r.ub,0}return r.lb=r.ub=t,0}function Vo(e,r){var t,a,l,o,i,u;if(n(r.lb==r.ub),n(null!=r.ptr&&null==r.ptr.r_next),l=r.ptr,a=l.col,u=r.lb/l.val,i=Ko(e,a,u),n(0<=i&&i<=2),0!=i)return i;if(t=Io(e,function(e,n){var r,t;if(e.sol==fc){if(e.c_stat[n.q]!=lc)return vo(),1;e.r_stat[n.p]=lc,e.c_stat[n.q]=nc}if(e.sol!=pc){for(t=n.c,r=n.ptr;null!=r;r=r.next)t-=r.val*e.r_pi[r.ref];e.r_pi[n.p]=t/n.apq}return 0}),t.p=r.i,t.q=a.j,t.apq=l.val,t.c=a.coef,t.ptr=null,e.sol!=pc)for(l=a.ptr;null!=l;l=l.c_next)l.row!=r&&(o={},o.ref=l.row.i,o.val=l.val,o.next=t.ptr,t.ptr=o);return Fo(e,r),0}function Ho(e,r,t){var a,l,o;if(n(e==e),n(r.lb<r.ub),n(t!=-Xi),r.is_int&&(o=Math.floor(t+.5),t=Math.abs(t-o)<=1e-5?o:Math.ceil(t)),r.lb!=-Xi&&(l=r.is_int?.001:.001+1e-6*Math.abs(r.lb),t<r.lb+l))return a=0;if(r.ub!=+Xi){if(l=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.ub),t>r.ub+l)return a=4;if(t>r.ub-.001*l)return r.lb=r.ub,a=3}return a=r.lb==-Xi?2:r.is_int&&t>r.lb+.5?2:t>r.lb+.3*(1+Math.abs(r.lb))?2:1,r.lb=t,a}function Wo(e,r,t){var a,l,o;if(n(e==e),n(r.lb<r.ub),n(t!=+Xi),r.is_int&&(o=Math.floor(t+.5),t=Math.abs(t-o)<=1e-5?o:Math.floor(t)),r.ub!=+Xi&&(l=r.is_int?.001:.001+1e-6*Math.abs(r.ub),t>r.ub-l))return a=0;if(r.lb!=-Xi){if(l=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.lb),t<r.lb-l)return a=4;if(t<r.lb+.001*l)return r.ub=r.lb,a=3}return a=r.ub==+Xi?2:r.is_int&&t<r.ub-.5?2:t<r.ub-.3*(1+Math.abs(r.ub))?2:1,r.ub=t,a}function Jo(e,r){var t,a,l,o,i,u,s,c,f;if(n(r.lb!=-Xi||r.ub!=+Xi),n(r.lb<r.ub),n(null!=r.ptr&&null==r.ptr.r_next),l=r.ptr,a=l.col,n(a.lb<a.ub),l.val>0?(c=r.lb==-Xi?-Xi:r.lb/l.val,f=r.ub==+Xi?+Xi:r.ub/l.val):(c=r.ub==+Xi?-Xi:r.ub/l.val,f=r.lb==-Xi?+Xi:r.lb/l.val),c==-Xi)u=0;else if(u=Ho(e,a,c),n(0<=u&&u<=4),4==u)return 4;if(f==+Xi)s=0;else if(3==u)s=0;else if(s=Wo(e,a,f),n(0<=s&&s<=4),4==s)return 4;if(!u&&!s)return r.lb=-Xi,r.ub=+Xi,To(e,r),0;if(t=Io(e,function(e,n){function r(){return n.lb_changed?(e.r_stat[n.p]=n.apq>0?rc:tc,e.c_stat[n.q]=nc,e.r_pi[n.p]=l/n.apq):(e.r_stat[n.p]=nc,e.r_pi[n.p]=0),0}function t(){return n.ub_changed?(e.r_stat[n.p]=n.apq>0?tc:rc,e.c_stat[n.q]=nc,e.r_pi[n.p]=l/n.apq):(e.r_stat[n.p]=nc,e.r_pi[n.p]=0),0}var a,l;if(e.sol==pc)return 0;for(l=n.c,a=n.ptr;null!=a;a=a.next)l-=a.val*e.r_pi[a.ref];if(e.sol==fc)if(e.c_stat[n.q]==nc)e.r_stat[n.p]=nc,e.r_pi[n.p]=0;else if(e.c_stat[n.q]==rc)r();else if(e.c_stat[n.q]==tc)t();else{if(e.c_stat[n.q]!=lc)return vo(),1;if(l>1e-7&&(n.apq>0&&n.lb!=-Xi||n.apq<0&&n.ub!=+Xi||!n.lb_changed))return e.c_stat[n.q]=rc,r();if(l<-1e-7&&(n.apq>0&&n.ub!=+Xi||n.apq<0&&n.lb!=-Xi||!n.ub_changed))return e.c_stat[n.q]=tc,t();if(n.lb!=-Xi&&n.ub==+Xi)e.r_stat[n.p]=rc;else if(n.lb==-Xi&&n.ub!=+Xi)e.r_stat[n.p]=tc;else{if(n.lb==-Xi||n.ub==+Xi)return vo(),1;n.apq*e.c_value[n.q]<=.5*(n.lb+n.ub)?e.r_stat[n.p]=rc:e.r_stat[n.p]=tc}e.c_stat[n.q]=nc,e.r_pi[n.p]=l/n.apq}return e.sol==_c&&(l>+Ki&&n.lb_changed||l<-Ki&&n.ub_changed?e.r_pi[n.p]=l/n.apq:e.r_pi[n.p]=0),0}),t.p=r.i,t.q=a.j,t.apq=l.val,t.c=a.coef,t.lb=r.lb,t.ub=r.ub,t.lb_changed=u,t.ub_changed=s,t.ptr=null,e.sol!=pc)for(o=a.ptr;null!=o;o=o.c_next)o!=l&&(i={},i.ref=o.row.i,i.val=o.val,i.next=t.ptr,t.ptr=i);return Fo(e,r),u>=s?u:s}function Qo(e,r){var t,a,l,o;for(n(!r.is_int),n(r.lb<r.ub),n(null!=r.ptr&&null==r.ptr.c_next),l=r.ptr,a=l.row,n(a.lb==a.ub),t=Io(e,function(e,n){var r,t;if(e.sol==fc){if(e.r_stat[n.p]==nc||e.r_stat[n.p]==ac)e.c_stat[n.q]=e.r_stat[n.p];else if(e.r_stat[n.p]==rc)e.c_stat[n.q]=n.apq>0?tc:rc;else{if(e.r_stat[n.p]!=tc)return vo(),1;e.c_stat[n.q]=n.apq>0?rc:tc}e.r_stat[n.p]=lc}for(e.sol!=pc&&(e.r_pi[n.p]+=n.c/n.apq),r=n.b,t=n.ptr;null!=t;t=t.next)r-=t.val*e.c_value[t.ref];return e.c_value[n.q]=r/n.apq,0}),t.p=a.i,t.q=r.j,t.apq=l.val,t.b=a.lb,t.c=r.coef,t.ptr=null,l=a.ptr;null!=l;l=l.r_next)l.col!=r&&(o={},o.ref=l.col.j,o.val=l.val,o.next=t.ptr,t.ptr=o,l.col.coef-=t.c*(l.val/t.apq));e.c0+=t.c*(t.b/t.apq),t.apq>0?(a.lb=r.ub==+Xi?-Xi:t.b-t.apq*r.ub,a.ub=r.lb==-Xi?+Xi:t.b-t.apq*r.lb):(a.lb=r.lb==-Xi?-Xi:t.b-t.apq*r.lb,a.ub=r.ub==+Xi?+Xi:t.b-t.apq*r.ub),So(e,r)}function Yo(e,r){function t(){l.stat=rc,o.ub=o.lb}function a(){l.stat=tc,o.lb=o.ub}var l,o,i,u,s,c,f,_,p,m;if(n(r.lb<r.ub),n(null!=r.ptr&&null==r.ptr.c_next),i=r.ptr,o=i.row,n(o.lb!=-Xi||o.ub!=+Xi),n(o.lb<o.ub),(s=o.lb)!=-Xi)for(u=o.ptr;null!=u;u=u.r_next)if(u!=i)if(u.val>0){if(u.col.ub==+Xi){s=-Xi;break}s-=u.val*u.col.ub}else{if(u.col.lb==-Xi){s=-Xi;break}s-=u.val*u.col.lb}if((c=o.ub)!=+Xi)for(u=o.ptr;null!=u;u=u.r_next)if(u!=i)if(u.val>0){if(u.col.lb==-Xi){c=+Xi;break}c-=u.val*u.col.lb}else{if(u.col.ub==+Xi){c=+Xi;break}c-=u.val*u.col.ub}if(f=i.val>0?s==-Xi?-Xi:s/i.val:c==+Xi?-Xi:c/i.val,_=i.val>0?c==+Xi?+Xi:c/i.val:s==-Xi?+Xi:s/i.val,r.lb!=-Xi&&(m=1e-9+1e-12*Math.abs(r.lb),f<r.lb-m))return 1;if(r.ub!=+Xi&&(m=1e-9+1e-12*Math.abs(r.ub),_>r.ub+m))return 1;if(r.lb=-Xi,r.ub=+Xi,l=Io(e,function(e,r){if(e.sol==fc)if(e.r_stat[r.p]==nc)e.r_stat[r.p]=nc;else{if(e.r_stat[r.p]!=lc)return vo(),1;n(r.stat==rc||r.stat==tc),e.r_stat[r.p]=r.stat}return 0}),l.p=o.i,l.stat=-1,(p=r.coef/i.val)>+Ki)if(o.lb!=-Xi)t();else{if(p>1e-5)return 2;n(o.ub!=+Xi),a()}else if(p<-Ki)if(o.ub!=+Xi)a();else{if(p<-1e-5)return 2;n(o.lb!=-Xi),t()}else o.ub==+Xi?(n(o.lb!=-Xi),t()):o.lb==-Xi?(n(o.ub!=+Xi),a()):Math.abs(o.lb)<=Math.abs(o.ub)?t():a();return 0}function $o(e,r,t){var a,l,o,i,u,s,c=null;for(n(0==t||1==t),s=1,o=r.ptr;null!=o;o=o.r_next)s<Math.abs(o.val)&&(s=Math.abs(o.val));for(o=r.ptr;null!=o;o=o.r_next)if(Math.abs(o.val)<1e-7*s)return 1;for(a=Io(e,function(e,n){var r,t,a,l,o,i;if(e.sol==pc)return 0;if(e.sol==fc){if(e.r_stat[n.p]!=nc)return vo(),1;for(r=n.ptr;null!=r;r=r.next){if(e.c_stat[r.j]!=lc)return vo(),1;e.c_stat[r.j]=r.stat}}for(r=n.ptr;null!=r;r=r.next){for(l=r.c,a=r.ptr;null!=a;a=a.next)l-=a.val*e.r_pi[a.ref];r.c=l}for(t=null,o=0,r=n.ptr;null!=r;r=r.next)if(l=r.c,i=Math.abs(l/r.a),r.stat==rc)l<0&&o<i&&(t=r,o=i);else{if(r.stat!=tc)return vo(),1;l>0&&o<i&&(t=r,o=i)}return null!=t&&(e.sol==fc&&(e.r_stat[n.p]=n.stat,e.c_stat[t.j]=nc),e.r_pi[n.p]=t.c/t.a),0}),a.p=r.i,r.lb==r.ub?a.stat=lc:0==t?(a.stat=rc,n(r.lb!=-Xi)):(a.stat=tc,n(r.ub!=+Xi)),a.ptr=null,o=r.ptr;null!=o;o=o.r_next)if(l=o.col,n(l.lb<l.ub),e.sol!=pc&&(c={},c.j=l.j,c.stat=-1,c.a=o.val,c.c=l.coef,c.ptr=null,c.next=a.ptr,a.ptr=c),0==t&&o.val<0||0!=t&&o.val>0?(e.sol!=pc&&(c.stat=rc),n(l.lb!=-Xi),l.ub=l.lb):(e.sol!=pc&&(c.stat=tc),n(l.ub!=+Xi),l.lb=l.ub),e.sol!=pc)for(i=l.ptr;null!=i;i=i.c_next)i!=o&&(u={},u.ref=i.row.i,u.val=i.val,u.next=c.ptr,c.ptr=u);return r.lb=-Xi,r.ub=+Xi,0}function Zo(e,r){var t,a,l,o,i=0;for(n(e==e),a=0,t=r.ptr;null!=t;t=t.r_next)if(t.val>0){if(t.col.lb==-Xi){a=-Xi;break}a+=t.val*t.col.lb}else{if(t.col.ub==+Xi){a=-Xi;break}a+=t.val*t.col.ub}for(l=0,t=r.ptr;null!=t;t=t.r_next)if(t.val>0){if(t.col.ub==+Xi){l=+Xi;break}l+=t.val*t.col.ub}else{if(t.col.lb==-Xi){l=+Xi;break}l+=t.val*t.col.lb}return r.lb!=-Xi&&(o=.001+1e-6*Math.abs(r.lb),r.lb-o>l)?i=51:r.ub!=+Xi&&(o=.001+1e-6*Math.abs(r.ub),r.ub+o<a)?i=51:(r.lb!=-Xi&&(o=1e-9+1e-12*Math.abs(r.lb),r.lb-o>a&&(r.lb+o<=l?i|=1:i|=2)),r.ub!=+Xi&&(o=1e-9+1e-12*Math.abs(r.ub),r.ub+o<l&&(r.ub-o>=a?i|=16:i|=32)),i)}function ei(e,r,t){var a;e.sol==fc&&(a=Io(e,function(e,n){return e.sol!=fc?(vo(),1):(e.r_stat[n.p]==nc?e.r_stat[n.p]=nc:e.r_stat[n.p]=n.stat,0)}),a.p=r.i,r.ub==+Xi?a.stat=rc:r.lb==-Xi?a.stat=tc:r.lb!=r.ub?a.stat=0==t?tc:rc:a.stat=lc),0==t?(n(r.lb!=-Xi),r.lb=-Xi):1==t?(n(r.ub!=+Xi),r.ub=+Xi):n(t!=t)}function ni(e,r){var t,a,l,o,i,u=!1;for(n(e==e),l=1,t=r.ptr;null!=t;t=t.r_next)t.col.ll.ll=-Xi,t.col.uu.uu=+Xi,l<Math.abs(t.val)&&(l=Math.abs(t.val));if(o=1e-6*l,r.lb!=-Xi){for(a=null,t=r.ptr;null!=t;t=t.r_next)if(t.val>0&&t.col.ub==+Xi||t.val<0&&t.col.lb==-Xi){if(null!=a){u=!0;break}a=t}if(!u){for(i=r.lb,t=r.ptr;null!=t;t=t.r_next)t==a||(t.val>0?i-=t.val*t.col.ub:i-=t.val*t.col.lb);if(null==a)for(t=r.ptr;null!=t;t=t.r_next)t.val>=+o?t.col.ll.ll=t.col.ub+i/t.val:t.val<=-o&&(t.col.uu.uu=t.col.lb+i/t.val);else a.val>=+o?a.col.ll.ll=i/a.val:a.val<=-o&&(a.col.uu.uu=i/a.val)}}if(u=!1,r.ub!=+Xi){for(a=null,t=r.ptr;null!=t;t=t.r_next)if(t.val>0&&t.col.lb==-Xi||t.val<0&&t.col.ub==+Xi){if(null!=a){u=!0;break}a=t}if(!u){for(i=r.ub,t=r.ptr;null!=t;t=t.r_next)t==a||(t.val>0?i-=t.val*t.col.lb:i-=t.val*t.col.ub);if(null==a)for(t=r.ptr;null!=t;t=t.r_next)t.val>=+o?t.col.uu.uu=t.col.lb+i/t.val:t.val<=-o&&(t.col.ll.ll=t.col.ub+i/t.val);else a.val>=+o?a.col.uu.uu=i/a.val:a.val<=-o&&(a.col.ll.ll=i/a.val)}}}function ri(e){var r,t,a,l,o,i,u,s,c,f,_,p,m;for(f=_=p=m=0,a=e.c_tail;null!=a;a=a.prev)if(a.is_int&&a.lb!=a.ub&&(0!=a.lb||1!=a.ub))if(a.lb<-1e6||a.ub>1e6||a.ub-a.lb>4095)f++;else if(_++,0!=a.lb&&Ro(e,a),n(0==a.lb),i=0|a.ub,n(a.ub==i),1!=i){for(u=2,c=4;i>=c;)u++,c+=c;for(p+=u,r=Io(e,function(e,n){var r,t,a=e.c_value[n.q];for(r=1,t=2;r<n.n;r++,t+=t)a+=t*e.c_value[n.j+(r-1)];return e.c_value[n.q]=a,0}),r.q=a.j,r.j=0,r.n=u,i<c-1?(t=Po(e),m++,t.lb=-Xi,t.ub=i):t=null,a.ub=1,null!=t&&zo(t,a,1),s=1,c=2;s<u;s++,c+=c)for(l=Lo(e),l.is_int=1,l.lb=0,l.ub=1,l.coef=c*a.coef,0==r.j?r.j=l.j:n(r.j+(s-1)==l.j),o=a.ptr;null!=o;o=o.c_next)zo(o.row,l,c*o.val)}return _>0&&Qi(_+" integer variable(s) were replaced by "+p+" binary ones"),m>0&&Qi(m+" row(s) were added due to binarization"),f>0&&Qi("Binarization failed for "+f+" integer variable(s)"),f}function ti(e,n){var r,t,a;for(t=null,r=e.ptr;null!=r;r=r.r_next)a={},a.aj=n*r.val,a.xj=r.col,a.next=t,t=a;return t}function ai(e,r,t,a){var l,o,i,u,s;for(n(e==e),l=r;null!=l;l=l.next)n(0!=l.aj),n(l.xj.is_int),n(0==l.xj.lb&&1==l.xj.ub);for(u=0,l=r;null!=l;l=l.next)if(1==l.aj);else{if(-1!=l.aj)break;u++}if(null==l&&t==1-u)return 1;for(l=r;null!=l;l=l.next)l.aj<0&&(t-=l.aj);for(l=r;null!=l;l=l.next)if(Math.abs(l.aj)>t)return 0;for(o=null,l=r;null!=l;l=l.next)(null==o||Math.abs(o.aj)>Math.abs(l.aj))&&(o=l);for(n(null!=o),i=null,l=r;null!=l;l=l.next)l!=o&&(null==i||Math.abs(i.aj)>Math.abs(l.aj))&&(i=l);if(n(null!=i),s=.001+1e-6*Math.abs(t),Math.abs(o.aj)+Math.abs(i.aj)<=t+s)return 0;for(t=1,l=r;null!=l;l=l.next)l.aj>0?l.aj=1:(l.aj=-1,t-=1);return a(t),2}function li(e,r){var t,a,l,o,i,u,s,c=0;for(n(r.lb<r.ub),i=0;i<=1;i++){if(0==i){if(r.ub==+Xi)continue;l=ti(r,1),s=+r.ub}else{if(r.lb==-Xi)continue;l=ti(r,-1),s=-r.lb}if(u=ai(e,l,s,function(e){s=e}),n(0<=u&&u<=2),1==i&&1==u||2==u){if(c++,Ci){for(Qi("Original constraint:"),a=r.ptr;null!=a;a=a.r_next)Qi(" "+a.val+" x"+a.col.j);for(r.lb!=-Xi&&Qi(", >= "+r.lb),r.ub!=+Xi&&Qi(", <= "+r.ub),Qi(""),Qi("Equivalent packing inequality:"),o=l;null!=o;o=o.next)Qi(" "+(o.aj>0?"+":"-")+"x"+o.xj.j);Qi(", <= "+s)}if(r.lb==-Xi||r.ub==+Xi)t=null;else for(t=Po(e),0==i?(t.lb=r.lb,t.ub=+Xi):(t.lb=-Xi,t.ub=r.ub),a=r.ptr;null!=a;a=a.r_next)zo(t,a.col,a.val);for(Eo(r),r.lb=-Xi,r.ub=s,o=l;null!=o;o=o.next)zo(r,o.xj,o.aj);null!=t&&(r=t)}}return c}function oi(e,r,t,a){var l,o,i;for(n(e==e),l=r;null!=l;l=l.next)n(0!=l.aj),n(l.xj.is_int),n(0==l.xj.lb&&1==l.xj.ub);for(o=0,l=r;null!=l;l=l.next)if(1==l.aj);else{if(-1!=l.aj)break;o++}if(null==l&&t==1-o)return 1;for(l=r;null!=l;l=l.next)l.aj<0&&(t-=l.aj);if(t<.001)return 0;for(i=1e-9+1e-12*Math.abs(t),l=r;null!=l;l=l.next)if(Math.abs(l.aj)<t-i)return 0;for(t=1,l=r;null!=l;l=l.next)l.aj>0?l.aj=1:(l.aj=-1,t-=1);return a(t),2}function ii(e,r){var t,a,l,o,i,u,s,c=0;for(n(r.lb<r.ub),i=0;i<=1;i++){if(0==i){if(r.lb==-Xi)continue;l=ti(r,1),s=+r.lb}else{if(r.ub==+Xi)continue;l=ti(r,-1),s=-r.ub}if(u=oi(e,l,s,function(e){s=e}),n(0<=u&&u<=2),1==i&&1==u||2==u){if(c++,Ci){for(Qi("Original constraint:"),a=r.ptr;null!=a;a=a.r_next)Qi(" "+a.val+" x"+a.col.j);for(r.lb!=-Xi&&Qi(", >= "+r.lb),r.ub!=+Xi&&Qi(", <= "+r.ub),Qi(""),Qi("Equivalent covering inequality:"),o=l;null!=o;o=o.next)Qi(" "+(o.aj>0?"+":"-")+"x"+o.xj.j);Qi(", >= "+s)}if(r.lb==-Xi||r.ub==+Xi)t=null;else for(t=Po(e),0==i?(t.lb=-Xi,t.ub=r.ub):(t.lb=r.lb,t.ub=+Xi),a=r.ptr;null!=a;a=a.r_next)zo(t,a.col,a.val);for(Eo(r),r.lb=s,r.ub=+Xi,o=l;null!=o;o=o.next)zo(r,o.xj,o.aj);null!=t&&(r=t)}}return c}function ui(e,r,t,a){var l,o,i,u,s=0;for(n(e==e),o=0,l=r;null!=l;l=l.next)if(l.aj>0){if(l.xj.lb==-Xi)return s;o+=l.aj*l.xj.lb}else{if(l.xj.ub==+Xi)return s;o+=l.aj*l.xj.ub}for(l=r;null!=l;l=l.next)l.xj.is_int&&0==l.xj.lb&&1==l.xj.ub&&(l.aj>0?(i=o,t-l.aj<i&&i<t&&(u=t-i)>=.001&&l.aj-u>=.01*(1+l.aj)&&(Ci&&Qi("+"),l.aj=u,s++)):(i=o-l.aj,t<i&&i<t-l.aj&&(u=l.aj+(i-t))<=-.001&&u-l.aj>=.01*(1-l.aj)&&(Ci&&Qi("-"),l.aj=u,o+=i-t,t=i,s++)));return a(t),s}function si(e,r){var t,a,l,o,i,u,s=new Array(2);for(n(r.lb<r.ub),s[0]=s[1]=0,i=0;i<=1;i++){if(0==i){if(r.lb==-Xi)continue;Ci&&Qi("L"),l=ti(r,1),u=+r.lb}else{if(r.ub==+Xi)continue;Ci&&Qi("U"),l=ti(r,-1),u=-r.ub}if(s[i]=ui(e,l,u,function(e){u=e}),s[i]>0){if(r.lb==-Xi||r.ub==+Xi)t=null;else for(Ci&&Qi("*"),t=Po(e),0==i?(t.lb=-Xi,t.ub=r.ub):(t.lb=r.lb,t.ub=+Xi),a=r.ptr;null!=a;a=a.r_next)zo(t,a.col,a.val);for(Eo(r),r.lb=u,r.ub=+Xi,o=l;null!=o;o=o.next)zo(r,o.xj,o.aj);null!=t&&(r=t)}}return s[0]+s[1]}function ci(e){var r,t,a,l,o;for(n(e==e),r=e.r_head;null!=r;r=t)t=r.next,r.lb==-Xi&&r.ub==+Xi&&(Ci&&Qi("1"),To(e,r));for(r=e.r_head;null!=r;r=t)t=r.next,r.lb!=-Xi&&r.ub!=+Xi&&r.lb<r.ub&&(0==(o=Xo(e,r))||(1==o?Ci&&Qi("2"):n(o!=o)));for(a=e.c_head;null!=a;a=l)l=a.next,a.lb==a.ub&&(Ci&&Qi("3"),Co(e,a));for(a=e.c_head;null!=a;a=l)l=a.next,a.lb!=-Xi&&a.ub!=+Xi&&a.lb<a.ub&&(0==(o=Bo(e,a))||1==o&&(Ci&&Qi("4"),Co(e,a)))}function fi(e,r,t){function a(){for(o=r.ptr;null!=o;o=i){for(Ci&&Qi("H"),l=o.col,i=o.r_next,u=l.ptr;null!=u;u=u.c_next)ko(e,u.row);Co(e,l)}return To(e,r),0}var l,o,i,u,s;if(n(!(r.lb==-Xi&&r.ub==+Xi)),null==r.ptr){if(0==(s=Do(e,r)))return Ci&&Qi("A"),0;if(1==s)return kf;n(s!=s)}if(null==r.ptr.r_next)if(l=r.ptr.col,r.lb==r.ub){if(0==(s=Vo(e,r))){for(Ci&&Qi("B"),o=l.ptr;null!=o;o=o.c_next)ko(e,o.row);return Co(e,l),0}if(1==s||2==s)return kf;n(s!=s)}else{if(0<=(s=Jo(e,r))&&s<=3){if(Ci&&Qi("C"),jo(e,l),s>=2)for(o=l.ptr;null!=o;o=o.c_next)ko(e,o.row);return 3==s&&(Ci&&Qi("D"),Co(e,l)),0}if(4==s)return kf;n(s!=s)}if(s=Zo(e,r),n(0<=s&&s<=255),51==s)return kf;if(0==(15&s))r.lb!=-Xi&&(Ci&&Qi("F"),ei(e,r,0));else if(1==(15&s));else if(2==(15&s)){if(Ci&&Qi("G"),0==$o(e,r,0))return a()}else n(s!=s);if(0==(240&s))r.ub!=+Xi&&(Ci&&Qi("I"),ei(e,r,1));else if(16==(240&s));else if(32==(240&s)){if(Ci&&Qi("J"),0==$o(e,r,1))return a()}else n(s!=s);if(r.lb==-Xi&&r.ub==+Xi){for(Ci&&Qi("K"),o=r.ptr;null!=o;o=o.r_next)jo(e,o.col);return To(e,r),0}return e.sol==pc&&t&&_i(e,r,1)<0?kf:0}function _i(e,r,t){var a,l,o,i,u,s,c,f,_=0;for(n(e.sol==pc),n(!(r.lb==-Xi&&r.ub==+Xi)),ni(e,r),l=r.ptr;null!=l;l=o)for(a=l.col,o=l.r_next,u=0;u<=1;u++){if(c=a.lb,f=a.ub,0==u){if(a.ll.ll==-Xi)continue;s=Ho(e,a,a.ll.ll)}else{if(a.uu.uu==+Xi)continue;s=Wo(e,a,a.uu.uu)}if(0==s||1==s)a.lb=c,a.ub=f;else if(2==s||3==s){if(Ci&&Qi("L"),_++,t)for(i=a.ptr;null!=i;i=i.c_next)i.row!=r&&ko(e,i.row);if(3==s){Ci&&Qi("M"),Co(e,a);break}}else{if(4==s)return-1;n(s!=s)}}return _}function pi(e,r){function t(){if(Ci&&Qi("O"),Qo(e,r),a.lb==-Xi&&a.ub==+Xi){for(Ci&&Qi("P"),l=a.ptr;null!=l;l=l.r_next)jo(e,l.col);To(e,a)}else ko(e,a);return 0}var a,l,o;if(n(r.lb<r.ub),null==r.ptr){if(0==(o=Uo(e,r)))return Ci&&Qi("N"),0;if(1==o)return wf;n(o!=o)}if(null==r.ptr.c_next)if(a=r.ptr.row,a.lb==a.ub){if(!r.is_int)return t()}else if(!r.is_int){if(0==(o=Yo(e,r)))return Ci&&Qi("Q"),t();if(1==o);else if(2==o)return wf}return 0}function mi(e,r){function t(){return n(0==i||i==kf||i==wf),Ci&&Qi(""),i}var a,l,o,i;for(ci(e),a=e.r_head;null!=a;a=a.next)a.temp=1;for(l=e.c_head;null!=l;l=l.next)l.temp=1;for(o=1;o;){for(o=0;null!=(a=e.r_head)&&a.temp;){if(wo(e,a),0!=(i=fi(e,a,r)))return t();o=1}for(;null!=(l=e.c_head)&&l.temp;){if(Mo(e,l),0!=(i=pi(e,l)))return t();o=1}}if(e.sol==pc&&!r)for(a=e.r_head;null!=a;a=a.next)if(_i(e,a,0)<0)return i=kf,t();return i=0,t()}function bi(e,r){return n(e.sol==fc),n(r==r),mi(e,0)}function di(e,r){var t,a,l,o,i,u;if(n(e.sol==pc),n(r==r),0!=(u=mi(e,1)))return u;for(r.binarize&&ri(e),i=0,t=e.r_tail;null!=t;t=a)if(a=t.prev,(t.lb!=-Xi||t.ub!=+Xi)&&t.lb!=t.ub&&null!=t.ptr&&null!=t.ptr.r_next){for(o=t.ptr;null!=o&&(l=o.col,l.is_int&&0==l.lb&&1==l.ub);o=o.r_next);null==o&&(i+=li(e,t))}for(i>0&&Qi(i+" hidden packing inequaliti(es) were detected"),i=0,t=e.r_tail;null!=t;t=a)if(a=t.prev,(t.lb!=-Xi||t.ub!=+Xi)&&t.lb!=t.ub&&null!=t.ptr&&null!=t.ptr.r_next&&null!=t.ptr.r_next.r_next){for(o=t.ptr;null!=o&&(l=o.col,l.is_int&&0==l.lb&&1==l.ub);o=o.r_next);null==o&&(i+=ii(e,t))}for(i>0&&Qi(i+" hidden covering inequaliti(es) were detected"),i=0,t=e.r_tail;null!=t;t=a)a=t.prev,t.lb!=t.ub&&(i+=si(e,t));return i>0&&Qi(i+" constraint coefficient(s) were reduced"),u=0}function vi(e,n){return e-n&2147483647}function gi(e){var n,r;for(n=1,r=32;r<=55;n++,r++)e.A[n]=vi(e.A[n],e.A[r]);for(r=1;n<=55;n++,r++)e.A[n]=vi(e.A[n],e.A[r]);return e.fptr=54,e.A[55]}function hi(){var e,n={};for(n.A=new Array(56),n.A[0]=-1,e=1;e<=55;e++)n.A[e]=0;return n.fptr=0,yi(n,1),n}function yi(e,n){var r,t=n,a=1;for(n=t=vi(t,0),e.A[55]=t,r=21;r;r=(r+21)%55)e.A[r]=a,a=vi(t,a),1&n?n=1073741824+(n>>1):n>>=1,a=vi(a,n),t=e.A[r];gi(e),gi(e),gi(e),gi(e),gi(e)}function ki(e){return e.A[e.fptr]>=0?e.A[e.fptr--]:gi(e)}function wi(e,r){var t,a=2147483648-2147483648%r;n(r>0);do{t=ki(e)}while(a<=t);return t%r}function xi(e){var r=ki(e)/2147483647;return n(0<=r&&r<=1),r}function Ai(e,t,a){t>=a&&r("rng_uniform: a = "+t+", b = "+a+"; invalid range");var l=xi(e);return l=t*(1-l)+a*l,n(t<=l&&l<=a),l}function ji(e){Rd&&Qi("scf_create_it: warning: debug mode enabled"),1<=e&&e<=32767||r("scf_create_it: n_max = "+e+"; invalid parameter");var n={};return n.n_max=e,n.n=0,n.f=new Float64Array(1+e*e),n.u=new Float64Array(1+e*(e+1)/2),n.p=new Int32Array(1+e),n.t_opt=Od,n.rank=0,n.c=Rd?new Float64Array(1+e*e):null,n.w=new Float64Array(1+e),n}function Mi(e,r,t){var a=e.n_max,l=e.n;return n(1<=r&&r<=l),n(1<=t&&t<=l),(r-1)*a+t}function Pi(e,r,t){var a=e.n_max,l=e.n;return n(1<=r&&r<=l),n(r<=t&&t<=l),(r-1)*a+t-r*(r-1)/2}function Li(e,r,t){var a,l,o,i,u,s,c,f=e.n,_=e.f,p=e.u;for(n(1<=r&&r<=f);r<f;r++){if(i=Pi(e,r,r),l=Mi(e,r,1),u=Mi(e,f,1),Math.abs(p[i])<Math.abs(t[r])){for(a=r,o=i;a<=f;a++,o++)c=p[o],p[o]=t[a],t[a]=c;for(a=1,o=l,s=u;a<=f;a++,o++,s++)c=_[o],_[o]=_[s],_[s]=c}if(Math.abs(p[i])<Cd&&(p[i]=t[r]=0),0!=t[r]){for(c=t[r]/p[i],a=r+1,o=i+1;a<=f;a++,o++)t[a]-=c*p[o];for(a=1,o=l,s=u;a<=f;a++,o++,s++)_[s]-=c*_[o]}}Math.abs(t[f])<Cd&&(t[f]=0),p[Pi(e,f,f)]=t[f]}function zi(e,n,r){var t,a,l;0==n?(a=1,l=0):Math.abs(e)<=Math.abs(n)?(t=-e/n,l=1/Math.sqrt(1+t*t),a=l*t):(t=-n/e,a=1/Math.sqrt(1+t*t),l=a*t),r(a,l)}function Ii(e,r,t){var a,l,o,i,u,s,c=e.n,f=e.f,_=e.u;for(n(1<=r&&r<=c);r<c;r++)i=Pi(e,r,r),l=Mi(e,r,1),u=Mi(e,c,1),Math.abs(_[i])<Cd&&Math.abs(t[r])<Cd&&(_[i]=t[r]=0),0!=t[r]&&zi(_[i],t[r],function(e,n){for(a=r,o=i;a<=c;a++,o++){var p=_[o],m=t[a];_[o]=e*p-n*m,t[a]=n*p+e*m}for(a=1,o=l,s=u;a<=c;a++,o++,s++){var b=f[o],d=f[s];f[o]=e*b-n*d,f[s]=n*b+e*d}});Math.abs(t[c])<Cd&&(t[c]=0),_[Pi(e,c,c)]=t[c]}function Ei(e,r,t){switch(e.t_opt){case Od:Li(e,r,t);break;case qd:Ii(e,r,t);break;default:n(e!=e)}}function Fi(e){var n,r,t,a=e.n_max,l=e.n,o=e.u,i=0;for(n=1,r=Pi(e,n,n),t=a;n<=l;n++,r+=t,t--)0!=o[r]&&i++;return i}function rn(e,r){var t,a,l,o,i,u,s=e.n,c=e.f,f=e.u,_=e.p,p=e.c,m=0;for(n(null!=p),t=1;t<=s;t++)for(a=1;a<=s;a++){for(i=0,l=1;l<=s;l++)i+=c[Mi(e,t,l)]*p[Mi(e,l,a)];l=_[a],u=t<=l?f[Pi(e,t,l)]:0,o=Math.abs(i-u)/(1+Math.abs(u)),m<o&&(m=o)}m>1e-8&&Qi(r+": dmax = "+m+"; relative error too large")}function Si(e,n,r,t,a,l){var o=e.n_max,i=e.n,u=e.f,s=e.u,c=e.p;if(Rd)var f=e.c;var _,p,m,b,d,v,g,h=e.w,y=0;if(i==o)return y=Td;for(e.n=++i,_=1,m=Mi(e,_,i);_<i;_++,m+=o)u[m]=0;for(b=1,v=Mi(e,i,b);b<i;b++,v++)u[v]=0;for(u[Mi(e,i,i)]=1,_=1;_<i;_++){for(g=0,b=1,p=Mi(e,_,1);b<i;b++,p++)g+=u[p]*n[b+r];s[Pi(e,_,i)]=g}for(b=1;b<i;b++)h[b]=t[c[b]+a];if(h[i]=l,c[i]=i,Rd){for(_=1,m=Mi(e,_,i);_<i;_++,m+=o)f[m]=n[_+r];for(b=1,v=Mi(e,i,b);b<i;b++,v++)f[v]=t[b+a];f[Mi(e,i,i)]=l}for(d=1;d<i&&0==h[d];d++);return Ei(e,d,h),e.rank=Fi(e),e.rank!=i&&(y=Gd),Rd&&rn(e,"scf_update_exp"),y}function Ni(e,n,r){var t,a,l,o,i=e.n,u=e.f,s=e.u,c=e.p,f=e.w;for(t=1;t<=i;t++){for(o=0,a=1,l=Mi(e,t,1);a<=i;a++,l++)o+=u[l]*n[a+r];f[t]=o}for(t=i;t>=1;t--){for(o=f[t],a=i,l=Pi(e,t,i);a>t;a--,l--)o-=s[l]*f[a];f[t]=o/s[l]}for(t=1;t<=i;t++)n[c[t]+r]=f[t]}function Oi(e,n,r){var t,a,l,o,i=e.n,u=e.f,s=e.u,c=e.p,f=e.w;for(t=1;t<=i;t++)f[t]=n[c[t]+r];for(t=1;t<=i;t++)for(l=Pi(e,t,t),o=f[t]/=s[l],a=t+1,l++;a<=i;a++,l++)f[a]-=s[l]*o;for(a=1;a<=i;a++)n[a+r]=0;for(t=1;t<=i;t++)for(o=f[t],a=1,l=Mi(e,t,1);a<=i;a++,l++)n[a+r]+=u[l]*o}function qi(e,n,t,a){e.rank<e.n&&r("scf_solve_it: singular matrix"),n?Oi(e,t,a):Ni(e,t,a)}function Gi(e){e.n=e.rank=0}function Ti(e,r){function t(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_=e.A_ptr,p=e.A_ind,m=e.A_val,b=e.head;if(Ci&&n(1<=r&&r<=o),u=b[r],Ci&&n(1<=u&&u<=o+i),u<=o)s=1,t[1]=u,l[1]=1;else for(c=_[u-o],s=_[u-o+1]-c,a(t,1,p,c,s),a(l,1,m,c,s),f=1;f<=s;f++)l[f]=-l[f];return s}function o(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_,p,m=e.A_ptr,b=e.A_ind,d=e.A_val,v=e.head;for(a(l,1,r,1,o),u=1;u<=o;u++)if(0!=(p=t[u]))if(s=v[u],Ci&&n(1<=s&&s<=o+i),s<=o)l[s]-=p;else for(c=m[s-o],f=m[s-o+1],_=c;_<f;_++)l[b[_]]+=d[_]*p}function s(e,r,t){var a,l=e.m,i=e.work1,u=e.work1;for(o(e,r,t,i),n(e.valid),q(e.bfd,u),a=1;a<=l;a++)t[a]+=u[a]}function c(e,r,t,a){var l=e.m;if(Ci)var o=e.n;var i,u,s,c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val,d=e.head;for(i=1;i<=l;i++){if(u=d[i],Ci&&n(1<=u&&u<=l+o),_=r[i],u<=l)_-=t[u];else for(s=p[u-l],c=p[u-l+1],f=s;f<c;f++)_+=b[f]*t[m[f]];a[i]=_}}function f(e,r,t){var a,l=e.m,o=e.work1,i=e.work1;for(c(e,r,t,o),n(e.valid),G(e.bfd,i),a=1;a<=l;a++)t[a]+=i[a]}function _(e){var n,r,t,a,l,o=e.m,i=e.n,u=e.A_ptr,s=e.A_ind,c=e.N_ptr,f=e.N_len;for(n=1;n<=o;n++)f[n]=1;for(r=1;r<=i;r++)for(t=u[r],a=u[r+1],l=t;l<a;l++)f[s[l]]++;for(c[1]=1,n=1;n<=o;n++)f[n]>i&&(f[n]=i),c[n+1]=c[n]+f[n];e.N_ind=new Int32Array(c[o+1]),e.N_val=new Float64Array(c[o+1])}function p(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i=e.N_ptr,u=e.N_len,s=e.N_ind,c=e.N_val;if(Ci&&(n(1<=r&&r<=l),n(1<=t&&t<=a+l)),t<=a)o=i[t]+u[t]++,Ci&&n(o<i[t+1]),s[o]=r,c[o]=1;else{var f,_,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[t-a],p=b[t-a+1],m=_;m<p;m++)f=d[m],o=i[f]+u[f]++,Ci&&n(o<i[f+1]),s[o]=r,c[o]=-v[m]}}function m(e){var r,t,a=e.m,o=e.n,i=e.head,u=e.stat,s=e.N_len;for(l(s,1,0,a),r=1;r<=o;r++)u[r]!=lc&&(t=i[a+r],Ci&&n(1<=t&&t<=a+o),p(e,r,t))}function b(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i=e.lb,u=e.ub,s=e.head,c=e.stat;switch(Ci&&n(1<=r&&r<=a),l=s[t+r],Ci&&n(1<=l&&l<=t+a),c[r]){case rc:o=i[l];break;case tc:o=u[l];break;case ac:o=0;break;case lc:o=i[l];break;default:n(c!=c)}return o}function d(e,r){var t,l,o,i,u,c,f,_=e.m,p=e.n,m=e.A_ptr,d=e.A_ind,v=e.A_val,g=e.head,h=e.work2;for(t=1;t<=_;t++)h[t]=0;for(l=1;l<=p;l++)if(o=g[_+l],Ci&&n(1<=o&&o<=_+p),0!=(f=b(e,l)))if(o<=_)h[o]-=f;else for(i=m[o-_],u=m[o-_+1],c=i;c<u;c++)h[d[c]]+=f*v[c];a(r,1,h,1,_),n(e.valid),q(e.bfd,r),s(e,h,r)}function v(e,r){var t,l=e.m,o=e.coef,i=e.head,u=e.work2;for(t=1;t<=l;t++)u[t]=o[i[t]];a(r,1,u,1,l),n(e.valid),G(e.bfd,r),f(e,u,r)}function g(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i,u=e.coef,s=e.head;if(Ci&&n(1<=t&&t<=l),o=s[a+t],Ci&&n(1<=o&&o<=a+l),i=u[o],o<=a)i-=r[o];else{var c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val;for(c=p[o-a],f=p[o-a+1],_=c;_<f;_++)i+=b[_]*r[m[_]]}return i}function h(e){if(Ci)var r=e.m;var t=e.n;if(Ci)var a=e.head;var l,o=e.cbar,i=e.work3;if(Ci)var u;for(v(e,i),l=1;l<=t;l++)Ci&&(u=a[r+l],n(1<=u&&u<=r+t)),o[l]=g(e,i,l)}function y(e,r){var t,a,l,o,i,u=e.n,s=e.stat,c=e.cbar,f=e.gamma;for(a=0,o=0,t=1;t<=u;t++){switch(l=c[t],s[t]){case rc:if(l>=-r)continue;break;case tc:if(l<=+r)continue;break;case ac:if(-r<=l&&l<=+r)continue;break;case lc:continue;default:n(s!=s)}Ci&&n(f[t]>0),i=l*l/f[t],o<i&&(a=t,o=i)}e.q=a}function k(e,r){function t(){e.p=s,s>0&&h[x[s]]==ec?e.p_stat=lc:e.p_stat=c,Ci&&n(v>=0),e.teta=b*v}var a=e.m;if(Ci)var l=e.n;var o,i,u,s,c,f,_,p,m,b,d,v,g,h=e.type,y=e.lb,k=e.ub,w=e.coef,x=e.head,A=e.phase,j=e.bbar,M=e.cbar,P=e.q,L=e.tcol_ind,z=e.tcol_vec,I=e.tcol_num;for(Ci&&n(1<=P&&P<=l),Ci&&n(0!=M[P]),b=M[P]>0?-1:1,u=x[a+P],Ci&&n(1<=u&&u<=a+l),h[u]==Zs?(s=-1,c=0,v=k[u]-y[u],p=1):(s=0,c=0,v=Xi,p=0),f=1;f<=I;f++){if(o=L[f],Ci&&n(1<=o&&o<=a),u=x[o],Ci&&n(1<=u&&u<=a+l),_=b*z[o],Ci&&n(0!=_),_>0)if(1==A&&w[u]<0)m=r*(1+E*Math.abs(y[u])),d=(y[u]+m-j[o])/_,i=rc;else{if(1==A&&w[u]>0)continue;if(h[u]!=$s&&h[u]!=Zs&&h[u]!=ec)continue;m=r*(1+E*Math.abs(k[u])),d=(k[u]+m-j[o])/_,i=tc}else if(1==A&&w[u]>0)m=r*(1+E*Math.abs(k[u])),d=(k[u]-m-j[o])/_,i=tc;else{if(1==A&&w[u]<0)continue;if(h[u]!=Ys&&h[u]!=Zs&&h[u]!=ec)continue;m=r*(1+E*Math.abs(y[u])),d=(y[u]-m-j[o])/_,i=rc}d<0&&(d=0),(v>d||v==d&&p<Math.abs(_))&&(s=o,c=i,v=d,p=Math.abs(_))}if(0==r)return t();if(s<=0)return t();if(0==v)return t();for(g=v,s=0,c=0,v=Xi,p=0,f=1;f<=I;f++){if(o=L[f],Ci&&n(1<=o&&o<=a),u=x[o],Ci&&n(1<=u&&u<=a+l),_=b*z[o],Ci&&n(0!=_),_>0)if(1==A&&w[u]<0)d=(y[u]-j[o])/_,i=rc;else{if(1==A&&w[u]>0)continue;if(h[u]!=$s&&h[u]!=Zs&&h[u]!=ec)continue;d=(k[u]-j[o])/_,i=tc}else if(1==A&&w[u]>0)d=(k[u]-j[o])/_,i=tc;else{if(1==A&&w[u]<0)continue;if(h[u]!=Ys&&h[u]!=Zs&&h[u]!=ec)continue;d=(y[u]-j[o])/_,i=rc}d<0&&(d=0),d<=g&&p<Math.abs(_)&&(s=o,c=i,v=d,p=Math.abs(_))}n(0!=s),t()}function w(e){var n,r,t=e.m,a=e.n,l=e.coef,o=e.obj,i=e.zeta;for(n=1;n<=t;n++)l[n]=0;for(r=1;r<=a;r++)l[t+r]=i*o[r]}function x(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i,u=e.type,s=e.lb,c=e.ub,f=e.coef,_=e.head,p=e.phase,m=e.bbar;for(l=1;l<=t;l++)if(o=_[l],Ci&&n(1<=o&&o<=t+a),1==p&&f[o]<0){if(Ci&&n(u[o]==Ys||u[o]==Zs||u[o]==ec),i=r*(1+E*Math.abs(s[o])),m[l]>s[o]+i)return 1}else if(1==p&&f[o]>0){if(Ci&&n(u[o]==$s||u[o]==Zs||u[o]==ec),i=r*(1+E*Math.abs(c[o])),m[l]<c[o]-i)return 1}else{if((u[o]==Ys||u[o]==Zs||u[o]==ec)&&(i=r*(1+E*Math.abs(s[o])),m[l]<s[o]-i))return 1;if((u[o]==$s||u[o]==Zs||u[o]==ec)&&(i=r*(1+E*Math.abs(c[o])),m[l]>c[o]+i))return 1}return 0}function A(e){var r,t,a,l,o=e.m,i=e.n,u=e.obj,s=e.head,c=e.bbar;for(l=u[0],r=1;r<=o;r++)a=s[r],Ci&&n(1<=a&&a<=o+i),a>o&&(l+=u[a-o]*c[r]);for(t=1;t<=i;t++)a=s[o+t],Ci&&n(1<=a&&a<=o+i),a>o&&(l+=u[a-o]*b(e,t));return l}function j(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,s,c,f,_=e.type,p=e.lb,m=e.ub,b=e.phase,d=e.head,v=e.bbar;if(!(r.msg_lev<jc)&&!(r.out_dly>0&&1e3*u(i(),e.tm_beg)<r.out_dly)&&e.it_cnt!=e.it_dpy&&(t||e.it_cnt%r.out_frq==0)){for(f=0,c=0,o=1;o<=a;o++)s=d[o],Ci&&n(1<=s&&s<=a+l),_[s]!=Ys&&_[s]!=Zs&&_[s]!=ec||v[o]<p[s]&&(f+=p[s]-v[o]),_[s]!=$s&&_[s]!=Zs&&_[s]!=ec||v[o]>m[s]&&(f+=v[o]-m[s]),_[s]==ec&&c++;Qi((1==b?" ":"*")+e.it_cnt+": obj = "+A(e)+"  infeas = "+f+" ("+c+")"),e.it_dpy=e.it_cnt}}function M(e,r,t,l,o){var i,u,s,c,f,_=e.m,p=e.n,m=e.zeta,b=e.head,d=e.stat,v=e.bbar,g=e.cbar;for(Ci&&(n(r.m==_),n(r.n==p),n(!r.valid&&null==r.bfd),n(e.valid&&null!=e.bfd)),r.valid=1,e.valid=0,r.bfd=e.bfd,e.bfd=null,a(r.head,1,b,1,_),r.pbs_stat=t,r.dbs_stat=l,r.obj_val=A(e),r.it_cnt=e.it_cnt,r.some=o,i=1;i<=_;i++)s=b[i],Ci&&n(1<=s&&s<=_+p),s<=_?(c=r.row[s],c.stat=nc,c.bind=i,c.prim=v[i]/c.rii,c.dual=0):(f=r.col[s-_],f.stat=nc,f.bind=i,f.prim=v[i]*f.sjj,f.dual=0);for(u=1;u<=p;u++)if(s=b[_+u],Ci&&n(1<=s&&s<=_+p),s<=_){switch(c=r.row[s],c.stat=d[u],c.bind=0,d[u]){case rc:c.prim=c.lb;break;case tc:c.prim=c.ub;break;case ac:c.prim=0;break;case lc:c.prim=c.lb;break;default:n(d!=d)}c.dual=g[u]*c.rii/m}else{switch(f=r.col[s-_],f.stat=d[u],f.bind=0,d[u]){case rc:f.prim=f.lb;break;case tc:f.prim=f.ub;break;case ac:f.prim=0;break;case lc:f.prim=f.lb;break;default:n(d!=d)}f.dual=g[u]/f.sjj/m}}var P,L,z,I,E=.1,F=2,S=0,N=0,R=0;for(P=function(e){var r=e.m,t=e.n,a=e.nnz,l={};return n(r>0&&t>0),l.m=r,l.n=t,l.type=new Int8Array(1+r+t),l.lb=new Float64Array(1+r+t),l.ub=new Float64Array(1+r+t),l.coef=new Float64Array(1+r+t),l.obj=new Float64Array(1+t),l.A_ptr=new Int32Array(1+t+1),l.A_ind=new Int32Array(1+a),l.A_val=new Float64Array(1+a),l.head=new Int32Array(1+r+t),l.stat=new Int8Array(1+t),l.N_ptr=new Int32Array(1+r+1),l.N_len=new Int32Array(1+r),l.N_ind=null,l.N_val=null,l.bbar=new Float64Array(1+r),l.cbar=new Float64Array(1+t),l.refsp=new Int8Array(1+r+t),l.gamma=new Float64Array(1+t),l.tcol_ind=new Int32Array(1+r),l.tcol_vec=new Float64Array(1+r),l.trow_ind=new Int32Array(1+t),l.trow_vec=new Float64Array(1+t),l.work1=new Float64Array(1+r),l.work2=new Float64Array(1+r),l.work3=new Float64Array(1+r),l.work4=new Float64Array(1+r),l}(e),function(e,r){var t,o,u,s,c,f,p,b=e.m,d=e.n,v=e.type,g=e.lb,h=e.ub,y=e.coef,k=e.obj,w=e.A_ptr,x=e.A_ind,A=e.A_val,j=e.head,M=e.stat,P=e.refsp,L=e.gamma;for(t=1;t<=b;t++)f=r.row[t],v[t]=f.type,g[t]=f.lb*f.rii,h[t]=f.ub*f.rii,y[t]=0;for(o=1;o<=d;o++)p=r.col[o],v[b+o]=p.type,g[b+o]=p.lb/p.sjj,h[b+o]=p.ub/p.sjj,y[b+o]=p.coef*p.sjj;for(k[0]=r.c0,a(k,1,y,b+1,d),c=0,o=1;o<=d;o++)c<Math.abs(k[o])&&(c=Math.abs(k[o]));switch(0==c&&(c=1),r.dir){case Ks:e.zeta=1/c;break;case Vs:e.zeta=-1/c;break;default:n(r!=r)}for(Math.abs(e.zeta)<1&&(e.zeta*=1e3),s=1,o=1;o<=d;o++){w[o]=s;for(var z=r.col[o].ptr;null!=z;z=z.c_next)x[s]=z.row.i,A[s]=z.row.rii*z.val*z.col.sjj,s++}for(w[d+1]=s,n(s==r.nnz+1),n(r.valid),a(j,1,r.head,1,b),u=0,t=1;t<=b;t++)f=r.row[t],f.stat!=nc&&(u++,n(u<=d),j[b+u]=t,M[u]=f.stat);for(o=1;o<=d;o++)p=r.col[o],p.stat!=nc&&(u++,n(u<=d),j[b+u]=b+o,M[u]=p.stat);for(n(u==d),e.valid=1,r.valid=0,e.bfd=r.bfd,r.bfd=null,_(e),m(e),e.phase=0,e.tm_beg=i(),e.it_beg=e.it_cnt=r.it_cnt,e.it_dpy=-1,e.refct=0,l(P,1,0,b+d),o=1;o<=d;o++)L[o]=1}(P,e),r.msg_lev>=Pc&&Qi("Objective scale factor = "+P.zeta);;){if(0==F){if(0!=(I=function(e){var n=O(e.bfd,e.m,null,t,e);return e.valid=0==n,n}(P)))return r.msg_lev>=Ac&&(Qi("Error: unable to factorize the basis matrix ("+I+")"),Qi("Sorry, basis recovery procedure not implemented yet")),n(!e.valid&&null==e.bfd),e.bfd=P.bfd,P.bfd=null,e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.it_cnt=P.it_cnt,e.some=0,I=df;P.valid=1,F=1,S=N=0}if(0==S&&(function(e){d(e,e.bbar)}(P),S=1,0==P.phase&&(function(e,n){var r,t,a,l=e.m,o=e.n,i=e.type,u=e.lb,s=e.ub,c=e.coef,f=e.head,_=e.bbar,p=0;for(n*=.9,t=1;t<=l+o;t++)c[t]=0;for(r=1;r<=l;r++)t=f[r],i[t]!=Ys&&i[t]!=Zs&&i[t]!=ec||(a=n*(1+E*Math.abs(u[t])),_[r]<u[t]-a&&(c[t]=-1,p++)),i[t]!=$s&&i[t]!=Zs&&i[t]!=ec||(a=n*(1+E*Math.abs(s[t])),_[r]>s[t]+a&&(c[t]=1,p++));return p}(P,r.tol_bnd)>0?P.phase=1:(w(P),P.phase=2),n(0==x(P,r.tol_bnd)),N=0,j(P,r,1)),x(P,r.tol_bnd)))r.msg_lev>=Ac&&Qi("Warning: numerical instability (primal simplex, phase "+(1==P.phase?"I":"II")+")"),P.phase=0,F=0,R=5;else{switch(n(1==P.phase||2==P.phase),1!=P.phase||function(e,r){var t=e.m;if(Ci)var a=e.n,l=e.type;var o,i,u,s=e.lb,c=e.ub,f=e.coef,_=e.head,p=e.bbar;for(n(1==e.phase),o=1;o<=t;o++)if(i=_[o],Ci&&n(1<=i&&i<=t+a),f[i]<0){if(Ci&&n(l[i]==Ys||l[i]==Zs||l[i]==ec),u=r*(1+E*Math.abs(s[i])),p[o]<s[i]-u)return 1}else if(f[i]>0&&(Ci&&n(l[i]==$s||l[i]==Zs||l[i]==ec),u=r*(1+E*Math.abs(c[i])),p[o]>c[i]+u))return 1;return 0}(P,r.tol_bnd)||(P.phase=2,w(P),N=0,j(P,r,1)),0==N&&(h(P),N=1),r.pricing){case Ec:break;case Fc:0==P.refct&&function(e){var r,t,a=e.m,o=e.n,i=e.head,u=e.refsp,s=e.gamma;for(n(0==e.refct),e.refct=1e3,l(u,1,0,a+o),r=1;r<=o;r++)t=i[a+r],u[t]=1,s[r]=1}(P);break;default:n(r!=r)}n(F&&S&&N);if(r.it_lim<Ui&&P.it_cnt-P.it_beg>=r.it_lim){if(1!=S||2==P.phase&&1!=N){1!=S&&(S=0),2==P.phase&&1!=N&&(N=0);continue}switch(j(P,r,1),r.msg_lev>=Mc&&Qi("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),P.phase){case 1:L=dc,w(P),h(P);break;case 2:L=bc;break;default:n(P!=P)}return y(P,r.tol_dj),z=0==P.q?bc:dc,M(P,e,L,z,0),I=hf}if(r.tm_lim<Ui&&1e3*u(i(),P.tm_beg)>=r.tm_lim){if(1!=S||2==P.phase&&1!=N){1!=S&&(S=0),2==P.phase&&1!=N&&(N=0);continue}switch(j(P,r,1),r.msg_lev>=Mc&&Qi("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),P.phase){case 1:L=dc,w(P),h(P);break;case 2:L=bc;break;default:n(P!=P)}return y(P,r.tol_dj),z=0==P.q?bc:dc,M(P,e,L,z,0),I=yf}if(j(P,r,0),y(P,r.tol_dj),0==P.q){if(1!=S||1!=N){1!=S&&(S=0),1!=N&&(N=0);continue}switch(j(P,r,1),P.phase){case 1:r.msg_lev>=Mc&&Qi("PROBLEM HAS NO FEASIBLE SOLUTION"),L=vc,w(P),h(P),y(P,r.tol_dj),z=0==P.q?bc:dc;break;case 2:r.msg_lev>=Mc&&Qi("OPTIMAL SOLUTION FOUND"),L=z=bc;break;default:n(P!=P)}return M(P,e,L,z,0),I=0}!function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,s=e.tcol_ind,c=e.tcol_vec,f=e.tcol_vec;for(Ci&&n(1<=u&&u<=t),l=i[r+u],Ci&&n(1<=l&&l<=r+t),a=1;a<=r;a++)f[a]=0;if(l<=r)f[l]=-1;else{var _,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[l-r],p=b[l-r+1],m=_;m<p;m++)f[d[m]]=v[m]}for(n(e.valid),q(e.bfd,c),o=0,a=1;a<=r;a++)0!=c[a]&&(s[++o]=a);e.tcol_nnz=o}(P),R&&function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,c=e.tcol_ind,f=e.tcol_vec,_=e.work3;for(Ci&&n(1<=u&&u<=t),l=i[r+u],Ci&&n(1<=l&&l<=r+t),a=1;a<=r;a++)_[a]=0;if(l<=r)_[l]=-1;else{var p,m,b,d=e.A_ptr,v=e.A_ind,g=e.A_val;for(p=d[l-r],m=d[l-r+1],b=p;b<m;b++)_[v[b]]=g[b]}for(s(e,_,f),o=0,a=1;a<=r;a++)0!=f[a]&&(c[++o]=a);e.tcol_nnz=o}(P),function(e,r){if(Ci)var t=e.m;var a,l,o,i,u,s,c=e.tcol_nnz,f=e.tcol_ind,_=e.tcol_vec;for(i=0,o=1;o<=c;o++)Ci&&(a=f[o],n(1<=a&&a<=t)),s=Math.abs(_[f[o]]),i<s&&(i=s);for(e.tcol_max=i,u=r*(1+.01*i),l=0;l<c;)a=f[c],Math.abs(_[a])<u?c--:(l++,f[c]=f[l],f[l]=a);e.tcol_num=l}(P,r.tol_piv);var C=P.cbar[P.q],X=function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.coef,u=e.head,s=e.q,c=e.tcol_nnz,f=e.tcol_ind,_=e.tcol_vec;for(Ci&&n(1<=s&&s<=t),o=i[u[r+s]],l=1;l<=c;l++)a=f[l],Ci&&n(1<=a&&a<=r),o+=i[u[a]]*_[a];return o}(P);if(n(0!=C),!(Math.abs(C-X)>1e-5*(1+Math.abs(X)))&&(C<0&&X<0||C>0&&X>0)||(r.msg_lev>=Pc&&Qi("d1 = "+C+"; d2 = "+X),1==N&&R)){switch(P.cbar[P.q]=C>0?X>0?X:+Ki:X<0?X:-Ki,r.r_test){case Sc:k(P,0);break;case Nc:k(P,.3*r.tol_bnd);break;default:n(r!=r)}if(0==P.p){if(1!=S||1!=N||!R){1!=S&&(S=0),1!=N&&(N=0),R=1;continue}switch(j(P,r,1),P.phase){case 1:r.msg_lev>=Ac&&Qi("Error: unable to choose basic variable on phase I"),n(!e.valid&&null==e.bfd),e.bfd=P.bfd,P.bfd=null,e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.it_cnt=P.it_cnt,e.some=0,I=df;break;case 2:r.msg_lev>=Mc&&Qi("PROBLEM HAS UNBOUNDED SOLUTION"),M(P,e,bc,vc,P.head[P.m+P.q]),I=0;break;default:n(P!=P)}return I}if(P.p>0){var B=P.tcol_vec[P.p],D=1e-5*(1+.01*P.tcol_max);if(Math.abs(B)<D&&(r.msg_lev>=Pc&&Qi("piv = "+B+"; eps = "+D),!R)){R=5;continue}}if(P.p>0){var U=P.work4;!function(e,r){var t,a=e.m,l=e.p;for(Ci&&n(1<=l&&l<=a),t=1;t<=a;t++)r[t]=0;r[l]=1,n(e.valid),G(e.bfd,r)}(P,U),R&&function(e,r){var t,a=e.m,l=e.p,o=e.work3;for(Ci&&n(1<=l&&l<=a),t=1;t<=a;t++)o[t]=0;o[l]=1,f(e,o,r)}(P,U),function(e,r){var t=e.m,a=e.n;if(Ci)var l=e.stat;var o,i,u,s,c,f,_,p=e.N_ptr,m=e.N_len,b=e.N_ind,d=e.N_val,v=e.trow_ind,g=e.trow_vec;for(i=1;i<=a;i++)g[i]=0;for(o=1;o<=t;o++)if(0!=(_=r[o]))for(u=p[o],s=u+m[o],c=u;c<s;c++)Ci&&(i=b[c],n(1<=i&&i<=a),n(l[i]!=lc)),g[b[c]]-=_*d[c];for(f=0,i=1;i<=a;i++)0!=g[i]&&(v[++f]=i);e.trow_nnz=f}(P,U)}if(P.p>0){var K=P.tcol_vec[P.p],V=P.trow_vec[P.q];if(n(0!=K),Math.abs(K-V)>1e-8*(1+Math.abs(K))||!(K>0&&V>0||K<0&&V<0)){if(r.msg_lev>=Pc&&Qi("piv1 = "+K+"; piv2 = "+V),1!=F||!R){1!=F&&(F=0),R=5;continue}0==P.trow_vec[P.q]&&(P.trow_nnz++,n(P.trow_nnz<=P.n),P.trow_ind[P.trow_nnz]=P.q),P.trow_vec[P.q]=K}}if(function(e){if(Ci)var r=e.m,t=e.n;var a,l,o=e.bbar,i=e.q,u=e.tcol_nnz,s=e.tcol_ind,c=e.tcol_vec,f=e.p,_=e.teta;if(Ci&&(n(1<=i&&i<=t),n(f<0||1<=f&&f<=r)),f>0&&(o[f]=b(e,i)+_),0!=_)for(l=1;l<=u;l++)(a=s[l])!=f&&(o[a]+=c[a]*_)}(P),S=2,P.p>0&&(function(e){if(Ci)var r=e.n;var t,a,l,o=e.cbar,i=e.q,u=e.trow_nnz,s=e.trow_ind,c=e.trow_vec;for(Ci&&n(1<=i&&i<=r),Ci&&n(0!=c[i]),l=o[i]/=c[i],a=1;a<=u;a++)(t=s[a])!=i&&(o[t]-=c[t]*l)}(P),N=2,1==P.phase)){var H=P.head[P.p];P.cbar[P.q]-=P.coef[H],P.coef[H]=0}if(P.p>0)switch(r.pricing){case Ec:break;case Fc:P.refct>0&&function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g=e.type,h=e.A_ptr,y=e.A_ind,k=e.A_val,w=e.head,x=e.refsp,A=e.gamma,j=e.q,M=e.tcol_nnz,P=e.tcol_ind,L=e.tcol_vec,z=e.p,I=e.trow_nnz,E=e.trow_ind,F=e.trow_vec,S=e.work3;for(Ci&&(n(1<=z&&z<=r),n(1<=j&&j<=t)),n(e.refct>0),e.refct--,f=_=x[w[r+j]]?1:0,a=1;a<=r;a++)S[a]=0;for(i=1;i<=M;i++)a=P[i],x[w[a]]?(S[a]=b=L[a],f+=b*b):S[a]=0;for(n(e.valid),G(e.bfd,S),p=F[j],Ci&&n(0!=p),i=1;i<=I;i++)if((l=E[i])!=j){if(b=F[l]/p,(o=w[r+l])<=r)m=S[o];else for(m=0,u=h[o-r],s=h[o-r+1],c=u;c<s;c++)m-=k[c]*S[y[c]];d=A[l]+b*b*f+2*b*m,v=(x[o]?1:0)+_*b*b,A[l]=d>=v?d:v,A[l]<Ki&&(A[l]=Ki)}g[w[z]]==ec?A[j]=1:(A[j]=f/(p*p),A[j]<Ki&&(A[j]=Ki))}(P);break;default:n(r!=r)}P.p>0&&(I=function(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i;if(Ci&&(n(1<=r&&r<=a),n(1<=t&&t<=a+l)),t<=a){var u=new Array(2);o=new Array(2),u[1]=t,o[1]=1,n(e.valid),i=T(e.bfd,r,0,1,u,0,o)}else{var s=e.A_ptr,c=e.A_ind,f=e.A_val;o=e.work1;var _,p,m,b;for(_=s[t-a],p=s[t-a+1],b=0,m=_;m<p;m++)o[++b]=-f[m];n(e.valid),i=T(e.bfd,r,0,b,c,_-1,o)}return e.valid=0==i,i}(P,P.p,P.head[P.m+P.q]),0==I?F=2:(P.valid=0,F=0)),P.p>0&&(!function(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i,u,s=e.N_ptr,c=e.N_len,f=e.N_ind,_=e.N_val;if(Ci&&(n(1<=r&&r<=l),n(1<=t&&t<=a+l)),t<=a){for(i=s[t],o=i;f[o]!=r;o++);u=i+--c[t],Ci&&n(o<=u),f[o]=f[u],_[o]=_[u]}else{var p,m,b,d,v=e.A_ptr,g=e.A_ind;for(m=v[t-a],b=v[t-a+1],d=m;d<b;d++){for(p=g[d],i=s[p],o=i;f[o]!=r;o++);u=i+--c[p],Ci&&n(o<=u),f[o]=f[u],_[o]=_[u]}}}(P,P.q,P.head[P.m+P.q]),P.type[P.head[P.p]]!=ec&&p(P,P.q,P.head[P.p])),function(e){var r=e.m;if(Ci)var t=e.n,a=e.type;var l,o=e.head,i=e.stat,u=e.q,s=e.p,c=e.p_stat;if(Ci&&n(1<=u&&u<=t),s<0)switch(Ci&&(l=o[r+u],n(1<=l&&l<=r+t),n(a[l]==Zs)),i[u]){case rc:i[u]=tc;break;case tc:i[u]=rc;break;default:n(i!=i)}else{if(Ci)switch(n(1<=s&&s<=r),l=o[s],c){case rc:n(a[l]==Ys||a[l]==Zs);break;case tc:n(a[l]==$s||a[l]==Zs);break;case lc:n(a[l]==lc);break;default:n(c!=c)}l=o[s],o[s]=o[r+u],o[r+u]=l,i[u]=c}}(P),P.it_cnt++,R>0&&R--}else 1!=N&&(N=0),R=5}}}function Ri(e,r){function t(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_=e.A_ptr,p=e.A_ind,m=e.A_val,b=e.head;if(Ci&&n(1<=r&&r<=o),u=b[r],Ci&&n(1<=u&&u<=o+i),u<=o)s=1,t[1]=u,l[1]=1;else for(c=_[u-o],s=_[u-o+1]-c,a(t,1,p,c,s),a(l,1,m,c,s),f=1;f<=s;f++)l[f]=-l[f];return s}function o(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_,p,m=e.A_ptr,b=e.A_ind,d=e.A_val,v=e.head;for(a(l,1,r,1,o),u=1;u<=o;u++)if(0!=(p=t[u]))if(s=v[u],Ci&&n(1<=s&&s<=o+i),s<=o)l[s]-=p;else for(c=m[s-o],f=m[s-o+1],_=c;_<f;_++)l[b[_]]+=d[_]*p}function s(e,r,t){var a,l=e.m,i=e.work1,u=e.work1;for(o(e,r,t,i),n(e.valid),q(e.bfd,u),a=1;a<=l;a++)t[a]+=u[a]}function c(e,r,t,a){var l=e.m;if(Ci)var o=e.n;var i,u,s,c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val,d=e.head;for(i=1;i<=l;i++){if(u=d[i],Ci&&n(1<=u&&u<=l+o),_=r[i],u<=l)_-=t[u];else for(s=p[u-l],c=p[u-l+1],f=s;f<c;f++)_+=b[f]*t[m[f]];a[i]=_}}function f(e,r,t){var a,l=e.m,o=e.work1,i=e.work1;for(c(e,r,t,o),n(e.valid),G(e.bfd,i),a=1;a<=l;a++)t[a]+=i[a]}function _(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i=e.lb,u=e.ub,s=e.head,c=e.stat;switch(Ci&&n(1<=r&&r<=a),l=s[t+r],Ci&&n(1<=l&&l<=t+a),c[r]){case rc:o=i[l];break;case tc:o=u[l];break;case ac:o=0;break;case lc:o=i[l];break;default:n(c!=c)}return o}function p(e,r){var t,l,o,i,u,c,f,p=e.m,m=e.n,b=e.A_ptr,d=e.A_ind,v=e.A_val,g=e.head,h=e.work2;for(t=1;t<=p;t++)h[t]=0;for(l=1;l<=m;l++)if(o=g[p+l],Ci&&n(1<=o&&o<=p+m),0!=(f=_(e,l)))if(o<=p)h[o]-=f;else for(i=b[o-p],u=b[o-p+1],c=i;c<u;c++)h[d[c]]+=f*v[c];a(r,1,h,1,p),n(e.valid),q(e.bfd,r),s(e,h,r)}function m(e,r){var t,l=e.m,o=e.coef,i=e.head,u=e.work2;for(t=1;t<=l;t++)u[t]=o[i[t]];a(r,1,u,1,l),n(e.valid),G(e.bfd,r),f(e,u,r)}function b(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i,u=e.coef,s=e.head;if(Ci&&n(1<=t&&t<=l),o=s[a+t],Ci&&n(1<=o&&o<=a+l),i=u[o],o<=a)i-=r[o];else{var c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val;for(c=p[o-a],f=p[o-a+1],_=c;_<f;_++)i+=b[_]*r[m[_]]}return i}function d(e){p(e,e.bbar)}function v(e){if(Ci)var r=e.m;var t=e.n;if(Ci)var a=e.head;var l,o=e.cbar,i=e.work3;if(Ci)var u;for(m(e,i),l=1;l<=t;l++)Ci&&(u=a[r+l],n(1<=u&&u<=r+t)),o[l]=b(e,i,l)}function g(e,n){var r,t,a,l,o,i,u,s=e.m,c=e.n,f=e.A_ptr,_=e.A_ind,p=e.A_val,m=e.head,b=e.stat,d=e.trow_ind,v=e.trow_vec;for(i=0,r=1;r<=c;r++)if(b[r]!=lc){if((t=m[s+r])<=s)u=-n[t];else for(a=f[t-s],l=f[t-s+1],u=0,o=a;o<l;o++)u+=n[_[o]]*p[o];0!=u&&(d[++i]=r),v[r]=u}else v[r]=0;e.trow_nnz=i}function h(e,n){var r,t,a,l,o,i,u,s=e.m,c=e.n,f=e.AT_ptr,_=e.AT_ind,p=e.AT_val,m=e.bind,b=e.stat,d=e.trow_ind,v=e.trow_vec;for(t=1;t<=c;t++)v[t]=0;for(r=1;r<=s;r++)if(0!=(u=n[r]))for(t=m[r]-s,t>=1&&b[t]!=lc&&(v[t]-=u),a=f[r],l=f[r+1],o=a;o<l;o++)(t=m[s+_[o]]-s)>=1&&b[t]!=lc&&(v[t]+=u*p[o]);for(i=0,t=1;t<=c;t++)0!=v[t]&&(d[++i]=t);e.trow_nnz=i}function y(e,r){function t(){e.q=f,e.new_dq=m*d}if(Ci)var a=e.m,l=e.n;var o=e.stat,i=e.cbar;if(Ci)var u=e.p;var s,c,f,_,p,m,b,d,v,g=e.delta,h=e.trow_ind,y=e.trow_vec,k=e.trow_num;for(Ci&&n(1<=u&&u<=a),Ci&&n(0!=g),m=g>0?1:-1,f=0,d=Xi,p=0,c=1;c<=k;c++){if(s=h[c],Ci&&n(1<=s&&s<=l),_=m*y[s],Ci&&n(0!=_),_>0){if(o[s]!=rc&&o[s]!=ac)continue;b=(i[s]+r)/_}else{if(o[s]!=tc&&o[s]!=ac)continue;b=(i[s]-r)/_}b<0&&(b=0),(d>b||d==b&&p<Math.abs(_))&&(f=s,d=b,p=Math.abs(_))}if(0==r)return t();if(0==f)return t();if(0==d)return t();for(v=d,f=0,d=Xi,p=0,c=1;c<=k;c++){if(s=h[c],Ci&&n(1<=s&&s<=l),_=m*y[s],Ci&&n(0!=_),_>0){if(o[s]!=rc&&o[s]!=ac)continue;b=i[s]/_}else{if(o[s]!=tc&&o[s]!=ac)continue;b=i[s]/_}b<0&&(b=0),b<=v&&p<Math.abs(_)&&(f=s,d=b,p=Math.abs(_))}n(0!=f),t()}function k(e,r){var t,a,l=e.m,o=e.n,i=e.orig_type,u=e.head,s=e.cbar;for(t=1;t<=o;t++){if(a=u[l+t],Ci&&n(1<=a&&a<=l+o),s[t]<-r&&(i[a]==Ys||i[a]==Qs))return 1;if(s[t]>+r&&(i[a]==$s||i[a]==Qs))return 1}return 0}function w(e){var r,t,l=e.m,o=e.n,i=e.type,u=e.lb,s=e.ub,c=e.orig_type,f=e.orig_lb,_=e.orig_ub,p=e.head,m=e.stat,b=e.cbar;for(a(i,1,c,1,l+o),a(u,1,f,1,l+o),a(s,1,_,1,l+o),r=1;r<=o;r++)switch(t=p[l+r],Ci&&n(1<=t&&t<=l+o),i[t]){case Qs:m[r]=ac;break;case Ys:m[r]=rc;break;case $s:m[r]=tc;break;case Zs:b[r]>=+Ki?m[r]=rc:b[r]<=-Ki?m[r]=tc:Math.abs(u[t])<=Math.abs(s[t])?m[r]=rc:m[r]=tc;break;case ec:m[r]=lc;break;default:n(i!=i)}}function x(e,n){var r,t=e.n,a=e.stat,l=e.cbar;for(r=1;r<=t;r++){if(l[r]<-n&&(a[r]==rc||a[r]==ac))return 1;if(l[r]>+n&&(a[r]==tc||a[r]==ac))return 1}return 0}function A(e){var r,t,a,l,o=e.m,i=e.n,u=e.obj,s=e.head,c=e.bbar;for(l=u[0],r=1;r<=o;r++)a=s[r],Ci&&n(1<=a&&a<=o+i),a>o&&(l+=u[a-o]*c[r]);for(t=1;t<=i;t++)a=s[o+t],Ci&&n(1<=a&&a<=o+i),a>o&&(l+=u[a-o]*_(e,t));return l}function j(e,n,r){var t,a,l,o,s=e.m,c=e.n,f=e.coef,p=e.orig_type,m=e.head,b=e.stat,d=e.phase,v=e.bbar,g=e.cbar;if(!(n.msg_lev<jc)&&!(n.out_dly>0&&1e3*u(i(),e.tm_beg)<n.out_dly)&&e.it_cnt!=e.it_dpy&&(r||e.it_cnt%n.out_frq==0)){if(o=0,1==d){for(t=1;t<=s;t++)o-=f[m[t]]*v[t];for(a=1;a<=c;a++)o-=f[m[s+a]]*_(e,a)}else for(a=1;a<=c;a++)g[a]<0&&(b[a]!=rc&&b[a]!=ac||(o-=g[a])),g[a]>0&&(b[a]!=tc&&b[a]!=ac||(o+=g[a]));for(l=0,t=1;t<=s;t++)p[m[t]]==ec&&l++;Qi(1==e.phase?" "+e.it_cnt+":  infeas = "+o+" ("+l+")":"|"+e.it_cnt+": obj = "+A(e)+"  infeas = "+o+" ("+l+")"),e.it_dpy=e.it_cnt}}function M(e,r,t,l,o){var i,u,s,c,f,_=e.m,p=e.n,m=e.zeta,b=e.head,d=e.stat,v=e.bbar,g=e.cbar;for(Ci&&(n(r.m==_),n(r.n==p),n(!r.valid&&null==r.bfd),n(e.valid&&null!=e.bfd)),r.valid=1,e.valid=0,r.bfd=e.bfd,e.bfd=null,a(r.head,1,b,1,_),r.pbs_stat=t,r.dbs_stat=l,r.obj_val=A(e),r.it_cnt=e.it_cnt,r.some=o,i=1;i<=_;i++)s=b[i],Ci&&n(1<=s&&s<=_+p),s<=_?(f=r.row[s],f.stat=nc,f.bind=i,f.prim=v[i]/f.rii,f.dual=0):(c=r.col[s-_],c.stat=nc,c.bind=i,c.prim=v[i]*c.sjj,c.dual=0);for(u=1;u<=p;u++)if(s=b[_+u],Ci&&n(1<=s&&s<=_+p),s<=_){switch(f=r.row[s],f.stat=d[u],f.bind=0,d[u]){case rc:f.prim=f.lb;break;case tc:f.prim=f.ub;break;case ac:f.prim=0;break;case lc:f.prim=f.lb;break;default:n(d!=d)}f.dual=g[u]*f.rii/m}else{switch(c=r.col[s-_],c.stat=d[u],c.bind=0,d[u]){case rc:c.prim=c.lb;break;case tc:c.prim=c.ub;break;case ac:c.prim=0;break;case lc:c.prim=c.lb;break;default:n(d!=d)}c.dual=g[u]/c.sjj/m}}var P=.1;this.chrome_workaround_1=function(e,r){var t,a,l,o=e.A_ptr,i=e.A_ind,u=e.A_val,s=e.n;for(a=1,l=1;l<=s;l++)for(o[l]=a,t=r.col[l].ptr;null!=t;t=t.c_next)i[a]=t.row.i,u[a]=t.row.rii*t.val*t.col.sjj,a++;o[s+1]=a,n(a-1==r.nnz)},this.chrome_workaround_2=function(e,r){var t,a,l,o=e.AT_ptr,i=e.AT_ind,u=e.AT_val,s=e.m;for(t=1,a=1;a<=s;a++)for(o[a]=t,l=r.row[a].ptr;null!=l;l=l.r_next)i[t]=l.col.j,u[t]=l.row.rii*l.val*l.col.sjj,t++;o[s+1]=t,n(t-1==r.nnz)};var L,z,I,E,F=2,S=0,N=0,R=0;for(L=function(e){var r=e.m,t=e.n,a=e.nnz,l={};return n(r>0&&t>0),l.m=r,l.n=t,l.type=new Int8Array(1+r+t),l.lb=new Float64Array(1+r+t),l.ub=new Float64Array(1+r+t),l.coef=new Float64Array(1+r+t),l.orig_type=new Int8Array(1+r+t),l.orig_lb=new Float64Array(1+r+t),l.orig_ub=new Float64Array(1+r+t),l.obj=new Float64Array(1+t),l.A_ptr=new Int32Array(1+t+1),l.A_ind=new Int32Array(1+a),l.A_val=new Float64Array(1+a),l.AT_ptr=new Int32Array(1+r+1),l.AT_ind=new Int32Array(1+a),l.AT_val=new Float64Array(1+a),l.head=new Int32Array(1+r+t),l.bind=new Int32Array(1+r+t),l.stat=new Int8Array(1+t),l.bbar=new Float64Array(1+r),l.cbar=new Float64Array(1+t),l.refsp=new Int8Array(1+r+t),l.gamma=new Float64Array(1+r),l.trow_ind=new Int32Array(1+t),l.trow_vec=new Float64Array(1+t),l.tcol_ind=new Int32Array(1+r),l.tcol_vec=new Float64Array(1+r),l.work1=new Float64Array(1+r),l.work2=new Float64Array(1+r),l.work3=new Float64Array(1+r),l.work4=new Float64Array(1+r),l}(e),function(e,r){var t,o,u,s,c,f,_=e.m,p=e.n,m=e.type,b=e.lb,d=e.ub,v=e.coef,g=e.orig_type,h=e.orig_lb,y=e.orig_ub,k=e.obj,w=e.head,x=e.bind,A=e.stat,j=e.refsp,M=e.gamma;for(t=1;t<=_;t++)c=r.row[t],m[t]=c.type,b[t]=c.lb*c.rii,d[t]=c.ub*c.rii,v[t]=0;for(o=1;o<=p;o++)f=r.col[o],m[_+o]=f.type,b[_+o]=f.lb/f.sjj,d[_+o]=f.ub/f.sjj,v[_+o]=f.coef*f.sjj;for(a(g,1,m,1,_+p),a(h,1,b,1,_+p),a(y,1,d,1,_+p),k[0]=r.c0,a(k,1,v,_+1,p),s=0,o=1;o<=p;o++)s<Math.abs(k[o])&&(s=Math.abs(k[o]));switch(0==s&&(s=1),r.dir){case Ks:e.zeta=1/s;break;case Vs:e.zeta=-1/s;break;default:n(r!=r)}for(Math.abs(e.zeta)<1&&(e.zeta*=1e3),o=1;o<=p;o++)v[_+o]*=e.zeta;for(chrome_workaround_1(e,r),chrome_workaround_2(e,r),n(r.valid),a(w,1,r.head,1,_),u=0,t=1;t<=_;t++)c=r.row[t],c.stat!=nc&&(u++,n(u<=p),w[_+u]=t,A[u]=c.stat);for(o=1;o<=p;o++)f=r.col[o],f.stat!=nc&&(u++,n(u<=p),w[_+u]=_+o,A[u]=f.stat);for(n(u==p),u=1;u<=_+p;u++)x[w[u]]=u;for(e.valid=1,r.valid=0,e.bfd=r.bfd,r.bfd=null,e.phase=0,e.tm_beg=i(),e.it_beg=e.it_cnt=r.it_cnt,e.it_dpy=-1,e.refct=0,l(j,1,0,_+p),t=1;t<=_;t++)M[t]=1}(L,e),r.msg_lev>=Pc&&Qi("Objective scale factor = "+L.zeta);;){if(0==F){if(0!=(E=function(e){var n=O(e.bfd,e.m,null,t,e);return e.valid=0==n,n}(L)))return r.msg_lev>=Ac&&(Qi("Error: unable to factorize the basis matrix ("+E+")"),Qi("Sorry, basis recovery procedure not implemented yet")),n(!e.valid&&null==e.bfd),e.bfd=L.bfd,L.bfd=null,e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.it_cnt=L.it_cnt,e.some=0,E=df;L.valid=1,F=1,S=N=0}if(0!=N||(v(L),N=1,0==L.phase&&(0!=k(L,.9*r.tol_dj)?(L.phase=1,function(e){var r,t,a=e.m,l=e.n,o=e.type,i=e.lb,u=e.ub,s=e.orig_type,c=e.head,f=e.stat,_=e.cbar;for(t=1;t<=a+l;t++)switch(s[t]){case Qs:o[t]=Zs,i[t]=-1e3,u[t]=1e3;break;case Ys:o[t]=Zs,i[t]=0,u[t]=1;break;case $s:o[t]=Zs,i[t]=-1,u[t]=0;break;case Zs:case ec:o[t]=ec,i[t]=u[t]=0;break;default:n(s!=s)}for(r=1;r<=l;r++)t=c[a+r],Ci&&n(1<=t&&t<=a+l),o[t]==ec?f[r]=lc:_[r]>=0?f[r]=rc:f[r]=tc}(L)):(L.phase=2,w(L)),n(0==x(L,r.tol_dj)),L.refct=0,S=0),0==x(L,r.tol_dj))){switch(n(1==L.phase||2==L.phase),1==L.phase&&0==k(L,r.tol_dj)&&(j(L,r,1),L.phase=2,1!=N&&(v(L),N=1),w(L),L.refct=0,S=0),0==S&&(d(L),2==L.phase&&(L.bbar[0]=A(L)),S=1),r.pricing){case Ec:break;case Fc:0==L.refct&&function(e){var r,t,a=e.m,o=e.n,i=e.head,u=e.refsp,s=e.gamma;for(n(0==e.refct),e.refct=1e3,l(u,1,0,a+o),r=1;r<=a;r++)t=i[r],u[t]=1,s[r]=1}(L);break;default:n(r!=r)}n(F&&S&&N);if(2==L.phase&&L.zeta<0&&r.obj_ll>-Xi&&L.bbar[0]<=r.obj_ll){if(1!=S||1!=N){1!=S&&(S=0),1!=N&&(N=0);continue}return j(L,r,1),r.msg_lev>=Mc&&Qi("OBJECTIVE LOWER LIMIT REACHED; SEARCH TERMINATED"),M(L,e,dc,bc,0),E=vf}if(2==L.phase&&L.zeta>0&&r.obj_ul<+Xi&&L.bbar[0]>=r.obj_ul){if(1!=S||1!=N){1!=S&&(S=0),1!=N&&(N=0);continue}return j(L,r,1),r.msg_lev>=Mc&&Qi("OBJECTIVE UPPER LIMIT REACHED; SEARCH TERMINATED"),M(L,e,dc,bc,0),E=gf}if(r.it_lim<Ui&&L.it_cnt-L.it_beg>=r.it_lim){if(2==L.phase&&1!=S||1!=N){2==L.phase&&1!=S&&(S=0),1!=N&&(N=0);continue}switch(j(L,r,1),r.msg_lev>=Mc&&Qi("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),L.phase){case 1:I=dc,w(L),d(L);break;case 2:I=bc;break;default:n(L!=L)}return M(L,e,dc,I,0),E=hf}if(r.tm_lim<Ui&&1e3*u(i(),L.tm_beg)>=r.tm_lim){if(2==L.phase&&1!=S||1!=N){2==L.phase&&1!=S&&(S=0),1!=N&&(N=0);continue}switch(j(L,r,1),r.msg_lev>=Mc&&Qi("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),L.phase){case 1:I=dc,w(L),d(L);break;case 2:I=bc;break;default:n(L!=L)}return M(L,e,dc,I,0),E=yf}if(j(L,r,0),function(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i,u,s,c,f,_,p=e.type,m=e.lb,b=e.ub,d=e.head,v=e.bbar,g=e.gamma;for(i=0,u=0,s=0,l=1;l<=t;l++)o=d[l],Ci&&n(1<=o&&o<=t+a),f=0,p[o]!=Ys&&p[o]!=Zs&&p[o]!=ec||(c=r*(1+P*Math.abs(m[o])),v[l]<m[o]-c&&(f=m[o]-v[l])),p[o]!=$s&&p[o]!=Zs&&p[o]!=ec||(c=r*(1+P*Math.abs(b[o])),v[l]>b[o]+c&&(f=b[o]-v[l])),0!=f&&(Ci&&n(g[l]>=0),_=g[l],_<Ki&&(_=Ki),_=f*f/_,s<_&&(i=l,u=f,s=_));e.p=i,e.delta=u}(L,r.tol_bnd),0==L.p){if(1!=S||1!=N){1!=S&&(S=0),1!=N&&(N=0);continue}switch(j(L,r,1),L.phase){case 1:r.msg_lev>=Mc&&Qi("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"),w(L),d(L),z=dc,I=vc;break;case 2:r.msg_lev>=Mc&&Qi("OPTIMAL SOLUTION FOUND"),z=I=bc;break;default:n(L!=L)}return M(L,e,z,I,0),E=0}var C=L.work4;switch(function(e,r){var t,a=e.m,l=e.p;for(Ci&&n(1<=l&&l<=a),t=1;t<=a;t++)r[t]=0;r[l]=1,n(e.valid),G(e.bfd,C)}(L,C),R&&function(e,r){var t,a=e.m,l=e.p,o=e.work3;for(Ci&&n(1<=l&&l<=a),t=1;t<=a;t++)o[t]=0;o[l]=1,f(e,o,r)}(L,C),function(e,n){var r,t,a,l=e.m;for(t=0,r=1;r<=l;r++)0!=n[r]&&t++;a=t/l,a>=.2?g(e,n):h(e,n)}(L,C),function(e,r){if(Ci)var t=e.n,a=e.stat;var l,o,i,u,s,c,f=e.trow_nnz,_=e.trow_ind,p=e.trow_vec;for(u=0,i=1;i<=f;i++)Ci&&(l=_[i],n(1<=l&&l<=t),n(a[l]!=lc)),c=Math.abs(p[_[i]]),u<c&&(u=c);for(e.trow_max=u,s=r*(1+.01*u),o=0;o<f;)l=_[f],Math.abs(p[l])<s?f--:(o++,_[f]=_[o],_[o]=l);e.trow_num=o}(L,r.tol_bnd),r.r_test){case Sc:y(L,0);break;case Nc:y(L,.3*r.tol_dj);break;default:n(r!=r)}if(0==L.q){if(1!=S||1!=N||!R){1!=S&&(S=0),1!=N&&(N=0),R=1;continue}switch(j(L,r,1),L.phase){case 1:r.msg_lev>=Ac&&Qi("Error: unable to choose basic variable on phase I"),n(!e.valid&&null==e.bfd),e.bfd=L.bfd,L.bfd=null,e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.it_cnt=L.it_cnt,e.some=0,E=df;break;case 2:r.msg_lev>=Mc&&Qi("PROBLEM HAS NO FEASIBLE SOLUTION"),M(L,e,vc,bc,L.head[L.p]),E=0;break;default:n(L!=L)}return E}var X=L.trow_vec[L.q],B=1e-5*(1+.01*L.trow_max);if(Math.abs(X)<B&&(r.msg_lev>=Pc&&Qi("piv = "+X+"; eps = "+B),!R))R=5;else{!function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,s=e.tcol_ind,c=e.tcol_vec,f=e.tcol_vec;for(Ci&&n(1<=u&&u<=t),l=i[r+u],Ci&&n(1<=l&&l<=r+t),a=1;a<=r;a++)f[a]=0;if(l<=r)f[l]=-1;else{var _,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[l-r],p=b[l-r+1],m=_;m<p;m++)f[d[m]]=v[m]}for(n(e.valid),q(e.bfd,c),o=0,a=1;a<=r;a++)0!=c[a]&&(s[++o]=a);e.tcol_nnz=o}(L),R&&function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,c=e.tcol_ind,f=e.tcol_vec,_=e.work3;for(Ci&&n(1<=u&&u<=t),l=i[r+u],Ci&&n(1<=l&&l<=r+t),a=1;a<=r;a++)_[a]=0;if(l<=r)_[l]=-1;else{var p,m,b,d=e.A_ptr,v=e.A_ind,g=e.A_val;for(p=d[l-r],m=d[l-r+1],b=p;b<m;b++)_[v[b]]=g[b]}for(s(e,_,f),o=0,a=1;a<=r;a++)0!=f[a]&&(c[++o]=a);e.tcol_nnz=o}(L);var D=L.tcol_vec[L.p],U=L.trow_vec[L.q];if(n(0!=D),Math.abs(D-U)>1e-8*(1+Math.abs(D))||!(D>0&&U>0||D<0&&U<0)){if(r.msg_lev>=Pc&&Qi("piv1 = "+D+"; piv2 = "+U),1!=F||!R){1!=F&&(F=0),R=5;continue}0==L.tcol_vec[L.p]&&(L.tcol_nnz++,n(L.tcol_nnz<=L.m),L.tcol_ind[L.tcol_nnz]=L.p),L.tcol_vec[L.p]=U}switch(function(e){if(Ci)var r=e.m,t=e.n;var a,l,o,i=e.bbar,u=e.p,s=e.delta,c=e.q,f=e.tcol_nnz,p=e.tcol_ind,m=e.tcol_vec;if(Ci&&(n(1<=u&&u<=r),n(1<=c&&c<=t),n(0!=m[u])),o=s/m[u],i[u]=_(e,c)+o,0!=o)for(l=1;l<=f;l++)a=p[l],Ci&&n(1<=a&&a<=r),a!=u&&(i[a]+=m[a]*o)}(L),2==L.phase&&(L.bbar[0]+=L.cbar[L.q]/L.zeta*(L.delta/L.tcol_vec[L.p])),S=2,function(e){if(Ci)var r=e.n;var t,a,l=e.cbar,o=e.trow_nnz,i=e.trow_ind,u=e.trow_vec,s=e.q,c=e.new_dq;if(Ci&&n(1<=s&&s<=r),l[s]=c,0!=c)for(a=1;a<=o;a++)t=i[a],Ci&&n(1<=t&&t<=r),t!=s&&(l[t]-=u[t]*c)}(L),N=2,r.pricing){case Ec:break;case Fc:L.refct>0&&function(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i,u,s,c,f,_,p,m=e.type,b=e.head,d=e.refsp,v=e.gamma,g=e.p,h=e.trow_nnz,y=e.trow_ind,k=e.trow_vec,w=e.q,x=e.tcol_nnz,A=e.tcol_ind,j=e.tcol_vec,M=e.work3;for(Ci&&(n(1<=g&&g<=r),n(1<=w&&w<=t)),n(e.refct>0),e.refct--,Ci&&n(m[b[g]]!=Qs),u=s=d[b[g]]?1:0,a=1;a<=r;a++)M[a]=0;for(i=1;i<=h;i++)if(l=y[i],Ci&&n(1<=l&&l<=t),o=b[r+l],Ci&&(n(1<=o&&o<=r+t),n(m[o]!=ec)),d[o])if(f=k[l],u+=f*f,o<=r)M[o]+=f;else{var P,L,z,I=e.A_ptr,E=e.A_ind,F=e.A_val;for(P=I[o-r],L=I[o-r+1],z=P;z<L;z++)M[E[z]]-=f*F[z]}for(n(e.valid),q(e.bfd,M),c=j[g],Ci&&n(0!=c),i=1;i<=x;i++)a=A[i],Ci&&n(1<=a&&a<=r),o=b[a],Ci&&n(1<=o&&o<=r+t),a!=g&&(m[b[a]]!=Qs?(f=j[a]/c,_=v[a]+f*f*u+2*f*M[a],p=(d[o]?1:0)+s*f*f,v[a]=_>=p?_:p,v[a]<Ki&&(v[a]=Ki)):Ci&&n(1==v[a]));if(m[b[r+w]]==Qs?v[g]=1:(v[g]=u/(c*c),v[g]<Ki&&(v[g]=Ki)),o=b[g],m[o]==ec&&d[o])for(d[o]=0,i=1;i<=x;i++){if((a=A[i])==g){if(m[b[r+w]]==Qs)continue;f=1/j[g]}else{if(m[b[a]]==Qs)continue;f=j[a]/j[g]}v[a]-=f*f,v[a]<Ki&&(v[a]=Ki)}}(L);break;default:n(r!=r)}E=function(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i;if(Ci&&(n(1<=r&&r<=a),n(1<=t&&t<=a+l)),t<=a){var u=new Array(2);i=new Array(2),u[1]=t,i[1]=1,n(e.valid),o=T(e.bfd,r,0,1,u,0,i)}else{var s=e.A_ptr,c=e.A_ind,f=e.A_val;i=e.work1;var _,p,m,b;for(_=s[t-a],p=s[t-a+1],b=0,m=_;m<p;m++)i[++b]=-f[m];n(e.valid),o=T(e.bfd,r,0,b,c,_-1,i)}return e.valid=0==o,o}(L,L.p,L.head[L.m+L.q]),0==E?F=2:(L.valid=0,F=0),function(e){var r=e.m;if(Ci)var t=e.n;var a,l=e.type,o=e.head,i=e.bind,u=e.stat,s=e.p,c=e.delta,f=e.q;Ci&&(n(1<=s&&s<=r),n(1<=f&&f<=t)),a=o[s],o[s]=o[r+f],o[r+f]=a,i[o[s]]=s,i[o[r+f]]=r+f,l[a]==ec?u[f]=lc:c>0?(Ci&&n(l[a]==Ys||l[a]==Zs),u[f]=rc):(Ci&&n(l[a]==$s||l[a]==Zs),u[f]=tc)}(L),L.it_cnt++,R>0&&R--}}else{if(r.msg_lev>=Ac&&Qi("Warning: numerical instability (dual simplex, phase "+(1==L.phase?"I":"II")+")"),r.meth==zc)return M(L,e,mc,mc,0),E=df;L.phase=0,F=0,R=5}}}var Ci=!1,Xi=Number.MAX_VALUE,Bi=Number.MIN_VALUE,Di=16,Ui=2147483647,Ki=2.220446049250313e-16,Vi=1,Hi=1e8,Wi=1e8,Ji=-1,Qi=function(e){};e.glp_get_print_func=function(){return Qi},e.glp_set_print_func=function(e){Qi=e};var Yi={},$i=e.glp_version=function(){return Ds+"."+Us},Zi=3621377730,eu=e.glp_create_prob=function(){var e={};return h(e),e},nu=e.glp_set_prob_name=function(e,n){var t=e.tree;null!=t&&0!=t.reason&&r("glp_set_prob_name: operation not allowed"),e.name=n},ru=e.glp_set_obj_name=function(e,n){var t=e.tree;null!=t&&0!=t.reason&&r("glp_set_obj_name: operation not allowed"),e.obj=n},tu=e.glp_set_obj_dir=function(e,n){var t=e.tree;null!=t&&0!=t.reason&&r("glp_set_obj_dir: operation not allowed"),n!=Ks&&n!=Vs&&r("glp_set_obj_dir: dir = "+n+"; invalid direction flag"),e.dir=n},au=e.glp_add_rows=function(e,t){var a,l=e.tree;t<1&&r("glp_add_rows: nrs = "+t+"; invalid number of rows"),t>Hi-e.m&&r("glp_add_rows: nrs = "+t+"; too many rows");var o=e.m+t;if(e.m_max<o){for(;e.m_max<o;)e.m_max+=e.m_max,n(e.m_max>0);e.row.length=1+e.m_max,e.head=new Int32Array(1+e.m_max)}for(var i=e.m+1;i<=o;i++){if(e.row[i]=a={},a.i=i,a.name=null,a.node=null,a.level=0,a.origin=0,a.klass=0,null!=l)switch(l.reason){case 0:break;case nf:n(null!=l.curr),a.level=l.curr.level,a.origin=Hc;break;case af:n(null!=l.curr),a.level=l.curr.level,a.origin=Wc;break;default:n(l!=l)}a.type=Qs,a.lb=a.ub=0,a.ptr=null,a.rii=1,a.stat=nc,a.bind=0,a.prim=a.dual=0,a.pval=a.dval=0,a.mipx=0}return e.m=o,e.valid=0,null!=l&&0!=l.reason&&(l.reopt=1),o-t+1},lu=e.glp_add_cols=function(e,t){var a,l=e.tree;null!=l&&0!=l.reason&&r("glp_add_cols: operation not allowed"),t<1&&r("glp_add_cols: ncs = "+t+"; invalid number of columns"),t>Wi-e.n&&r("glp_add_cols: ncs = "+t+"; too many columns");var o=e.n+t;if(e.n_max<o){for(;e.n_max<o;)e.n_max+=e.n_max,n(e.n_max>0);e.col.length=1+e.n_max}for(var i=e.n+1;i<=o;i++)e.col[i]=a={},a.j=i,a.name=null,a.node=null,a.kind=Hs,a.type=ec,a.lb=a.ub=0,a.coef=0,a.ptr=null,a.sjj=1,a.stat=lc,a.bind=0,a.prim=a.dual=0,a.pval=a.dval=0,a.mipx=0;return e.n=o,o-t+1},ou=e.glp_set_row_name=function(e,t,a){var l=e.tree;1<=t&&t<=e.m||r("glp_set_row_name: i = "+t+"; row number out of range");var o=e.row[t];null!=l&&0!=l.reason&&(n(null!=l.curr),n(o.level==l.curr.level)),null!=o.name&&(delete e.r_tree[o.name],o.name=null),null!=a&&(o.name=a,e.r_tree[o.name]=o)},iu=e.glp_set_col_name=function(e,n,t){var a=e.tree;null!=a&&0!=a.reason&&r("glp_set_col_name: operation not allowed"),1<=n&&n<=e.n||r("glp_set_col_name: j = "+n+"; column number out of range");var l=e.col[n];null!=l.name&&(delete e.c_tree[l.name],l.name=null),null!=t&&(l.name=t,e.c_tree[l.name]=l)},uu=e.glp_set_row_bnds=function(e,n,t,a,l){1<=n&&n<=e.m||r("glp_set_row_bnds: i = "+n+"; row number out of range");var o=e.row[n];switch(o.type=t,t){case Qs:o.lb=o.ub=0,o.stat!=nc&&(o.stat=ac);break;case Ys:o.lb=a,o.ub=0,o.stat!=nc&&(o.stat=rc);break;case $s:o.lb=0,o.ub=l,o.stat!=nc&&(o.stat=tc);break;case Zs:o.lb=a,o.ub=l,o.stat!=nc&&o.stat!=rc&&o.stat!=tc&&(o.stat=Math.abs(a)<=Math.abs(l)?rc:tc);break;case ec:o.lb=o.ub=a,o.stat!=nc&&(o.stat=lc);break;default:r("glp_set_row_bnds: i = "+n+"; type = "+t+"; invalid row type")}},su=e.glp_set_col_bnds=function(e,n,t,a,l){1<=n&&n<=e.n||r("glp_set_col_bnds: j = "+n+"; column number out of range");var o=e.col[n];switch(o.type=t,t){case Qs:o.lb=o.ub=0,o.stat!=nc&&(o.stat=ac);break;case Ys:o.lb=a,o.ub=0,o.stat!=nc&&(o.stat=rc);break;case $s:o.lb=0,o.ub=l,o.stat!=nc&&(o.stat=tc);break;case Zs:o.lb=a,o.ub=l,o.stat!=nc&&o.stat!=rc&&o.stat!=tc&&(o.stat=Math.abs(a)<=Math.abs(l)?rc:tc);break;case ec:o.lb=o.ub=a,o.stat!=nc&&(o.stat=lc);break;default:r("glp_set_col_bnds: j = "+n+"; type = "+t+"; invalid column type")}},cu=e.glp_set_obj_coef=function(e,n,t){var a=e.tree;null!=a&&0!=a.reason&&r("glp_set_obj_coef: operation not allowed"),0<=n&&n<=e.n||r("glp_set_obj_coef: j = "+n+"; column number out of range"),0==n?e.c0=t:e.col[n].coef=t},fu=e.glp_set_mat_row=function(e,t,a,l,o){var i,u,s,c,f,_=e.tree;1<=t&&t<=e.m||r("glp_set_mat_row: i = "+t+"; row number out of range");var p=e.row[t];for(null!=_&&0!=_.reason&&(n(null!=_.curr),n(p.level==_.curr.level));null!=p.ptr;)u=p.ptr,p.ptr=u.r_next,i=u.col,null==u.c_prev?i.ptr=u.c_next:u.c_prev.c_next=u.c_next,null!=u.c_next&&(u.c_next.c_prev=u.c_prev),e.nnz--,i.stat==nc&&(e.valid=0);for(0<=a&&a<=e.n||r("glp_set_mat_row: i = "+t+"; len = "+a+"; invalid row length "),a>5e8-e.nnz&&r("glp_set_mat_row: i = "+t+"; len = "+a+"; too many constraint coefficients"),f=1;f<=a;f++)c=l[f],1<=c&&c<=e.n||r("glp_set_mat_row: i = "+t+"; ind["+f+"] = "+c+"; column index out of range"),i=e.col[c],null!=i.ptr&&i.ptr.row.i==t&&r("glp_set_mat_row: i = "+t+"; ind["+f+"] = "+c+"; duplicate column indices not allowed"),u={},e.nnz++,u.row=p,u.col=i,u.val=o[f],u.r_prev=null,u.r_next=p.ptr,u.c_prev=null,u.c_next=i.ptr,null!=u.r_next&&(u.r_next.r_prev=u),null!=u.c_next&&(u.c_next.c_prev=u),p.ptr=i.ptr=u,i.stat==nc&&0!=u.val&&(e.valid=0);for(u=p.ptr;null!=u;u=s)s=u.r_next,0==u.val&&(null==u.r_prev?p.ptr=s:u.r_prev.r_next=s,null!=s&&(s.r_prev=u.r_prev),n(null==u.c_prev),u.col.ptr=u.c_next,null!=u.c_next&&(u.c_next.c_prev=null),e.nnz--)},_u=e.glp_set_mat_col=function(e,t,a,l,o){var i,u,s,c,f,_=e.tree;null!=_&&0!=_.reason&&r("glp_set_mat_col: operation not allowed"),1<=t&&t<=e.n||r("glp_set_mat_col: j = "+t+"; column number out of range");for(var p=e.col[t];null!=p.ptr;)u=p.ptr,p.ptr=u.c_next,i=u.row,null==u.r_prev?i.ptr=u.r_next:u.r_prev.r_next=u.r_next,null!=u.r_next&&(u.r_next.r_prev=u.r_prev),e.nnz--;for(0<=a&&a<=e.m||r("glp_set_mat_col: j = "+t+"; len = "+a+"; invalid column length"),a>5e8-e.nnz&&r("glp_set_mat_col: j = "+t+"; len = "+a+"; too many constraint coefficients"),f=1;f<=a;f++)c=l[f],1<=c&&c<=e.m||r("glp_set_mat_col: j = "+t+"; ind["+f+"] = "+c+"; row index out of range"),i=e.row[c],null!=i.ptr&&i.ptr.col.j==t&&r("glp_set_mat_col: j = "+t+"; ind["+f+"] = "+c+"; duplicate row indices not allowed"),u={},e.nnz++,u.row=i,u.col=p,u.val=o[f],u.r_prev=null,u.r_next=i.ptr,u.c_prev=null,u.c_next=p.ptr,null!=u.r_next&&(u.r_next.r_prev=u),null!=u.c_next&&(u.c_next.c_prev=u),i.ptr=p.ptr=u;for(u=p.ptr;null!=u;u=s)s=u.c_next,0==u.val&&(n(null==u.r_prev),u.row.ptr=u.r_next,null!=u.r_next&&(u.r_next.r_prev=null),null==u.c_prev?p.ptr=s:u.c_prev.c_next=s,null!=s&&(s.c_prev=u.c_prev),e.nnz--);p.stat==nc&&(e.valid=0)},pu=(e.glp_load_matrix=function(e,t,a,l,o){var i,u,s,c,f,_,p,m=e.tree;for(null!=m&&0!=m.reason&&r("glp_load_matrix: operation not allowed"),f=1;f<=e.m;f++)for(i=e.row[f];null!=i.ptr;)s=i.ptr,i.ptr=s.r_next,e.nnz--;for(n(0==e.nnz),_=1;_<=e.n;_++)e.col[_].ptr=null;for(t<0&&r("glp_load_matrix: ne = "+t+"; invalid number of constraint coefficients"),t>5e8&&r("glp_load_matrix: ne = "+t+"; too many constraint coefficients"),p=1;p<=t;p++)f=a[p],_=l[p],1<=f&&f<=e.m||r("glp_load_matrix: ia["+p+"] = "+f+"; row index out of range"),i=e.row[f],1<=_&&_<=e.n||r("glp_load_matrix: ja["+p+"] = "+_+"; column index out of range"),u=e.col[_],s={},e.nnz++,s.row=i,s.col=u,s.val=o[p],s.r_prev=null,s.r_next=i.ptr,null!=s.r_next&&(s.r_next.r_prev=s),i.ptr=s;for(n(e.nnz==t),f=1;f<=e.m;f++)for(s=e.row[f].ptr;null!=s;s=s.r_next){if(u=s.col,null!=u.ptr&&u.ptr.row.i==f){for(p=1;p<=t&&(a[p]!=f||l[p]!=u.j);p++);r("glp_load_mat: ia["+p+"] = "+f+"; ja["+p+"] = "+u.j+"; duplicate indices not allowed")}s.c_prev=null,s.c_next=u.ptr,null!=s.c_next&&(s.c_next.c_prev=s),u.ptr=s}for(f=1;f<=e.m;f++)for(i=e.row[f],s=i.ptr;null!=s;s=c)c=s.r_next,0==s.val&&(null==s.r_prev?i.ptr=c:s.r_prev.r_next=c,null!=c&&(c.r_prev=s.r_prev),null==s.c_prev?s.col.ptr=s.c_next:s.c_prev.c_next=s.c_next,null!=s.c_next&&(s.c_next.c_prev=s.c_prev),e.nnz--);e.valid=0},e.glp_check_dup=function(e,t,a,l,o){var i,u,s,c,f,_;for(e<0&&r("glp_check_dup: m = %d; invalid parameter"),t<0&&r("glp_check_dup: n = %d; invalid parameter"),a<0&&r("glp_check_dup: ne = %d; invalid parameter"),a>0&&null==l&&r("glp_check_dup: ia = "+l+"; invalid parameter"),a>0&&null==o&&r("glp_check_dup: ja = "+o+"; invalid parameter"),s=1;s<=a;s++)if(i=l[s],u=o[s],!(1<=i&&i<=e&&1<=u&&u<=t))return-s;if(0==e||0==t)return 0;for(c=new Int32Array(1+e),f=new Int32Array(1+a),_=new Int8Array(1+t),s=1;s<=a;s++)i=l[s],f[s]=c[i],c[i]=s;for(i=1;i<=e;i++){for(s=c[i];0!=s;s=f[s]){if(u=o[s],_[u]){for(s=1;s<=a&&(l[s]!=i||o[s]!=u);s++);for(n(s<=a),s++;s<=a&&(l[s]!=i||o[s]!=u);s++);return n(s<=a),+s}_[u]=1}for(s=c[i];0!=s;s=f[s])_[o[s]]=0}return 0},e.glp_sort_matrix=function(e){var n,t,a;for(null!=e&&e.magic==Zi||r("glp_sort_matrix: P = "+e+"; invalid problem object"),t=e.m;t>=1;t--)e.row[t].ptr=null;for(a=e.n;a>=1;a--)for(n=e.col[a].ptr;null!=n;n=n.c_next)t=n.row.i,n.r_prev=null,n.r_next=e.row[t].ptr,null!=n.r_next&&(n.r_next.r_prev=n),e.row[t].ptr=n;for(a=e.n;a>=1;a--)e.col[a].ptr=null;for(t=e.m;t>=1;t--)for(n=e.row[t].ptr;null!=n;n=n.r_next)a=n.col.j,n.c_prev=null,n.c_next=e.col[a].ptr,null!=n.c_next&&(n.c_next.c_prev=n),e.col[a].ptr=n}),mu=e.glp_del_rows=function(e,t,a){var l,o,i,u,s=e.tree;for(1<=t&&t<=e.m||r("glp_del_rows: nrs = "+t+"; invalid number of rows"),i=1;i<=t;i++)o=a[i],1<=o&&o<=e.m||r("glp_del_rows: num["+i+"] = "+o+"; row number out of range"),l=e.row[o],null!=s&&0!=s.reason&&(s.reason!=nf&&s.reason!=af&&r("glp_del_rows: operation not allowed"),n(null!=s.curr),l.level!=s.curr.level&&r("glp_del_rows: num["+i+"] = "+o+"; invalid attempt to delete row created not in current subproblem"),l.stat!=nc&&r("glp_del_rows: num["+i+"] = "+o+"; invalid attempt to delete active row (constraint)"),s.reinv=1),0==l.i&&r("glp_del_rows: num["+i+"] = "+o+"; duplicate row numbers not allowed"),ou(e,o,null),n(null==l.node),fu(e,o,0,null,null),n(null==l.ptr),l.i=0;for(u=0,o=1;o<=e.m;o++)l=e.row[o],0!=l.i&&(l.i=++u,e.row[l.i]=l);e.m=u,e.valid=0},bu=(e.glp_del_cols=function(e,t,a){var l,o,i,u,s=e.tree;for(null!=s&&0!=s.reason&&r("glp_del_cols: operation not allowed"),1<=t&&t<=e.n||r("glp_del_cols: ncs = "+t+"; invalid number of columns"),i=1;i<=t;i++)o=a[i],1<=o&&o<=e.n||r("glp_del_cols: num["+i+"] = "+o+"; column number out of range"),l=e.col[o],0==l.j&&r("glp_del_cols: num["+i+"] = "+o+"; duplicate column numbers not allowed"),iu(e,o,null),n(null==l.node),_u(e,o,0,null,null),n(null==l.ptr),l.j=0,l.stat==nc&&(e.valid=0);for(u=0,o=1;o<=e.n;o++)l=e.col[o],0!=l.j&&(l.j=++u,e.col[l.j]=l);if(e.n=u,e.valid){var c=e.m,f=e.head;for(o=1;o<=u;o++)0!=(i=e.col[o].bind)&&(n(1<=i&&i<=c),f[i]=c+o)}},e.glp_copy_prob=function(e,n,t){var a,l,o,i,u,s=e.tree,c={};null!=s&&0!=s.reason&&r("glp_copy_prob: operation not allowed"),e==n&&r("glp_copy_prob: copying problem object to itself not allowed"),t!=Zc&&t!=ef&&r("glp_copy_prob: names = "+t+"; invalid parameter"),du(e),t&&null!=n.name&&nu(e,n.name),t&&null!=n.obj&&ru(e,n.obj),e.dir=n.dir,e.c0=n.c0,n.m>0&&au(e,n.m),n.n>0&&lu(e,n.n),fs(n,c),_s(e,c),e.pbs_stat=n.pbs_stat,e.dbs_stat=n.dbs_stat,e.obj_val=n.obj_val,e.some=n.some,e.ipt_stat=n.ipt_stat,e.ipt_obj=n.ipt_obj,e.mip_stat=n.mip_stat,e.mip_obj=n.mip_obj;var f,_;for(a=1;a<=n.m;a++)f=e.row[a],_=n.row[a],t&&null!=_.name&&ou(e,a,_.name),f.type=_.type,f.lb=_.lb,f.ub=_.ub,f.rii=_.rii,f.stat=_.stat,f.prim=_.prim,f.dual=_.dual,f.pval=_.pval,f.dval=_.dval,f.mipx=_.mipx;for(i=new Int32Array(1+n.m),u=new Float64Array(1+n.m),l=1;l<=n.n;l++)f=e.col[l],_=n.col[l],t&&null!=_.name&&iu(e,l,_.name),f.kind=_.kind,f.type=_.type,f.lb=_.lb,f.ub=_.ub,f.coef=_.coef,o=Iu(n,l,i,u),_u(e,l,o,i,u),f.sjj=_.sjj,f.stat=_.stat,f.prim=_.prim,f.dual=_.dual,f.pval=_.pval,f.dval=_.dval,f.mipx=_.mipx}),du=e.glp_erase_prob=function(e){var n=e.tree;null!=n&&0!=n.reason&&r("glp_erase_prob: operation not allowed"),y(e),h(e)},vu=(e.glp_get_prob_name=function(e){return e.name},e.glp_get_obj_name=function(e){return e.obj}),gu=e.glp_get_obj_dir=function(e){return e.dir},hu=e.glp_get_num_rows=function(e){return e.m},yu=e.glp_get_num_cols=function(e){return e.n},ku=e.glp_get_row_name=function(e,n){return 1<=n&&n<=e.m||r("glp_get_row_name: i = "+n+"; row number out of range"),e.row[n].name},wu=e.glp_get_col_name=function(e,n){return 1<=n&&n<=e.n||r("glp_get_col_name: j = "+n+"; column number out of range"),e.col[n].name},xu=e.glp_get_row_type=function(e,n){return 1<=n&&n<=e.m||r("glp_get_row_type: i = "+n+"; row number out of range"),e.row[n].type},Au=e.glp_get_row_lb=function(e,t){var a;switch(1<=t&&t<=e.m||r("glp_get_row_lb: i = "+t+"; row number out of range"),e.row[t].type){case Qs:case $s:a=-Xi;break;case Ys:case Zs:case ec:a=e.row[t].lb;break;default:n(e!=e)}return a},ju=e.glp_get_row_ub=function(e,t){var a;switch(1<=t&&t<=e.m||r("glp_get_row_ub: i = "+t+"; row number out of range"),e.row[t].type){case Qs:case Ys:a=+Xi;break;case $s:case Zs:case ec:a=e.row[t].ub;break;default:n(e!=e)}return a},Mu=e.glp_get_col_type=function(e,n){return 1<=n&&n<=e.n||r("glp_get_col_type: j = "+n+"; column number out of range"),e.col[n].type},Pu=e.glp_get_col_lb=function(e,t){var a;switch(1<=t&&t<=e.n||r("glp_get_col_lb: j = "+t+"; column number out of range"),e.col[t].type){case Qs:case $s:a=-Xi;break;case Ys:case Zs:case ec:a=e.col[t].lb;break;default:n(e!=e)}return a},Lu=e.glp_get_col_ub=function(e,t){var a;switch(1<=t&&t<=e.n||r("glp_get_col_ub: j = "+t+"; column number out of range"),e.col[t].type){case Qs:case Ys:a=+Xi;break;case $s:case Zs:case ec:a=e.col[t].ub;break;default:n(e!=e)}return a},zu=(e.glp_get_obj_coef=function(e,n){return 0<=n&&n<=e.n||r("glp_get_obj_coef: j = "+n+"; column number out of range"),0==n?e.c0:e.col[n].coef},e.glp_get_num_nz=function(e){return e.nnz},e.glp_get_mat_row=function(e,t,a,l){var o,i;for(1<=t&&t<=e.m||r("glp_get_mat_row: i = "+t+"; row number out of range"),i=0,o=e.row[t].ptr;null!=o;o=o.r_next)i++,null!=a&&(a[i]=o.col.j),null!=l&&(l[i]=o.val);return n(i<=e.n),i}),Iu=e.glp_get_mat_col=function(e,t,a,l){var o,i;for(1<=t&&t<=e.n||r("glp_get_mat_col: j = "+t+"; column number out of range"),i=0,o=e.col[t].ptr;null!=o;o=o.c_next)i++,null!=a&&(a[i]=o.row.i),null!=l&&(l[i]=o.val);return n(i<=e.m),i},Eu=e.glp_create_index=function(e){var n,r,t,a;if(null==e.r_tree)for(e.r_tree={},t=1;t<=e.m;t++)n=e.row[t],null!=n.name&&(e.r_tree[n.name]=n);if(null==e.c_tree)for(e.c_tree={},a=1;a<=e.n;a++)r=e.col[a],null!=r.name&&(e.c_tree[r.name]=r)},Fu=e.glp_find_row=function(e,n){var t=0;null==e.r_tree&&r("glp_find_row: row name index does not exist");var a=e.r_tree[n];return a&&(t=a.i),t},Su=e.glp_find_col=function(e,n){var t=0;null==e.c_tree&&r("glp_find_col: column name index does not exist");var a=e.c_tree[n];return a&&(t=a.j),t},Nu=e.glp_delete_index=function(e){e.r_tree=null,e.r_tree=null},Ou=e.glp_set_rii=function(e,n,t){if(1<=n&&n<=e.m||r("glp_set_rii: i = "+n+"; row number out of range"),t<=0&&r("glp_set_rii: i = "+n+"; rii = "+t+"; invalid scale factor"),e.valid&&e.row[n].rii!=t)for(var a=e.row[n].ptr;null!=a;a=a.r_next)if(a.col.stat==nc){e.valid=0;break}e.row[n].rii=t},qu=e.glp_set_sjj=function(e,n,t){1<=n&&n<=e.n||r("glp_set_sjj: j = "+n+"; column number out of range"),t<=0&&r("glp_set_sjj: j = "+n+"; sjj = "+t+"; invalid scale factor"),e.valid&&e.col[n].sjj!=t&&e.col[n].stat==nc&&(e.valid=0),e.col[n].sjj=t},Gu=e.glp_get_rii=function(e,n){return 1<=n&&n<=e.m||r("glp_get_rii: i = "+n+"; row number out of range"),e.row[n].rii},Tu=e.glp_get_sjj=function(e,n){return 1<=n&&n<=e.n||r("glp_get_sjj: j = "+n+"; column number out of range"),e.col[n].sjj},Ru=e.glp_unscale_prob=function(e){var n,r,t=hu(e),a=yu(e);for(n=1;n<=t;n++)Ou(e,n,1);for(r=1;r<=a;r++)qu(e,r,1)},Cu=e.glp_set_row_stat=function(e,t,a){var l;if(1<=t&&t<=e.m||r("glp_set_row_stat: i = "+t+"; row number out of range"),a!=nc&&a!=rc&&a!=tc&&a!=ac&&a!=lc&&r("glp_set_row_stat: i = "+t+"; stat = "+a+"; invalid status"),l=e.row[t],a!=nc)switch(l.type){case Qs:a=ac;break;case Ys:a=rc;break;case $s:a=tc;break;case Zs:a!=tc&&(a=rc);break;case ec:a=lc;break;default:n(l!=l)}(l.stat==nc&&a!=nc||l.stat!=nc&&a==nc)&&(e.valid=0),l.stat=a},Xu=e.glp_set_col_stat=function(e,t,a){var l;if(1<=t&&t<=e.n||r("glp_set_col_stat: j = "+t+"; column number out of range"),a!=nc&&a!=rc&&a!=tc&&a!=ac&&a!=lc&&r("glp_set_col_stat: j = "+t+"; stat = "+a+"; invalid status"),l=e.col[t],a!=nc)switch(l.type){case Qs:a=ac;break;case Ys:a=rc;break;case $s:a=tc;break;case Zs:a!=tc&&(a=rc);break;case ec:a=lc;break;default:n(l!=l)}(l.stat==nc&&a!=nc||l.stat!=nc&&a==nc)&&(e.valid=0),l.stat=a},Bu=e.glp_std_basis=function(e){var n,r;for(n=1;n<=e.m;n++)Cu(e,n,nc);for(r=1;r<=e.n;r++){var t=e.col[r];t.type==Zs&&Math.abs(t.lb)>Math.abs(t.ub)?Xu(e,r,tc):Xu(e,r,rc)}},Du=e.glp_simplex=function(e,t){function a(e,r){var t;return ss(e)||(t=cs(e),0==t||(t==_f?r.msg_lev>=Ac&&Qi("glp_simplex: initial basis is invalid"):t==pf?r.msg_lev>=Ac&&Qi("glp_simplex: initial basis is singular"):t==mf?r.msg_lev>=Ac&&Qi("glp_simplex: initial basis is ill-conditioned"):n(t!=t)),0==t)?(r.meth==Lc?t=Ti(e,r):r.meth==zc?(t=Ri(e,r))==df&&e.valid&&(t=Ti(e,r)):r.meth==Ic?t=Ri(e,r):n(r!=r),t):t}var l,o,i;for(null!=e&&e.magic==Zi||r("glp_simplex: P = "+e+"; invalid problem object"),null!=e.tree&&0!=e.tree.reason&&r("glp_simplex: operation not allowed"),null==t&&(t=new Uu),t.msg_lev!=xc&&t.msg_lev!=Ac&&t.msg_lev!=jc&&t.msg_lev!=Mc&&t.msg_lev!=Pc&&r("glp_simplex: msg_lev = "+t.msg_lev+"; invalid parameter"),t.meth!=Lc&&t.meth!=zc&&t.meth!=Ic&&r("glp_simplex: meth = "+t.meth+"; invalid parameter"),t.pricing!=Ec&&t.pricing!=Fc&&r("glp_simplex: pricing = "+t.pricing+"; invalid parameter"),t.r_test!=Sc&&t.r_test!=Nc&&r("glp_simplex: r_test = "+t.r_test+"; invalid parameter"),0<t.tol_bnd&&t.tol_bnd<1||r("glp_simplex: tol_bnd = "+t.tol_bnd+"; invalid parameter"),0<t.tol_dj&&t.tol_dj<1||r("glp_simplex: tol_dj = "+t.tol_dj+"; invalid parameter"),0<t.tol_piv&&t.tol_piv<1||r("glp_simplex: tol_piv = "+t.tol_piv+"; invalid parameter"),t.it_lim<0&&r("glp_simplex: it_lim = "+t.it_lim+"; invalid parameter"),t.tm_lim<0&&r("glp_simplex: tm_lim = "+t.tm_lim+"; invalid parameter"),t.out_frq<1&&r("glp_simplex: out_frq = "+t.out_frq+"; invalid parameter"),t.out_dly<0&&r("glp_simplex: out_dly = "+t.out_dly+"; invalid parameter"),t.presolve!=Zc&&t.presolve!=ef&&r("glp_simplex: presolve = "+t.presolve+"; invalid parameter"),e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.some=0,l=1;l<=e.m;l++){var u=e.row[l];if(u.type==Zs&&u.lb>=u.ub)return t.msg_lev>=Ac&&Qi("glp_simplex: row "+l+": lb = "+u.lb+", ub = "+u.ub+"; incorrect bounds"),i=bf}for(o=1;o<=e.n;o++){var s=e.col[o];if(s.type==Zs&&s.lb>=s.ub)return t.msg_lev>=Ac&&Qi("glp_simplex: column "+o+": lb = "+s.lb+", ub = "+s.ub+"; incorrect bounds"),i=bf}return t.msg_lev>=Mc&&(Qi("GLPK Simplex Optimizer, v"+$i()),Qi(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s"))),0==e.nnz?(!function(e,n){function r(){l.stat=rc,l.prim=l.lb}function t(){l.stat=tc,l.prim=l.ub}var a,l,o,i,u,s,c;for(e.valid=0,e.pbs_stat=e.dbs_stat=bc,e.obj_val=e.c0,e.some=0,u=s=0,o=1;o<=e.m;o++)a=e.row[o],a.stat=nc,a.prim=a.dual=0,a.type!=Ys&&a.type!=Zs&&a.type!=ec||(a.lb>+n.tol_bnd&&(e.pbs_stat=vc,0==e.some&&n.meth!=Lc&&(e.some=o)),u<+a.lb&&(u=+a.lb)),a.type!=$s&&a.type!=Zs&&a.type!=ec||(a.ub<-n.tol_bnd&&(e.pbs_stat=vc,0==e.some&&n.meth!=Lc&&(e.some=o)),u<-a.ub&&(u=-a.ub));for(c=1,i=1;i<=e.n;i++)l=e.col[i],c<Math.abs(l.coef)&&(c=Math.abs(l.coef));for(c=(e.dir==Ks?1:-1)/c,i=1;i<=e.n;i++)l=e.col[i],l.type==Qs?(l.stat=ac,l.prim=0):l.type==Ys?r():l.type==$s?t():l.type==Zs?c*l.coef>0?r():c*l.coef<0?t():Math.abs(l.lb)<=Math.abs(l.ub)?r():t():l.type==ec&&(l.stat=lc,l.prim=l.lb),l.dual=l.coef,e.obj_val+=l.coef*l.prim,l.type!=Qs&&l.type!=Ys||(c*l.dual<-n.tol_dj&&(e.dbs_stat=vc,0==e.some&&n.meth==Lc&&(e.some=e.m+i)),s<-c*l.dual&&(s=-c*l.dual)),l.type!=Qs&&l.type!=$s||(c*l.dual>+n.tol_dj&&(e.dbs_stat=vc,0==e.some&&n.meth==Lc&&(e.some=e.m+i)),s<+c*l.dual&&(s=+c*l.dual));n.msg_lev>=jc&&0==n.out_dly&&Qi("~"+e.it_cnt+": obj = "+e.obj_val+"  infeas = "+(n.meth==Lc?u:s)),n.msg_lev>=Mc&&0==n.out_dly&&Qi(e.pbs_stat==bc&&e.dbs_stat==bc?"OPTIMAL SOLUTION FOUND":e.pbs_stat==vc?"PROBLEM HAS NO FEASIBLE SOLUTION":n.meth==Lc?"PROBLEM HAS UNBOUNDED SOLUTION":"PROBLEM HAS NO DUAL FEASIBLE SOLUTION")}(e,t),i=0):i=t.presolve?function(e,r){function t(){return qo(l,i),i=null,Go(l,e),o=0}var l,o,i=null,u={};if(r.msg_lev>=Mc&&Qi("Preprocessing..."),l=go(),No(l,e,ef,fc,ef),o=bi(l,r),0==o||(o==kf?r.msg_lev>=Mc&&Qi("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):o==wf?r.msg_lev>=Mc&&Qi("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"):n(o!=o)),0!=o)return o;if(i=eu(),Oo(l,i),0==i.m&&0==i.n)return i.pbs_stat=i.dbs_stat=bc,i.obj_val=i.c0,r.msg_lev>=jc&&0==r.out_dly&&Qi(e.it_cnt+": obj = "+i.obj_val+"  infeas = 0.0"),r.msg_lev>=Mc&&Qi("OPTIMAL SOLUTION FOUND BY LP PREPROCESSOR"),t();r.msg_lev>=Mc&&Qi(i.m+" row"+(1==i.m?"":"s")+", "+i.n+" column"+(1==i.n?"":"s")+", "+i.nnz+" non-zero"+(1==i.nnz?"":"s")),fs(e,u),_s(i,u);var s=c(),f=s.term_out;return!f||r.msg_lev<Mc?s.term_out=ef:s.term_out=Zc,Xd(i,cc),s.term_out=f,s=c(),f=s.term_out,!f||r.msg_lev<Mc?s.term_out=ef:s.term_out=Zc,H(i,0),s.term_out=f,i.it_cnt=e.it_cnt,o=a(i,r),e.it_cnt=i.it_cnt,0!=o||i.pbs_stat!=bc||i.dbs_stat!=bc?(r.msg_lev>=Ac&&Qi("glp_simplex: unable to recover undefined or non-optimal solution"),0==o&&(i.pbs_stat==vc?o=kf:i.dbs_stat==vc?o=wf:n(i!=i)),o):t()}(e,t):a(e,t),i},Uu=e.SMCP=function(e){e=e||{},this.msg_lev=e.msg_lev||Mc,this.meth=e.meth||Lc,this.pricing=e.pricing||Fc,this.r_test=e.r_test||Nc,this.tol_bnd=e.tol_bnd||1e-7,this.tol_dj=e.tol_dj||1e-7,this.tol_piv=e.tol_piv||1e-10,this.obj_ll=e.obj_ll||-Xi,this.obj_ul=e.obj_ul||+Xi,this.it_lim=e.it_lim||Ui,this.tm_lim=e.tm_lim||Ui,this.out_frq=e.out_frq||500,this.out_dly=e.out_dly||0,this.presolve=e.presolve||ef},Ku=e.glp_get_status=function(e){var r;switch(r=Vu(e)){case bc:switch(Hu(e)){case bc:r=gc;break;case vc:r=hc;break;case mc:case dc:break;default:n(e!=e)}break;case mc:case dc:case vc:break;default:n(e!=e)}return r},Vu=e.glp_get_prim_stat=function(e){return e.pbs_stat},Hu=e.glp_get_dual_stat=function(e){return e.dbs_stat},Wu=e.glp_get_obj_val=function(e){return e.obj_val},Ju=e.glp_get_row_stat=function(e,n){return 1<=n&&n<=e.m||r("glp_get_row_stat: i = "+n+"; row number out of range"),e.row[n].stat},Qu=e.glp_get_row_prim=function(e,n){return 1<=n&&n<=e.m||r("glp_get_row_prim: i = "+n+"; row number out of range"),e.row[n].prim},Yu=e.glp_get_row_dual=function(e,n){return 1<=n&&n<=e.m||r("glp_get_row_dual: i = "+n+"; row number out of range"),e.row[n].dual},$u=e.glp_get_col_stat=function(e,n){return 1<=n&&n<=e.n||r("glp_get_col_stat: j = "+n+"; column number out of range"),e.col[n].stat},Zu=e.glp_get_col_prim=function(e,n){return 1<=n&&n<=e.n||r("glp_get_col_prim: j = "+n+"; column number out of range"),e.col[n].prim},es=e.glp_get_col_dual=function(e,n){return 1<=n&&n<=e.n||r("glp_get_col_dual: j = "+n+"; column number out of range"),e.col[n].dual},ns=(e.glp_get_unbnd_ray=function(e){var r=e.some;return n(r>=0),r>e.m+e.n&&(r=0),r},e.glp_set_col_kind=function(e,n,t){1<=n&&n<=e.n||r("glp_set_col_kind: j = "+n+"; column number out of range");var a=e.col[n];switch(t){case Hs:a.kind=Hs;break;case Ws:a.kind=Ws;break;case Js:a.kind=Ws,a.type==Zs&&0==a.lb&&1==a.ub||su(e,n,Zs,0,1);break;default:r("glp_set_col_kind: j = "+n+"; kind = "+t+"; invalid column kind")}}),rs=e.glp_get_col_kind=function(e,t){1<=t&&t<=e.n||r("glp_get_col_kind: j = "+t+"; column number out of range");var a=e.col[t],l=a.kind;switch(l){case Hs:break;case Ws:a.type==Zs&&0==a.lb&&1==a.ub&&(l=Js);break;default:n(l!=l)}return l},ts=e.glp_get_num_int=function(e){for(var n,r=0,t=1;t<=e.n;t++)n=e.col[t],n.kind==Ws&&r++;return r},as=e.glp_get_num_bin=function(e){for(var n,r=0,t=1;t<=e.n;t++)n=e.col[t],n.kind==Ws&&n.type==Zs&&0==n.lb&&1==n.ub&&r++;return r},ls=e.glp_intopt=function(e,t){function a(e,r){var t,a;return Ku(e)!=gc?(r.msg_lev>=Ac&&Qi("glp_intopt: optimal basis to initial LP relaxation not provided"),a=xf):(r.msg_lev>=Mc&&Qi("Integer optimization begins..."),t=Q(e,r),a=_e(t),ne(t),0==a?e.mip_stat==bc?(r.msg_lev>=Mc&&Qi("INTEGER OPTIMAL SOLUTION FOUND"),e.mip_stat=gc):(r.msg_lev>=Mc&&Qi("PROBLEM HAS NO INTEGER FEASIBLE SOLUTION"),e.mip_stat=vc):a==jf?r.msg_lev>=Mc&&Qi("RELATIVE MIP GAP TOLERANCE REACHED; SEARCH TERMINATED"):a==yf?r.msg_lev>=Mc&&Qi("TIME LIMIT EXCEEDED; SEARCH TERMINATED"):a==df?r.msg_lev>=Ac&&Qi("glp_intopt: cannot solve current LP relaxation"):a==Af?r.msg_lev>=Mc&&Qi("SEARCH TERMINATED BY APPLICATION"):n(a!=a),a)}var l,o,i;for(null!=e&&e.magic==Zi||r("glp_intopt: P = "+e+"; invalid problem object"),null!=e.tree&&r("glp_intopt: operation not allowed"),null==t&&(t=new os),t.msg_lev!=xc&&t.msg_lev!=Ac&&t.msg_lev!=jc&&t.msg_lev!=Mc&&t.msg_lev!=Pc&&r("glp_intopt: msg_lev = "+t.msg_lev+"; invalid parameter"),t.br_tech!=Oc&&t.br_tech!=qc&&t.br_tech!=Gc&&t.br_tech!=Tc&&t.br_tech!=Rc&&r("glp_intopt: br_tech = "+t.br_tech+"; invalid parameter"),t.bt_tech!=Cc&&t.bt_tech!=Xc&&t.bt_tech!=Bc&&t.bt_tech!=Dc&&r("glp_intopt: bt_tech = "+t.bt_tech+"; invalid parameter"),0<t.tol_int&&t.tol_int<1||r("glp_intopt: tol_int = "+t.tol_int+"; invalid parameter"),0<t.tol_obj&&t.tol_obj<1||r("glp_intopt: tol_obj = "+t.tol_obj+"; invalid parameter"),t.tm_lim<0&&r("glp_intopt: tm_lim = "+t.tm_lim+"; invalid parameter"),t.out_frq<0&&r("glp_intopt: out_frq = "+t.out_frq+"; invalid parameter"),t.out_dly<0&&r("glp_intopt: out_dly = "+t.out_dly+"; invalid parameter"),0<=t.cb_size&&t.cb_size<=256||r("glp_intopt: cb_size = "+t.cb_size+"; invalid parameter"),t.pp_tech!=Uc&&t.pp_tech!=Kc&&t.pp_tech!=Vc&&r("glp_intopt: pp_tech = "+t.pp_tech+"; invalid parameter"),t.mip_gap<0&&r("glp_intopt: mip_gap = "+t.mip_gap+"; invalid parameter"),t.mir_cuts!=Zc&&t.mir_cuts!=ef&&r("glp_intopt: mir_cuts = "+t.mir_cuts+"; invalid parameter"),t.gmi_cuts!=Zc&&t.gmi_cuts!=ef&&r("glp_intopt: gmi_cuts = "+t.gmi_cuts+"; invalid parameter"),t.cov_cuts!=Zc&&t.cov_cuts!=ef&&r("glp_intopt: cov_cuts = "+t.cov_cuts+"; invalid parameter"),t.clq_cuts!=Zc&&t.clq_cuts!=ef&&r("glp_intopt: clq_cuts = "+t.clq_cuts+"; invalid parameter"),t.presolve!=Zc&&t.presolve!=ef&&r("glp_intopt: presolve = "+t.presolve+"; invalid parameter"),t.binarize!=Zc&&t.binarize!=ef&&r("glp_intopt: binarize = "+t.binarize+"; invalid parameter"),t.fp_heur!=Zc&&t.fp_heur!=ef&&r("glp_intopt: fp_heur = "+t.fp_heur+"; invalid parameter"),e.mip_stat=mc,e.mip_obj=0,l=1;l<=e.m;l++){var u=e.row[l];if(u.type==Zs&&u.lb>=u.ub)return t.msg_lev>=Ac&&Qi("glp_intopt: row "+l+": lb = "+u.lb+", ub = "+u.ub+"; incorrect bounds"),bf}for(o=1;o<=e.n;o++)if(i=e.col[o],i.type==Zs&&i.lb>=i.ub)return t.msg_lev>=Ac&&Qi("glp_intopt: column "+o+": lb = "+i.lb+", ub = "+i.ub+"; incorrect bounds"),bf;for(o=1;o<=e.n;o++)if(i=e.col[o],i.kind==Ws){if((i.type==Ys||i.type==Zs)&&i.lb!=Math.floor(i.lb))return t.msg_lev>=Ac&&Qi("glp_intopt: integer column "+o+" has non-integer lower bound "+i.lb),bf;if((i.type==$s||i.type==Zs)&&i.ub!=Math.floor(i.ub))return t.msg_lev>=Ac&&Qi("glp_intopt: integer column "+o+" has non-integer upper bound "+i.ub),bf;if(i.type==ec&&i.lb!=Math.floor(i.lb))return t.msg_lev>=Ac&&Qi("glp_intopt: integer column "+o+" has non-integer fixed value "+i.lb),bf}if(t.msg_lev>=Mc){var s,f=ts(e),_=as(e);Qi("GLPK Integer Optimizer, v"+$i()),Qi(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s")),s=0==_?"none of":1==f&&1==_?"":1==_?"one of":_==f?"all of":_+" of",Qi(f+" integer variable"+(1==f?"":"s")+", "+s+" which "+(1==_?"is":"are")+" binary")}return t.presolve?function(e,r){function t(){return qo(l,s),s=null,Go(l,e),o}var l,o,i=c(),u=i.term_out,s=null,f={};if(r.msg_lev>=Mc&&Qi("Preprocessing..."),l=go(),No(l,e,ef,pc,ef),!u||r.msg_lev<Mc?i.term_out=ef:i.term_out=Zc,o=di(l,r),i.term_out=u,0==o||(o==kf?r.msg_lev>=Mc&&Qi("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):o==wf?r.msg_lev>=Mc&&Qi("LP RELAXATION HAS NO DUAL FEASIBLE SOLUTION"):n(o!=o)),0!=o)return o;if(s=eu(),Oo(l,s),0==s.m&&0==s.n)return s.mip_stat=gc,s.mip_obj=s.c0,r.msg_lev>=Mc&&(Qi("Objective value = "+s.mip_obj),Qi("INTEGER OPTIMAL SOLUTION FOUND BY MIP PREPROCESSOR")),t();if(r.msg_lev>=Mc){var _,p=ts(s),m=as(s);Qi(s.m+" row"+(1==s.m?"":"s")+", "+s.n+" column"+(1==s.n?"":"s")+", "+s.nnz+" non-zero"+(1==s.nnz?"":"s")),_=0==m?"none of":1==p&&1==m?"":1==m?"one of":m==p?"all of":m+" of",Qi(p+" integer variable"+(1==p?"":"s")+", "+_+" which "+(1==m?"is":"are")+" binary")}fs(e,f),_s(s,f),!u||r.msg_lev<Mc?i.term_out=ef:i.term_out=Zc,Xd(s,oc|ic|uc|sc),i.term_out=u,!u||r.msg_lev<Mc?i.term_out=ef:i.term_out=Zc,H(s,0),i.term_out=u,r.msg_lev>=Mc&&Qi("Solving LP relaxation...");var b=new Uu;return b.msg_lev=r.msg_lev,s.it_cnt=e.it_cnt,o=Du(s,b),e.it_cnt=s.it_cnt,0!=o?(r.msg_lev>=Ac&&Qi("glp_intopt: cannot solve LP relaxation"),o=df):(o=Ku(s),o==gc?o=0:o==vc?o=kf:o==hc?o=wf:n(o!=o),0!=o?o:(s.it_cnt=e.it_cnt,o=a(s,r),e.it_cnt=s.it_cnt,s.mip_stat!=gc&&s.mip_stat!=bc?(e.mip_stat=s.mip_stat,o):t()))}(e,t):a(e,t)},os=e.IOCP=function(e){e=e||{},this.msg_lev=e.msg_lev||Mc,this.br_tech=e.br_tech||Tc,this.bt_tech=e.bt_tech||Bc,this.tol_int=e.tol_int||1e-5,this.tol_obj=e.tol_obj||1e-7,this.tm_lim=e.tm_lim||Ui,this.out_frq=e.out_frq||5e3,this.out_dly=e.out_dly||1e4,this.cb_func=e.cb_func||null,this.cb_info=e.cb_info||null,this.cb_size=e.cb_size||0,this.pp_tech=e.pp_tech||Vc,this.mip_gap=e.mip_gap||0,this.mir_cuts=e.mir_cuts||ef,this.gmi_cuts=e.gmi_cuts||ef,this.cov_cuts=e.cov_cuts||ef,this.clq_cuts=e.clq_cuts||ef,this.presolve=e.presolve||ef,this.binarize=e.binarize||ef,this.fp_heur=e.fp_heur||ef},is=(e.glp_mip_status=function(e){return e.mip_stat},e.glp_mip_obj_val=function(e){return e.mip_obj},e.glp_mip_row_val=function(e,n){return 1<=n&&n<=e.m||r("glp_mip_row_val: i = "+n+"; row number out of range"),e.row[n].mipx}),us=e.glp_mip_col_val=function(e,n){return 1<=n&&n<=e.n||r("glp_mip_col_val: j = "+n+"; column number out of range"),e.col[n].mipx},ss=e.glp_bf_exists=function(e){return 0==e.m||e.valid},cs=e.glp_factorize=function(e){function r(e,r,t,a){var l,o,i,u=e.m;if(n(1<=r&&r<=u),(o=e.head[r])<=u)i=1,t[1]=o,a[1]=1;else for(i=0,l=e.col[o-u].ptr;null!=l;l=l.c_next)i++,t[i]=l.row.i,a[i]=-l.row.rii*l.val*l.col.sjj;return i}var t,a,l,o=e.m,i=e.n,u=e.row,s=e.col,c=e.head;for(e.valid=0,t=0,a=1;a<=o+i;a++)if(a<=o?(l=u[a].stat,u[a].bind=0):(l=s[a-o].stat,s[a-o].bind=0),l==nc){if(++t>o)return _f;c[t]=a,a<=o?u[a].bind=t:s[a-o].bind=t}if(t<o)return _f;if(o>0){switch(null==e.bfd&&(e.bfd=S(),k(e)),O(e.bfd,o,e.head,r,e)){case 0:break;case js:return pf;case Ms:return mf;default:n(e!=e)}e.valid=1}return 0},fs=(e.glp_bf_updated=function(e){return 0==e.m||e.valid||r("glp_bf_update: basis factorization does not exist"),0==e.m?0:R(e.bfd)},e.glp_get_bfcp=function(e,n){var r=e.bfcp;null==r?(n.type=yc,n.lu_size=0,n.piv_tol=.1,n.piv_lim=4,n.suhl=Zc,n.eps_tol=1e-15,n.max_gro=1e10,n.nfs_max=100,n.upd_tol=1e-6,n.nrs_max=100,n.rs_size=0):t(n,r)}),_s=e.glp_set_bfcp=function(e,n){var a=e.bfcp;null==n?null!=a&&(e.bfcp=null):(null==a&&(a=e.bfcp={}),t(a,n),a.type!=yc&&a.type!=kc&&a.type!=wc&&r("glp_set_bfcp: type = "+a.type+"; invalid parameter"),a.lu_size<0&&r("glp_set_bfcp: lu_size = "+a.lu_size+"; invalid parameter"),0<a.piv_tol&&a.piv_tol<1||r("glp_set_bfcp: piv_tol = "+a.piv_tol+"; invalid parameter"),a.piv_lim<1&&r("glp_set_bfcp: piv_lim = "+a.piv_lim+"; invalid parameter"),a.suhl!=Zc&&a.suhl!=ef&&r("glp_set_bfcp: suhl = "+a.suhl+"; invalid parameter"),0<=a.eps_tol&&a.eps_tol<=1e-6||r("glp_set_bfcp: eps_tol = "+a.eps_tol+"; invalid parameter"),a.max_gro<1&&r("glp_set_bfcp: max_gro = "+a.max_gro+"; invalid parameter"),1<=a.nfs_max&&a.nfs_max<=32767||r("glp_set_bfcp: nfs_max = "+a.nfs_max+"; invalid parameter"),0<a.upd_tol&&a.upd_tol<1||r("glp_set_bfcp: upd_tol = "+a.upd_tol+"; invalid parameter"),1<=a.nrs_max&&a.nrs_max<=32767||r("glp_set_bfcp: nrs_max = "+a.nrs_max+"; invalid parameter"),a.rs_size<0&&r("glp_set_bfcp: rs_size = "+a.nrs_max+"; invalid parameter"),0==a.rs_size&&(a.rs_size=20*a.nrs_max)),null!=e.bfd&&k(e)},ps=e.glp_get_bhead=function(e,n){return 0==e.m||e.valid||r("glp_get_bhead: basis factorization does not exist"),1<=n&&n<=e.m||r("glp_get_bhead: k = "+n+"; index out of range"),e.head[n]},ms=e.glp_get_row_bind=function(e,n){return 0==e.m||e.valid||r("glp_get_row_bind: basis factorization does not exist"),1<=n&&n<=e.m||r("glp_get_row_bind: i = "+n+"; row number out of range"),e.row[n].bind},bs=e.glp_get_col_bind=function(e,n){return 0==e.m||e.valid||r("glp_get_col_bind: basis factorization does not exist"),1<=n&&n<=e.n||r("glp_get_col_bind: j = "+n+"; column number out of range"),e.col[n].bind},ds=e.glp_ftran=function(e,n){var t,a,l=e.m,o=e.row,i=e.col;for(0==l||e.valid||r("glp_ftran: basis factorization does not exist"),t=1;t<=l;t++)n[t]*=o[t].rii;for(l>0&&q(e.bfd,n),t=1;t<=l;t++)a=e.head[t],a<=l?n[t]/=o[a].rii:n[t]*=i[a-l].sjj},vs=e.glp_btran=function(e,n){var t,a,l=e.m,o=e.row,i=e.col;for(0==l||e.valid||r("glp_btran: basis factorization does not exist"),t=1;t<=l;t++)a=e.head[t],a<=l?n[t]/=o[a].rii:n[t]*=i[a-l].sjj;for(l>0&&G(e.bfd,n),t=1;t<=l;t++)n[t]*=o[t].rii},gs=(e.glp_warm_up=function(e){var r,t,a,l,o,i,u,s,c,f,_;for(e.pbs_stat=e.dbs_stat=mc,e.obj_val=0,e.some=0,l=1;l<=e.m;l++)r=e.row[l],r.prim=r.dual=0;for(o=1;o<=e.n;o++)t=e.col[o],t.prim=t.dual=0;if(!ss(e)&&0!=(s=cs(e)))return s;for(_=new Float64Array(1+e.m),l=1;l<=e.m;l++)r=e.row[l],r.stat!=nc&&(r.stat==rc?r.prim=r.lb:r.stat==tc?r.prim=r.ub:r.stat==ac?r.prim=0:r.stat==lc?r.prim=r.lb:n(r!=r),_[l]-=r.prim);for(o=1;o<=e.n;o++)if(t=e.col[o],t.stat!=nc&&(t.stat==rc?t.prim=t.lb:t.stat==tc?t.prim=t.ub:t.stat==ac?t.prim=0:t.stat==lc?t.prim=t.lb:n(t!=t),0!=t.prim))for(a=t.ptr;null!=a;a=a.c_next)_[a.row.i]+=a.val*t.prim;for(ds(e,_),e.pbs_stat=bc,l=1;l<=e.m;l++)r=e.row[l],r.stat==nc&&(r.prim=_[r.bind],i=r.type,i!=Ys&&i!=Zs&&i!=ec||(c=1e-6+1e-9*Math.abs(r.lb),r.prim<r.lb-c&&(e.pbs_stat=dc)),i!=$s&&i!=Zs&&i!=ec||(c=1e-6+1e-9*Math.abs(r.ub),r.prim>r.ub+c&&(e.pbs_stat=dc)));for(o=1;o<=e.n;o++)t=e.col[o],t.stat==nc&&(t.prim=_[t.bind],i=t.type,i!=Ys&&i!=Zs&&i!=ec||(c=1e-6+1e-9*Math.abs(t.lb),t.prim<t.lb-c&&(e.pbs_stat=dc)),i!=$s&&i!=Zs&&i!=ec||(c=1e-6+1e-9*Math.abs(t.ub),t.prim>t.ub+c&&(e.pbs_stat=dc)));for(e.obj_val=e.c0,o=1;o<=e.n;o++)t=e.col[o],e.obj_val+=t.coef*t.prim;for(l=1;l<=e.m;l++)_[l]=0;for(o=1;o<=e.n;o++)t=e.col[o],t.stat==nc&&(_[t.bind]=t.coef);for(vs(e,_),e.dbs_stat=bc,l=1;l<=e.m;l++)r=e.row[l],r.stat!=nc?(r.dual=-_[l],u=r.stat,f=e.dir==Ks?+r.dual:-r.dual,((u==ac||u==rc)&&f<-1e-5||(u==ac||u==tc)&&f>1e-5)&&(e.dbs_stat=dc)):r.dual=0;for(o=1;o<=e.n;o++)if(t=e.col[o],t.stat!=nc){for(t.dual=t.coef,a=t.ptr;null!=a;a=a.c_next)t.dual+=a.val*_[a.row.i];u=t.stat,f=e.dir==Ks?+t.dual:-t.dual,((u==ac||u==rc)&&f<-1e-5||(u==ac||u==tc)&&f>1e-5)&&(e.dbs_stat=dc)}else t.dual=0;return 0},e.glp_eval_tab_row=function(e,t,a,l){var o,i,u,s,c,f,_,p,m=e.m,b=e.n;for(0==m||e.valid||r("glp_eval_tab_row: basis factorization does not exist"),1<=t&&t<=m+b||r("glp_eval_tab_row: k = "+t+"; variable number out of range"),o=t<=m?ms(e,t):bs(e,t-m),0==o&&r("glp_eval_tab_row: k = "+t+"; variable must be basic"),n(1<=o&&o<=m),_=new Float64Array(1+m),c=new Int32Array(1+m),p=new Float64Array(1+m),_[o]=1,vs(e,_),u=0,t=1;t<=m+b;t++){if(t<=m){if(Ju(e,t)==nc)continue;f=-_[t]}else{if($u(e,t-m)==nc)continue;for(s=Iu(e,t-m,c,p),f=0,i=1;i<=s;i++)f+=_[c[i]]*p[i]}0!=f&&(u++,a[u]=t,l[u]=f)}return n(u<=b),u}),hs=e.glp_eval_tab_col=function(e,n,t,a){var l,o,i,u,s=e.m,c=e.n;if(0==s||e.valid||r("glp_eval_tab_col: basis factorization does not exist"),1<=n&&n<=s+c||r("glp_eval_tab_col: k = "+n+"; variable number out of range"),i=n<=s?Ju(e,n):$u(e,n-s),i==nc&&r("glp_eval_tab_col: k = "+n+"; variable must be non-basic"),u=new Float64Array(1+s),n<=s)u[n]=-1;else for(o=Iu(e,n-s,t,a),l=1;l<=o;l++)u[t[l]]=a[l];for(ds(e,u),o=0,l=1;l<=s;l++)0!=u[l]&&(o++,t[o]=ps(e,l),a[o]=u[l]);return o},ys=e.glp_transform_row=function(e,t,a,l){var o,i,u,s,c,f,_,p,m,b,d,v,g;for(ss(e)||r("glp_transform_row: basis factorization does not exist "),s=hu(e),c=yu(e),b=new Float64Array(1+c),0<=t&&t<=c||r("glp_transform_row: len = "+t+"; invalid row length"),f=1;f<=t;f++)i=a[f],1<=i&&i<=c||r("glp_transform_row: ind["+f+"] = "+i+"; column index out of range"),0==l[f]&&r("glp_transform_row: val["+f+"] = 0; zero coefficient not allowed"),0!=b[i]&&r("glp_transform_row: ind["+f+"] = "+i+"; duplicate column indices not allowed"),b[i]=l[f];for(d=new Float64Array(1+s),o=1;o<=s;o++)u=ps(e,o),n(1<=u&&u<=s+c),d[o]=u<=s?0:b[u-s];for(v=d,vs(e,v),t=0,o=1;o<=s;o++)Ju(e,o)!=nc&&0!=(m=-v[o])&&(t++,a[t]=o,l[t]=m);for(p=new Int32Array(1+s),g=new Float64Array(1+s),i=1;i<=c;i++)if($u(e,i)!=nc){for(m=b[i],_=Iu(e,i,p,g),f=1;f<=_;f++)m+=g[f]*v[p[f]];0!=m&&(t++,a[t]=s+i,l[t]=m)}return n(t<=c),t},ks=(e.glp_transform_col=function(e,n,t,a){var l,o,i,u,s;for(ss(e)||r("glp_transform_col: basis factorization does not exist "),o=hu(e),u=new Float64Array(1+o),0<=n&&n<=o||r("glp_transform_col: len = "+n+"; invalid column length"),i=1;i<=n;i++)l=t[i],1<=l&&l<=o||r("glp_transform_col: ind["+i+"] = "+l+"; row index out of range"),0==a[i]&&r("glp_transform_col: val["+i+"] = 0; zero coefficient not allowed"),0!=u[l]&&r("glp_transform_col: ind["+i+"] = "+l+"; duplicate row indices not allowed"),u[l]=a[i];for(s=u,ds(e,s),n=0,l=1;l<=o;l++)0!=s[l]&&(n++,t[n]=ps(e,l),a[n]=s[l]);return n},e.glp_prim_rtest=function(e,t,a,l,o,i){var u,s,c,f,_,p,m,b,d,v,g,h,y,k;for(Vu(e)!=bc&&r("glp_prim_rtest: basic solution is not primal feasible "),1!=o&&-1!=o&&r("glp_prim_rtest: dir = "+o+"; invalid parameter"),0<i&&i<1||r("glp_prim_rtest: eps = "+i+"; invalid parameter"),s=hu(e),c=yu(e),f=0,k=Xi,d=0,_=1;_<=t;_++)if(u=a[_],1<=u&&u<=s+c||r("glp_prim_rtest: ind["+_+"] = "+u+"; variable number out of range"),u<=s?(p=xu(e,u),g=Au(e,u),h=ju(e,u),m=Ju(e,u),v=Qu(e,u)):(p=Mu(e,u-s),g=Pu(e,u-s),h=Lu(e,u-s),m=$u(e,u-s),v=Zu(e,u-s)),m!=nc&&r("glp_prim_rtest: ind["+_+"] = "+u+"; non-basic variable not allowed"),b=o>0?+l[_]:-l[_],p!=Qs){if(p==Ys){if(b>-i)continue;y=(g-v)/b}else if(p==$s){if(b<+i)continue;y=(h-v)/b}else if(p==Zs)if(b<0){if(b>-i)continue;y=(g-v)/b}else{if(b<+i)continue;y=(h-v)/b}else if(p==ec){if(-i<b&&b<+i)continue;y=0}else n(p!=p);y<0&&(y=0),(k>y||k==y&&d<Math.abs(b))&&(f=_,k=y,d=Math.abs(b))}return f}),ws=e.glp_dual_rtest=function(e,t,a,l,o,i){var u,s,c,f,_,p,m,b,d,v,g,h;for(Hu(e)!=bc&&r("glp_dual_rtest: basic solution is not dual feasible"),1!=o&&-1!=o&&r("glp_dual_rtest: dir = "+o+"; invalid parameter"),0<i&&i<1||r("glp_dual_rtest: eps = "+i+"; invalid parameter"),s=hu(e),c=yu(e),v=gu(e)==Ks?1:-1,f=0,h=Xi,b=0,_=1;_<=t;_++){if(u=a[_],1<=u&&u<=s+c||r("glp_dual_rtest: ind["+_+"] = "+u+"; variable number out of range"),u<=s?(p=Ju(e,u),d=Yu(e,u)):(p=$u(e,u-s),d=es(e,u-s)),p==nc&&r("glp_dual_rtest: ind["+_+"] = "+u+"; basic variable not allowed"),m=o>0?+l[_]:-l[_],p==rc){if(m<+i)continue;g=v*d/m}else if(p==tc){if(m>-i)continue;g=v*d/m}else if(p==ac){if(-i<m&&m<+i)continue;g=0}else{if(p==lc)continue;n(p!=p)}g<0&&(g=0),(h>g||h==g&&b<Math.abs(m))&&(f=_,h=g,b=Math.abs(m))}return f},xs=(e.glp_analyze_bound=function(e,t,a){function l(){f<0?(x=v,A=_):(j=v,M=_)}var o,i,u,s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A,j,M;for(x=A=j=M=null,null!=e&&e.magic==Zi||r("glp_analyze_bound: P = "+e+"; invalid problem object"),u=e.m,s=e.n,e.pbs_stat==bc&&e.dbs_stat==bc||r("glp_analyze_bound: optimal basic solution required"),0==u||e.valid||r("glp_analyze_bound: basis factorization required"),1<=t&&t<=u+s||r("glp_analyze_bound: k = "+t+"; variable number out of range"),t<=u?(o=e.row[t],c=o.stat,d=o.prim):(i=e.col[t-u],c=i.stat,d=i.prim),c==nc&&r("glp_analyze_bound: k = "+t+"; basic variable not allowed "),b=new Int32Array(1+u),w=new Float64Array(1+u),p=hs(e,t,b,w),n(0<=p&&p<=u),f=-1;f<=1;f+=2)m=ks(e,p,b,w,f,1e-9),0!=m?(n(1<=m&&m<=p),_=b[m],_<=u?(o=e.row[_],g=Au(e,o.i),h=ju(e,o.i),c=o.stat,y=o.prim):(i=e.col[_-u],g=Pu(e,i.j),h=Lu(e,i.j),c=i.stat,y=i.prim),n(c==nc),f<0&&w[m]>0||f>0&&w[m]<0?(n(g!=-Xi),k=g-y):(n(h!=+Xi),k=h-y),n(0!=w[m]),v=d+k/w[m],l()):(_=0,v=f<0?-Xi:+Xi,l());a(x,A,j,M)},e.glp_analyze_coef=function(e,t,a){function l(){_<0?(O=M,q=m,G=P):(T=M,R=m,C=P)}var o,i,u,s,c,f,_,p,m,b,d,v,g,h,y,k,w,x,A,j,M,P,L,z,I,E,F,S,N,O=null,q=null,G=null,T=null,R=null,C=null;for(null!=e&&e.magic==Zi||r("glp_analyze_coef: P = "+e+"; invalid problem object"),u=e.m,s=e.n,e.pbs_stat==bc&&e.dbs_stat==bc||r("glp_analyze_coef: optimal basic solution required"),0==u||e.valid||r("glp_analyze_coef: basis factorization required"),1<=t&&t<=u+s||r("glp_analyze_coef: k = "+t+"; variable number out of range"),t<=u?(o=e.row[t],c=o.type,w=o.lb,x=o.ub,A=0,f=o.stat,j=o.prim):(i=e.col[t-u],c=i.type,w=i.lb,x=i.ub,A=i.coef,f=i.stat,j=i.prim),f!=nc&&r("glp_analyze_coef: k = "+t+"; non-basic variable not allowed"),y=new Int32Array(1+u),N=new Float64Array(1+u),k=new Int32Array(1+s),S=new Float64Array(1+s),g=gs(e,t,k,S),n(0<=g&&g<=s),_=-1;_<=1;_+=2)e.dir==Ks?b=-_:e.dir==Vs?b=+_:n(e!=e),h=ws(e,g,k,S,b,1e-9),0!=h?(n(1<=h&&h<=g),m=k[h],n(1<=m&&m<=u+s),m<=u?(o=e.row[m],f=o.stat,L=o.dual):(i=e.col[m-u],f=i.stat,L=i.dual),n(0!=S[h]),z=-L/S[h],M=A+z,b=_<0&&S[h]>0||_>0&&S[h]<0?1:-1,e.dir==Vs&&(b=-b),n(b>0?f==rc||f==ac:f==tc||f==ac),d=hs(e,m,y,N),t<=u?(o=e.row[t],o.type=Qs,o.lb=o.ub=0):(i=e.col[t-u],i.type=Qs,i.lb=i.ub=0),v=ks(e,d,y,N,b,1e-9),t<=u?(o=e.row[t],o.type=c,o.lb=w,o.ub=x):(i=e.col[t-u],i.type=c,i.lb=w,i.ub=x),0!=v?(n(1<=v&&v<=d),p=y[v],n(1<=p&&p<=u+s),n(p!=t),p<=u?(o=e.row[p],n(o.stat==nc),I=Au(e,o.i),E=ju(e,o.i),F=o.prim):(i=e.col[p-u],n(i.stat==nc),I=Pu(e,i.j),E=Lu(e,i.j),F=i.prim),b<0&&N[v]>0||b>0&&N[v]<0?(n(I!=-Xi),z=I-F):(n(E!=+Xi),z=E-F),n(0!=N[v]),P=j+S[h]/N[v]*z,l()):(P=b<0&&S[h]>0||b>0&&S[h]<0?-Xi:+Xi,l())):(M=_<0?-Xi:+Xi,m=0,P=j,l());a(O,q,G,T,R,C)},e.glp_ios_reason=function(e){return e.reason},e.glp_ios_get_prob=function(e){return e.mip},e.glp_mpl_alloc_wksp=function(){return _d()},e._glp_mpl_init_rand=function(e,n){0!=e.phase&&r("glp_mpl_init_rand: invalid call sequence\n"),yi(e.rand,n)},e.glp_mpl_read_model=function(e,t,a,l){var o;return 0!=e.phase&&r("glp_mpl_read_model: invalid call sequence"),o=pd(e,t,a,l),1==o||2==o?o=0:4==o?o=1:n(o!=o),o}),As=(e.glp_mpl_read_model_from_string=function(e,n,r,t){var a=0;return xs(e,n,function(){return a<r.length?r[a++]:-1},t)},e.glp_mpl_read_data=function(e,t,a){var l;return 1!=e.phase&&2!=e.phase&&r("glp_mpl_read_data: invalid call sequence"),l=md(e,t,a),2==l?l=0:4==l?l=1:n(l!=l),l}),js=(e.glp_mpl_read_data_from_string=function(e,n,r){var t=0;return As(e,n,function(){return t<r.length?r[t++]:-1})},e.glp_mpl_generate=function(e,n,t,a){var l;return 1!=e.phase&&2!=e.phase&&r("glp_mpl_generate: invalid call sequence\n"),l=bd(e,n,t,a),3==l?l=0:4==l&&(l=1),l},e.glp_mpl_build_prob=function(e,t){var a,l,o,i,u,s,c,f,_,p,m,b;for(3!=e.phase&&r("glp_mpl_build_prob: invalid call sequence\n"),du(t),nu(t,dd(e)),a=vd(e),a>0&&au(t,a),o=1;o<=a;o++){switch(ou(t,o,hd(e,o)),c=kd(e,o,function(e,n){p=e,m=n})){case Hb:c=Qs;break;case Wb:c=Ys;break;case Jb:c=$s;break;case Qb:c=Zs;break;case Yb:c=ec;break;default:n(c!=c)}c==Zs&&Math.abs(p-m)<1e-9*(1+Math.abs(p))&&(c=ec,Math.abs(p)<=Math.abs(m)?m=p:p=m),uu(t,o,c,p,m),0!=xd(e,o)&&Qi("glp_mpl_build_prob: row "+hd(e,o)+"; constant term "+xd(e,o)+" ignored")}for(l=gd(e),l>0&&lu(t,l),i=1;i<=l;i++){switch(iu(t,i,Ad(e,i)),s=jd(e,i)){case ed:break;case nd:case rd:ns(t,i,Ws);break;default:n(s!=s)}switch(c=Md(e,i,function(e,n){p=e,m=n})){case Hb:c=Qs;break;case Wb:c=Ys;break;case Jb:c=$s;break;case Qb:c=Zs;break;case Yb:c=ec;break;default:n(c!=c)}s==rd&&((c==Qs||c==$s||p<0)&&(p=0),(c==Qs||c==Ys||m>1)&&(m=1),c=Zs),c==Zs&&Math.abs(p-m)<1e-9*(1+Math.abs(p))&&(c=ec,Math.abs(p)<=Math.abs(m)?m=p:p=m),su(t,i,c,p,m)}for(_=new Int32Array(1+l),b=new Float64Array(1+l),o=1;o<=a;o++)f=wd(e,o,_,b),fu(t,o,f,_,b);for(o=1;o<=a;o++)if((s=yd(e,o))==$b||s==Zb){for(ru(t,hd(e,o)),tu(t,s==$b?Ks:Vs),cu(t,0,xd(e,o)),f=wd(e,o,_,b),u=1;u<=f;u++)cu(t,_[u],b[u]);break}},e.glp_mpl_postsolve=function(e,t,a){var l,o,i,u,s,c,f,_;if((3!=e.phase||e.flag_p)&&r("glp_mpl_postsolve: invalid call sequence"),a!=fc&&a!=_c&&a!=pc&&r("glp_mpl_postsolve: sol = "+a+"; invalid parameter"),i=vd(e),u=gd(e),i==hu(t)&&u==yu(t)||r("glp_mpl_postsolve: wrong problem object\n"),!Pd(e))return 0;for(l=1;l<=i;l++)a==fc?(s=Ju(t,l),f=Qu(t,l),_=Yu(t,l)):a==_c?(s=0,f=glp_ipt_row_prim(t,l),_=glp_ipt_row_dual(t,l)):a==pc?(s=0,f=is(t,l),_=0):n(a!=a),Math.abs(f)<1e-9&&(f=0),Math.abs(_)<1e-9&&(_=0),Ld(e,l,s,f,_);for(o=1;o<=u;o++)a==fc?(s=$u(t,o),f=Zu(t,o),_=es(t,o)):a==_c?(s=0,f=glp_ipt_col_prim(t,o),_=glp_ipt_col_dual(t,o)):a==pc?(s=0,f=us(t,o),_=0):n(a!=a),Math.abs(f)<1e-9&&(f=0),Math.abs(_)<1e-9&&(_=0),zd(e,o,s,f,_);return c=Id(e),3==c?c=0:4==c&&(c=1),c},1),Ms=2,Ps=3,Ls=4,zs=5,Is="!\"#$%&()/,.;?@_`'{}|~",Es=e.glp_read_lp=function(e,r,t){function o(e,n){throw new Error(e.count+": "+n)}function i(e,n){Qi(e.count+": warning: "+n)}function u(e){var r;n(e.c!=Ji),"\n"==e.c&&e.count++,r=e.callback(),r<0?"\n"==e.c?(e.count--,r=Ji):(i(e,"missing final end of line"),r="\n"):"\n"==r||(f(r)?r=" ":_(r)&&o(e,"invalid control character "+r.charCodeAt(0))),e.c=r}function s(e){e.image+=e.c,u(e)}function c(e,n){return e.toLowerCase()==n.toLowerCase()?1:0}function g(e){function n(){for(e.token=S;m(e.c)||d(Is,e.c)>=0;)s(e);r&&(c(e.image,"minimize")?e.token=j:c(e.image,"minimum")?e.token=j:c(e.image,"min")?e.token=j:c(e.image,"maximize")?e.token=M:c(e.image,"maximum")?e.token=M:c(e.image,"max")?e.token=M:c(e.image,"subject")?" "==e.c&&(u(e),"t"==v(e.c)&&(e.token=P,e.image+=" ",s(e),"o"!=v(e.c)&&o(e,"keyword `subject to' incomplete"),s(e),p(e.c)&&o(e,"keyword `"+e.image+e.c+"...' not recognized"))):c(e.image,"such")?" "==e.c&&(u(e),"t"==v(e.c)&&(e.token=P,e.image+=" ",s(e),"h"!=v(e.c)&&o(e,"keyword `such that' incomplete"),s(e),"a"!=v(e.c)&&o(e,"keyword `such that' incomplete"),s(e),"t"!=v(e.c)&&o(e,"keyword `such that' incomplete"),s(e),p(e.c)&&o(e,"keyword `"+e.image+e.c+"...' not recognized"))):c(e.image,"st")?e.token=P:c(e.image,"s.t.")?e.token=P:c(e.image,"st.")?e.token=P:c(e.image,"bounds")?e.token=L:c(e.image,"bound")?e.token=L:c(e.image,"general")?e.token=z:c(e.image,"generals")?e.token=z:c(e.image,"gen")?e.token=z:c(e.image,"integer")?e.token=I:c(e.image,"integers")?e.token=I:c(e.image,"int")?e.token=I:c(e.image,"binary")?e.token=E:c(e.image,"binaries")?e.token=E:c(e.image,"bin")?e.token=E:c(e.image,"end")&&(e.token=F))}var r;for(e.token=-1,e.image="",e.value=0;;){for(r=0;" "==e.c;)u(e);if(e.c==Ji)e.token=A;else if("\n"==e.c){if(u(e),!p(e.c))continue;r=1,n()}else{if("\\"==e.c){for(;"\n"!=e.c;)u(e);continue}if(p(e.c)||"."!=e.c&&d(Is,e.c)>=0)n();else if(b(e.c)||"."==e.c){for(e.token=N;b(e.c);)s(e);if("."==e.c)for(s(e),1!=e.image.length||b(e.c)||o(e,"invalid use of decimal point");b(e.c);)s(e);if("e"==e.c||"E"==e.c)for(s(e),"+"!=e.c&&"-"!=e.c||s(e),b(e.c)||o(e,"numeric constant `"+e.image+"' incomplete");b(e.c);)s(e);e.value=Number(e.image),e.value==Number.NaN&&o(e,"numeric constant `"+e.image+"' out of range")}else"+"==e.c?(e.token=O,s(e)):"-"==e.c?(e.token=q,s(e)):":"==e.c?(e.token=G,s(e)):"<"==e.c?(e.token=T,s(e),"="==e.c&&s(e)):">"==e.c?(e.token=R,s(e),"="==e.c&&s(e)):"="==e.c?(e.token=X,s(e),"<"==e.c?(e.token=T,s(e)):">"==e.c&&(e.token=R,s(e))):o(e,"character `"+e.c+"' not recognized")}break}for(;" "==e.c;)u(e)}function h(e,n){var r=Su(e.P,n);if(0==r){if(r=lu(e.P,1),iu(e.P,r,n),e.n_max<r){var t=e.n_max,o=e.ind,i=e.val,u=e.flag,s=e.lb,c=e.ub;e.n_max+=e.n_max,e.ind=new Int32Array(1+e.n_max),a(e.ind,1,o,1,t),e.val=new Float64Array(1+e.n_max),a(e.val,1,i,1,t),e.flag=new Int8Array(1+e.n_max),l(e.flag,1,0,e.n_max),a(e.flag,1,u,1,t),e.lb=new Float64Array(1+e.n_max),a(e.lb,1,s,1,t),e.ub=new Float64Array(1+e.n_max),a(e.ub,1,c,1,t)}e.lb[r]=+Xi,e.ub[r]=-Xi}return r}function y(e){for(var n,r,t,a,l,i=0;;)if(e.token==O?(a=1,g(e)):e.token==q?(a=-1,g(e)):a=1,e.token==N?(l=e.value,g(e)):l=1,e.token!=S&&o(e,"missing variable name"),n=h(e,e.image),e.flag[n]&&o(e,"multiple use of variable `"+e.image+"' not allowed"),i++,e.ind[i]=n,e.val[i]=a*l,e.flag[n]=1,g(e),e.token!=O&&e.token!=q){for(r=1;r<=i;r++)e.flag[e.ind[r]]=0;for(t=0,r=1;r<=i;r++)0!=e.val[r]&&(t++,e.ind[t]=e.ind[r],e.val[t]=e.val[r]);break}return t}function k(e,n,r){e.lb[n]!=+Xi&&i(e,"lower bound of variable `"+wu(e.P,n)+"' redefined"),e.lb[n]=r}function w(e,n,r){e.ub[n]!=-Xi&&i(e,"upper bound of variable `"+wu(e.P,n)+"' redefined"),e.ub[n]=r}var x,A=0,j=1,M=2,P=3,L=4,z=5,I=6,E=7,F=8,S=9,N=10,O=11,q=12,G=13,T=14,R=15,X=16,B={};for(Qi("Reading problem data"),null==r&&(r={}),C("glp_read_lp",r),B.P=e,B.parm=r,B.callback=t,B.count=0,B.c="\n",B.token=A,B.image="",B.value=0,B.n_max=100,B.ind=new Int32Array(1+B.n_max),B.val=new Float64Array(1+B.n_max),B.flag=new Int8Array(1+B.n_max),l(B.flag,1,0,B.n_max),B.lb=new Float64Array(1+B.n_max),B.ub=new Float64Array(1+B.n_max),du(e),Eu(e),g(B),B.token!=j&&B.token!=M&&o(B,"`minimize' or `maximize' keyword missing"),function(e){var r,t;for(e.token==j?tu(e.P,Ks):e.token==M?tu(e.P,Vs):n(e!=e),g(e),e.token==S&&":"==e.c?(ru(e.P,e.image),g(e),n(e.token==G),g(e)):ru(e.P,"obj"),t=y(e),r=1;r<=t;r++)cu(e.P,e.ind[r],e.val[r])}(B),B.token!=P&&o(B,"constraints section missing"),function(e){var r,t,a,l;for(n(e.token==P),g(e);r=au(e.P,1),e.token==S&&":"==e.c?(0!=Fu(e.P,e.image)&&o(e,"constraint `"+e.image+"' multiply defined"),ou(e.P,r,e.image),g(e),n(e.token==G),g(e)):ou(e.P,r,"r."+e.count),t=y(e),fu(e.P,r,t,e.ind,e.val),e.token==T?(a=$s,g(e)):e.token==R?(a=Ys,g(e)):e.token==X?(a=ec,g(e)):o(e,"missing constraint sense"),e.token==O?(l=1,g(e)):e.token==q?(l=-1,g(e)):l=1,e.token!=N&&o(e,"missing right-hand side"),uu(e.P,r,a,l*e.value,l*e.value),"\n"!=e.c&&e.c!=Ji&&o(e,"invalid symbol(s) beyond right-hand side"),g(e),e.token==O||e.token==q||e.token==N||e.token==S;);}(B),B.token==L&&function(e){var r,t,a,l;for(n(e.token==L),g(e);;){if(e.token!=O&&e.token!=q&&e.token!=N&&e.token!=S)return;e.token==O||e.token==q?(t=1,l=e.token==O?1:-1,g(e),e.token==N?(a=l*e.value,g(e)):c(e.image,"infinity")||c(e.image,"inf")?(l>0&&o(e,"invalid use of `+inf' as lower bound"),a=-Xi,g(e)):o(e,"missing lower bound")):e.token==N?(t=1,a=e.value,g(e)):t=0,t&&(e.token!=T&&o(e,"missing `<', `<=', or `=<' after lower bound"),g(e)),e.token!=S&&o(e,"missing variable name"),r=h(e,e.image),t&&k(e,r,a),g(e),e.token==T?(g(e),e.token==O||e.token==q?(l=e.token==O?1:-1,g(e),e.token==N?(w(e,r,l*e.value),g(e)):c(e.image,"infinity")||c(e.image,"inf")?(l<0&&o(e,"invalid use of `-inf' as upper bound"),w(e,r,+Xi),g(e)):o(e,"missing upper bound")):e.token==N?(w(e,r,e.value),g(e)):o(e,"missing upper bound")):e.token==R?(t&&o(e,"invalid bound definition"),g(e),e.token==O||e.token==q?(l=e.token==O?1:-1,g(e),e.token==N?(k(e,r,l*e.value),g(e)):c(e.image,"infinity")||0==c(e.image,"inf")?(l>0&&o(e,"invalid use of `+inf' as lower bound"),k(e,r,-Xi),g(e)):o(e,"missing lower bound")):e.token==N?(k(e,r,e.value),g(e)):o(e,"missing lower bound")):e.token==X?(t&&o(e,"invalid bound definition"),g(e),e.token==O||e.token==q?(l=e.token==O?1:-1,g(e),e.token==N?(k(e,r,l*e.value),w(e,r,l*e.value),g(e)):o(e,"missing fixed value")):e.token==N?(k(e,r,e.value),w(e,r,e.value),g(e)):o(e,"missing fixed value")):c(e.image,"free")?(t&&o(e,"invalid bound definition"),k(e,r,-Xi),w(e,r,+Xi),g(e)):t||o(e,"invalid bound definition")}}(B);B.token==z||B.token==I||B.token==E;)!function(e){var r,t;for(e.token==z?(t=0,g(e)):e.token==I?(t=0,g(e)):e.token==E?(t=1,g(e)):n(e!=e);e.token==S;)r=h(e,e.image),ns(e.P,r,Ws),t&&(k(e,r,0),w(e,r,1)),g(e)}(B);B.token==F?g(B):B.token==A?i(B,"keyword `end' missing"):o(B,"symbol "+B.image+" in wrong position"),B.token!=A&&o(B,"extra symbol(s) detected beyond `end'");var D,U,K,V;for(D=1;D<=e.n;D++)K=B.lb[D],V=B.ub[D],K==+Xi&&(K=0),V==-Xi&&(V=+Xi),U=K==-Xi&&V==+Xi?Qs:V==+Xi?Ys:K==-Xi?$s:K!=V?Zs:ec,su(B.P,D,U,K,V);if(Qi(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s")),ts(e)>0){var H=ts(e),W=as(e);if(1==H)Qi(0==W?"One variable is integer":"One variable is binary");else{var J=H+" integer variables, ";J+=0==W?"none":1==W?"one":W==H?"all":W,Qi(J+" of which "+(1==W?"is":"are")+" binary")}}return Qi(B.count+" lines were read"),Nu(e),pu(e),x=0,function(){return 0!=x&&du(e),x}()},Fs=(e.glp_write_lp=function(e,r,t){function a(e){if("."==e[0])return 1;if(b(e[0]))return 1;for(var n=0;n<e.length;n++)if(!m(e[n])&&d(Is,e[n])<0)return 1;return 0}function l(e){for(var n=0;n<e.length;n++)" "==e[n]?e[n]="_":"-"==e[n]?e[n]="~":"["==e[n]?e[n]="(":"]"==e[n]&&(e[n]=")")}function o(e,n){function r(){return 0==n?"obj":"r_"+n}var t;return null==(t=0==n?vu(e.P):ku(e.P,n))?r():(l(t),a(t)?r():t)}function i(e,n){function r(){return"x_"+n}var t=wu(e.P,n);return null==t?r():(l(t),a(t)?r():t)}function u(){return t("End"),h++,Qi(h+" lines were written"),0}var s,c,f,_,p,v,g,h,y,k,w,x={};if(Qi("Writing problem data"),null==r&&(r={}),C("glp_write_lp",r),x.P=e,x.parm=r,h=0,t("\\* Problem: "+(null==e.name?"Unknown":e.name)+" *\\"),h++,t(""),h++,!(e.m>0&&e.n>0))return Qi("Warning: problem has no rows/columns"),t("\\* WARNING: PROBLEM HAS NO ROWS/COLUMNS *\\"),h++,t(""),h++,u();for(e.dir==Ks?(t("Minimize"),h++):e.dir==Vs?(t("Maximize"),h++):n(e!=e),w=o(x,0),y=" "+w+":",v=0,p=1;p<=e.n;p++)c=e.col[p],0==c.coef&&null!=c.ptr||(v++,w=i(x,p),k=0==c.coef?" + 0 "+w:1==c.coef?" + "+w:-1==c.coef?" - "+w:c.coef>0?" + "+c.coef+" "+w:" - "+-c.coef+" "+w,y.length+k.length>72&&(t(y),y="",h++),y+=k);for(0==v&&(k=" 0 "+i(x,1),y+=k),t(y),h++,0!=e.c0&&(t("\\* constant term = "+e.c0+" *\\"),h++),t(""),h++,t("Subject To"),h++,_=1;_<=e.m;_++)if(s=e.row[_],s.type!=Qs){for(w=o(x,_),y=" "+w+":",f=s.ptr;null!=f;f=f.r_next)w=i(x,f.col.j),k=1==f.val?" + "+w:-1==f.val?" - "+w:f.val>0?" + "+f.val+" "+w:" - "+-f.val+" "+w,y.length+k.length>72&&(t(y),y="",h++),y+=k;s.type==Zs?(k=" - ~r_"+_,y.length+k.length>72&&(t(y),y="",h++),y+=k):null==s.ptr&&(k=" 0 "+i(x,1),y+=k),s.type==Ys?k=" >= "+s.lb:s.type==$s?k=" <= "+s.ub:s.type==Zs||s.type==ec?k=" = "+s.lb:n(s!=s),y.length+k.length>72&&(t(y),y="",h++),y+=k,t(y),h++}for(t(""),h++,g=0,_=1;_<=e.m;_++)s=e.row[_],s.type==Zs&&(g||(t("Bounds"),g=1,h++),t(" 0 <= ~r_"+_+" <= "+(s.ub-s.lb)),h++);for(p=1;p<=e.n;p++)c=e.col[p],c.type==Ys&&0==c.lb||(g||(t("Bounds"),g=1,h++),w=i(x,p),c.type==Qs?(t(" "+w+" free"),h++):c.type==Ys?(t(" "+w+" >= "+c.lb),h++):c.type==$s?(t(" -Inf <= "+w+" <= "+c.ub),h++):c.type==Zs?(t(" "+c.lb+" <= "+w+" <= "+c.ub),h++):c.type==ec?(t(" "+w+" = "+c.lb),h++):n(c!=c));for(g&&t(""),h++,g=0,p=1;p<=e.n;p++)c=e.col[p],c.kind!=Hs&&(n(c.kind==Ws),g||(t("Generals"),g=1,h++),t(" "+i(x,p)),h++);return g&&(t(""),h++),u()},e.glp_read_lp_from_string=function(e,n,r){var t=0;return Es(e,n,function(){return t<r.length?r[t++]:-1})},1),Ss=2,Ns=3,Os=4,qs=5,Gs=e.glp_ios_relative_gap=function(e){var n,r,t,a,l=e.mip;return l.mip_stat==bc?(r=l.mip_obj,n=le(e),0==n?a=0:(t=e.slot[n].node.bound,a=Math.abs(r-t)/(Math.abs(r)+Ki))):a=Xi,a},Ts=0,Rs=5,Cs=0,Xs=1,Bs=2,Ds=e.GLP_MAJOR_VERSION=4,Us=e.GLP_MINOR_VERSION=49,Ks=e.GLP_MIN=1,Vs=e.GLP_MAX=2,Hs=e.GLP_CV=1,Ws=e.GLP_IV=2,Js=e.GLP_BV=3,Qs=e.GLP_FR=1,Ys=e.GLP_LO=2,$s=e.GLP_UP=3,Zs=e.GLP_DB=4,ec=e.GLP_FX=5,nc=e.GLP_BS=1,rc=e.GLP_NL=2,tc=e.GLP_NU=3,ac=e.GLP_NF=4,lc=e.GLP_NS=5,oc=e.GLP_SF_GM=1,ic=e.GLP_SF_EQ=16,uc=e.GLP_SF_2N=32,sc=e.GLP_SF_SKIP=64,cc=e.GLP_SF_AUTO=128,fc=e.GLP_SOL=1,_c=e.GLP_IPT=2,pc=e.GLP_MIP=3,mc=e.GLP_UNDEF=1,bc=e.GLP_FEAS=2,dc=e.GLP_INFEAS=3,vc=e.GLP_NOFEAS=4,gc=e.GLP_OPT=5,hc=e.GLP_UNBND=6,yc=e.GLP_BF_FT=1,kc=e.GLP_BF_BG=2,wc=e.GLP_BF_GR=3,xc=e.GLP_MSG_OFF=0,Ac=e.GLP_MSG_ERR=1,jc=e.GLP_MSG_ON=2,Mc=e.GLP_MSG_ALL=3,Pc=e.GLP_MSG_DBG=4,Lc=e.GLP_PRIMAL=1,zc=e.GLP_DUALP=2,Ic=e.GLP_DUAL=3,Ec=e.GLP_PT_STD=17,Fc=e.GLP_PT_PSE=34,Sc=e.GLP_RT_STD=17,Nc=e.GLP_RT_HAR=34,Oc=(e.GLP_ORD_NONE=0,e.GLP_ORD_QMD=1,e.GLP_ORD_AMD=2,e.GLP_ORD_SYMAMD=3,e.GLP_BR_FFV=1),qc=e.GLP_BR_LFV=2,Gc=e.GLP_BR_MFV=3,Tc=e.GLP_BR_DTH=4,Rc=e.GLP_BR_PCH=5,Cc=e.GLP_BT_DFS=1,Xc=e.GLP_BT_BFS=2,Bc=e.GLP_BT_BLB=3,Dc=e.GLP_BT_BPH=4,Uc=e.GLP_PP_NONE=0,Kc=e.GLP_PP_ROOT=1,Vc=e.GLP_PP_ALL=2,Hc=(e.GLP_RF_REG=0,e.GLP_RF_LAZY=1),Wc=e.GLP_RF_CUT=2,Jc=e.GLP_RF_GMI=1,Qc=e.GLP_RF_MIR=2,Yc=e.GLP_RF_COV=3,$c=e.GLP_RF_CLQ=4,Zc=e.GLP_ON=1,ef=e.GLP_OFF=0,nf=e.GLP_IROWGEN=1,rf=e.GLP_IBINGO=2,tf=e.GLP_IHEUR=3,af=e.GLP_ICUTGEN=4,lf=e.GLP_IBRANCH=5,of=e.GLP_ISELECT=6,uf=e.GLP_IPREPRO=7,sf=e.GLP_NO_BRNCH=0,cf=e.GLP_DN_BRNCH=1,ff=e.GLP_UP_BRNCH=2,_f=e.GLP_EBADB=1,pf=e.GLP_ESING=2,mf=e.GLP_ECOND=3,bf=e.GLP_EBOUND=4,df=e.GLP_EFAIL=5,vf=e.GLP_EOBJLL=6,gf=e.GLP_EOBJUL=7,hf=e.GLP_EITLIM=8,yf=e.GLP_ETMLIM=9,kf=e.GLP_ENOPFS=10,wf=e.GLP_ENODFS=11,xf=e.GLP_EROOT=12,Af=e.GLP_ESTOP=13,jf=e.GLP_EMIPGAP=14,Mf=(e.GLP_ENOFEAS=15,e.GLP_ENOCVG=16,e.GLP_EINSTAB=17,e.GLP_EDATA=18,e.GLP_ERANGE=19,e.GLP_KKT_PE=1,e.GLP_KKT_PB=2,e.GLP_KKT_DE=3,e.GLP_KKT_DB=4,e.GLP_KKT_CS=5,e.GLP_MPS_DECK=1,e.GLP_MPS_FILE=2,e.GLP_ASN_MIN=1,e.GLP_ASN_MAX=2,e.GLP_ASN_MMP=3,1);LPF_ECOND=2,LPF_ELIMIT=3;var Pf=0,Lf=(e.LPX_LP=100,e.LPX_MIP=101,e.LPX_FR=110),zf=e.LPX_LO=111,If=e.LPX_UP=112,Ef=e.LPX_DB=113,Ff=e.LPX_FX=114,Sf=(e.LPX_MIN=120,e.LPX_MAX=121,e.LPX_P_UNDEF=132,e.LPX_P_FEAS=133,e.LPX_P_INFEAS=134,e.LPX_P_NOFEAS=135,e.LPX_D_UNDEF=136,e.LPX_D_FEAS=137,e.LPX_D_INFEAS=138,e.LPX_D_NOFEAS=139,e.LPX_BS=140),Nf=e.LPX_NL=141,Of=e.LPX_NU=142,qf=e.LPX_NF=143,Gf=e.LPX_NS=144,Tf=(e.LPX_T_UNDEF=150,e.LPX_T_OPT=151,e.LPX_CV=160),Rf=e.LPX_IV=161,Cf=(e.LPX_I_UNDEF=170,e.LPX_I_OPT=171,e.LPX_I_FEAS=172,e.LPX_I_NOFEAS=173,e.LPX_OPT=180),Xf=e.LPX_FEAS=181,Bf=e.LPX_INFEAS=182,Df=e.LPX_NOFEAS=183,Uf=e.LPX_UNBND=184,Kf=e.LPX_UNDEF=185,Vf=e.LPX_E_OK=200,Hf=(e.LPX_E_EMPTY=201,e.LPX_E_BADB=202,e.LPX_E_INFEAS=203,e.LPX_E_FAULT=204),Wf=(e.LPX_E_OBJLL=205,e.LPX_E_OBJUL=206,e.LPX_E_ITLIM=207,e.LPX_E_TMLIM=208),Jf=(e.LPX_E_NOFEAS=209,e.LPX_E_INSTAB=210,e.LPX_E_SING=211),Qf=(e.LPX_E_NOCONV=212,e.LPX_E_NOPFS=213),Yf=e.LPX_E_NODFS=214,$f=e.LPX_E_MIPGAP=215,Zf=e.LPX_K_MSGLEV=300,e_=e.LPX_K_SCALE=301,n_=e.LPX_K_DUAL=302,r_=e.LPX_K_PRICE=303,t_=e.LPX_K_RELAX=304,a_=e.LPX_K_TOLBND=305,l_=e.LPX_K_TOLDJ=306,o_=e.LPX_K_TOLPIV=307,i_=e.LPX_K_ROUND=308,u_=e.LPX_K_OBJLL=309,s_=e.LPX_K_OBJUL=310,c_=e.LPX_K_ITLIM=311,f_=e.LPX_K_ITCNT=312,__=e.LPX_K_TMLIM=313,p_=e.LPX_K_OUTFRQ=314,m_=e.LPX_K_OUTDLY=315,b_=e.LPX_K_BRANCH=316,d_=e.LPX_K_BTRACK=317,v_=e.LPX_K_TOLINT=318,g_=e.LPX_K_TOLOBJ=319,h_=e.LPX_K_MPSINFO=320,y_=e.LPX_K_MPSOBJ=321,k_=e.LPX_K_MPSORIG=322,w_=e.LPX_K_MPSWIDE=323,x_=e.LPX_K_MPSFREE=324,A_=e.LPX_K_MPSSKIP=325,j_=e.LPX_K_LPTORIG=326,M_=e.LPX_K_PRESOL=327,P_=e.LPX_K_BINARIZE=328,L_=e.LPX_K_USECUTS=329,z_=e.LPX_K_BFTYPE=330,I_=e.LPX_K_MIPGAP=331,E_=e.LPX_C_COVER=1,F_=e.LPX_C_CLIQUE=2,S_=e.LPX_C_GOMORY=4,N_=e.LPX_C_MIR=8,O_=(e.LPX_C_ALL=255,1),q_=2,G_=-1,T_=101,R_=102,C_=103,X_=104,B_=105,D_=106,U_=107,K_=108,V_=109,H_=110,W_=111,J_=112,Q_=113,Y_=114,$_=115,Z_=116,ep=117,np=118,rp=119,tp=120,ap=121,lp=122,op=123,ip=124,up=125,sp=126,cp=127,fp=60,_p=1024,pp=201,mp=202,bp=203,dp=204,vp=205,gp=206,hp=207,yp=208,kp=209,wp=210,xp=211,Ap=212,jp=213,Mp=214,Pp=215,Lp=216,zp=217,Ip=218,Ep=219,Fp=220,Sp=221,Np=222,Op=223,qp=224,Gp=225,Tp=226,Rp=227,Cp=228,Xp=229,Bp=230,Dp=231,Up=232,Kp=233,Vp=234,Hp=235,Wp=236,Jp=237,Qp=238,Yp=239,$p=240,Zp=241,em=242,nm=243,rm=244,tm=245,am=246,lm=247,om=248,im=249,um=250,sm=251,cm=252,fm=0,_m=1,pm=2,mm=3,bm=4,dm=5,vm=301,gm=302,hm=303,ym=304,km=305,wm=306,xm=307,Am=308,jm=309,Mm=310,Pm=311,Lm=312,zm=313,Im=314,Em=315,Fm=316,Sm=317,Nm=318,Om=319,qm=320,Gm=321,Tm=322,Rm=323,Cm=324,Xm=325,Bm=326,Dm=327,Um=328,Km=329,Vm=330,Hm=331,Wm=332,Jm=333,Qm=334,Ym=335,$m=336,Zm=337,eb=338,nb=339,rb=340,tb=341,ab=342,lb=343,ob=344,ib=345,ub=346,sb=347,cb=348,fb=349,_b=350,pb=351,mb=352,bb=353,db=354,vb=355,gb=356,hb=357,yb=358,kb=359,wb=360,xb=361,Ab=362,jb=363,Mb=364,Pb=365,Lb=366,zb=367,Ib=368,Eb=369,Fb=370,Sb=371,Nb=372,Ob=373,qb=374,Gb=375,Tb=376,Rb=377,Cb=378,Xb=379,Bb=380,Db=381,Ub=382,Kb=383,Vb=384,Hb=401,Wb=402,Jb=403,Qb=404,Yb=405,$b=412,Zb=413,ed=421,nd=422,rd=423,td=e.mpl_tab_num_args=function(e){return e.na},ad=e.mpl_tab_get_arg=function(e,r){return n(1<=r&&r<=e.na),e.arg[r]},ld=(e.mpl_tab_get_args=function(e,n){return e.arg},e.mpl_tab_num_flds=function(e){return e.nf}),od=e.mpl_tab_get_name=function(e,r){return n(1<=r&&r<=e.nf),e.name[r]},id=e.mpl_tab_get_type=function(e,r){return n(1<=r&&r<=e.nf),e.type[r]},ud=e.mpl_tab_get_num=function(e,r){return n(1<=r&&r<=e.nf),n("N"==e.type[r]),e.num[r]},sd=e.mpl_tab_get_str=function(e,r){return n(1<=r&&r<=e.nf),n("S"==e.type[r]),n(null!=e.str[r]),e.str[r]},cd=e.mpl_tab_set_num=function(e,r,t){n(1<=r&&r<=e.nf),n("?"==e.type[r]),e.type[r]="N",e.num[r]=t},fd=e.mpl_tab_set_str=function(e,r,t){n(1<=r&&r<=e.nf),n("?"==e.type[r]),n(null!=e.str[r]),e.type[r]="S",e.str[r]=t},_d=e.mpl_initialize=function(){var e={};return e.line=0,e.column=0,e.c=0,e.token=0,e.imlen=0,e.image="",e.value=0,e.b_token=0,e.b_imlen=0,e.b_image="",e.b_value=0,e.f_dots=0,e.f_scan=0,e.f_token=0,e.f_imlen=0,e.f_image="",e.f_value=0,e.context=new Array(fp),l(e.context,0," ",fp),e.c_ptr=0,e.flag_d=0,e.tree={},e.model=null,e.flag_x=0,e.as_within=0,e.as_in=0,e.as_binary=0,e.flag_s=0,e.a_list=null,e.sym_buf="",e.tup_buf="",e.rand=hi(),e.flag_p=0,e.stmt=null,e.dca=null,e.m=0,e.n=0,e.row=null,e.col=null,e.in_fp=null,e.in_file=null,e.out_fp=null,e.out_file=null,e.prt_fp=null,e.prt_file=null,e.phase=0,e.mod_file=null,e.mpl_buf="",e},pd=e.mpl_read_model=function(e,n,t,a){function l(){return Qi(e.line+" line"+(1==e.line?"":"s")+" were read"),Jl(e),e.phase}if(0!=e.phase&&r("mpl_read_model: invalid call sequence"),null==t&&r("mpl_read_model: no input specified"),e.phase=1,Qi("Reading model section from "+n+" ..."),Hl(e,n,t),rt(e),null==e.model&&eo(e,"empty model section not allowed"),e.mod_file=e.in_file,Dl(e),$n(e,"data")){if(a)return no(e,"data section ignored"),l();e.flag_d=1,Qn(e),e.token!=Zp&&eo(e,"semicolon missing where expected"),Qn(e),e.phase=2,Qi("Reading data section from "+n+" ..."),jt(e)}return et(e),l()},md=e.mpl_read_data=function(e,n,t){return 1!=e.phase&&2!=e.phase&&r("mpl_read_data: invalid call sequence"),null==t&&r("mpl_read_data: no input specified"),e.phase=2,Qi("Reading data section from "+n+" ..."),e.flag_d=1,Hl(e,n,t),ct(e,"data")&&(Qn(e),e.token!=Zp&&eo(e,"semicolon missing where expected"),Qn(e)),jt(e),et(e),Qi(e.line+" line"+(1==e.line?"":"s")+" were read"),Jl(e),e.phase},bd=e.mpl_generate=function(e,n,t,a){return 1!=e.phase&&2!=e.phase&&r("mpl_generate: invalid call sequence"),e.phase=3,e.tablecb=a,Ql(e,n,t),Ul(e),Zl(e),Kl(e),Qi("Model has been successfully generated"),e.phase},dd=e.mpl_get_prob_name=function(e){return e.mod_file},vd=e.mpl_get_num_rows=function(e){return 3!=e.phase&&r("mpl_get_num_rows: invalid call sequence"),e.m},gd=e.mpl_get_num_cols=function(e){return 3!=e.phase&&r("mpl_get_num_cols: invalid call sequence"),e.n},hd=e.mpl_get_row_name=function(e,t){3!=e.phase&&r("mpl_get_row_name: invalid call sequence"),1<=t&&t<=e.m||r("mpl_get_row_name: i = "+t+"; row number out of range");var a=e.row[t].con.name;return n(a.length<=255),a+=ia(e,"[",e.row[t].memb.tuple).slice(0,255),255==a.length&&(a=a.slice(0,252)+"..."),n(a.length<=255),a},yd=e.mpl_get_row_kind=function(e,t){var a;switch(3!=e.phase&&r("mpl_get_row_kind: invalid call sequence"),1<=t&&t<=e.m||r("mpl_get_row_kind: i = "+t+"; row number out of range"),e.row[t].con.type){case C_:a=411;break;case Z_:a=$b;break;case $_:a=Zb;break;default:n(e!=e)}return a},kd=e.mpl_get_row_bnds=function(e,n,t){var a,l,o,i;return 3!=e.phase&&r("mpl_get_row_bnds: invalid call sequence"),1<=n&&n<=e.m||r("mpl_get_row_bnds: i = "+n+"; row number out of range"),a=e.row[n],o=null==a.con.lbnd?-Xi:a.lbnd,i=null==a.con.ubnd?+Xi:a.ubnd,o==-Xi&&i==+Xi?(l=Hb,o=i=0):i==+Xi?(l=Wb,i=0):o==-Xi?(l=Jb,o=0):l=a.con.lbnd!=a.con.ubnd?Qb:Yb,t(o,i),l},wd=e.mpl_get_mat_row=function(e,t,a,l){var o,i=0;for(3!=e.phase&&r("mpl_get_mat_row: invalid call sequence"),1<=t&&t<=e.m||r("mpl_get_mat_row: i = "+t+"; row number out of range"),o=e.row[t].form;null!=o;o=o.next)n(null!=o.var_),i++,n(i<=e.n),null!=a&&(a[i]=o.var_.j),null!=l&&(l[i]=o.coef);return i},xd=e.mpl_get_row_c0=function(e,n){var t;return 3!=e.phase&&r("mpl_get_row_c0: invalid call sequence"),1<=n&&n<=e.m||r("mpl_get_row_c0: i = "+n+"; row number out of range"),t=e.row[n],null==t.con.lbnd&&null==t.con.ubnd?-t.lbnd:0},Ad=e.mpl_get_col_name=function(e,t){3!=e.phase&&r("mpl_get_col_name: invalid call sequence"),1<=t&&t<=e.n||r("mpl_get_col_name: j = "+t+"; column number out of range");var a=e.col[t].var_.name;return n(a.length<=255),a+=ia(e,"[",e.col[t].memb.tuple),255==a.length&&(a=a.slice(0,252)+"..."),n(a.length<=255),a},jd=e.mpl_get_col_kind=function(e,t){var a;switch(3!=e.phase&&r("mpl_get_col_kind: invalid call sequence"),1<=t&&t<=e.n||r("mpl_get_col_kind: j = "+t+"; column number out of range"),e.col[t].var_.type){case np:a=ed;break;case Q_:a=nd;break;case T_:a=rd;break;default:n(e!=e)}return a},Md=e.mpl_get_col_bnds=function(e,n,t){var a,l,o,i;return 3!=e.phase&&r("mpl_get_col_bnds: invalid call sequence"),1<=n&&n<=e.n||r("mpl_get_col_bnds: j = "+n+"; column number out of range"),a=e.col[n],o=null==a.var_.lbnd?-Xi:a.lbnd,i=null==a.var_.ubnd?+Xi:a.ubnd,o==-Xi&&i==+Xi?(l=Hb,o=i=0):i==+Xi?(l=Wb,i=0):o==-Xi?(l=Jb,o=0):l=a.var_.lbnd!=a.var_.ubnd?Qb:Yb,t(o,i),l},Pd=e.mpl_has_solve_stmt=function(e){return 3!=e.phase&&r("mpl_has_solve_stmt: invalid call sequence"),e.flag_s},Ld=e.mpl_put_row_soln=function(e,r,t,a,l){n(3==e.phase),n(1<=r&&r<=e.m),e.row[r].stat=t,e.row[r].prim=a,e.row[r].dual=l},zd=e.mpl_put_col_soln=function(e,r,t,a,l){n(3==e.phase),n(1<=r&&r<=e.n),e.col[r].stat=t,e.col[r].prim=a,e.col[r].dual=l},Id=e.mpl_postsolve=function(e){return(3!=e.phase||e.flag_p)&&r("mpl_postsolve: invalid call sequence"),Vl(e),Zl(e),Qi("Model has been successfully processed"),e.phase},Ed=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fd=["January","February","March","April","May","June","July","August","September","October","November","December"],Sd={},Nd=e.mpl_tab_drv_register=function(e,n){Sd[e.toLowerCase()]=n};mo.prototype.readField=function(){if(this.c==Ji)return this.what=this.CSV_EOF,void(this.field="EOF");if("\n"!=this.c)if(","==this.c&&this.readChar(),"'"==this.c||'"'==this.c){var e=this.c;for(this.field="",this.what=this.CSV_STR,this.readChar();;){if(this.c==e)if(this.readChar(),this.c==e);else{if(","==this.c||"\n"==this.c)break;r(this.fname+":"+this.count+": invalid field")}this.field+=this.c,this.readChar()}0==this.field.length&&r(this.fname+":"+this.count+": empty field not allowed")}else{this.field="";var n;for(this.what=this.CSV_NUM;","!=this.c&&"\n"!=this.c;)"'"!=this.c&&'"'!=this.c||r(this.fname+":"+this.count+": invalid use of single or double quote within field"),this.field+=this.c,this.readChar();0==this.field.length&&r(this.fname+":"+this.count+": empty field not allowed"),Ve(this.field,function(e){n=e})&&(this.what=this.CSV_STR)}else if(this.what=this.CSV_EOR,this.field="EOR",this.readChar(),","==this.c&&r(this.fname+":"+this.count+": empty field not allowed\n"),"\n"==this.c&&r(this.fname+":"+this.count+": empty record not allowed\n"),"#"==this.c&&1==this.count)for(;"#"==this.c;){for(;"\n"!=this.c;)this.readChar();this.readChar(),this.nskip++}},mo.prototype.readChar=function(){var e;for(n(this.c!=Ji),"\n"==this.c&&this.count++;;)if("\r"!=(e=this.cursor<this.data.length?this.data[this.cursor++]:Ji)){"\n"==e||_(e)&&r(this.fname+":"+this.count+": invalid control character "+e);break}this.c=e},mo.prototype.readRecord=function(e){var t;for(n("R"==this.mode),this.ref[0]>0&&cd(e,this.ref[0],this.count-this.nskip-1),t=1;t<=this.nf;t++){if(this.readField(),this.what==this.CSV_EOF)return n(1==t),Ji;if(this.what==this.CSV_EOR){var a=this.nf-t+1;r(1==a?this.fname+":"+this.count+": one field missing":this.fname+":"+this.count+": "+a+" fields missing")}else if(this.what==this.CSV_NUM){if(this.ref[t]>0){var l=0;n(0==Ve(this.field,function(e){l=e})),cd(e,this.ref[t],l)}}else this.what==this.CSV_STR?this.ref[t]>0&&fd(e,this.ref[t],this.field):n(this!=this)}return this.readField(),n(this.what!=this.CSV_EOF),this.what!=this.CSV_EOR&&r(this.fname+":"+this.count+": too many fields"),0},mo.prototype.writeRecord=function(e){var r,t,a,l;for(n("W"==this.mode),t=ld(e),r=1;r<=t;r++){switch(id(e,r)){case"N":this.data+=ud(e,r);break;case"S":for(this.data+='"',a=sd(e,r),l=0;a.length>l;l++)'"'==a[l]?this.data+='""':this.data+=a[l];this.data+='"';break;default:n(e!=e)}this.data+=r<t?",":"\n"}return this.count++,0},mo.prototype.flush=function(e){this.tablecb(e.arg,this.mode,this.data)},Nd("CSV",mo),bo.prototype.writeRecord=function(e){var r;n("W"==this.mode);var t=ld(e),a=[];for(r=1;r<=t;r++)switch(id(e,r)){case"N":a.push(ud(e,r));break;case"S":a.push(sd(e,r));break;default:n(e!=e)}return this.data.push(a),0},bo.prototype.readRecord=function(e){n("R"==this.mode);var t=this.data[this.cursor++];if(null==t)return Ji;for(var a=1;a<=ld(e);a++){var l=this.ref[od(e,a)];if(null!=l){var o=t[l];switch(typeof o){case"number":cd(e,a,o);break;case"boolean":cd(e,a,Number(o));break;case"string":fd(e,a,o);break;default:r("Unexpected data type "+o+" in "+this.fname)}}}return 0},bo.prototype.flush=function(e){this.tablecb(e.arg,this.mode,this.data)},Nd("JSON",bo);var Od=1,qd=2,Gd=1,Td=2,Rd=0,Cd=1e-10,Xd=e.glp_scale_prob=function(e,t){function a(e,r,t){var a,l,o;for(n(1<=r&&r<=e.m),l=1,a=e.row[r].ptr;null!=a;a=a.r_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.r_prev||l>o)&&(l=o);return l}function l(e,r,t){var a,l,o;for(n(1<=r&&r<=e.m),l=1,a=e.row[r].ptr;null!=a;a=a.r_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.r_prev||l<o)&&(l=o);return l}function o(e,r,t){var a,l,o;for(n(1<=r&&r<=e.n),l=1,a=e.col[r].ptr;null!=a;a=a.c_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.c_prev||l>o)&&(l=o);return l}function i(e,r,t){var a,l,o;for(n(1<=r&&r<=e.n),l=1,a=e.col[r].ptr;null!=a;a=a.c_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.c_prev||l<o)&&(l=o);return l}function u(e,n){var r,t,l;for(t=1,r=1;r<=e.m;r++)l=a(e,r,n),(1==r||t>l)&&(t=l);return t}function s(e,n){var r,t,a;for(t=1,r=1;r<=e.m;r++)a=l(e,r,n),(1==r||t<a)&&(t=a);return t}function c(e,r){var t,a,o,u;for(n(0==r||1==r),o=0;o<=1;o++)if(o==r)for(t=1;t<=e.m;t++)u=l(e,t,1),Ou(e,t,Gu(e,t)/u);else for(a=1;a<=e.n;a++)u=i(e,a,1),qu(e,a,Tu(e,a)/u)}function f(e,r){var t,u,s,c;for(n(0==r||1==r),s=0;s<=1;s++)if(s==r)for(t=1;t<=e.m;t++)c=a(e,t,1)*l(e,t,1),Ou(e,t,Gu(e,t)/Math.sqrt(c));else for(u=1;u<=e.n;u++)c=o(e,u,1)*i(e,u,1),qu(e,u,Tu(e,u)/Math.sqrt(c))}function _(e){var n,r,t;for(r=1,n=1;n<=e.m;n++)t=l(e,n,1)/a(e,n,1),(1==n||r<t)&&(r=t);return r}function p(e){var n,r,t;for(r=1,n=1;n<=e.n;n++)t=i(e,n,1)/o(e,n,1),(1==n||r<t)&&(r=t);return r}function m(e,n,r){var t,a,l,o=0;for(a=_(e)>p(e),t=1;t<=n&&(l=o,o=s(e,1)/u(e,1),!(t>1&&o>r*l));t++)f(e,a)}t&~(oc|ic|uc|sc|cc)&&r("glp_scale_prob: flags = "+t+"; invalid scaling options"),t&cc&&(t=oc|ic|sc),function(e,n){function r(e,n,r,t){return e+": min|aij| = "+n+"  max|aij| = "+r+"  ratio = "+t}var t,a,l;if(Qi("Scaling..."),Ru(e),t=u(e,1),a=s(e,1),l=a/t,Qi(r(" A",t,a,l)),!(t>=.1&&a<=10&&(Qi("Problem data seem to be well scaled"),n&sc))&&(n&oc&&(m(e,15,.9),t=u(e,1),a=s(e,1),l=a/t,Qi(r("GM",t,a,l))),n&ic&&(c(e,_(e)>p(e)),t=u(e,1),a=s(e,1),l=a/t,Qi(r("EQ",t,a,l))),n&uc)){var o,i;for(o=1;o<=e.m;o++)Ou(e,o,Ke(Gu(e,o)));for(i=1;i<=e.n;i++)qu(e,i,Ke(Tu(e,i)));t=u(e,1),a=s(e,1),l=a/t,Qi(r("2N",t,a,l))}}(e,t)}}("object"===typeof n&&n||this)}]);
//# sourceMappingURL=1d74129e7bd599db9e9c.worker.js.map