!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/escher-fba/",t(t.s=11)}([function(e,t,n){"use strict";function r(){}function i(e,t){var n,i,o,a,l=L;for(a=arguments.length;a-- >2;)S.push(arguments[a]);for(t&&null!=t.children&&(S.length||S.push(t.children),delete t.children);S.length;)if((i=S.pop())&&void 0!==i.pop)for(a=i.length;a--;)S.push(i[a]);else"boolean"===typeof i&&(i=null),(o="function"!==typeof e)&&(null==i?i="":"number"===typeof i?i=String(i):"string"!==typeof i&&(o=!1)),o&&n?l[l.length-1]+=i:l===L?l=[i]:l.push(i),n=o;var s=new r;return s.nodeName=e,s.children=l,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==N.vnode&&N.vnode(s),s}function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return i(e.nodeName,o(o({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function l(e){!e._dirty&&(e._dirty=!0)&&1==P.push(e)&&(N.debounceRendering||T)(s)}function s(){var e,t=P;for(P=[];e=t.pop();)e._dirty&&M(e)}function c(e,t,n){return"string"===typeof t||"number"===typeof t?void 0!==e.splitText:"string"===typeof t.nodeName?!e._componentConstructor&&u(e,t.nodeName):n||e._componentConstructor===t.nodeName}function u(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function d(e){var t=o({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function f(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||i)if("style"===t){if(r&&"string"!==typeof r&&"string"!==typeof n||(e.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]="number"===typeof r[o]&&!1===z.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,h,a):e.removeEventListener(t,h,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)b(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var l=i&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!==typeof r&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function b(e,t,n){try{e[t]=n}catch(e){}}function h(e){return this._listeners[e.type](N.event&&N.event(e)||e)}function m(){for(var e;e=F.pop();)N.afterMount&&N.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,r,i,o){Q++||(U=null!=i&&void 0!==i.ownerSVGElement,R=null!=e&&!("__preactattr_"in e));var a=A(e,t,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--Q||(R=!1,o||m()),a}function A(e,t,n,r,i){var o=e,a=U;if(null!=t&&"boolean"!==typeof t||(t=""),"string"===typeof t||"number"===typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),v(e,!0))),o.__preactattr_=!0,o;var l=t.nodeName;if("function"===typeof l)return j(e,t,n,r);if(U="svg"===l||"foreignObject"!==l&&U,l=String(l),(!e||!u(e,l))&&(o=f(l,U),e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),v(e,!0)}var s=o.firstChild,c=o.__preactattr_,d=t.children;if(null==c){c=o.__preactattr_={};for(var _=o.attributes,p=_.length;p--;)c[_[p].name]=_[p].value}return!R&&d&&1===d.length&&"string"===typeof d[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=d[0]&&(s.nodeValue=d[0]):(d&&d.length||null!=s)&&y(o,d,n,r,R||null!=c.dangerouslySetInnerHTML),w(o,t.attributes,c),U=a,o}function y(e,t,n,r,i){var o,a,l,s,u,d=e.childNodes,f=[],p={},b=0,h=0,m=d.length,g=0,y=t?t.length:0;if(0!==m)for(var x=0;x<m;x++){var w=d[x],k=w.__preactattr_,C=y&&k?w._component?w._component.__key:k.key:null;null!=C?(b++,p[C]=w):(k||(void 0!==w.splitText?!i||w.nodeValue.trim():i))&&(f[g++]=w)}if(0!==y)for(var x=0;x<y;x++){s=t[x],u=null;var C=s.key;if(null!=C)b&&void 0!==p[C]&&(u=p[C],p[C]=void 0,b--);else if(!u&&h<g)for(o=h;o<g;o++)if(void 0!==f[o]&&c(a=f[o],s,i)){u=a,f[o]=void 0,o===g-1&&g--,o===h&&h++;break}u=A(u,s,n,r),l=d[x],u&&u!==e&&u!==l&&(null==l?e.appendChild(u):u===l.nextSibling?_(l):e.insertBefore(u,l))}if(b)for(var x in p)void 0!==p[x]&&v(p[x],!1);for(;h<=g;)void 0!==(u=f[g--])&&v(u,!1)}function v(e,t){var n=e._component;n?O(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||_(e),x(e))}function x(e){for(e=e.lastChild;e;){var t=e.previousSibling;v(e,!0),e=t}}function w(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||p(e,r,n[r],n[r]=void 0,U);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||p(e,r,n[r],n[r]=t[r],U)}function k(e){var t=e.constructor.name;(G[t]||(G[t]=[])).push(e)}function C(e,t,n){var r,i=G[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),I.call(r,t,n)):(r=new I(t,n),r.constructor=e,r.render=B),i)for(var o=i.length;o--;)if(i[o].constructor===e){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function B(e,t,n){return this.constructor(e,n)}function E(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===N.syncComponentUpdates&&e.base?l(e):M(e,1,i)),e.__ref&&e.__ref(e))}function M(e,t,n,r){if(!e._disable){var i,a,l,s=e.props,c=e.state,u=e.context,f=e.prevProps||s,_=e.prevState||c,p=e.prevContext||u,b=e.base,h=e.nextBase,A=b||h,y=e._component,x=!1;if(b&&(e.props=f,e.state=_,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,u)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,u),e.props=s,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){i=e.render(s,c,u),e.getChildContext&&(u=o(o({},u),e.getChildContext()));var w,k,B=i&&i.nodeName;if("function"===typeof B){var j=d(i);a=y,a&&a.constructor===B&&j.key==a.__key?E(a,j,1,u,!1):(w=a,e._component=a=C(B,j,u),a.nextBase=a.nextBase||h,a._parentComponent=e,E(a,j,0,u,!1),M(a,1,n,!0)),k=a.base}else l=A,w=y,w&&(l=e._component=null),(A||1===t)&&(l&&(l._component=null),k=g(l,i,u,n||!b,A&&A.parentNode,!0));if(A&&k!==A&&a!==y){var I=A.parentNode;I&&k!==I&&(I.replaceChild(k,A),w||(A._component=null,v(A,!1)))}if(w&&O(w),e.base=k,k&&!r){for(var D=e,S=e;S=S._parentComponent;)(D=S).base=k;k._component=D,k._componentConstructor=D.constructor}}if(!b||n?F.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(f,_,p),N.afterUpdate&&N.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);Q||r||m()}}function j(e,t,n,r){for(var i=e&&e._component,o=i,a=e,l=i&&e._componentConstructor===t.nodeName,s=l,c=d(t);i&&!s&&(i=i._parentComponent);)s=i.constructor===t.nodeName;return i&&s&&(!r||i._component)?(E(i,c,3,n,r),e=i.base):(o&&!l&&(O(o),e=a=null),i=C(t.nodeName,c,n),e&&!i.nextBase&&(i.nextBase=e,a=null),E(i,c,1,n,r),e=i.base,a&&e!==a&&(a._component=null,v(a,!1))),e}function O(e){N.beforeUnmount&&N.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?O(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,_(t),k(e),x(t)),e.__ref&&e.__ref(null)}function I(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function D(e,t,n){return g(n,e,{},!1,t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return i}),n.d(t,"createElement",function(){return i}),n.d(t,"cloneElement",function(){return a}),n.d(t,"Component",function(){return I}),n.d(t,"render",function(){return D}),n.d(t,"rerender",function(){return s}),n.d(t,"options",function(){return N});var N={},S=[],L=[],T="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,z=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,P=[],F=[],Q=0,U=!1,R=!1,G={};o(I.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o({},n)),o(n,"function"===typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),l(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),M(this,2)},render:function(){}});var Y={h:i,createElement:i,cloneElement:a,Component:I,render:D,rerender:s,options:N};t.default=Y},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){"use strict";function r(e,t){return Object.keys(t).some(function(n){return e.target===t[n].base})}function i(e,t){var n=t.min,r=t.max;return e<n||e>r}function o(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function a(e,t){var n=t.marks,r=t.step,i=t.min,o=Object.keys(n).map(parseFloat);if(null!==r){var a=Math.round((e-i)/r)*r+i;o.push(a)}var l=o.map(function(t){return Math.abs(e-t)});return o[l.indexOf(Math.min.apply(Math,l))]}function l(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function s(e,t){return e?t.clientY:t.pageX}function c(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function u(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:n.left+.5*n.width}function d(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function f(e,t){var n=t.step,r=a(e,t);return null===n?r:parseFloat(r.toFixed(l(n)))}function _(e){e.stopPropagation(),e.preventDefault()}function p(e){switch(e.keyCode){case h.default.UP:case h.default.RIGHT:return function(e,t){return e+t.step};case h.default.DOWN:case h.default.LEFT:return function(e,t){return e-t.step};case h.default.END:return function(e,t){return t.max};case h.default.HOME:return function(e,t){return t.min};case h.default.PAGE_UP:return function(e,t){return e+2*t.step};case h.default.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}}t.__esModule=!0,t.isEventFromHandle=r,t.isValueOutOfRange=i,t.isNotTouchEvent=o,t.getClosestPoint=a,t.getPrecision=l,t.getMousePosition=s,t.getTouchPosition=c,t.getHandleCenterPosition=u,t.ensureValueInRange=d,t.ensureValuePrecision=f,t.pauseEvent=_,t.getKeyboardValueMutator=p;var b=n(39),h=function(e){return e&&e.__esModule?e:{default:e}}(b)},function(e,t,n){!function(t,r){e.exports=r(function(){try{return n(!function(){var e=new Error('Cannot find module "@jupyter-widgets/base"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}())}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=119)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);n.d(t,"creator",function(){return r.a});var i=n(134);n.d(t,"local",function(){return i.a});var o=n(62);n.d(t,"matcher",function(){return o.a});var a=n(135);n.d(t,"mouse",function(){return a.a});var l=n(37);n.d(t,"namespace",function(){return l.a});var s=n(38);n.d(t,"namespaces",function(){return s.a});var c=n(26);n.d(t,"clientPoint",function(){return c.a});var u=n(136);n.d(t,"select",function(){return u.a});var d=n(164);n.d(t,"selectAll",function(){return d.a});var f=n(5);n.d(t,"selection",function(){return f.b});var _=n(41);n.d(t,"selector",function(){return _.a});var p=n(63);n.d(t,"selectorAll",function(){return p.a});var b=n(66);n.d(t,"style",function(){return b.b});var h=n(165);n.d(t,"touch",function(){return h.a});var m=n(166);n.d(t,"touches",function(){return m.a});var g=n(42);n.d(t,"window",function(){return g.a});var A=n(40);n.d(t,"event",function(){return A.c}),n.d(t,"customEvent",function(){return A.a})},function(e,t,n){"use strict";function r(){try{new Blob}catch(e){alert("Blob not supported")}}function i(e,t,n){if(void 0===e||null===e)return t;var r={};for(var i in t){var o=i in e&&null!==e[i]&&void 0!==e[i],a=o?e[i]:t[i];n&&i in n&&(a=parseFloat(a),isNaN(a)&&(o?(console.warn("Bad float for option "+i),a=parseFloat(t[i]),isNaN(a)&&(console.warn("Bad float for default "+i),a=null)):(console.warn("Bad float for default "+i),a=null))),r[i]=a}return r}function o(e){for(var t=e.node();t.hasChildNodes();)t.removeChild(t.lastChild)}function a(e,t){var n="";return e&&oe(e,function(e,r){e&&console.warn(e),n=r,t(n)}),!1}function l(e,t){return-1!==e.indexOf(t,e.length-t.length)}function s(e,t,n,r){return r?(t&&console.warn("File "+t+" overridden by value."),void n.call(e,null,r)):t?void(l(t,"json")?ie(t,function(t,r){n.call(e,t,r)}):l(t,"css")?oe(t,function(t,r){n.call(e,t,r)}):n.call(e,"Unrecognized file type",null)):void n.call(e,"No filename",null)}function c(e,t,n){0===t.length&&n.call(e);for(var r=-1,i=t.length;++r<t.length;)s(e,t[r].file,function(t,r){this.call(e,t,r),--i||n.call(e)}.bind(t[r].callback),t[r].value)}function u(){var e,t=function t(n){if(!(this instanceof t)){e=!0;var r=new t(arguments);return e=!1,r}"function"===typeof this.init&&this.init.apply(this,e?n:arguments)};return t}function d(e){return new Proxy(e,{apply:function(e,t,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))}})}function f(e,t){e.select("defs").remove();var n=e.append("defs"),r=n.node();return r.parentNode.insertBefore(r,r.parentNode.firstChild),n.append("style").attr("type","text/css").text(t),n}function _(e,t,n,r,i,o,a,l){var s={};for(var c in r)void 0===r[c]?console.warn("Undefined value for id "+c+" in object. Ignoring."):s[c]=r[c];var u=e.select(t).selectAll(n).data(h(s,i),function(e){return e[i]}),d=o?o(u.enter()).merge(u):u;a&&d.call(a),l&&u.exit().call(l)}function p(e,t,n,r,i,o,a){var l=e.selectAll(t).data(function(e){return h(e[n],r)},function(e){return e[r]}),s=i?i(l.enter()).merge(l):l;o&&s.call(o),a&&l.exit().call(a)}function b(e,t){var n=[];for(var r in e){var i=A(e[r]);i[t]=r,n.push(i)}return n}function h(e,t){var n=[];for(var r in e){var i=e[r];i[t]=r,n.push(i)}return n}function m(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!=t[n])return!1;return!0}function g(e){for(var t={},n=0,r=e.length;n<r;n++)for(var i=e[n],o=Object.keys(i),a=0,l=o.length;a<l;a++){var s=o[a];if(s in t)t[s][n]=i[s];else{for(var c=[],u=0;u<r;u++)c[u]=null;c[n]=i[s],t[s]=c}}return t}function A(e){return re.isArray(e)?re.map(e,function(e){return A(e)}):re.isObject(e)?re.mapObject(e,function(e,t){return A(e)}):e}function y(e,t,n){void 0===n&&(n=!1);for(var r in t){if(r in e&&!n)throw new Error("Attribute "+r+" already in object.");e[r]=t[r]}}function v(e){var t=[];return e.forEach(function(e){e.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),t}function x(e){for(var t=[],n=0,r=e.length;n<r;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function w(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},l=n&&!r;clearTimeout(r),r=setTimeout(a,t),l&&e.apply(i,o)}}function k(e,t){for(var n={},r=-1;++r<t.length;)n[t[r]]=A(e[t[r]]);return t.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function C(e,t){for(var n={},r=-1;++r<t.length;)n[t[r]]=e[t[r]];return t.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function B(e,t){return null===e||null===t||void 0===e||void 0===t?null:{x:e.x+t.x,y:e.y+t.y}}function E(e,t){return null===e||null===t||void 0===e||void 0===t?null:{x:e.x-t.x,y:e.y-t.y}}function M(e,t){return{x:e.x*t,y:e.y*t}}function j(e,t){r();var n=JSON.stringify(e),i=new Blob([n],{type:"application/json"});se(i,t+".json")}function O(e,t,n,r){window.File&&window.FileReader&&window.FileList&&window.Blob||t("The File APIs are not fully supported in this browser.",null);var i=new window.FileReader;if(i.onload=function(e){var n,r=e.target.result;try{n=JSON.parse(r)}catch(e){return void t(e,null)}t(null,n)},void 0!==n&&null!==n)try{n()}catch(e){console.warn(e)}i.onabort=function(e){try{r()}catch(e){console.warn(e)}},i.onerror=function(e){try{r()}catch(e){console.warn(e)}},i.readAsText(e)}function I(e,t,n,r,i,o){var a=function(e){var r,i,o=e.target.result;try{r=JSON.parse(o)}catch(e){i="JSON error: "+e;try{r=t(ae(o))}catch(e){return void n(i+"\nCSV error: "+e,null)}}n(null,r)};if(void 0!==o&&null!==o)return console.warn("Debugging load_json_or_csv"),a(o);window.File&&window.FileReader&&window.FileList&&window.Blob||n("The File APIs are not fully supported in this browser.",null);var l=new window.FileReader;if(void 0!==r&&null!==r)try{r()}catch(e){console.warn(e)}l.onabort=function(e){try{i()}catch(e){console.warn(e)}},l.onerror=function(e){try{i()}catch(e){console.warn(e)}},l.onload=a,l.readAsText(e)}function D(e,t,n){r();var i=(new XMLSerializer).serializeToString(t.node());n&&(i=ne.xml(i)),i='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+i;var o=new Blob([i],{type:"image/svg+xml"});se(o,e+".svg")}function N(e,t){r();var n=(new XMLSerializer).serializeToString(t.node());n='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+n;var i=document.createElement("canvas"),o=i.getContext("2d"),a=t.node().getBBox(),l=a.width+a.x,s=a.height+a.y;l<1e4&&s<1e4?(i.width=l,i.height=s):i.width>i.height?(i.width=1e4,i.height=s/l*1e4):(i.width=l/s*1e4,i.height=1e4);var c=new Image;c.src="data:image/svg+xml;base64,"+btoa(n),c.onload=function(){o.fillStyle="#FFF",o.fillRect(0,0,i.width,i.height),o.drawImage(c,0,0,i.width,i.height),i.toBlob(function(t){se(t,e+".png")})}}function S(e,t,n){return e.map(function(e){return L(e,t,n)})}function L(e,t,n){return{x:Math.cos(-t)*(e.x-n.x)+Math.sin(-t)*(e.y-n.y)+n.x-e.x,y:-Math.sin(-t)*(e.x-n.x)+Math.cos(-t)*(e.y-n.y)+n.y-e.y}}function T(e){var t=e[1].x-e[0].x,n=e[1].y-e[0].y;return 0===t&&n>=0?Math.PI/2:0===t&&n<0?3*Math.PI/2:t>=0&&n>=0?Math.atan(n/t):t>=0?Math.atan(n/t)+2*Math.PI:Math.atan(n/t)+Math.PI}function z(e){return 180*e/Math.PI}function P(e){return e<-Math.PI?e+=2*Math.ceil(e/(-2*Math.PI))*Math.PI:e>Math.PI&&(e-=2*Math.ceil(e/(2*Math.PI))*Math.PI),e}function F(e){return P(Math.PI/180*e)}function Q(e,t,n){var r=Math.atan2(t.x-n.x,n.y-t.y);return Math.atan2(t.x-n.x+e.x,n.y-t.y-e.y)-r}function U(e,t){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function R(e,t){t.forEach(function(n,r){void 0===e[r]&&console.error("Argument is undefined: "+t[r])})}function G(e,t){return e+"_"+t}function Y(e){var t=/(.*)_([a-z0-9]{1,2})$/,n=t.exec(e);return null!==n?n.slice(1,3):[e,null]}function H(e){return e.reduce(function(e,t){return e+t})/e.length}function W(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2==1?e[t]:(e[t-1]+e[t])/2}function V(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return 1===e.length?[e[0],e[0],e[0]]:e.length%2===1?[W(e.slice(0,t)),e[t],W(e.slice(t+1))]:[W(e.slice(0,t)),(e[t-1]+e[t])/2,W(e.slice(t))]}function q(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function K(){return q(12)}function Z(e,t){for(e instanceof le&&(e=e.node());null!==e.parentNode;)if(e=e.parentNode,void 0!==e.tagName&&e.tagName.toLowerCase()===t.toLowerCase())return!0;return!1}function X(e,t){return void 0!==t&&null!==t&&(t=t.replace(/^\/|\/$/g,""),e=[t,e].join("/")),e.replace(/^\/|\/$/g,"")+".json"}function J(e,t){re.isUndefined(t)&&(t={});for(var n=e.location.search.substring(1),r=n.split("&"),i=0,o=r.length;i<o;i++){var a=r[i].split("="),l=decodeURIComponent(a[1]);if(a[0].indexOf("[]")===a[0].length-2){var s=a[0].replace("[]","");s in t||(t[s]=[]),t[s].push(l)}else t[a[0]]=l}return t}function $(e){return e.ownerDocument}function ee(e){return $(e).defaultView}function te(e){if(-1!==e.indexOf("skew")||-1!==e.indexOf("matrix"))throw new Error("d3_transform_catch does not work with skew or matrix");var t=/translate\s*\(\s*([0-9.-]+)\s*,\s*([0-9.-]+)\s*\)/.exec(e),n=re.isNull(t),r=n?0:Number(t[1]),i=n?0:Number(t[2]),o=/rotate\s*\(\s*([0-9.-]+)\s*\)/.exec(e),a=re.isNull(o),l=a?0:Number(o[1]),s=/scale\s*\(\s*([0-9.-]+)\s*\)/.exec(e);return{translate:[r,i],rotate:l,scale:re.isNull(s)?0:Number(s[1])}}var ne=n(59),re=n(2),ie=n(19).json,oe=n(19).text,ae=n(34).csvParseRows,le=n(0).selection;try{var se=n(167).saveAs}catch(e){console.warn("Not a browser, so FileSaver.js not available.")}e.exports={set_options:i,remove_child_nodes:o,load_css:a,load_files:c,load_the_file:s,make_class:u,class_with_optional_new:d,setup_defs:f,draw_an_object:_,draw_a_nested_object:p,make_array:b,make_array_ref:h,compare_arrays:m,array_to_object:g,clone:A,extend:y,uniqueConcat:v,unique_strings_array:x,debounce:w,object_slice_for_ids:k,object_slice_for_ids_ref:C,c_plus_c:B,c_minus_c:E,c_times_scalar:M,download_json:j,load_json:O,load_json_or_csv:I,download_svg:D,download_png:N,rotate_coords_recursive:S,rotate_coords:L,get_angle:T,to_degrees:z,to_radians_norm:F,angle_for_event:Q,distance:U,check_undefined:R,compartmentalize:G,decompartmentalize:Y,mean:H,median:W,quartiles:V,random_characters:q,generate_map_id:K,check_for_parent_tag:Z,name_to_url:X,parse_url_components:J,get_document:$,get_window:ee,d3_transform_catch:te}},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var l=i?i[o]:o;r=n(r,t[l],l,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!O(n)&&x.keys(n),l=(a||n).length,s=e>0?0:l-1;return arguments.length<3&&(i=n[a?a[s]:s],s+=e),t(n,r,i,a,s,l)}}function o(e){return function(t,n,r){n=k(n,r);for(var i=j(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(r,i,o){var a=0,l=j(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(p.call(r,a,l),x.isNaN),o>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&o<l;o+=e)if(r[o]===i)return o;return-1}}function l(e,t){var n=L.length,r=e.constructor,i=x.isFunction(r)&&r.prototype||d,o="constructor";for(x.has(e,o)&&!x.contains(t,o)&&t.push(o);n--;)(o=L[n])in e&&e[o]!==i[o]&&!x.contains(t,o)&&t.push(o)}var s=this,c=s._,u=Array.prototype,d=Object.prototype,f=Function.prototype,_=u.push,p=u.slice,b=d.toString,h=d.hasOwnProperty,m=Array.isArray,g=Object.keys,A=f.bind,y=Object.create,v=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!==typeof e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?x.identity:x.isFunction(e)?w(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return k(e,t,1/0)};var C=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),l=a.length,s=0;s<l;s++){var c=a[s];t&&void 0!==n[c]||(n[c]=o[c])}return n}},B=function(e){if(!x.isObject(e))return{};if(y)return y(e);v.prototype=e;var t=new v;return v.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},M=Math.pow(2,53)-1,j=E("length"),O=function(e){var t=j(e);return"number"==typeof t&&t>=0&&t<=M};x.each=x.forEach=function(e,t,n){t=w(t,n);var r,i;if(O(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=x.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},x.map=x.collect=function(e,t,n){t=k(t,n);for(var r=!O(e)&&x.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var l=r?r[a]:a;o[a]=t(e[l],l,e)}return o},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(e,t,n){var r;if(void 0!==(r=O(e)?x.findIndex(e,t,n):x.findKey(e,t,n))&&-1!==r)return e[r]},x.filter=x.select=function(e,t,n){var r=[];return t=k(t,n),x.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(k(t)),n)},x.every=x.all=function(e,t,n){t=k(t,n);for(var r=!O(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},x.some=x.any=function(e,t,n){t=k(t,n);for(var r=!O(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return O(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=p.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=O(e)?e:x.values(e);for(var l=0,s=e.length;l<s;l++)(r=e[l])>o&&(o=r)}else t=k(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},x.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=O(e)?e:x.values(e);for(var l=0,s=e.length;l<s;l++)(r=e[l])<o&&(o=r)}else t=k(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},x.shuffle=function(e){for(var t,n=O(e)?e:x.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=x.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},x.sample=function(e,t,n){return null==t||n?(O(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=k(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,n,r){var i={};return n=k(n,r),x.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};x.groupBy=I(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=I(function(e,t,n){e[n]=t}),x.countBy=I(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?p.call(e):O(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:O(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return x.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},x.first=x.head=x.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var D=function(e,t,n,r){for(var i=[],o=0,a=r||0,l=j(e);a<l;a++){var s=e[a];if(O(s)&&(x.isArray(s)||x.isArguments(s))){t||(s=D(s,t,n));var c=0,u=s.length;for(i.length+=u;c<u;)i[o++]=s[c++]}else n||(i[o++]=s)}return i};x.flatten=function(e,t){return D(e,t,!1)},x.without=function(e){return x.difference(e,p.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],a=0,l=j(e);a<l;a++){var s=e[a],c=n?n(s,a,e):s;t?(a&&o===c||i.push(s),o=c):n?x.contains(o,c)||(o.push(c),i.push(s)):x.contains(i,s)||i.push(s)}return i},x.union=function(){return x.uniq(D(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=j(e);r<i;r++){var o=e[r];if(!x.contains(t,o)){for(var a=1;a<n&&x.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},x.difference=function(e){var t=D(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,j).length||0,n=Array(t),r=0;r<t;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,i=j(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,a=j(e);o<a;){var l=Math.floor((o+a)/2);n(e[l])<i?o=l+1:a=l}return o},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var N=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=B(e.prototype),a=e.apply(o,i);return x.isObject(a)?a:o};x.bind=function(e,t){if(A&&e.bind===A)return A.apply(e,p.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return N(e,r,t,this,n.concat(p.call(arguments)))};return r},x.partial=function(e){var t=p.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===x?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return N(e,n,this,this,o)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return x.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,i,o,a=null,l=0;n||(n={});var s=function(){l=!1===n.leading?0:x.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=x.now();l||!1!==n.leading||(l=c);var u=t-(c-l);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),l=c,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(s,u)),o}},x.debounce=function(e,t,n){var r,i,o,a,l,s=function(){var c=x.now()-a;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(l=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=x.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(l=e.apply(o,i),o=i=null),l}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},x.once=x.partial(x.before,2);var S=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return S&&l(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return S&&l(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},x.mapObject=function(e,t,n){t=k(t,n);for(var r,i=x.keys(e),o=i.length,a={},l=0;l<o;l++)r=i[l],a[r]=t(e[r],r,e);return a},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=C(x.allKeys),x.extendOwn=x.assign=C(x.keys),x.findKey=function(e,t,n){t=k(t,n);for(var r,i=x.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;x.isFunction(t)?(i=x.allKeys(a),r=w(t,n)):(i=D(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var l=0,s=i.length;l<s;l++){var c=i[l],u=a[c];r(u,c,a)&&(o[c]=u)}return o},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(D(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=C(x.allKeys,!0),x.create=function(e,t){var n=B(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var T=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=b.call(e);if(i!==b.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),o){if((s=e.length)!==t.length)return!1;for(;s--;)if(!T(e[s],t[s],n,r))return!1}else{var c,u=x.keys(e);if(s=u.length,x.keys(t).length!==s)return!1;for(;s--;)if(c=u[s],!x.has(t,c)||!T(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return T(e,t)},x.isEmpty=function(e){return null==e||(O(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=m||function(e){return"[object Array]"===b.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return b.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===b.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&h.call(e,t)},x.noConflict=function(){return s._=c,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=E,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=x.invert(z),F=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};x.escape=F(z),x.unescape=F(P),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var Q=0;x.uniqueId=function(e){var t=++Q+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+R[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,l){return o+=e.slice(i,l).replace(G,Y),i=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var l=function(e){return a.call(this,e,x)};return l.source="function("+(t.variable||"obj")+"){\n"+o+"}",l},x.chain=function(e){var t=x(e);return t._chain=!0,t};var H=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return _.apply(e,arguments),H(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),x.each(["concat","join","slice"],function(e){var t=u[e];x.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(t,r))&&(e.exports=i)}).call(this)},function(e,t,n){"use strict";function r(e,t,n,a){function l(t){return e(t=new Date(+t)),t}return l.floor=l,l.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},l.round=function(e){var t=l(e),n=l.ceil(e);return e-t<n-e?t:n},l.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},l.range=function(n,r,i){var o,a=[];if(n=l.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;do{a.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return a},l.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(l.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},l.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?l.filter(a?function(t){return a(t)%e===0}:function(t){return l.count(0,t)%e===0}):l:null}),l}t.a=r;var i=new Date,o=new Date},function(e,t,n){"use strict";function r(){}function i(e,t){var n,i,o,a,l=L;for(a=arguments.length;a-- >2;)S.push(arguments[a]);for(t&&null!=t.children&&(S.length||S.push(t.children),delete t.children);S.length;)if((i=S.pop())&&void 0!==i.pop)for(a=i.length;a--;)S.push(i[a]);else"boolean"===typeof i&&(i=null),(o="function"!==typeof e)&&(null==i?i="":"number"===typeof i?i=String(i):"string"!==typeof i&&(o=!1)),o&&n?l[l.length-1]+=i:l===L?l=[i]:l.push(i),n=o;var s=new r;return s.nodeName=e,s.children=l,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==N.vnode&&N.vnode(s),s}function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){return i(e.nodeName,o(o({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function l(e){!e._dirty&&(e._dirty=!0)&&1==P.push(e)&&(N.debounceRendering||T)(s)}function s(){var e,t=P;for(P=[];e=t.pop();)e._dirty&&M(e)}function c(e,t,n){return"string"===typeof t||"number"===typeof t?void 0!==e.splitText:"string"===typeof t.nodeName?!e._componentConstructor&&u(e,t.nodeName):n||e._componentConstructor===t.nodeName}function u(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function d(e){var t=o({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function f(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||i)if("style"===t){if(r&&"string"!==typeof r&&"string"!==typeof n||(e.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]="number"===typeof r[o]&&!1===z.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,h,a):e.removeEventListener(t,h,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)b(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var l=i&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!==typeof r&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function b(e,t,n){try{e[t]=n}catch(e){}}function h(e){return this._listeners[e.type](N.event&&N.event(e)||e)}function m(){for(var e;e=F.pop();)N.afterMount&&N.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,r,i,o){Q++||(U=null!=i&&void 0!==i.ownerSVGElement,R=null!=e&&!("__preactattr_"in e));var a=A(e,t,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--Q||(R=!1,o||m()),a}function A(e,t,n,r,i){var o=e,a=U;if(null!=t&&"boolean"!==typeof t||(t=""),"string"===typeof t||"number"===typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),v(e,!0))),o.__preactattr_=!0,o;var l=t.nodeName;if("function"===typeof l)return j(e,t,n,r);if(U="svg"===l||"foreignObject"!==l&&U,l=String(l),(!e||!u(e,l))&&(o=f(l,U),e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),v(e,!0)}var s=o.firstChild,c=o.__preactattr_,d=t.children;if(null==c){c=o.__preactattr_={};for(var _=o.attributes,p=_.length;p--;)c[_[p].name]=_[p].value}return!R&&d&&1===d.length&&"string"===typeof d[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=d[0]&&(s.nodeValue=d[0]):(d&&d.length||null!=s)&&y(o,d,n,r,R||null!=c.dangerouslySetInnerHTML),w(o,t.attributes,c),U=a,o}function y(e,t,n,r,i){var o,a,l,s,u,d=e.childNodes,f=[],p={},b=0,h=0,m=d.length,g=0,y=t?t.length:0;if(0!==m)for(var x=0;x<m;x++){var w=d[x],k=w.__preactattr_,C=y&&k?w._component?w._component.__key:k.key:null;null!=C?(b++,p[C]=w):(k||(void 0!==w.splitText?!i||w.nodeValue.trim():i))&&(f[g++]=w)}if(0!==y)for(var x=0;x<y;x++){s=t[x],u=null;var C=s.key;if(null!=C)b&&void 0!==p[C]&&(u=p[C],p[C]=void 0,b--);else if(!u&&h<g)for(o=h;o<g;o++)if(void 0!==f[o]&&c(a=f[o],s,i)){u=a,f[o]=void 0,o===g-1&&g--,o===h&&h++;break}u=A(u,s,n,r),l=d[x],u&&u!==e&&u!==l&&(null==l?e.appendChild(u):u===l.nextSibling?_(l):e.insertBefore(u,l))}if(b)for(var x in p)void 0!==p[x]&&v(p[x],!1);for(;h<=g;)void 0!==(u=f[g--])&&v(u,!1)}function v(e,t){var n=e._component;n?O(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||_(e),x(e))}function x(e){for(e=e.lastChild;e;){var t=e.previousSibling;v(e,!0),e=t}}function w(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||p(e,r,n[r],n[r]=void 0,U);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||p(e,r,n[r],n[r]=t[r],U)}function k(e){var t=e.constructor.name;(G[t]||(G[t]=[])).push(e)}function C(e,t,n){var r,i=G[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),I.call(r,t,n)):(r=new I(t,n),r.constructor=e,r.render=B),i)for(var o=i.length;o--;)if(i[o].constructor===e){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function B(e,t,n){return this.constructor(e,n)}function E(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===N.syncComponentUpdates&&e.base?l(e):M(e,1,i)),e.__ref&&e.__ref(e))}function M(e,t,n,r){if(!e._disable){var i,a,l,s=e.props,c=e.state,u=e.context,f=e.prevProps||s,_=e.prevState||c,p=e.prevContext||u,b=e.base,h=e.nextBase,A=b||h,y=e._component,x=!1;if(b&&(e.props=f,e.state=_,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,u)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,u),e.props=s,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){i=e.render(s,c,u),e.getChildContext&&(u=o(o({},u),e.getChildContext()));var w,k,B=i&&i.nodeName;if("function"===typeof B){var j=d(i);a=y,a&&a.constructor===B&&j.key==a.__key?E(a,j,1,u,!1):(w=a,e._component=a=C(B,j,u),a.nextBase=a.nextBase||h,a._parentComponent=e,E(a,j,0,u,!1),M(a,1,n,!0)),k=a.base}else l=A,w=y,w&&(l=e._component=null),(A||1===t)&&(l&&(l._component=null),k=g(l,i,u,n||!b,A&&A.parentNode,!0));if(A&&k!==A&&a!==y){var I=A.parentNode;I&&k!==I&&(I.replaceChild(k,A),w||(A._component=null,v(A,!1)))}if(w&&O(w),e.base=k,k&&!r){for(var D=e,S=e;S=S._parentComponent;)(D=S).base=k;k._component=D,k._componentConstructor=D.constructor}}if(!b||n?F.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(f,_,p),N.afterUpdate&&N.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);Q||r||m()}}function j(e,t,n,r){for(var i=e&&e._component,o=i,a=e,l=i&&e._componentConstructor===t.nodeName,s=l,c=d(t);i&&!s&&(i=i._parentComponent);)s=i.constructor===t.nodeName;return i&&s&&(!r||i._component)?(E(i,c,3,n,r),e=i.base):(o&&!l&&(O(o),e=a=null),i=C(t.nodeName,c,n),e&&!i.nextBase&&(i.nextBase=e,a=null),E(i,c,1,n,r),e=i.base,a&&e!==a&&(a._component=null,v(a,!1))),e}function O(e){N.beforeUnmount&&N.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?O(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,_(t),k(e),x(t)),e.__ref&&e.__ref(null)}function I(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function D(e,t,n){return g(n,e,{},!1,t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return i}),n.d(t,"createElement",function(){return i}),n.d(t,"cloneElement",function(){return a}),n.d(t,"Component",function(){return I}),n.d(t,"render",function(){return D}),n.d(t,"rerender",function(){return s}),n.d(t,"options",function(){return N});var N={},S=[],L=[],T="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,z=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,P=[],F=[],Q=0,U=!1,R=!1,G={};o(I.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o({},n)),o(n,"function"===typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),l(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),M(this,2)},render:function(){}});var Y={h:i,createElement:i,cloneElement:a,Component:I,render:D,rerender:s,options:N};t.default=Y},function(e,t,n){"use strict";function r(e,t){this._groups=e,this._parents=t}function i(){return new r([[document.documentElement]],S)}n.d(t,"c",function(){return S}),t.a=r;var o=n(137),a=n(138),l=n(139),s=n(140),c=n(64),u=n(142),d=n(143),f=n(144),_=n(145),p=n(146),b=n(147),h=n(148),m=n(149),g=n(150),A=n(151),y=n(152),v=n(66),x=n(153),w=n(154),k=n(155),C=n(156),B=n(157),E=n(158),M=n(159),j=n(160),O=n(161),I=n(162),D=n(40),N=n(163),S=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:l.a,data:s.a,enter:c.b,exit:u.a,merge:d.a,order:f.a,sort:_.a,call:p.a,nodes:b.a,node:h.a,size:m.a,empty:g.a,each:A.a,attr:y.a,style:v.a,property:x.a,classed:w.a,text:k.a,html:C.a,raise:B.a,lower:E.a,append:M.a,insert:j.a,remove:O.a,datum:I.a,on:D.b,dispatch:N.a},t.b=i},function(e,t,n){"use strict";function r(e,t){var n=o(e,t);if(n.state>d)throw new Error("too late; already scheduled");return n}function i(e,t){var n=o(e,t);if(n.state>_)throw new Error("too late; already started");return n}function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function a(e,t,n){function r(e){n.state=f,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(r){var u,d,h,g;if(n.state!==f)return a();for(u in c)if(g=c[u],g.name===n.name){if(g.state===p)return Object(s.b)(i);g.state===b?(g.state=m,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete c[u]):+u<t&&(g.state=m,g.timer.stop(),delete c[u])}if(Object(s.b)(function(){n.state===p&&(n.state=b,n.timer.restart(o,n.delay,n.time),o(r))}),n.state=_,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_){for(n.state=p,l=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(g=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(l[++d]=g);l.length=d+1}}function o(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=h,1),i=-1,o=l.length;++i<o;)l[i].call(null,r);n.state===h&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=m,n.timer.stop(),delete c[t];for(var r in c)return;delete e.__transition}var l,c=e.__transition;c[t]=n,n.timer=Object(s.c)(r,0,n.time)}n.d(t,"c",function(){return f}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m}),t.g=r,t.h=i,t.f=o;var l=n(20),s=n(86),c=Object(l.a)("start","end","interrupt"),u=[],d=0,f=1,_=2,p=3,b=4,h=5,m=6;t.e=function(e,t,n,r,i,o){var l=e.__transition;if(l){if(n in l)return}else e.__transition={};a(e,n,{name:t,index:r,group:i,on:c,tween:u,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:d})}},function(e,t,n){"use strict";var r=n(47);n.d(t,"a",function(){return r.a});var i=(n(80),n(50),n(78),n(81),n(29));n.d(t,"c",function(){return i.a});var o=(n(82),n(186));n.d(t,"e",function(){return o.a});var a=n(83);n.d(t,"f",function(){return a.a});var l=n(187);n.d(t,"g",function(){return l.a}),n.d(t,"h",function(){return l.b});var s=n(190);n.d(t,"i",function(){return s.a});var c=n(77);n.d(t,"d",function(){return c.a});var u=(n(191),n(192),n(193),n(194));n.d(t,"b",function(){return u.a});n(195)},function(e,t,n){"use strict";var r=n(48);n.d(t,"a",function(){return r.e}),n.d(t,"f",function(){return r.g}),n.d(t,"d",function(){return r.f});var i=n(184);n.d(t,"e",function(){return i.a}),n.d(t,"c",function(){return i.b});var o=n(185);n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";var r=n(92);n.d(t,"b",function(){return r.a});var i=n(18);n.d(t,"a",function(){return i.a});var o=n(93);n.d(t,"c",function(){return o.a});var a=(n(235),n(236),n(95),n(97),n(237),n(240),n(241),n(101),n(242),n(243),n(244),n(245),n(102),n(94),n(246),n(53));n.d(t,"d",function(){return a.a});var l=n(99);n.d(t,"e",function(){return l.a});var s=(n(247),n(248),n(249),n(100));n.d(t,"h",function(){return s.a}),n.d(t,"f",function(){return s.b}),n.d(t,"g",function(){return s.c});n(103),n(96),n(250)},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return l});var r=1e3,i=6e4,o=36e5,a=864e5,l=6048e5},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"===typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"===typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"===typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],l=o[1],s=o[2],c=o[3],u={css:l,media:s,sourceMap:c};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function o(e,t){var n=h(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=A[A.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),A.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=A.indexOf(e);t>=0&&A.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=g++;n=m||(m=l(t)),r=d.bind(null,n,c,!1),i=d.bind(null,n,c,!0)}else e.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(n=s(t),r=_.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),r=f.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function d(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=y(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}var p={},b=function(e){var t;return function(){return"undefined"===typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){var t={};return function(n){return"undefined"===typeof t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),m=null,g=0,A=[],y=n(298);e.exports=function(e,t){if("undefined"!==typeof DEBUG&&DEBUG&&"object"!==typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"===typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=b()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var l=n[a],s=p[l.id];s.refs--,o.push(s)}if(e){r(i(e,t),t)}for(var a=0;a<o.length;a++){var s=o[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete p[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function i(e){return Object(a.selection)().transition(e)}function o(){return++k}t.a=r,t.b=o;var a=n(0),l=n(201),s=n(202),c=n(203),u=n(204),d=n(205),f=n(206),_=n(207),p=n(208),b=n(209),h=n(210),m=n(211),g=n(212),A=n(213),y=n(214),v=n(215),x=n(216),w=n(30),k=0,C=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:h.a,selectAll:m.a,filter:f.a,merge:_.a,selection:g.a,transition:x.a,call:C.call,nodes:C.nodes,node:C.node,size:C.size,empty:C.empty,each:C.each,on:p.a,attr:l.a,attrTween:s.a,style:A.a,styleTween:y.a,text:v.a,remove:b.a,tween:w.a,delay:c.a,duration:u.a,ease:d.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(171);n.d(t,"drag",function(){return r.a});var i=n(69);n.d(t,"dragDisable",function(){return i.a}),n.d(t,"dragEnable",function(){return i.b})},function(e,t,n){"use strict";function r(e,t){var n={},r=[null];for(var i in e){r=e[i].map(function(){return null});break}for(var o in t){var a=t[o],l=a.bigg_id,s={};a.genes.forEach(function(t){["bigg_id","name"].forEach(function(n){var i=e[t[n]]||m.clone(r),o=s[t.bigg_id];if("undefined"===typeof o)s[t.bigg_id]=i;else for(var a=0;a<i.length;a++){var l=i[a];null!==l&&(o[a]=l)}})}),n[l]=s}return n}function i(e,t,n){if(null===e)return null;if(-1===["reaction_data","metabolite_data","gene_data"].indexOf(t))throw new Error("Invalid name argument: "+t);e instanceof Array||(e=[e]);if(function(){null===e||(1===e.length||(2===e.length||console.warn("Bad data style: "+t)))}(),e=m.array_to_object(e),"gene_data"===t){if(void 0===n)throw new Error("Must pass all_reactions argument for gene_data");e=r(e,n)}return e}function o(e,t,n){function r(e){return isFinite(e)?e:null}if(null===e)return null;var i=-1!=t.indexOf("abs");if(1==e.length){var o=h(e[0]);return null===o?null:function(e,t){return t?Math.abs(e):e}(o,i)}if(2!=e.length)throw new Error("Data array must be of length 1 or 2");var a=e.map(h);if(null===a[0]||null===a[1])return null;if("diff"==n)return function(e,t,n){return n?Math.abs(t-e):t-e}(a[0],a[1],i);if("fold"==n)return r(function(e,t,n){if(0==e||0==t)return null;var r=t>=e?t/e:-e/t;return n?Math.abs(r):r}(a[0],a[1],i));if("log2_fold"==n)return r(function(e,t,n){if(0==e)return null;if(t/e<0)return null;var r=Math.log(t/e)/Math.log(2);return n?Math.abs(r):r}(a[0],a[1],i));throw new Error("Bad data compare_style: "+n)}function a(e){return null!==e&&null!==e[0]&&e[0]<0}function l(e,t,n,r,i,a){function l(e,t){return null===e?"nd":t(e)}var s=e,c=null===t,u={};return n.forEach(function(e){var n=e.bigg_id;if(!(n in u))if(u[n]=!0,c)s=f(s,n,n+"\n");else{if(!(n in t))return;var i=t[n],d=o(i,r,a),_=null===d?y:A(".3g");if(1===i.length)s=f(s,n,n+" ("+l(i[0],_)+")\n");else if(2===i.length){var p,b=g.any(i,function(e){return null!==h(e)});p=b?n+" ("+l(i[0],_)+", "+l(i[1],_)+": "+l(d,_)+")\n":n+" ("+l(i[0],_)+", "+l(i[1],_)+")\n",s=f(s,n,p)}}}),s=s.replace(x,"\n").replace(w,"$1"),s.split("\n").map(function(e){for(var t=0,r=n.length;t<r;t++){var o=n[t];if(-1!==e.indexOf(o.bigg_id))return"name"===i&&(e=f(e,o.bigg_id,o.name)),{bigg_id:o.bigg_id,name:o.name,text:e}}return{bigg_id:null,name:null,text:e}})}function s(e,t){function n(e,t){return null===e?"(nd)":t(e)}if(null===e)return n(null);if(1===e.length){var r=null===t?y:A(".3g");return n(e[0],r)}if(2===e.length){var r=null===t?y:A(".3g"),i=n(e[0],r);return i+=", "+n(e[1],r),i+=": "+n(t,r)}return""}function c(e){var t=e[0].length,n=[];if(t<2||t>3)throw new Error("CSV file must have 2 or 3 columns");for(var r=1;r<t;r++)n[r-1]={};return e.slice(1).forEach(function(e){for(var t=1,r=e.length;t<r;t++)n[t-1][e[0]]=e[t]}),n}function u(e){var t=e.replace(k,"$1$2").replace(C,"").split(" ").filter(function(e){return""!=e});return m.unique_strings_array(t)}function d(e,t,n){var r=[null],i=1;for(var o in t){r=t[o].map(function(){return null}),i=r.length;break}if(""==e)return m.clone(r);for(var a=[],l=0;l<i;l++){var s=e,c=!0;for(var o in t){var u=h(t[o][l]);null===u?u=0:c=!1,s=f(s,o,u)}if(c)a.push(null);else{for(;;){var d=s;if(d=d.replace(B," $1 "),d=d.replace(j,function(e,t,n,r){return t+n.split(E).map(parseFloat).reduce(function(e,t){return e+t})+r}),(d=d.replace(O,function(e,t,r,i){var o=r.split(M).map(parseFloat);return t+("min"==n?Math.min.apply(null,o):o.reduce(function(e,t){return e+t})/o.length)+i}))==s)break;s=d}var _=Number(s);isNaN(_)?(console.warn("Could not evaluate "+e),a.push(null)):a.push(_)}}return a}function f(e,t,n){var r="(^|[\\s\\(\\)])"+function(e){return e.replace(v,"\\$1")}(t)+"([\\s\\(\\)]|$)";return e.replace(new RegExp(r,"g"),"$1"+n+"$2")}function _(e,t,n,r,i){g.isUndefined(i)&&(i=Object.keys(e));var l,c,u;return null===t?(i.map(function(t){l=e[t],l.data=null,l.data_string="";for(c in l.segments)u=l.segments[c],u.data=null;l.gene_string=null}),!1):(i.map(function(i){l=e[i];var d=t[l.bigg_id]||t[l.name]||null,f=o(d,n,r),_=a(d),p=s(d,f);l.data=f,l.data_string=p,l.reverse_flux=_,l.gene_string=null;for(c in l.segments)u=l.segments[c],u.data=l.data,u.reverse_flux=l.reverse_flux}),!0)}function p(e,t,n,r,i){g.isUndefined(i)&&(i=Object.keys(e));return null===t?(i.map(function(t){e[t].data=null,e[t].data_string=""}),!1):(i.map(function(i){var a=e[i],l=t[a.bigg_id]||t[a.name]||null,c=o(l,n,r),u=s(l,c);a.data=c,a.data_string=u}),!0)}function b(e,t,n,r,i,c,u){if(g.isUndefined(u)&&(u=Object.keys(e)),null===t)return u.map(function(t){var n=e[t];n.data=null,n.data_string="",n.reverse_flux=!1;for(var r in n.segments){n.segments[r].data=null}n.gene_string=null}),!1;var f=[null];for(var _ in t){for(var p in t[_]){f=t[_][p].map(function(){return null});break}break}return u.map(function(u){var _,p,b=e[u],h=b.gene_reaction_rule,A=t[b.bigg_id];g.isUndefined(A)?(p={},_=m.clone(f)):(p=A,_=d(h,p,c));var y=o(_,n,i),v=a(_),x=s(_,y);b.data=y,b.data_string=x,b.reverse_flux=v;for(var w in b.segments){var k=b.segments[w];k.data=b.data,k.reverse_flux=b.reverse_flux}b.gene_string=l(h,p,b.genes,n,r,i)}),!0}function h(e){var t=Number(e);return isNaN(t)||parseFloat(e)!=t?null:t}var m=n(1),g=n(2),A=n(27).format;e.exports={import_and_check:i,text_for_data:s,float_for_data:o,reverse_flux_for_data:a,gene_string_for_data:l,csv_converter:c,genes_for_gene_reaction_rule:u,evaluate_gene_reaction_rule:d,replace_gene_in_rule:f,apply_reaction_data_to_reactions:_,apply_metabolite_data_to_nodes:p,apply_gene_data_to_reactions:b};var y=function(e){return e},v=/([.*+?^=!:${}()|\[\]\/\\])/g,x=/\n\s*\n/g,w=/\n\s*(\)*)\s*$/,k=/([\(\) ])(?:and|or)([\)\( ])/gi,C=/[\(\)]/g,B=/\(\s*(\S+)\s*\)/g,E=/\s+or\s+/i,M=/\s+and\s+/i,j=/(^|\()(\s*-?[0-9.]+\s+(?:or\s+-?[0-9.]+\s*)+)(\)|$)/gi,O=/(^|\(|or\s)(\s*-?[0-9.]+\s+(?:and\s+-?[0-9.]+\s*)+)(\sor|\)|$)/gi},function(e,t,n){"use strict";function r(){}function i(e,t){return void 0===this.callbacks&&(this.callbacks={}),void 0===this.callbacks[e]&&(this.callbacks[e]=[]),this.callbacks[e].push(t),this}function o(e){return void 0!==this.callbacks&&0!=Object.keys(this.callbacks).length||console.warn("No callbacks to remove"),delete this.callbacks[e],this}function a(e,t){if(s.isUndefined(this.callbacks))return this;s.isUndefined(t)&&(t=null);var n=Array.prototype.slice.call(arguments,2);for(var r in this.callbacks){r.split(".")[0]==e&&this.callbacks[r].forEach(function(e){e.apply(t,n)})}return this}var l=n(1),s=n(2),c=l.make_class();c.prototype={init:r,set:i,remove:o,run:a},e.exports=c},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32);n.d(t,"request",function(){return r.a});var i=n(126);n.d(t,"html",function(){return i.a});var o=n(127);n.d(t,"json",function(){return o.a});var a=n(128);n.d(t,"text",function(){return a.a});var l=n(129);n.d(t,"xml",function(){return l.a});var s=n(130);n.d(t,"csv",function(){return s.a});var c=n(133);n.d(t,"tsv",function(){return c.a})},function(e,t,n){"use strict";var r=n(125);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(s.a)(isNaN(e)?t:e)}function a(e){return 1===(e=+e)?l:function(t,n){return n-t?i(t,n,e):Object(s.a)(isNaN(t)?n:t)}}function l(e,t){var n=t-e;return n?r(e,n):Object(s.a)(isNaN(e)?t:e)}t.c=o,t.b=a,t.a=l;var s=n(79)},function(e,t,n){"use strict";t.a=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";function r(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(o.h)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return Object(s.a)(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,l=i.length-1,s=i[a],c=i[l];return c<s&&(r=s,s=c,c=r,r=a,a=l,l=r),r=Object(o.f)(s,c,n),r>0?(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,r=Object(o.f)(s,c,n)):r<0&&(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,r=Object(o.f)(s,c,n)),r>0?(i[a]=Math.floor(s/r)*r,i[l]=Math.ceil(c/r)*r,t(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[l]=Math.floor(c*r)/r,t(i)),e},e}function i(){var e=Object(l.b)(l.c,a.c);return e.copy=function(){return Object(l.a)(e,i())},r(e)}t.b=r,t.a=i;var o=n(9),a=n(7),l=n(31),s=n(252)},function(e,t,n){"use strict";t.a=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}},function(e,t,n){"use strict";var r=n(32);t.a=function(e,t){return function(n,i){var o=Object(r.a)(n).mimeType(e).response(t);if(null!=i){if("function"!==typeof i)throw new Error("invalid callback: "+i);return o.get(i)}return o}}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(174);n.d(t,"formatDefaultLocale",function(){return r.a}),n.d(t,"format",function(){return r.b}),n.d(t,"formatPrefix",function(){return r.c});var i=n(71);n.d(t,"formatLocale",function(){return i.a});var o=n(72);n.d(t,"formatSpecifier",function(){return o.a});var a=n(180);n.d(t,"precisionFixed",function(){return a.a});var l=n(181);n.d(t,"precisionPrefix",function(){return l.a});var s=n(182);n.d(t,"precisionRound",function(){return s.a})},function(e,t,n){"use strict";var r=n(45);t.a=function(e){return e=Object(r.a)(Math.abs(e)),e?e[1]:NaN}},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},function(e,t,n){"use strict";function r(e,t){var n,r;return function(){var i=Object(a.h)(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function i(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Object(a.h)(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function o(e,t,n){var r=e._id;return e.each(function(){var e=Object(a.h)(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Object(a.f)(e,r).value[t]}}t.b=o;var a=n(6);t.a=function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,l=Object(a.f)(this.node(),n).tween,s=0,c=l.length;s<c;++s)if((o=l[s]).name===e)return o.value;return null}return this.each((null==t?r:i)(n,e,t))}},function(e,t,n){"use strict";function r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Object(_.a)(t)}function i(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function o(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function a(e,t,n,r){var i=e[0],o=e[1],a=t[0],l=t[1];return o<i?(i=n(o,i),a=r(l,a)):(i=n(i,o),a=r(a,l)),function(e){return a(i(e))}}function l(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)o[l]=n(e[l],e[l+1]),a[l]=r(t[l],t[l+1]);return function(t){var n=Object(u.b)(e,t,1,i)-1;return a[n](o[n](t))}}function s(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function c(e,t){function n(){return c=Math.min(h.length,m.length)>2?l:a,u=_=null,s}function s(t){return(u||(u=c(h,m,A?i(e):e,g)))(+t)}var c,u,_,h=b,m=b,g=d.a,A=!1;return s.invert=function(e){return(_||(_=c(m,h,r,A?o(t):t)))(+e)},s.domain=function(e){return arguments.length?(h=f.a.call(e,p.a),n()):h.slice()},s.range=function(e){return arguments.length?(m=f.b.call(e),n()):m.slice()},s.rangeRound=function(e){return m=f.b.call(e),g=d.e,n()},s.clamp=function(e){return arguments.length?(A=!!e,n()):A},s.interpolate=function(e){return arguments.length?(g=e,n()):g},n()}t.c=r,t.a=s,t.b=c;var u=n(9),d=n(7),f=n(14),_=n(54),p=n(105),b=[0,1]},function(e,t,n){"use strict";function r(e){return function(t,n){e(null==t?n:null)}}function i(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}var o=n(60),a=n(20);t.a=function(e,t){function n(e){var t,n=_.status;if(!n&&i(_)||n>=200&&n<300||304===n){if(c)try{t=c.call(l,_)}catch(e){return void d.call("error",l,e)}else t=_;d.call("load",l,t)}else d.call("error",l,e)}var l,s,c,u,d=Object(a.a)("beforesend","progress","load","error"),f=Object(o.a)(),_=new XMLHttpRequest,p=null,b=null,h=0;if("undefined"===typeof XDomainRequest||"withCredentials"in _||!/^(http(s)?:)?\/\//.test(e)||(_=new XDomainRequest),"onload"in _?_.onload=_.onerror=_.ontimeout=n:_.onreadystatechange=function(e){_.readyState>3&&n(e)},_.onprogress=function(e){d.call("progress",l,e)},l={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?f.get(e):(null==t?f.remove(e):f.set(e,t+""),l)},mimeType:function(e){return arguments.length?(s=null==e?null:e+"",l):s},responseType:function(e){return arguments.length?(u=e,l):u},timeout:function(e){return arguments.length?(h=+e,l):h},user:function(e){return arguments.length<1?p:(p=null==e?null:e+"",l)},password:function(e){return arguments.length<1?b:(b=null==e?null:e+"",l)},response:function(e){return c=e,l},get:function(e,t){return l.send("GET",e,t)},post:function(e,t){return l.send("POST",e,t)},send:function(t,n,i){return _.open(t,e,!0,p,b),null==s||f.has("accept")||f.set("accept",s+",*/*"),_.setRequestHeader&&f.each(function(e,t){_.setRequestHeader(t,e)}),null!=s&&_.overrideMimeType&&_.overrideMimeType(s),null!=u&&(_.responseType=u),h>0&&(_.timeout=h),null==i&&"function"===typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&l.on("error",i).on("load",function(e){i(null,e)}),d.call("beforesend",l,_),_.send(null==n?null:n),l},abort:function(){return _.abort(),l},on:function(){var e=d.on.apply(d,arguments);return e===d?l:e}},null!=t){if("function"!==typeof t)throw new Error("invalid callback: "+t);return l.get(t)}return l}},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var l in e)n.set(l,e[l]);return n}n.d(t,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}},t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);n.d(t,"dsvFormat",function(){return r.a});var i=n(131);n.d(t,"csvParse",function(){return i.c}),n.d(t,"csvParseRows",function(){return i.d}),n.d(t,"csvFormat",function(){return i.a}),n.d(t,"csvFormatRows",function(){return i.b});var o=n(132);n.d(t,"tsvParse",function(){return o.c}),n.d(t,"tsvParseRows",function(){return o.d}),n.d(t,"tsvFormat",function(){return o.a}),n.d(t,"tsvFormatRows",function(){return o.b})},function(e,t,n){"use strict";function r(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function i(e,t){var n=r(e);return function(r,i){return t(n(r),i,e)}}function o(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var a={},l={},s=34,c=10,u=13;t.a=function(e){function t(e,t){var o,a,l=n(e,function(e,n){if(o)return o(e,n-1);a=e,o=t?i(e,t):r(e)});return l.columns=a||[],l}function n(e,t){function n(){if(_)return l;if(p)return p=!1,a;var t,n,r=d;if(e.charCodeAt(r)===s){for(;d++<o&&e.charCodeAt(d)!==s||e.charCodeAt(++d)===s;);return(t=d)>=o?_=!0:(n=e.charCodeAt(d++))===c?p=!0:n===u&&(p=!0,e.charCodeAt(d)===c&&++d),e.slice(r+1,t-1).replace(/""/g,'"')}for(;d<o;){if((n=e.charCodeAt(t=d++))===c)p=!0;else if(n===u)p=!0,e.charCodeAt(d)===c&&++d;else if(n!==h)continue;return e.slice(r,t)}return _=!0,e.slice(r,o)}var r,i=[],o=e.length,d=0,f=0,_=o<=0,p=!1;for(e.charCodeAt(o-1)===c&&--o,e.charCodeAt(o-1)===u&&--o;(r=n())!==l;){for(var b=[];r!==a&&r!==l;)b.push(r),r=n();t&&null==(b=t(b,f++))||i.push(b)}return i}function d(t,n){return null==n&&(n=o(t)),[n.map(p).join(e)].concat(t.map(function(t){return n.map(function(e){return p(t[e])}).join(e)})).join("\n")}function f(e){return e.map(_).join("\n")}function _(t){return t.map(p).join(e)}function p(e){return null==e?"":b.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var b=new RegExp('["'+e+"\n\r]"),h=e.charCodeAt(0);return{parse:t,parseRows:n,format:d,formatRows:f}}},function(e,t,n){"use strict";function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.b&&t.documentElement.namespaceURI===a.b?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var o=n(37),a=n(38);t.a=function(e){var t=Object(o.a)(e);return(t.local?i:r)(t)}},function(e,t,n){"use strict";var r=n(38);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.a.hasOwnProperty(t)?{space:r.a[t],local:e}:e}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";var r=n(40);t.a=function(){for(var e,t=r.c;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,t,n){return function(r){var i=u;u=r;try{e.call(this,this.__data__,t,n)}finally{u=i}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function a(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function l(e,t,n){var o=c.hasOwnProperty(e.type)?r:i;return function(r,i,a){var l,s=this.__on,c=o(t,i,a);if(s)for(var u=0,d=s.length;u<d;++u)if((l=s[u]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),void(l.value=t);this.addEventListener(e.type,c,n),l={type:e.type,name:e.name,value:t,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function s(e,t,n,r){var i=u;e.sourceEvent=u,u=e;try{return t.apply(n,r)}finally{u=i}}n.d(t,"c",function(){return u}),t.a=s;var c={},u=null;if("undefined"!==typeof document){"onmouseenter"in document.documentElement||(c={mouseenter:"mouseover",mouseleave:"mouseout"})}t.b=function(e,t,n){var r,i,s=o(e+""),c=s.length;{if(!(arguments.length<2)){for(u=t?l:a,null==n&&(n=!1),r=0;r<c;++r)this.each(u(s[r],t,n));return this}var u=this.node().__on;if(u)for(var d,f=0,_=u.length;f<_;++f)for(r=0,d=u[f];r<c;++r)if((i=s[r]).type===d.type&&i.name===d.name)return d.value}}},function(e,t,n){"use strict";function r(){}t.a=function(e){return null==e?r:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.div=e,this.map=t,this.displacement=n,this.shouldReposition=r,this.visible=!0,this.hide()}function i(){return this.visible}function o(e){this.div.style("display",null);var t=this.map.zoom_container.window_translate,n=this.map.zoom_container.window_scale,r=this.map.get_size();if(this.shouldReposition){var i=Math.max(20,Math.min(r.width-270,n*e.x+t.x-this.displacement.x)),o=Math.max(20,Math.min(r.height-40,n*e.y+t.y-this.displacement.y));this.div.style("position","absolute").style("display","block").style("left",i+"px").style("top",o+"px")}else this.div.style("position","absolute").style("display","block").style("left",n*e.x+t.x-this.displacement.x+"px").style("top",n*e.y+t.y-this.displacement.y+"px");this.visible=!0}function a(){this.visible&&(this.div.style("display","none"),this.visible=!1)}var l=n(1),s=l.make_class();s.prototype={init:r,is_visible:i,place:o,hide:a},e.exports=s},function(e,t,n){"use strict";function r(e,t){var n=function(e){return 1==e?"":String(e)+" "},r=[],i=[];for(var o in e){var a=e[o];a>0?i.push(n(a)+o):r.push(n(Math.abs(a))+o)}var l=r.join(" + ");return l+=t?" \u2194 ":" \u2192 ",l+=i.join(" + ")}function i(e){if(!e.reactions||!e.metabolites)throw new Error("Bad model data.");for(var t={},n=0,r=e.genes.length;n<r;n++){var i=e.genes[n],o=i.id;t[o]=i}var a=new d;a.reactions={};for(var n=0,r=e.reactions.length;n<r;n++){var i=e.reactions[n],o=i.id,l=c.clone(i);if(delete l.id,l.bigg_id=o,l.data_string="",l.genes=[],l.reversibility=l.lower_bound<0&&l.upper_bound>0,l.upper_bound<=0&&l.lower_bound<0)for(var s in l.metabolites)l.metabolites[s]=-l.metabolites[s];if(delete l.lower_bound,delete l.upper_bound,"gene_reaction_rule"in l){u.genes_for_gene_reaction_rule(l.gene_reaction_rule).forEach(function(e){if(e in t){var n=c.clone(t[e]);n.bigg_id=n.id,delete n.id,l.genes.push(n)}else console.warn("Could not find gene for gene_id "+e)})}a.reactions[o]=l}a.metabolites={};for(var n=0,r=e.metabolites.length;n<r;n++){var i=e.metabolites[n],o=i.id,f=c.clone(i);delete f.id,f.bigg_id=o,a.metabolites[o]=f}return a}function o(){this.reactions={},this.metabolites={}}function a(e,t,n){u.apply_reaction_data_to_reactions(this.reactions,e,t,n)}function l(e,t,n){u.apply_metabolite_data_to_nodes(this.metabolites,e,t,n)}function s(e,t,n,r,i){u.apply_gene_data_to_reactions(this.reactions,e,t,n,r,i)}var c=n(1),u=n(16),d=c.make_class();d.from_cobra_json=i,d.build_reaction_string=r,d.prototype={init:o,apply_reaction_data:a,apply_metabolite_data:l,apply_gene_data:s},e.exports=d},function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(183);n.d(t,"zoom",function(){return r.a});var i=n(88);n.d(t,"zoomTransform",function(){return i.b}),n.d(t,"zoomIdentity",function(){return i.c})},function(e,t,n){"use strict";var r=n(8),i=n(77),o=n(80),a=n(81),l=n(29),s=n(82),c=n(83),u=n(79);t.a=function(e,t){var n,d=typeof t;return null==t||"boolean"===d?Object(u.a)(t):("number"===d?l.a:"string"===d?(n=Object(r.a)(t))?(t=n,i.a):c.a:t instanceof r.a?i.a:t instanceof Date?a.a:Array.isArray(t)?o.a:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?s.a:l.a)(e,t)}},function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=v.exec(e))?(t=parseInt(t[1],16),new c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=x.exec(e))?o(parseInt(t[1],16)):(t=w.exec(e))?new c(t[1],t[2],t[3],1):(t=k.exec(e))?new c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=C.exec(e))?a(t[1],t[2],t[3],t[4]):(t=B.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=E.exec(e))?u(t[1],t[2]/100,t[3]/100,1):(t=M.exec(e))?u(t[1],t[2]/100,t[3]/100,t[4]):j.hasOwnProperty(e)?o(j[e]):"transparent"===e?new c(NaN,NaN,NaN,0):null}function o(e){return new c(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,r){return r<=0&&(e=t=n=NaN),new c(e,t,n,r)}function l(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new c(e.r,e.g,e.b,e.opacity)):new c}function s(e,t,n,r){return 1===arguments.length?l(e):new c(e,t,n,null==r?1:r)}function c(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function u(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _(e,t,n,r)}function d(e){if(e instanceof _)return new _(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new _;if(e instanceof _)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),l=Math.max(t,n,o),s=NaN,c=l-a,u=(l+a)/2;return c?(s=t===l?(n-o)/c+6*(n<o):n===l?(o-t)/c+2:(t-n)/c+4,c/=u<.5?l+a:2-l-a,s*=60):c=u>0&&u<1?0:s,new _(s,c,u,e.opacity)}function f(e,t,n,r){return 1===arguments.length?d(e):new _(e,t,n,null==r?1:r)}function _(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.a=r,n.d(t,"d",function(){return h}),n.d(t,"c",function(){return m}),t.e=i,t.h=l,t.g=s,t.b=c,t.f=f;var b=n(49),h=.7,m=1/h,g="\\s*([+-]?\\d+)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,w=new RegExp("^rgb\\("+[g,g,g]+"\\)$"),k=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),C=new RegExp("^rgba\\("+[g,g,g,A]+"\\)$"),B=new RegExp("^rgba\\("+[y,y,y,A]+"\\)$"),E=new RegExp("^hsl\\("+[A,y,y]+"\\)$"),M=new RegExp("^hsla\\("+[A,y,y,A]+"\\)$"),j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(b.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(b.a)(c,s,Object(b.b)(r,{brighter:function(e){return e=null==e?m:Math.pow(m,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?h:Math.pow(h,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Object(b.a)(_,f,Object(b.b)(r,{brighter:function(e){return e=null==e?m:Math.pow(m,e),new _(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?h:Math.pow(h,e),new _(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new c(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}t.a=r,t.b=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],a=e[i+1],l=i>0?e[i-1]:2*o-a,s=i<t-1?e[i+2]:2*a-o;return r((n-i/t)*t,l,o,a,s)}}},function(e,t,n){"use strict";function r(){return A||(x(i),A=v.now()+y)}function i(){A=0}function o(){this._call=this._time=this._next=null}function a(e,t,n){var r=new o;return r.restart(e,t,n),r}function l(){r(),++p;for(var e,t=f;t;)(e=A-t._time)>=0&&t._call.call(null,e),t=t._next;--p}function s(){A=(g=v.now())+y,p=b=0;try{l()}finally{p=0,u(),A=0}}function c(){var e=v.now(),t=e-g;t>m&&(y-=t,g=e)}function u(){for(var e,t,n=f,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:f=t);_=e,d(r)}function d(e){if(!p){b&&(b=clearTimeout(b));e-A>24?(e<1/0&&(b=setTimeout(s,e-v.now()-y)),h&&(h=clearInterval(h))):(h||(g=v.now(),h=setInterval(c,m)),p=1,x(s))}}t.b=r,t.a=o,t.c=a;var f,_,p=0,b=0,h=0,m=1e3,g=0,A=0,y=0,v="object"===typeof performance&&performance.now?performance:Date,x="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=a.prototype={constructor:o,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||_===this||(_?_._next=this:f=this,_=this),this._call=e,this._time=n,d()},stop:function(){this._call&&(this._call=null,this._time=1/0,d())}}},function(e,t,n){"use strict";function r(e){if(Math.abs(e)>Math.PI)throw new Error("Angle must be between -PI and PI");return Math.abs(e)<Math.PI/7||Math.abs(e-Math.PI)<Math.PI/7?{x:-50,y:-40}:e>0?{x:15*(1-Math.abs(e-Math.PI/2)/(Math.PI/2)),y:10+50*(e-Math.PI/2)}:{x:15*(1-Math.abs(e+Math.PI/2)/(Math.PI/2)),y:10-50*(Math.abs(e)-Math.PI/2)}}function i(e,t,n,r,i,o){var a=18*i.length,l=t-(t>o)-n/2>=-1;return Math.abs(e)<Math.PI/7?r||l?{x:.3*-a,y:40}:{x:.3*-a,y:-20}:Math.abs(e-Math.PI)<Math.PI/7?r||!l?{x:.3*-a,y:40}:{x:.3*-a,y:-20}:r?{x:25-38*Math.abs(Math.abs(e)-Math.PI/2),y:(Math.abs(e)-Math.PI/2)*(2*(e>0)-1)*50}:e<0&&l||e>0&&!l?{x:15,y:0}:{x:.5*-a,y:30}}function o(e,t,n,o,l,s,c,u){u=m.to_radians_norm(u);var f=String(++s.reactions),_={x:l.x,y:l.y},p=[_,m.c_plus_c(_,{x:350,y:0})],b={x:(p[0].x+p[1].x)/2,y:(p[0].y+p[1].y)/2},g=r(u),A={name:t.name,bigg_id:t.bigg_id,reversibility:t.reversibility,gene_reaction_rule:t.gene_reaction_rule,genes:m.clone(t.genes),metabolites:m.clone(t.metabolites)};m.extend(A,{label_x:b.x+g.x,label_y:b.y+g.y,segments:{}});var y=[],v=[],x=0,w=0,k=!1;for(var C in A.metabolites){var B=n[C],E=A.metabolites[C],M=B.formula,j={coefficient:E,bigg_id:C,name:B.name};if(E<0){j.index=x;var O=/C([0-9]+)/.exec(M);l.bigg_id===j.bigg_id?y.push([j.index,1/0]):O&&-1===c.indexOf(m.decompartmentalize(j.bigg_id)[0])&&y.push([j.index,parseInt(O[1])]),x++}else{j.index=w;var O=/C([0-9]+)/.exec(M);l.bigg_id===j.bigg_id?(v.push([j.index,1/0]),k=!0):O&&-1===c.indexOf(m.decompartmentalize(j.bigg_id)[0])&&v.push([j.index,parseInt(O[1])]),w++}A.metabolites[C]=j}var I=function(e,t){return t[1]>e[1]?t:e},D=y.reduce(I,[0,0])[0],N=v.reduce(I,[0,0])[0];for(var C in A.metabolites){var B=A.metabolites[C];B.coefficient<0?(B.is_primary=B.index===D,B.count=x):(B.is_primary=B.index===N,B.count=w)}var S={},L=[{node_type:"anchor_reactants",dis:{x:20*(k?1:-1),y:0}},{node_type:"center",dis:{x:0,y:0}},{node_type:"anchor_products",dis:{x:20*(k?-1:1),y:0}}],T={};L.map(function(e){var t=String(++s.nodes),n="center"===e.node_type?"midmarker":"multimarker";S[t]={node_type:n,x:b.x+e.dis.x,y:b.y+e.dis.y,connected_segments:[],name:null,bigg_id:null,label_x:null,label_y:null,node_is_primary:null,data:null},T[e.node_type]=t}),[[T.anchor_reactants,T.center,"reactants"],[T.anchor_products,T.center,"products"]].map(function(e){var t=e[0],n=e[1],r=String(++s.segments),i=0===x&&"reactants"===e[2]&&A.reversibility||0===w&&"products"===e[2];A.segments[r]={b1:null,b2:null,from_node_id:t,to_node_id:n,from_node_coefficient:null,to_node_coefficient:null,reversibility:A.reversibility,data:A.data,reverse_flux:A.reverse_flux,unconnected_segment_with_arrow:i},S[t].connected_segments.push({segment_id:r,reaction_id:f}),S[n].connected_segments.push({segment_id:r,reaction_id:f})});var z=S;for(var C in A.metabolites){var P,F,B=A.metabolites[C];B.coefficient<0?(P=D,F=T.anchor_reactants):(P=N,F=T.anchor_products);var Q=d(B,P,p,b,350,k);if(l.bigg_id===B.bigg_id){var U=String(++s.segments);A.segments[U]={b1:Q.b1,b2:Q.b2,from_node_id:F,to_node_id:o,from_node_coefficient:null,to_node_coefficient:B.coefficient,reversibility:A.reversibility},l.connected_segments.push({segment_id:U,reaction_id:f}),z[F].connected_segments.push({segment_id:U,reaction_id:f})}else{var U=String(++s.segments),R=String(++s.nodes);A.segments[U]={b1:Q.b1,b2:Q.b2,from_node_id:F,to_node_id:R,from_node_coefficient:null,to_node_coefficient:B.coefficient,reversibility:A.reversibility};var G=i(u,B.index,B.count,B.is_primary,B.bigg_id,P);z[R]={connected_segments:[{segment_id:U,reaction_id:f}],x:Q.circle.x,y:Q.circle.y,node_is_primary:B.is_primary,label_x:Q.circle.x+G.x,label_y:Q.circle.y+G.y,name:B.name,bigg_id:B.bigg_id,node_type:"metabolite"},z[F].connected_segments.push({segment_id:U,reaction_id:f})}}var Y=[];for(var e in A.metabolites)Y.push({bigg_id:e,coefficient:A.metabolites[e].coefficient});A.metabolites=Y;var H={};H[f]=A;var W=h(H);return z[o]=l,a(z,H,W,u,_),{new_reactions:H,new_beziers:W,new_nodes:z}}function a(e,t,n,r,i){var o=function(e){return null===e?null:m.rotate_coords(e,r,i)},a=[],l=[];for(var c in e){var u=e[c],d=o({x:u.x,y:u.y}),f=s(u,t,d);u.connected_segments.map(function(e){var r=t[e.reaction_id];if(void 0!==r){var i=e.segment_id,a=r.segments[i];if(a.to_node_id==c&&a.b2){var l=o(a.b2),s=_(i,"b2");a.b2=m.c_plus_c(a.b2,l),n[s].x=a.b2.x,n[s].y=a.b2.y}else if(a.from_node_id==c&&a.b1){var l=o(a.b1),s=_(i,"b1");a.b1=m.c_plus_c(a.b1,l),n[s].x=a.b1.x,n[s].y=a.b1.y}}}),l=m.uniqueConcat([l,f.reaction_ids]),a.push(c)}return{node_ids:a,reaction_ids:l}}function l(e,t,n,r,i){var o=s(e,n,i);return e.connected_segments.map(function(e){var a=n[e.reaction_id];if(!g.isUndefined(a)){var l=e.segment_id,s=a.segments[l];[["b1","from_node_id"],["b2","to_node_id"]].forEach(function(e){var n=e[0],o=e[1];if(s[o]===t&&s[n]){s[n]=m.c_plus_c(s[n],i);var a=r[_(l,n)];a.x=s[n].x,a.y=s[n].y}}),o.reaction_ids.indexOf(e.reaction_id)<0&&o.reaction_ids.push(e.reaction_id)}}),o}function s(e,t,n){e.x=e.x+n.x,e.y=e.y+n.y,e.label_x=e.label_x+n.x,e.label_y=e.label_y+n.y;var r=[];return e.connected_segments.map(function(i){var o=t[i.reaction_id];r.indexOf(i.reaction_id)<0&&(r.push(i.reaction_id),"midmarker"==e.node_type&&(o.label_x=o.label_x+n.x,o.label_y=o.label_y+n.y))}),{reaction_ids:r}}function c(e,t,n){var r=Math.floor(n/2);return e*(t-r+(t>=r))}function u(e,t,n,r){var i=Math.floor(r/2);return t+Math.abs(n-i+(n>=i))*e}function d(e,t,n,r,i,o){var a=n[0];n=[m.c_minus_c(n[0],a),m.c_minus_c(n[1],a)],r=m.c_minus_c(r,a);var l,s,d=e.count-1;e.is_primary?l=20:(l=10,s=e.index>t?e.index-1:e.index);var f,_,p,b,h=i-l,g=[{x:l,y:0},{x:h,y:0}];return e.coefficient<0!==o&&e.is_primary?(f={x:g[0].x,y:g[0].y},p={x:.6*r.x+.4*g[0].x,y:.6*r.y+.4*g[0].y},b={x:.25*r.x+.75*f.x,y:.25*r.y+.75*f.y},_={x:n[0].x,y:n[0].y}):e.coefficient<0!==o?(f={x:g[0].x+u(20,50,s,d),y:g[0].y+c(24,s,d)},p={x:.6*r.x+.4*g[0].x,y:.6*r.y+.4*g[0].y},b={x:.25*r.x+.75*f.x,y:.25*r.y+.75*f.y},_={x:n[0].x+u(20,50,s,d),y:n[0].y+c(80,s,d)}):e.coefficient>0!==o&&e.is_primary?(f={x:g[1].x,y:g[1].y},p={x:.6*r.x+.4*g[1].x,y:.6*r.y+.4*g[1].y},b={x:.25*r.x+.75*f.x,y:.25*r.y+.75*f.y},_={x:n[1].x,y:n[1].y}):e.coefficient>0!==o&&(f={x:g[1].x-u(20,50,s,d),y:g[1].y+c(24,s,d)},p={x:.6*r.x+.4*g[1].x,y:.6*r.y+.4*g[1].y},b={x:.25*r.x+.75*f.x,y:.25*r.y+.75*f.y},_={x:n[1].x-u(20,50,s,d),y:n[1].y+c(80,s,d)}),{b1:m.c_plus_c(a,p),b2:m.c_plus_c(a,b),circle:m.c_plus_c(a,_)}}function f(e,t,n){return{id:String(++e.text_labels),label:{text:t,x:n.x,y:n.y}}}function _(e,t){return e+"_"+t}function p(e){var t=[];for(var n in e){var r=e[n];for(var i in r.segments){var o=r.segments[i];["b1","b2"].forEach(function(e){null!==o[e]&&t.push(_(i,e))})}}return t}function b(e,t){var n={};for(var r in e){var i=e[r];["b1","b2"].forEach(function(e){var o=i[e];if(null!==o){var a=_(r,e);n[a]={bezier:e,x:o.x,y:o.y,reaction_id:t,segment_id:r}}})}return n}function h(e){var t={};for(var n in e){var r=e[n],i=b(r.segments,n);m.extend(t,i)}return t}var m=n(1),g=n(2);e.exports={get_met_label_loc:i,new_reaction:o,rotate_nodes:a,move_node_and_dependents:l,new_text_label:f,bezier_id_for_segment_id:_,bezier_ids_for_reaction_ids:p,new_beziers_for_segments:b,new_beziers_for_reactions:h}},function(e,t,n){"use strict";var r=n(22);t.a=function(e,t,n){if(null==n&&(n=r.a),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,a=Math.floor(o),l=+n(e[a],a,e);return l+(+n(e[a+1],a+1,e)-l)*(o-a)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=(n(3),n(258));n.d(t,"c",function(){return r.a}),n.d(t,"n",function(){return r.a});var i=n(259);n.d(t,"g",function(){return i.a}),n.d(t,"r",function(){return i.a});var o=n(260);n.d(t,"d",function(){return o.a});var a=n(261);n.d(t,"b",function(){return a.a});var l=n(262);n.d(t,"a",function(){return l.a});var s=n(263);n.d(t,"j",function(){return s.b}),n.d(t,"h",function(){return s.b}),n.d(t,"e",function(){return s.a}),n.d(t,"i",function(){return s.c});var c=n(264);n.d(t,"f",function(){return c.a});var u=n(265);n.d(t,"k",function(){return u.a});var d=n(266);n.d(t,"o",function(){return d.a});var f=n(267);n.d(t,"m",function(){return f.a});var _=n(268);n.d(t,"l",function(){return _.a});var p=n(269);n.d(t,"u",function(){return p.b}),n.d(t,"s",function(){return p.b}),n.d(t,"p",function(){return p.a}),n.d(t,"t",function(){return p.c});var b=n(270);n.d(t,"q",function(){return b.a});var h=n(271);n.d(t,"v",function(){return h.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return l});var r,i,o,a,l,s=n(109);!function(e){r=Object(s.a)(e),i=r.format,o=r.parse,a=r.utcFormat,l=r.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(e,t,n){(function(e,r){var i,o;(function(){function a(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.obs=e,this.sync=t,this.lazy=n,this.queue=[]}function l(){a.apply(this,arguments)}function s(e){a.call(this,e,!0)}function c(e,t,n){this.context=e,this.method=t,this.args=n}function u(e){this.value=e}function d(){this.id=++se}function f(e,t){if(!(this instanceof f))return new f(e,t);d.call(this),!t&&G.isFunction(e)||(null!=e?e._isNext:void 0)?(this.valueF=e,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=e)}function _(e,t){if(!(this instanceof _))return new _(e,t);f.call(this,e,t)}function p(){if(!(this instanceof p))return new p;d.call(this)}function b(e){if(!(this instanceof b))return new b(e);this.error=e,d.call(this)}function h(e){this.desc=e,this.id=++_e,this.initialDesc=this.desc}function m(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=G.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var t,n=0;n<e.length;n++)t=e[n],this.add(t)}function g(e,t){this._subscribe=e,this._handleEvent=t,this.subscribe=G.bind(this.subscribe,this),this.handleEvent=G.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function A(e,t,n){if(!(this instanceof A))return new A(e,t,n);G.isFunction(e)&&(n=t,t=e,e=c.empty),h.call(this,e),L(t),this.dispatcher=new g(t,n),pe(this)}function y(e,t,n){g.call(this,t,n),this.property=e,this.subscribe=G.bind(this.subscribe,this),this.current=ae,this.currentValueRootId=void 0,this.propertyEnded=!1}function v(e,t,n){h.call(this,e),L(t),this.dispatcher=new y(this,t,n),pe(this)}function x(){if(!(this instanceof x))return new x;this.unsubAll=G.bind(this.unsubAll,this),this.subscribeAll=G.bind(this.subscribeAll,this),this.guardedSink=G.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,A.call(this,new B.Desc(B,"Bus",[]),this.subscribeAll)}function w(e){return[e,de()]}function k(e){this.observable=e}var C=Array.prototype.slice,B={toString:function(){return"Bacon"}};B.version="0.7.95";var E=("undefined"!==typeof e&&null!==e?e:this).Error,M=function(){},j=function(e,t){return e},O=function(e){return e.slice(0)},I=function(e,t){if(!t)throw new E(e)},D=function(e){if((null!=e?e._isObservable:void 0)&&!(null!=e?e._isProperty:void 0))throw new E("Observable is not a Property : "+e)},N=function(e){if(!(null!=e?e._isEventStream:void 0))throw new E("not an EventStream : "+e)},S=function(e){if(!(null!=e?e._isObservable:void 0))throw new E("not an Observable : "+e)},L=function(e){return I("not a function : "+e,G.isFunction(e))},T=Array.isArray||function(e){return e instanceof Array},z=function(e){return e&&e._isObservable},P=function(e){if(!T(e))throw new E("not an array : "+e)},F=function(e){return I("no arguments supported",0===e.length)},Q=function(e){for(var t=arguments.length,n=1;1<t?n<t:n>t;1<t?n++:n--)for(var r in arguments[n])e[r]=arguments[n][r];return e},U=function(e,t){var n={}.hasOwnProperty,r=function(){};r.prototype=t.prototype,e.prototype=new r;for(var i in t)n.call(t,i)&&(e[i]=t[i]);return e},R=function(e){return"undefined"!==typeof Symbol&&Symbol[e]?Symbol[e]:"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol[e]=Symbol.for(e):"@@"+e},G={indexOf:function(){return Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t===n)return r;return-1}}(),indexWhere:function(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n))return r;return-1},head:function(e){return e[0]},always:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},empty:function(e){return 0===e.length},tail:function(e){return e.slice(1,e.length)},filter:function(e,t){for(var n,r=[],i=0;i<t.length;i++)n=t[i],e(n)&&r.push(n);return r},map:function(e,t){return function(){for(var n,r=[],i=0;i<t.length;i++)n=t[i],r.push(e(n));return r}()},each:function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];t(n,r)}},toArray:function(e){return T(e)?e:[e]},contains:function(e,t){return-1!==G.indexOf(e,t)},id:function(e){return e},last:function(e){return e[e.length-1]},all:function(e){for(var t,n=arguments.length<=1||void 0===arguments[1]?G.id:arguments[1],r=0;r<e.length;r++)if(t=e[r],!n(t))return!1;return!0},any:function(e){for(var t,n=arguments.length<=1||void 0===arguments[1]?G.id:arguments[1],r=0;r<e.length;r++)if(t=e[r],n(t))return!0;return!1},without:function(e,t){return G.filter(function(t){return t!==e},t)},remove:function(e,t){var n=G.indexOf(t,e);if(n>=0)return t.splice(n,1)},fold:function(e,t,n){for(var r,i=0;i<e.length;i++)r=e[i],t=n(t,r);return t},flatMap:function(e,t){return G.fold(t,[],function(t,n){return t.concat(e(n))})},cached:function(e){var t=ae;return function(){return("undefined"!==typeof t&&null!==t?t._isNone:void 0)&&(t=e(),e=void 0),t}},bind:function(e,t){return function(){return e.apply(t,arguments)}},isFunction:function(e){return"function"===typeof e},toString:function(e){var t,n,r={}.hasOwnProperty;try{return Y++,null==e?"undefined":G.isFunction(e)?"function":T(e)?Y>5?"[..]":"["+G.map(G.toString,e).toString()+"]":null!=(null!=e?e.toString:void 0)&&e.toString!==Object.prototype.toString?e.toString():"object"===typeof e?Y>5?"{..}":"{"+function(){var i=[];for(t in e)r.call(e,t)&&(n=function(){try{return e[t]}catch(e){return e}}(),i.push(G.toString(t)+":"+G.toString(n)));return i}()+"}":e}finally{Y--}}},Y=0;B._=G;var H=B.UpdateBarrier=function(){function e(e){e<=l||(a[e-1]||(a[e-1]=[[],0]),l=e)}function t(e,t){for(var n=0;n<t.length;n++)if(t[n][0].id==e.id)return!0;return!1}function n(){var t=l;if(t)for(;l>=t;){var n=a[l-1];if(!n)throw new b("Unexpected stack top: "+n);var r=n[0],i=n[1];if(!(i<r.length)){n[0]=[],n[1]=0;break}var o=r[i],s=(o[0],o[1]);n[1]++,e(l+1);var c=!1;try{for(s(),c=!0;l>t&&0==a[l-1][0].length;)l--}finally{c||(a=[],l=0)}}}var r,i=[],o={},a=[],l=0,s={},c=function(i,o){if(!r&&!a.length)return o();e(1);for(var s=0;s<l-1&&!t(i,a[s][0]);)s++;a[s][0].push([i,o]),r||n()},u=function(e,t){if(r){var n=o[e.id];return"undefined"===typeof n||null===n?(n=o[e.id]=[t],i.push(e)):n.push(t)}return t()},d=function(){for(;i.length>0;)f(0,!0);s={}},f=function(e,t){var n=i[e],r=n.id,a=o[r];i.splice(e,1),delete o[r],t&&i.length>0&&_(n);for(var l=0;l<a.length;l++)(0,a[l])()},_=function(e){if(!s[e.id]){for(var t,n=e.internalDeps(),r=0;r<n.length;r++)if(t=n[r],_(t),o[t.id]){var a=G.indexOf(i,t);f(a,!1)}s[e.id]=!0}},p=function(e,t,i,o){if(r)return i.apply(t,o);r=e;try{var a=i.apply(t,o);d()}finally{r=void 0,n()}return a},h=function(){return r?r.id:void 0},m=function(e,t){var n=!1,r=!1,i=function(){return r=!0},o=function(){return n=!0,i()};return i=e.dispatcher.subscribe(function(r){return c(e,function(){if(!n){if(t(r)===B.noMore)return o()}})}),r&&i(),o};return{whenDoneWith:u,hasWaiters:function(){return i.length>0},inTransaction:p,currentEventId:h,wrappedSubscribe:m,afterTransaction:c}}();Q(a.prototype,{_isSource:!0,subscribe:function(e){return this.obs.dispatcher.subscribe(e)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:G.always(this.queue[0])}:this.queue[0]},push:function(e){return this.queue=[e],[e]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),U(l,a),Q(l.prototype,{consume:function(){return this.queue.shift()},push:function(e){return this.queue.push(e)},mayHave:function(e){return!this.ended||this.queue.length>=e},hasAtLeast:function(e){return this.queue.length>=e},flatten:!1}),U(s,a),Q(s.prototype,{consume:function(){var e=this.queue;return this.queue=[],{value:function(){return e}}},push:function(e){return this.queue.push(e.value())},hasAtLeast:function(){return!0}}),a.isTrigger=function(e){return(null!=e?e._isSource:void 0)?e.sync:null!=e?e._isEventStream:void 0},a.fromObservable=function(e){return(null!=e?e._isSource:void 0)?e:(null!=e?e._isProperty:void 0)?new a(e,!1):new l(e,!0)},Q(c.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=q([this.context].concat(this.args))),this.cached},toString:function(){return G.toString(this.context)+"."+G.toString(this.method)+"("+G.map(G.toString,this.args)+")"}});var W=function(e,t){var n=e||t;if(n&&n._isDesc)return e||t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new c(e,t,i)},V=function(e,t){return t.desc=e,t},q=function(e){return T(e)?G.flatMap(q,e):z(e)?[e]:("undefined"!==typeof e&&null!==e?e._isSource:void 0)?[e.obs]:[]};B.Desc=c,B.Desc.empty=new B.Desc("","",[]);var K=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("object"===typeof t&&r.length){var o=t,a=r[0];t=function(){return o[a].apply(o,arguments)},r=r.slice(1)}return e.apply(void 0,[t].concat(r))}},Z=function(e){return e=Array.prototype.slice.call(e),te.apply(void 0,e)},X=function(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(void 0,t.concat(r))}},J=function(e){return function(t){return function(n){if("undefined"!==typeof n&&null!==n){var r=n[t];return G.isFunction(r)?r.apply(n,e):r}}}},$=function(e,t){var n=e.slice(1).split("."),r=G.map(J(t),n);return function(e){for(var t,n=0;n<r.length;n++)t=r[n],e=t(e);return e}},ee=function(e){return"string"===typeof e&&e.length>1&&"."===e.charAt(0)},te=K(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return G.isFunction(e)?n.length?X(e,n):e:ee(e)?$(e,n):G.always(e)}),ne=function(e,t){return te.apply(void 0,[e].concat(t))},re=function(e,t,n,r){if("undefined"!==typeof t&&null!==t?t._isProperty:void 0){var i=t.sampledBy(e,function(e,t){return[e,t]});return r.call(i,function(e){var t=e[0];e[1];return t}).map(function(e){e[0];return e[1]})}return t=ne(t,n),r.call(e,t)},ie=function(e){if(G.isFunction(e))return e;if(ee(e)){var t=oe(e);return function(e,n){return e[t](n)}}throw new E("not a function or a field key: "+e)},oe=function(e){return e.slice(1)};Q(u.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(e){return e(this.value)?new u(this.value):ae},map:function(e){return new u(e(this.value))},forEach:function(e){return e(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var ae={_isNone:!0,getOrElse:function(e){return e},filter:function(){return ae},map:function(){return ae},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},le=function(e){return("undefined"!==typeof e&&null!==e?e._isSome:void 0)||("undefined"!==typeof e&&null!==e?e._isNone:void 0)?e:new u(e)};B.noMore="<no-more>",B.more="<more>";var se=0;d.prototype._isEvent=!0,d.prototype.isEvent=function(){return!0},d.prototype.isEnd=function(){return!1},d.prototype.isInitial=function(){return!1},d.prototype.isNext=function(){return!1},d.prototype.isError=function(){return!1},d.prototype.hasValue=function(){return!1},d.prototype.filter=function(){return!0},d.prototype.inspect=function(){return this.toString()},d.prototype.log=function(){return this.toString()},U(f,d),f.prototype.isNext=function(){return!0},f.prototype.hasValue=function(){return!0},f.prototype.value=function(){var e;return(null!=(e=this.valueF)?e._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},f.prototype.fmap=function(e){var t,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return e(n)})):(t=this,this.apply(function(){return e(t.value())}))},f.prototype.apply=function(e){return new f(e)},f.prototype.filter=function(e){return e(this.value())},f.prototype.toString=function(){return G.toString(this.value())},f.prototype.log=function(){return this.value()},f.prototype._isNext=!0,U(_,f),_.prototype._isInitial=!0,_.prototype.isInitial=function(){return!0},_.prototype.isNext=function(){return!1},_.prototype.apply=function(e){return new _(e)},_.prototype.toNext=function(){return new f(this)},U(p,d),p.prototype.isEnd=function(){return!0},p.prototype.fmap=function(){return this},p.prototype.apply=function(){return this},p.prototype.toString=function(){return"<end>"},U(b,d),b.prototype.isError=function(){return!0},b.prototype.fmap=function(){return this},b.prototype.apply=function(){return this},b.prototype.toString=function(){return"<error> "+G.toString(this.error)},B.Event=d,B.Initial=_,B.Next=f,B.End=p,B.Error=b;var ce=function(e){return new _(e,!0)},ue=function(e){return new f(e,!0)},de=function(){return new p},fe=function(e){return e&&e._isEvent?e:ue(e)},_e=0,pe=function(){};Q(h.prototype,{_isObservable:!0,subscribe:function(e){return H.wrappedSubscribe(this,e)},subscribeInternal:function(e){return this.dispatcher.subscribe(e)},onValue:function(){var e=Z(arguments);return this.subscribe(function(t){if(t.hasValue())return e(t.value())})},onValues:function(e){return this.onValue(function(t){return e.apply(void 0,t)})},onError:function(){var e=Z(arguments);return this.subscribe(function(t){if(t.isError())return e(t.error)})},onEnd:function(){var e=Z(arguments);return this.subscribe(function(t){if(t.isEnd())return e()})},name:function(e){return this._name=e,this},withDescription:function(){return this.desc=W.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),h.prototype.assign=h.prototype.onValue,h.prototype.forEach=h.prototype.onValue,h.prototype.inspect=h.prototype.toString,B.Observable=h,Q(m.prototype,{add:function(e){var t=this;if(!this.unsubscribed){var n=!1,r=M;this.starting.push(e);var i=function(){if(!t.unsubscribed)return n=!0,t.remove(r),G.remove(e,t.starting)};return r=e(this.unsubscribe,i),this.unsubscribed||n?r():this.subscriptions.push(r),G.remove(e,this.starting),r}},remove:function(e){if(!this.unsubscribed)return void 0!==G.remove(e,this.subscriptions)?e():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var e=this.subscriptions,t=0;t<e.length;t++)e[t]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),B.CompositeUnsubscribe=m,g.prototype.hasSubscribers=function(){return this.subscriptions.length>0},g.prototype.removeSub=function(e){return this.subscriptions=G.without(e,this.subscriptions),this.subscriptions},g.prototype.push=function(e){return e.isEnd()&&(this.ended=!0),H.inTransaction(e,this,this.pushIt,[e])},g.prototype.pushToSubscriptions=function(e){try{for(var t=this.subscriptions,n=t.length,r=0;r<n;r++){var i=t[r];(i.sink(e)===B.noMore||e.isEnd())&&this.removeSub(i)}return!0}catch(e){throw this.pushing=!1,this.queue=[],e}},g.prototype.pushIt=function(e){if(this.pushing)return this.queue.push(e),B.more;if(e!==this.prevError){for(e.isError()&&(this.prevError=e),this.pushing=!0,this.pushToSubscriptions(e),this.pushing=!1;this.queue.length;)e=this.queue.shift(),this.push(e);return this.hasSubscribers()?B.more:(this.unsubscribeFromSource(),B.noMore)}},g.prototype.handleEvent=function(e){return this._handleEvent?this._handleEvent(e):this.push(e)},g.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},g.prototype.subscribe=function(e){var t;return this.ended?(e(de()),M):(L(e),t={sink:e},this.subscriptions.push(t),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),L(this.unsubSrc)),function(e){return function(){if(e.removeSub(t),!e.hasSubscribers())return e.unsubscribeFromSource()}}(this))},B.Dispatcher=g,U(A,h),Q(A.prototype,{_isEventStream:!0,toProperty:function(e){var t=0===arguments.length?ae:le(function(){return e}),n=this.dispatcher;return new v(new B.Desc(this,"toProperty",[e]),function(e){var r=!1,i=!1,o=M,a=B.more,l=function(){if(!r)return t.forEach(function(t){if(r=!0,(a=e(new _(t)))===B.noMore)return o(),o=M,M})};return o=n.subscribe(function(n){return n.hasValue()?n.isInitial()&&!i?(t=new u(function(){return n.value()}),B.more):(n.isInitial()||l(),r=!0,t=new u(n),e(n)):(n.isEnd()&&(a=l()),a!==B.noMore?e(n):void 0)}),i=!0,l(),o})},toEventStream:function(){return this},withHandler:function(e){return new A(new B.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)}}),B.EventStream=A,B.never=function(){return new A(W(B,"never"),function(e){return e(de()),M})},B.when=function(){if(0===arguments.length)return B.never();var e=arguments.length;I("when: expecting arguments in the form (Observable+,function)+",e%2===0);for(var t=[],n=[],r=0,i=[];r<e;){i[r]=arguments[r],i[r+1]=arguments[r+1];for(var o,l=G.toArray(arguments[r]),s=he(arguments[r+1]),c={f:s,ixs:[]},u=!1,d=0;d<l.length;d++){o=l[d];var f=G.indexOf(t,o);u||(u=a.isTrigger(o)),f<0&&(t.push(o),f=t.length-1);for(var _,p=0;p<c.ixs.length;p++)_=c.ixs[p],_.index===f&&_.count++;c.ixs.push({index:f,count:1})}I("At least one EventStream required",u||!l.length),l.length>0&&n.push(c),r+=2}if(!t.length)return B.never();t=G.map(a.fromObservable,t);var b=G.any(t,function(e){return e.flatten})&&be(G.map(function(e){return e.obs},t)),h=new B.Desc(B,"when",i),m=new A(h,function(e){var r=[],i=!1,o=function(e){for(var n,r=0;r<e.ixs.length;r++)if(n=e.ixs[r],!t[n.index].hasAtLeast(n.count))return!1;return!0},a=function(e){return!e.sync||e.ended},l=function(e){for(var n,r=0;r<e.ixs.length;r++)if(n=e.ixs[r],!t[n.index].mayHave(n.count))return!0},s=function(e){return!e.source.flatten},c=function(c){return function(u){var d=function(){return H.whenDoneWith(m,_)},f=function(){if(!(r.length>0))return B.more;for(var i,a=B.more,l=r.pop(),c=0;c<n.length;c++)if(i=n[c],o(i)){var u=function(){for(var e,n=[],r=0;r<i.ixs.length;r++)e=i.ixs[r],n.push(t[e.index].consume());return n}();return a=e(l.e.apply(function(){var e,t=function(){for(var e,t=[],n=0;n<u.length;n++)e=u[n],t.push(e.value());return t}();return(e=i).f.apply(e,t)})),r.length&&(r=G.filter(s,r)),a===B.noMore?a:f()}},_=function(){var r=f();return i&&(G.all(t,a)||G.all(n,l))&&(r=B.noMore,e(de())),r===B.noMore&&u(),r};return c.subscribe(function(t){if(t.isEnd())i=!0,c.markEnded(),d();else if(t.isError())var n=e(t);else c.push(t),c.sync&&(r.push({source:c,e:t}),b||H.hasWaiters()?d():_());return n===B.noMore&&u(),n||B.more})}};return new B.CompositeUnsubscribe(function(){for(var e,n=[],r=0;r<t.length;r++)e=t[r],n.push(c(e));return n}()).unsubscribe});return m};var be=function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=function(e){if(G.contains(t,e))return!0;var r=e.internalDeps();return r.length?(t.push(e),G.any(r,n)):(t.push(e),!1)};return G.any(e,n)},he=function(e){return G.isFunction(e)?e:G.always(e)};B.groupSimultaneous=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&T(t[0])&&(t=t[0]);var r=function(){for(var e,n=[],r=0;r<t.length;r++)e=t[r],n.push(new s(e));return n}();return V(new B.Desc(B,"groupSimultaneous",t),B.when(r,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}))},U(y,g),Q(y.prototype,{push:function(e){return e.isEnd()&&(this.propertyEnded=!0),e.hasValue()&&(this.current=new u(e),this.currentValueRootId=H.currentEventId()),g.prototype.push.call(this,e)},maybeSubSource:function(e,t){return t===B.noMore?M:this.propertyEnded?(e(de()),M):g.prototype.subscribe.call(this,e)},subscribe:function(e){var t=this,n=B.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var r=H.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&r&&r!==i?(H.whenDoneWith(this.property,function(){if(t.currentValueRootId===i)return e(ce(t.current.get().value()))}),this.maybeSubSource(e,n)):(H.inTransaction(void 0,this,function(){return n=e(ce(this.current.get().value()))},[]),this.maybeSubSource(e,n))}return this.maybeSubSource(e,n)}}),U(v,h),Q(v.prototype,{_isProperty:!0,changes:function(){var e=this;return new A(new B.Desc(this,"changes",[]),function(t){return e.dispatcher.subscribe(function(e){if(!e.isInitial())return t(e)})})},withHandler:function(e){return new v(new B.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},toProperty:function(){return F(arguments),this},toEventStream:function(){var e=this;return new A(new B.Desc(this,"toEventStream",[]),function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()&&(e=e.toNext()),t(e)})})}}),B.Property=v,B.constant=function(e){return new v(new B.Desc(B,"constant",[e]),function(t){return t(ce(e)),t(de()),M})},B.fromBinder=function(e){var t=arguments.length<=1||void 0===arguments[1]?G.id:arguments[1];return new A(new B.Desc(B,"fromBinder",[e,t]),function(n){var r=!1,i=!1,o=function(){if(!r)return"undefined"!==typeof a&&null!==a?(a(),r=!0):i=!0},a=e(function(){for(var e,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var l=t.apply(this,i);T(l)&&(null!=(e=G.last(l))?e._isEvent:void 0)||(l=[l]);for(var s,c=B.more,u=0;u<l.length;u++)if(s=l[u],(c=n(s=fe(s)))===B.noMore||s.isEnd())return o(),c;return c});return i&&o(),o})},B.Observable.prototype.map=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return V(new B.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})};var me=function(e){return T(e[0])?e[0]:Array.prototype.slice.call(e)},ge=function(e){return G.isFunction(e[0])?[me(Array.prototype.slice.call(e,1)),e[0]]:[me(Array.prototype.slice.call(e,0,e.length-1)),G.last(e)]};B.combineAsArray=function(){var e=me(arguments);if(e.length){for(var t=[],n=0;n<e.length;n++){var r=z(e[n])?e[n]:B.constant(e[n]);t.push(new a(r,!0))}return V(new B.Desc(B,"combineAsArray",e),B.when(t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}).toProperty())}return B.constant([])},B.onValues=function(){return B.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},B.combineWith=function(){var e=ge(arguments),t=e[0],n=e[1],r=new B.Desc(B,"combineWith",[n].concat(t));return V(r,B.combineAsArray(t).map(function(e){return n.apply(void 0,e)}))},B.Observable.prototype.combine=function(e,t){var n=ie(t),r=new B.Desc(this,"combine",[e,t]);return V(r,B.combineAsArray(this,e).map(function(e){return n(e[0],e[1])}))},B.Observable.prototype.withStateMachine=function(e,t){var n=e,r=new B.Desc(this,"withStateMachine",[e,t]);return V(r,this.withHandler(function(e){var r=t(n,e),i=r[0],o=r[1];n=i;for(var a,l=B.more,s=0;s<o.length;s++)if(a=o[s],(l=this.push(a))===B.noMore)return l;return l}))};var Ae=function(e,t){return e===t},ye=function(e){return"undefined"!==typeof e&&null!==e&&e._isNone};B.Observable.prototype.skipDuplicates=function(){var e=arguments.length<=0||void 0===arguments[0]?Ae:arguments[0],t=new B.Desc(this,"skipDuplicates",[]);return V(t,this.withStateMachine(ae,function(t,n){return n.hasValue()?n.isInitial()||ye(t)||!e(t.get(),n.value())?[new u(n.value()),[n]]:[t,[]]:[t,[n]]}))},B.Observable.prototype.awaiting=function(e){var t=new B.Desc(this,"awaiting",[e]);return V(t,B.groupSimultaneous(this,e).map(function(e){return 0===e[1].length}).toProperty(!1).skipDuplicates())},B.Observable.prototype.not=function(){return V(new B.Desc(this,"not",[]),this.map(function(e){return!e}))},B.Property.prototype.and=function(e){return V(new B.Desc(this,"and",[e]),this.combine(e,function(e,t){return e&&t}))},B.Property.prototype.or=function(e){return V(new B.Desc(this,"or",[e]),this.combine(e,function(e,t){return e||t}))},B.scheduler={setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},now:function(){return(new Date).getTime()}},B.EventStream.prototype.bufferWithTime=function(e){return V(new B.Desc(this,"bufferWithTime",[e]),this.bufferWithTimeOrCount(e,Number.MAX_VALUE))},B.EventStream.prototype.bufferWithCount=function(e){return V(new B.Desc(this,"bufferWithCount",[e]),this.bufferWithTimeOrCount(void 0,e))},B.EventStream.prototype.bufferWithTimeOrCount=function(e,t){var n=function(n){return n.values.length===t?n.flush():void 0!==e?n.schedule():void 0},r=new B.Desc(this,"bufferWithTimeOrCount",[e,t]);return V(r,this.buffer(e,n,n))},B.EventStream.prototype.buffer=function(e){var t=arguments.length<=1||void 0===arguments[1]?M:arguments[1],n=arguments.length<=2||void 0===arguments[2]?M:arguments[2],r={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(B.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var e=this.values;this.values=[];var t=this.push(ue(e));if(null!=this.end)return this.push(this.end);if(t!==B.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var t=this;if(!this.scheduled)return this.scheduled=e(function(){return t.flush()})}},i=B.more;if(!G.isFunction(e)){var o=e;e=function(e){return B.scheduler.setTimeout(e,o)}}return V(new B.Desc(this,"buffer",[]),this.withHandler(function(e){var n=this;return r.push=function(e){return n.push(e)},e.isError()?i=this.push(e):e.isEnd()?(r.end=e,r.scheduled||r.flush()):(r.values.push(e.value()),t(r)),i}))},B.Observable.prototype.filter=function(e){D(e);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return V(new B.Desc(this,"filter",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):B.more}))})},B.once=function(e){return new A(new c(B,"once",[e]),function(t){return t(fe(e)),t(de()),M})},B.EventStream.prototype.concat=function(e){var t=this;return new A(new B.Desc(t,"concat",[e]),function(n){var r=M,i=t.dispatcher.subscribe(function(t){return t.isEnd()?r=e.toEventStream().dispatcher.subscribe(n):n(t)});return function(){return i(),r()}})},B.Property.prototype.concat=function(e){return ve(this,this.changes().concat(e))},B.concatAll=function(){var e=me(arguments);return e.length?V(new B.Desc(B,"concatAll",e),G.fold(G.tail(e),G.head(e).toEventStream(),function(e,t){return e.concat(t)})):B.never()};var ve=function(e,t){var n=new A(W(e,"justInitValue"),function(t){var r=void 0,i=e.dispatcher.subscribe(function(e){return e.isEnd()||(r=e),B.noMore});return H.whenDoneWith(n,function(){return"undefined"!==typeof r&&null!==r&&t(r),t(de())}),i});return n.concat(t).toProperty()};B.Observable.prototype.flatMap=function(){return ke(this,xe(arguments))},B.Observable.prototype.flatMapFirst=function(){return ke(this,xe(arguments),!0)};var xe=function(e){return 1===e.length&&z(e[0])?G.always(e[0]):Z(e)},we=function(e){return z(e)?e:B.once(e)},ke=function(e,t,n,r){var i=[e],o=[],a=new B.Desc(e,"flatMap"+(n?"First":""),[t]),l=new A(a,function(i){var a=new m,l=[],s=function(e){var n=we(t(e.value()));return o.push(n),a.add(function(e,t){return n.dispatcher.subscribe(function(r){if(r.isEnd())return G.remove(n,o),c(),u(t),B.noMore;("undefined"!==typeof r&&null!==r?r._isInitial:void 0)&&(r=r.toNext());var a=i(r);return a===B.noMore&&e(),a})})},c=function(){var e=l.shift();if(e)return s(e)},u=function(e){if(e(),a.empty())return i(de())};return a.add(function(t,o){return e.dispatcher.subscribe(function(e){return e.isEnd()?u(o):e.isError()?i(e):n&&a.count()>1?B.more:a.unsubscribed?B.noMore:r&&a.count()>r?l.push(e):s(e)})}),a.unsubscribe});return l.internalDeps=function(){return o.length?i.concat(o):i},l};B.Observable.prototype.flatMapWithConcurrencyLimit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new B.Desc(this,"flatMapWithConcurrencyLimit",[e].concat(n));return V(i,ke(this,xe(n),!1,e))},B.Observable.prototype.flatMapConcat=function(){var e=new B.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return V(e,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(C.call(arguments))))},B.later=function(e,t){return V(new B.Desc(B,"later",[e,t]),B.fromBinder(function(n){var r=function(){return n([t,de()])},i=B.scheduler.setTimeout(r,e);return function(){return B.scheduler.clearTimeout(i)}}))},B.Observable.prototype.bufferingThrottle=function(e){var t=new B.Desc(this,"bufferingThrottle",[e]);return V(t,this.flatMapConcat(function(t){return B.once(t).concat(B.later(e).filter(!1))}))},B.Property.prototype.bufferingThrottle=function(){return B.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},U(x,A),Q(x.prototype,{unsubAll:function(){for(var e,t=this.subscriptions,n=0;n<t.length;n++)e=t[n],"function"===typeof e.unsub&&e.unsub()},subscribeAll:function(e){if(this.ended)e(de());else{this.sink=e;for(var t,n=O(this.subscriptions),r=0;r<n.length;r++)t=n[r],this.subscribeInput(t)}return this.unsubAll},guardedSink:function(e){var t=this;return function(n){return n.isEnd()?(t.unsubscribeInput(e),B.noMore):t.sink(n)}},subscribeInput:function(e){return e.unsub=e.input.dispatcher.subscribe(this.guardedSink(e.input)),e.unsub},unsubscribeInput:function(e){for(var t,n=this.subscriptions,r=0;r<n.length;r++)if(t=n[r],t.input===e)return"function"===typeof t.unsub&&t.unsub(),void this.subscriptions.splice(r,1)},plug:function(e){var t=this;if(S(e),!this.ended){var n={input:e};return this.subscriptions.push(n),"undefined"!==typeof this.sink&&this.subscribeInput(n),function(){return t.unsubscribeInput(e)}}},end:function(){if(this.ended=!0,this.unsubAll(),"function"===typeof this.sink)return this.sink(de())},push:function(e){if(!this.ended&&"function"===typeof this.sink){var t=!this.pushing;if(!t)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(e);this.pushing=!0;try{return this.sink(ue(e))}finally{if(t&&this.pushQueue){for(var n=0;n<this.pushQueue.length;){var e=this.pushQueue[n];this.sink(ue(e)),n++}this.pushQueue=null}this.pushing=!1}}},error:function(e){if("function"===typeof this.sink)return this.sink(new b(e))}}),B.Bus=x;var Ce=function(e,t){return K(function(n){for(var r=X(t,[function(e,t){return n.apply(void 0,e.concat([t]))}]),i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return V(new B.Desc(B,e,[n].concat(o)),B.combineAsArray(o).flatMap(r))})};B.fromCallback=Ce("fromCallback",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B.fromBinder(function(t){return ne(e,n)(t),M},function(e){return[e,de()]})}),B.fromNodeCallback=Ce("fromNodeCallback",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B.fromBinder(function(t){return ne(e,n)(t),M},function(e,t){return e?[new b(e),de()]:[t,de()]})}),B.combineTemplate=function(e){function t(e){return e[e.length-1]}function n(e,n,r){return t(e)[n]=r,r}function r(e,t){return function(r,i){n(r,e,i[t])}}function i(e,t){return function(r){n(r,e,t)}}function o(e){return T(e)?[]:{}}function a(e,t){return function(r){var i=o(t);n(r,e,i),r.push(i)}}function l(e){if(z(e))return!0;if(e&&(e.constructor==Object||e.constructor==Array))for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];if(l(n))return!0}}function s(e,t){if(z(t))f.push(t),d.push(r(e,f.length-1));else if(l(t)){var n=function(e){e.pop()};d.push(a(e,t)),u(t),d.push(n)}else d.push(i(e,t))}function c(t){for(var n=o(e),r=[n],i=0;i<d.length;i++)(0,d[i])(r,t);return n}function u(e){G.each(e,s)}var d=[],f=[],_=l(e)?(u(e),B.combineAsArray(f).map(c)):B.constant(e);return V(new B.Desc(B,"combineTemplate",[e]),_)},B.Observable.prototype.mapEnd=function(){var e=Z(arguments);return V(new B.Desc(this,"mapEnd",[e]),this.withHandler(function(t){return t.isEnd()?(this.push(ue(e(t))),this.push(de()),B.noMore):this.push(t)}))},B.Observable.prototype.skipErrors=function(){return V(new B.Desc(this,"skipErrors",[]),this.withHandler(function(e){return e.isError()?B.more:this.push(e)}))},B.EventStream.prototype.takeUntil=function(e){var t={};return V(new B.Desc(this,"takeUntil",[e]),B.groupSimultaneous(this.mapEnd(t),e.skipErrors()).withHandler(function(e){if(e.hasValue()){var n=e.value(),r=n[0];if(n[1].length)return this.push(de());for(var i,o=B.more,a=0;a<r.length;a++)i=r[a],o=i===t?this.push(de()):this.push(ue(i));return o}return this.push(e)}))},B.Property.prototype.takeUntil=function(e){var t=this.changes().takeUntil(e);return V(new B.Desc(this,"takeUntil",[e]),ve(this,t))},B.Observable.prototype.flatMapLatest=function(){var e=xe(arguments),t=this.toEventStream();return V(new B.Desc(this,"flatMapLatest",[e]),t.flatMap(function(n){return we(e(n)).takeUntil(t)}))},B.Property.prototype.delayChanges=function(e,t){return V(e,ve(this,t(this.changes())))},B.EventStream.prototype.delayChanges=function(e,t){return V(e,t(this))},B.Observable.prototype.delay=function(e){return this.delayChanges(new B.Desc(this,"delay",[e]),function(t){return t.flatMap(function(t){return B.later(e,t)})})},B.Observable.prototype.debounce=function(e){return this.delayChanges(new B.Desc(this,"debounce",[e]),function(t){return t.flatMapLatest(function(t){return B.later(e,t)})})},B.Observable.prototype.debounceImmediate=function(e){return this.delayChanges(new B.Desc(this,"debounceImmediate",[e]),function(t){return t.flatMapFirst(function(t){return B.once(t).concat(B.later(e).filter(!1))})})},B.Observable.prototype.decode=function(e){return V(new B.Desc(this,"decode",[e]),this.combine(B.combineTemplate(e),function(e,t){return t[e]}))},B.Observable.prototype.scan=function(e,t){var n,r=this;t=ie(t);var i=le(e),o=!1,a=function(e){var a=!1,l=M,s=B.more,c=function(){if(!a)return i.forEach(function(t){if(a=o=!0,(s=e(new _(function(){return t})))===B.noMore)return l(),l=M})};return l=r.dispatcher.subscribe(function(n){if(n.hasValue()){if(o&&n.isInitial())return B.more;n.isInitial()||c(),a=o=!0;var r=i.getOrElse(void 0),l=t(r,n.value());return i=new u(l),e(n.apply(function(){return l}))}if(n.isEnd()&&(s=c()),s!==B.noMore)return e(n)}),H.whenDoneWith(n,c),l};return n=new v(new B.Desc(this,"scan",[e,t]),a)},B.Observable.prototype.diff=function(e,t){return t=ie(t),V(new B.Desc(this,"diff",[e,t]),this.scan([e],function(e,n){return[n,t(e[0],n)]}).filter(function(e){return 2===e.length}).map(function(e){return e[1]}))},B.Observable.prototype.doAction=function(){var e=Z(arguments);return V(new B.Desc(this,"doAction",[e]),this.withHandler(function(t){return t.hasValue()&&e(t.value()),this.push(t)}))},B.Observable.prototype.doEnd=function(){var e=Z(arguments);return V(new B.Desc(this,"doEnd",[e]),this.withHandler(function(t){return t.isEnd()&&e(),this.push(t)}))},B.Observable.prototype.doError=function(){var e=Z(arguments);return V(new B.Desc(this,"doError",[e]),this.withHandler(function(t){return t.isError()&&e(t.error),this.push(t)}))},B.Observable.prototype.doLog=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return V(new B.Desc(this,"doLog",t),this.withHandler(function(e){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log.apply(console,t.concat([e.log()])),this.push(e)}))},B.Observable.prototype.endOnError=function(e){"undefined"!==typeof e&&null!==e||(e=!0);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return V(new B.Desc(this,"endOnError",[]),this.withHandler(function(t){return t.isError()&&e(t.error)?(this.push(t),this.push(de())):this.push(t)}))})},h.prototype.errors=function(){return V(new B.Desc(this,"errors",[]),this.filter(function(){return!1}))},B.Observable.prototype.take=function(e){return e<=0?B.never():V(new B.Desc(this,"take",[e]),this.withHandler(function(t){return t.hasValue()?(e--,e>0?this.push(t):(0===e&&this.push(t),this.push(de()),B.noMore)):this.push(t)}))},B.Observable.prototype.first=function(){return V(new B.Desc(this,"first",[]),this.take(1))},B.Observable.prototype.mapError=function(){var e=Z(arguments);return V(new B.Desc(this,"mapError",[e]),this.withHandler(function(t){return t.isError()?this.push(ue(e(t.error))):this.push(t)}))},B.Observable.prototype.flatMapError=function(e){var t=new B.Desc(this,"flatMapError",[e]);return V(t,this.mapError(function(e){return new b(e)}).flatMap(function(t){return t instanceof b?e(t.error):B.once(t)}))},B.EventStream.prototype.flatScan=function(e,t){var n=e;return this.flatMapConcat(function(e){return we(t(n,e)).doAction(function(e){return n=e})}).toProperty(e)},B.EventStream.prototype.sampledBy=function(e,t){return V(new B.Desc(this,"sampledBy",[e,t]),this.toProperty().sampledBy(e,t))},B.Property.prototype.sampledBy=function(e,t){var n=!1;"undefined"!==typeof t&&null!==t?t=ie(t):(n=!0,t=function(e){return e.value()});var r=new a(this,!1,n),i=new a(e,!0,n),o=B.when([r,i],t),l=e._isProperty?o.toProperty():o;return V(new B.Desc(this,"sampledBy",[e,t]),l)},B.Property.prototype.sample=function(e){return V(new B.Desc(this,"sample",[e]),this.sampledBy(B.interval(e,{})))},B.Observable.prototype.map=function(e){if(e&&e._isProperty)return e.sampledBy(this,j);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return V(new B.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},B.Observable.prototype.fold=function(e,t){return V(new B.Desc(this,"fold",[e,t]),this.scan(e,t).sampledBy(this.filter(!1).mapEnd().toProperty()))},h.prototype.reduce=h.prototype.fold;var Be=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],Ee=function(e){for(var t,n=0;n<Be.length;n++){t=Be[n];var r=[e[t[0]],e[t[1]]];if(r[0]&&r[1])return r}for(var i=0;i<Be.length;i++){t=Be[i];var o=e[t[0]];if(o)return[o,function(){}]}throw new b("No suitable event methods in "+e)};B.fromEventTarget=function(e,t,n){var r=Ee(e),i=r[0],o=r[1],a=new B.Desc(B,"fromEvent",[e,t]);return V(a,B.fromBinder(function(n){return i.call(e,t,n),function(){return o.call(e,t,n)}},n))},B.fromEvent=B.fromEventTarget,B.fromPoll=function(e,t){var n=new B.Desc(B,"fromPoll",[e,t]);return V(n,B.fromBinder(function(t){var n=B.scheduler.setInterval(t,e);return function(){return B.scheduler.clearInterval(n)}},t))},B.fromPromise=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?w:arguments[2];return V(new B.Desc(B,"fromPromise",[e]),B.fromBinder(function(n){var r=e.then(n,function(e){return n(new b(e))});return r&&"function"===typeof r.done&&r.done(),t?function(){if("function"===typeof e.abort)return e.abort()}:function(){}},n))},B.Observable.prototype.groupBy=function(e){var t=arguments.length<=1||void 0===arguments[1]?B._.id:arguments[1],n={},r=this;return r.filter(function(t){return!n[e(t)]}).map(function(i){var o=e(i),a=r.filter(function(t){return e(t)===o}),l=B.once(i).concat(a),s=t(l,i).withHandler(function(e){if(this.push(e),e.isEnd())return delete n[o]});return n[o]=s,s})},B.fromArray=function(e){if(P(e),e.length){var t=0,n=new A(new B.Desc(B,"fromArray",[e]),function(r){function i(){if(s=!0,!l){for(l=!0;s;)if(s=!1,a!==B.noMore&&!o){var c=e[t++];a=r(fe(c)),a!==B.noMore&&(t===e.length?r(de()):H.afterTransaction(n,i))}return l=!1}}var o=!1,a=B.more,l=!1,s=!1;return i(),function(){return o=!0}});return n}return V(new B.Desc(B,"fromArray",e),B.never())},B.EventStream.prototype.holdWhen=function(e){var t=!1,n=[],r=this,i=!1;return new A(new B.Desc(this,"holdWhen",[e]),function(o){var a=new m,l=!1,s=function(e){if("function"===typeof e&&e(),a.empty()&&l)return o(de())};return a.add(function(r,a){return e.subscribeInternal(function(e){if(!e.hasValue())return e.isEnd()?s(a):o(e);if(!(t=e.value())){var r=n;return n=[],function(){for(var e,t=[],n=0;n<r.length;n++)e=r[n],t.push(o(ue(e)));return i&&(t.push(o(de())),a()),t}()}})}),a.add(function(e,a){return r.subscribeInternal(function(e){return t&&e.hasValue()?n.push(e.value()):e.isEnd()&&n.length?(i=!0,s(a)):o(e)})}),l=!0,s(),a.unsubscribe})},B.interval=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return V(new B.Desc(B,"interval",[e,t]),B.fromPoll(e,function(){return ue(t)}))},B.$={},B.$.asEventStream=function(e,t,n){var r=this;return G.isFunction(t)&&(n=t,t=void 0),V(new B.Desc(this.selector||this,"asEventStream",[e]),B.fromBinder(function(n){return r.on(e,t,n),function(){return r.off(e,t,n)}},n))},"undefined"!==typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=B.$.asEventStream),"undefined"!==typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=B.$.asEventStream),B.Observable.prototype.last=function(){var e;return V(new B.Desc(this,"last",[]),this.withHandler(function(t){if(t.isEnd())return e&&this.push(e),this.push(de()),B.noMore;e=t}))},B.Observable.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.subscribe(function(e){"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,t.concat([e.log()]))}),this},B.EventStream.prototype.merge=function(e){N(e);var t=this;return V(new B.Desc(t,"merge",[e]),B.mergeAll(this,e))},B.mergeAll=function(){var e=me(arguments);return e.length?new A(new B.Desc(B,"mergeAll",e),function(t){var n=0,r=function(r){return function(i){return r.dispatcher.subscribe(function(r){if(r.isEnd())return n++,n===e.length?t(de()):B.more;var o=t(r);return o===B.noMore&&i(),o})}},i=G.map(r,e);return new B.CompositeUnsubscribe(i).unsubscribe}):B.never()},B.repeatedly=function(e,t){var n=0;return V(new B.Desc(B,"repeatedly",[e,t]),B.fromPoll(e,function(){return t[n++%t.length]}))},B.repeat=function(e){var t=0;return B.fromBinder(function(n){function r(e){return e.isEnd()?o?i():o=!0:a=n(e)}function i(){var i;for(o=!0;o&&a!==B.noMore;)i=e(t++),o=!1,i?l=i.subscribeInternal(r):n(de());return o=!0}var o=!1,a=B.more,l=function(){};return i(),function(){return l()}})},B.retry=function(e){if(!G.isFunction(e.source))throw new E("'source' option has to be a function");var t=e.source,n=e.retries||0,r=0,i=e.delay||function(){return 0},o=e.isRetryable||function(){return!0},a=!1,l=null;return V(new B.Desc(B,"retry",[e]),B.repeat(function(e){function s(){return t(e).endOnError().withHandler(function(e){return e.isError()?(l=e,o(l.error)&&(0===n||r<n)?void 0:(a=!0,this.push(e))):(e.hasValue()&&(l=null,a=!0),this.push(e))})}if(a)return null;if(l){var c={error:l.error,retriesDone:r},u=B.later(i(c)).filter(!1);return r++,u.concat(B.once().flatMap(s))}return s()}))},B.sequentially=function(e,t){var n=0;return V(new B.Desc(B,"sequentially",[e,t]),B.fromPoll(e,function(){var e=t[n++];return n<t.length?e:n===t.length?[e,de()]:de()}))},B.Observable.prototype.skip=function(e){return V(new B.Desc(this,"skip",[e]),this.withHandler(function(t){return t.hasValue()&&e>0?(e--,B.more):this.push(t)}))},B.EventStream.prototype.skipUntil=function(e){var t=e.take(1).map(!0).toProperty(!1);return V(new B.Desc(this,"skipUntil",[e]),this.filter(t))},B.EventStream.prototype.skipWhile=function(e){D(e);for(var t=!1,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return re(this,e,r,function(e){return V(new B.Desc(this,"skipWhile",[e]),this.withHandler(function(n){return!t&&n.hasValue()&&e(n.value())?B.more:(n.hasValue()&&(t=!0),this.push(n))}))})},B.Observable.prototype.slidingWindow=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return V(new B.Desc(this,"slidingWindow",[e,t]),this.scan([],function(t,n){return t.concat([n]).slice(-e)}).filter(function(e){return e.length>=t}))};var Me=[],pe=function(e){if(Me.length&&!pe.running)try{pe.running=!0,Me.forEach(function(t){t(e)})}finally{delete pe.running}};B.spy=function(e){return Me.push(e)},B.Property.prototype.startWith=function(e){return V(new B.Desc(this,"startWith",[e]),this.scan(e,function(e,t){return t}))},B.EventStream.prototype.startWith=function(e){return V(new B.Desc(this,"startWith",[e]),B.once(e).concat(this))},B.Observable.prototype.takeWhile=function(e){D(e);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return V(new B.Desc(this,"takeWhile",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):(this.push(de()),B.noMore)}))})},B.Observable.prototype.throttle=function(e){return this.delayChanges(new B.Desc(this,"throttle",[e]),function(t){return t.bufferWithTime(e).map(function(e){return e[e.length-1]})})},h.prototype.firstToPromise=function(e){var t=this;if("function"!==typeof e){if("function"!==typeof Promise)throw new E("There isn't default Promise, use shim or parameter");e=Promise}return new e(function(e,n){return t.subscribe(function(t){return t.hasValue()&&e(t.value()),t.isError()&&n(t.error),B.noMore})})},h.prototype.toPromise=function(e){return this.last().firstToPromise(e)},B.try=function(e){return function(t){try{return B.once(e(t))}catch(e){return new B.Error(e)}}},B.update=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=n.length-1;i>0;)n[i]instanceof Function||(n[i]=G.always(n[i])),n[i]=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return e.apply(void 0,[t].concat(n))}}}(n[i]),i-=2;return V(new B.Desc(B,"update",[e].concat(n)),B.when.apply(B,n).scan(e,function(e,t){return t(e)}))},B.zipAsArray=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=me(t);return V(new B.Desc(B,"zipAsArray",r),B.zipWith(r,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}))},B.zipWith=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ge(t),i=r[0],o=r[1];return i=G.map(function(e){return e.toEventStream()},i),V(new B.Desc(B,"zipWith",[o].concat(i)),B.when(i,o))},B.Observable.prototype.zip=function(e,t){return V(new B.Desc(this,"zip",[e]),B.zipWith([this,e],t||Array))},k.prototype.subscribe=function(e,t,n){var r="function"===typeof e?{next:e,error:t,complete:n}:e,i={closed:!1,unsubscribe:function(){i.closed=!0,o()}},o=this.observable.subscribe(function(e){e.isError()?(r.error&&r.error(e.error),i.unsubscribe()):e.isEnd()?(i.closed=!0,r.complete&&r.complete()):r.next&&r.next(e.value())});return i},k.prototype[R("observable")]=function(){return this},B.Observable.prototype.toESObservable=function(){return new k(this)},B.Observable.prototype[R("observable")]=B.Observable.prototype.toESObservable,B.fromESObservable=function(e){var t;t=e[R("observable")]?e[R("observable")]():e;var n=new B.Desc(B,"fromESObservable",[t]);return new B.EventStream(n,function(e){var n=t.subscribe({error:function(){e(new B.Error),e(new B.End)},next:function(t){e(new B.Next(t,!0))},complete:function(){e(new B.End)}});return n.unsubscribe?function(){n.unsubscribe()}:n})},null!==n(67)&&null!=n(68)?(i=[],void 0!==(o=function(){return B}.apply(t,i))&&(r.exports=o),"undefined"!==typeof this&&null!==this&&(this.Bacon=B)):"undefined"!==typeof r&&null!==r&&null!=r.exports?(r.exports=B,B.Bacon=B):this.Bacon=B}).call(this)}).call(t,n(283),n(284)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s=n(168),c=r(s),u=n(75),d=r(u),f=n(89),_=r(f),p=n(44),b=r(p),h=n(285),m=r(h),g=n(17),A=r(g),y=n(116),v=r(y),x=n(290),w=r(x),k=n(291),C=r(k),B=n(16),E=r(B),M=n(117),j=r(M),O=n(292),I=r(O),D=n(308),N=r(D),S=n(313),L=r(S),T=n(316),z=r(T),P=n(319),F=r(P),Q=n(320),U=r(Q),R=n(2),G=r(R),Y=n(0),H=n(19);n(323),n(329);var W=n(331),V=r(W),q=function(){function e(t,n,r,o,a){var s=this;i(this,e),o?o instanceof Y.selection||(o="node"in o?(0,Y.select)(o.node()):(0,Y.select)(o)):o=(0,Y.select)("body").append("div"),a||(a={}),r||(r=V.default),this.map_data=t,this.model_data=n,this.embeddedCss=r,this.selection=o,this.menu_div=null,this.button_div=null,this.search_bar_div=null,this.searchBarRef=null,this.semanticOptions=null,this.mode="zoom",this.selection.datum(this),this.selection.__builder__=this,this.has_custom_reaction_styles=Boolean(a.reaction_styles);var c=l.set_options(a,{menu:"all",scroll_behavior:"pan",use_3d_transform:!1,enable_editing:!0,enable_keys:!0,enable_search:!0,fill_screen:!1,zoom_to_element:null,full_screen_button:!1,ignore_bootstrap:!1,disabled_buttons:null,semantic_zoom:null,starting_reaction:null,never_ask_before_quit:!1,unique_map_id:null,primary_metabolite_radius:20,secondary_metabolite_radius:10,marker_radius:5,gene_font_size:18,hide_secondary_metabolites:!1,show_gene_reaction_rules:!1,hide_all_labels:!1,canvas_size_and_loc:null,reaction_data:null,reaction_styles:["color","size","text"],reaction_compare_style:"log2_fold",reaction_scale:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],reaction_no_data_color:"#dcdcdc",reaction_no_data_size:8,gene_data:null,and_method_in_gene_reaction_rule:"mean",metabolite_data:null,metabolite_styles:["color","size","text"],metabolite_compare_style:"log2_fold",metabolite_scale:[{type:"min",color:"#fffaf0",size:20},{type:"median",color:"#f1c470",size:30},{type:"max",color:"#800000",size:40}],metabolite_no_data_color:"#ffffff",metabolite_no_data_size:10,identifiers_on_map:"bigg_id",highlight_missing:!1,allow_building_duplicate_reactions:!1,cofactors:["atp","adp","nad","nadh","nadp","nadph","gtp","gdp","h","coa","ump","h2o","ppi"],tooltip_component:U.default,enable_tooltips:["label"],enable_keys_with_tooltip:!0,reaction_scale_preset:null,metabolite_scale_preset:null,first_load_callback:null},{primary_metabolite_radius:!0,secondary_metabolite_radius:!0,marker_radius:!0,gene_font_size:!0,reaction_no_data_size:!0,metabolite_no_data_size:!0});if(l.check_for_parent_tag(this.selection,"svg"))throw new Error("Builder cannot be placed within an svg node because UI elements are html-based.");var u=["identifiers_on_map","scroll_behavior","hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","allow_building_duplicate_reactions","highlight_missing","enable_tooltips","reaction_scale_preset","reaction_no_data_color","reaction_no_data_size","reaction_scale","reaction_styles","reaction_compare_style","and_method_in_gene_reaction_rule","metabolite_scale_preset","metabolite_scale","metabolite_styles","metabolite_compare_style","metabolite_no_data_color","metabolite_no_data_size"];this.settings=new v.default(c,u),["reaction_scale","metabolite_scale"].map(function(e){s.settings.get(e)&&s.settings.get(e).length<2&&console.warn('Bad value for option "'+e+'". Scales must have at least 2 points.')}),this.callback_manager=(0,A.default)();var f=this.settings.get("first_load_callback");null!==f&&this.callback_manager.set("first_load",function(){f(s)}),this.zoom_container=new d.default(this.selection,this.settings.get("scroll_behavior"),this.settings.get("use_3d_transform"),this.settings.get("fill_screen")),this.zoom_container.callback_manager.set("zoom_change",function(){if(s.settings.get("semantic_zoom")){var e=s.zoom_container.window_scale,t=s.settings.get("semantic_zoom").sort(function(e,t){return e.zoomLevel-t.zoomLevel}).find(function(t){return t.zoomLevel>e});if(t){var n=!1;G.default.mapObject(t.options,function(e,t){s.settings.get(t)!==e&&(s.settings.set(t,e),n=!0)}),n&&s._updateData(!1,!0)}}}),this.settings.streams.use_3d_transform.onValue(function(e){s.zoom_container.set_use_3d_transform(e)}),this.mapToolsContainer=this.selection.append("div").attr("class","map-tools-container"),this._createStatus(this.selection),this.load_model(this.model_data,!1);var _=this.selection.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline");this.menu_div=_.append("div"),this.search_bar_div=_.append("div"),this.button_div=this.selection.append("div"),G.default.defer(function(){s.load_map(s.map_data,!1);var e=s._reactionCheckAddAbs();s._updateData(!0,!0),s.settings.statusBus.onValue(function(e){if("accept"===e){if(s._updateData(!0,!0,["reaction","metabolite"],!1),null!==s.zoom_container){var t=s.settings.get("scroll_behavior");s.zoom_container.set_scroll_behavior(t)}null!==s.map&&(s.map.draw_all_nodes(!1),s.map.draw_all_reactions(!0,!1),s.map.select_none())}}),s._setup_quick_jump(s.selection),null!==e&&setTimeout(e,500),G.default.defer(function(){return s.callback_manager.run("first_load",s)})})}return e.prototype.load_model=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];G.default.isNull(e)?this.cobra_model=null:this.cobra_model=b.default.from_cobra_json(e),this.map&&(this.map.cobra_model=this.cobra_model,t&&this._updateData(!0,!1),this.settings.get("highlight_missing")&&this.map.draw_all_reactions(!1,!1)),this.callback_manager.run("load_model",null,e,t)},e.prototype.load_map=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={};if(this.settings.get("semantic_zoom")){for(var i=this.settings.get("semantic_zoom"),o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s;Object.keys(u.options).map(function(e){void 0===r[e]&&(r[e]=t.settings.get(e))})}this.semanticOptions=Object.assign({},r)}l.remove_child_nodes(this.zoom_container.zoomed_sel),l.remove_child_nodes(this.mapToolsContainer);var d=this.zoom_container.zoomed_sel,f=this.zoom_container.svg;this.map&&this.map.key_manager.toggle(!1),this.map=null!==e?_.default.from_data(e,f,this.embeddedCss,d,this.zoom_container,this.settings,this.cobra_model,this.settings.get("enable_search")):new _.default(f,this.embeddedCss,d,this.zoom_container,this.settings,this.cobra_model,this.settings.get("canvas_size_and_loc"),this.settings.get("enable_search")),this._setup_status(this.map),n&&this._updateData(!1,!0),this.build_input=new c.default(this.mapToolsContainer,this.map,this.zoom_container,this.settings),this.text_edit_input=new w.default(this.mapToolsContainer,this.map,this.zoom_container),this.brush=new m.default(d,!1,this.map,".canvas-group"),this.map.canvas.callback_manager.set("resize",function(){"brush"===t.mode&&t.brush.toggle(!0)}),this._setUpModes(this.map,this.brush,this.zoom_container),this.setUpSettingsMenu(this.mapToolsContainer),this.setUpButtonPanel(this.mapToolsContainer);var p=this.mapToolsContainer.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline");this.setUpMenuBar(p),this.setUpSearchBar(p),this.tooltip_container=new F.default(this.mapToolsContainer,this.settings.get("tooltip_component"),this.zoom_container,this.map);var b=this.getKeys();this.map.key_manager.assigned_keys=b,this.map.key_manager.input_list=[this.build_input,this.searchBarRef,function(){return t.settingsMenuRef},this.text_edit_input],this.settings.get("enable_keys_with_tooltip")||this.map.key_manager.input_list.push(this.tooltip_container),this.map.key_manager.update(),this.map.key_manager.toggle(this.settings.get("enable_keys"));var h=this.settings.get("disabled_buttons")||[];if(this.settings.get("reaction_data")||h.push("Clear reaction data"),this.settings.get("gene_data")||h.push("Clear gene data"),this.settings.get("metabolite_data")||h.push("Clear metabolite data"),this.settings.get("enable_search")||h.push("Find"),this.settings.get("enable_editing")||h.push("Show control points"),this.settings.set("disabled_buttons",h),this.settings.get("zoom_to_element")){var g=this.settings.get("zoom_to_element").type,A=this.settings.get("zoom_to_element").id;if(G.default.isUndefined(g)||-1===["reaction","node"].indexOf(g))throw new Error('zoom_to_element type must be "reaction" or "node"');if(G.default.isUndefined(A))throw new Error("zoom_to_element must include id");"reaction"===g?this.map.zoom_to_reaction(A):"node"===g&&this.map.zoom_to_node(A)}else if(null!==e)this.map.zoom_extent_canvas();else if(null!==this.settings.get("starting_reaction")&&null!==this.cobra_model){var y=this.zoom_container.get_size(),v={x:y.width/2,y:y.height/4};this.map.new_reaction_from_scratch(this.settings.get("starting_reaction"),v,90),this.map.zoom_extent_nodes()}else this.map.zoom_extent_canvas();this.settings.get("enable_editing")?this.zoom_mode():this.view_mode(),this.settings.get("enable_editing")&&this._setup_confirm_before_exit(),this.map.draw_everything(),this.callback_manager.run("load_map",null,e,n)},e.prototype.passPropsSettingsMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callback_manager.run("pass_props_settings_menu",null,e)},e.prototype.setUpSettingsMenu=function(e){var t=this;this.settingsMenuRef=null,(0,j.default)(I.default,function(e){t.settingsMenuRef=e},function(e){return t.callback_manager.set("pass_props_settings_menu",e)},e.append("div").node()),this.passPropsSettingsMenu({display:!1,settings:this.settings,map:this.map}),G.default.mapObject(this.settings.streams,function(e,n){e.onValue(function(e){t.passPropsSettingsMenu()})}),this.settings.streams.reaction_styles.map(function(e){return G.default.contains(e,"abs")}).skipDuplicates().onValue(function(){return t._updateData(!1,!0)}),this.settings.streams.metabolite_styles.map(function(e){return G.default.contains(e,"abs")}).skipDuplicates().onValue(function(){return t._updateData(!1,!0)})},e.prototype.passPropsMenuBar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callback_manager.run("pass_props_menu_bar",null,e)},e.prototype.setUpMenuBar=function(e){var t=this;this.menuBarRef=null,(0,j.default)(N.default,function(e){t.menuBarRef=e},function(e){return t.callback_manager.set("pass_props_menu_bar",e)},e.append("div").node()),this.passPropsMenuBar({display:"all"===this.settings.get("menu"),settings:this.settings,sel:this.selection,mode:this.mode,map:this.map,saveMap:function(){t.semanticOptions&&(Object.entries(t.semanticOptions).map(function(e){var n=e[0],r=e[1];t.settings.set(n,r)}),t._updateData()),t.map.save()},loadMap:function(e){return t.load_map(e)},saveSvg:function(){return t.map.save_svg()},savePng:function(){return t.map.save_png()},clearMap:function(){t.map.clear_map(),t.callback_manager.run("clear_map")},loadModel:function(e){return t.load_model(e,!0)},clearModel:function(){t.load_model(null),t.callback_manager.run("clear_model")},updateRules:function(){return t.map.convert_map()},setReactionData:function(e){return t.set_reaction_data(e)},setGeneData:function(e){return t.set_gene_data(e)},setMetaboliteData:function(e){return t.set_metabolite_data(e)},setMode:function(e){return t._setMode(e)},deleteSelected:function(){return t.map.delete_selected()},undo:function(){return t.map.undo_stack.undo()},redo:function(){return t.map.undo_stack.redo()},togglePrimary:function(){return t.map.toggle_selected_node_primary()},cyclePrimary:function(){return t.map.cycle_primary_node()},selectAll:function(){return t.map.select_all()},selectNone:function(){return t.map.select_none()},invertSelection:function(){return t.map.invert_selection()},zoomIn:function(){return t.zoom_container.zoom_in()},zoomOut:function(){return t.zoom_container.zoom_out()},zoomExtentNodes:function(){return t.map.zoom_extent_nodes()},zoomExtentCanvas:function(){return t.map.zoom_extent_canvas()},search:function(){return t.passPropsSearchBar({display:!0})},toggleBeziers:function(){return t.map.toggle_beziers()},renderSettingsMenu:function(){return t.passPropsSettingsMenu({display:!0})}}),this.map.callback_manager.set("toggle_beziers",function(){t.passPropsMenuBar()}),this.settings.streams.disabled_buttons.onValue(function(e){t.passPropsMenuBar()}),this.callback_manager.set("set_mode",function(e){t.passPropsMenuBar({mode:e})})},e.prototype.passPropsSearchBar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callback_manager.run("pass_props_search_bar",null,e)},e.prototype.setUpSearchBar=function(e){var t=this;this.searchBarRef=null,(0,j.default)(L.default,function(e){t.searchBarRef=e},function(e){return t.callback_manager.set("pass_props_search_bar",e)},e.append("div").node()),this.passPropsSearchBar({display:!1,searchIndex:this.map.search_index,map:this.map})},e.prototype.passPropsButtonPanel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callback_manager.run("pass_props_button_panel",null,e)},e.prototype.setUpButtonPanel=function(e){var t=this;(0,j.default)(z.default,null,function(e){return t.callback_manager.set("pass_props_button_panel",e)},e.append("div").node()),this.passPropsButtonPanel({display:G.default.contains(["all","zoom"],this.settings.get("menu")),mode:this.mode,settings:this.settings,setMode:function(e){return t._setMode(e)},zoomContainer:this.zoom_container,map:this.map,buildInput:this.build_input}),this.callback_manager.set("set_mode",function(e){t.passPropsButtonPanel({mode:e})})},e.prototype._setUpModes=function(e,t,n){var r={};e.callback_manager.set("start_rotation",function(){r.brush=t.enabled,t.toggle(!1),r.zoom=n.zoom_on,n.toggle_pan_drag(!1),r.selectableMousedown=null!==e.behavior.selectableMousedown,e.behavior.toggleSelectableClick(!1),r.labelMouseover=null!==e.behavior.labelMouseover,r.labelTouch=null!==e.behavior.labelTouch,e.behavior.toggleLabelMouseover(!1),e.behavior.toggleLabelTouch(!1)}),e.callback_manager.set("end_rotation",function(){t.toggle(r.brush),n.toggle_pan_drag(r.zoom),e.behavior.toggleSelectableClick(r.selectableMousedown),e.behavior.toggleLabelMouseover(r.labelMouseover),e.behavior.toggleLabelTouch(r.labelTouch),r={}})},e.prototype._setMode=function(e){this.mode=e,this.build_input.toggle("build"===e),this.build_input.direction_arrow.toggle("build"===e),this.brush.toggle("brush"===e),this.zoom_container.toggle_pan_drag("zoom"===e||"view"===e),this.map.canvas.toggle_resize("view"!==e),"rotate"===e?(this.map.behavior.toggleSelectableDrag(!1),this.map.behavior.toggleRotationMode(!0)):(this.map.behavior.toggleRotationMode("rotate"===e),this.map.behavior.toggleSelectableDrag("brush"===e)),this.map.behavior.toggleSelectableClick("build"===e||"brush"===e),this.map.behavior.toggleLabelDrag("brush"===e),this.map.behavior.toggleTextLabelEdit("text"===e),this.map.behavior.toggleBezierDrag("brush"===e),"view"!==e&&"text"!==e||this.map.select_none(),"rotate"===e&&this.map.deselect_text_labels(),this.map.draw_everything(),this.callback_manager.run("set_mode",null,e)},e.prototype.view_mode=function(){this.callback_manager.run("view_mode"),this._setMode("view")},e.prototype.build_mode=function(){this.callback_manager.run("build_mode"),this._setMode("build")},e.prototype.brush_mode=function(){this.callback_manager.run("brush_mode"),this._setMode("brush")},e.prototype.zoom_mode=function(){this.callback_manager.run("zoom_mode"),this._setMode("zoom")},e.prototype.rotate_mode=function(){this.callback_manager.run("rotate_mode"),this._setMode("rotate")},e.prototype.text_mode=function(){this.callback_manager.run("text_mode"),this._setMode("text")},e.prototype._reactionCheckAddAbs=function(){var e=this,t=this.settings.get("reaction_styles");return null===this.settings.get("reaction_data")||this.has_custom_reaction_styles||G.default.contains(t,"abs")?null:(this.settings.set("reaction_styles",t.concat("abs")),function(){e.map.set_status("Visualizing absolute value of reaction data. Change this option in Settings.",5e3)})},e.prototype.set_reaction_data=function(e){this.settings.set("reaction_data",e);var t=this._reactionCheckAddAbs();this._updateData(!0,!0,["reaction"]),t?t():this.map.set_status("");var n=this.settings.get("disabled_buttons")||[],r=n.indexOf("Clear reaction data");null!==e&&-1!==r?this.settings.set("disabled_buttons",[].concat(n.slice(0,r),n.slice(r+1))):null===e&&-1===r&&this.settings.set("disabled_buttons",[].concat(n,["Clear reaction data"]))},e.prototype.set_gene_data=function(e,t){t&&this.settings.set("show_gene_reaction_rules",!1),this.settings.set("gene_data",e),this._updateData(!0,!0,["reaction"]),this.map.set_status("");var n=this.settings.get("disabled_buttons")||[],r=n.indexOf("Clear gene data");r>-1?(n.splice(r,1),this.settings.set("disabled_buttons",n)):-1===r&&null===e&&this.settings.set("disabled_buttons",[].concat(n,["Clear gene data"]))},e.prototype.set_metabolite_data=function(e){this.settings.set("metabolite_data",e),this._updateData(!0,!0,["metabolite"]),this.map.set_status("");var t=this.settings.get("disabled_buttons")||[],n=t.indexOf("Clear metabolite data");n>-1?(t.splice(n,1),this.settings.set("disabled_buttons",t)):-1===n&&null===e&&this.settings.set("disabled_buttons",[].concat(t,["Clear metabolite data"]))},e.prototype._makeGeneDataObject=function(e,t,n){var r={};return null!==t&&l.extend(r,t.reactions),null!==n&&l.extend(r,n.reactions,!0),E.default.import_and_check(e,"gene_data",r)},e.prototype._updateData=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["reaction","metabolite"],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=G.default.contains(r,"reaction"),a=G.default.contains(r,"metabolite"),l=void 0,s=void 0,c=void 0;a&&t&&null!==this.map&&(l=E.default.import_and_check(this.settings.get("metabolite_data"),"metabolite_data"),this.map.apply_metabolite_data_to_map(l),i&&this.map.draw_all_nodes(!1)),o&&(null!==this.settings.get("reaction_data")&&t&&null!==this.map?(s=E.default.import_and_check(this.settings.get("reaction_data"),"reaction_data"),this.map.apply_reaction_data_to_map(s),i&&this.map.draw_all_reactions(!1,!1)):null!==this.settings.get("gene_data")&&t&&null!==this.map?(c=this._makeGeneDataObject(this.settings.get("gene_data"),this.cobra_model,this.map),this.map.apply_gene_data_to_map(c),i&&this.map.draw_all_reactions(!1,!1)):t&&null!==this.map&&(this.map.apply_reaction_data_to_map(null),i&&this.map.draw_all_reactions(!1,!1))),this.update_model_timer&&clearTimeout(this.update_model_timer);this.update_model_timer=setTimeout(function(){a&&e&&null!==n.cobra_model&&(l||(l=E.default.import_and_check(n.settings.get("metabolite_data"),"metabolite_data")),n.cobra_model.apply_metabolite_data(l,n.settings.get("metabolite_styles"),n.settings.get("metabolite_compare_style"))),o&&(null!==n.settings.get("reaction_data")&&e&&null!==n.cobra_model?(s||(s=E.default.import_and_check(n.settings.get("reaction_data"),"reaction_data")),n.cobra_model.apply_reaction_data(s,n.settings.get("reaction_styles"),n.settings.get("reaction_compare_style"))):null!==n.settings.get("gene_data")&&e&&null!==n.cobra_model?(c||(c=n._makeGeneDataObject(n.settings.get("gene_data"),n.cobra_model,n.map)),n.cobra_model.apply_gene_data(c,n.settings.get("reaction_styles"),n.settings.get("identifiers_on_map"),n.settings.get("reaction_compare_style"),n.settings.get("and_method_in_gene_reaction_rule"))):e&&null!==n.cobra_model&&n.cobra_model.apply_reaction_data(null,n.settings.get("reaction_styles"),n.settings.get("reaction_compare_style"))),n.callback_manager.run("update_data",null,e,t,r,i)},5)},e.prototype._createStatus=function(e){this.status_bar=e.append("div").attr("id","status")},e.prototype._setup_status=function(e){var t=this;e.callback_manager.set("set_status",function(e){return t.status_bar.html(e)})},e.prototype._setup_quick_jump=function(e){var t=function(e,t,n){if(this.settings.get("enable_editing")&&!this.settings.get("never_ask_before_quit")&&!confirm("You will lose any unsaved changes.\n\nAre you sure you want to switch maps?"))return void(n&&n(!1));this.map.set_status("Loading map "+e+" ...");var r=l.name_to_url(e,t);(0,H.json)(r,function(e,t){if(e)return console.warn("Could not load data: "+e),this.map.set_status("Could not load map",2e3),void(n&&n(!1));n&&n(!0),this.load_map(t),this.map.set_status("")}.bind(this))}.bind(this);this.quick_jump=(0,C.default)(e,t)},e.prototype.getKeys=function(){var e=this,t=this.map,n=this.zoom_container,r={save:{key:"ctrl+s",target:t,fn:t.save},save_svg:{key:"ctrl+shift+s",target:t,fn:t.save_svg},save_png:{key:"ctrl+shift+p",target:t,fn:t.save_png},load:{key:"ctrl+o",fn:null},convert_map:{target:t,fn:t.convert_map},clear_map:{target:t,fn:t.clear_map},load_model:{key:"ctrl+m",fn:null},clear_model:{fn:this.load_model.bind(this,null,!0)},load_reaction_data:{fn:null},clear_reaction_data:{target:this,fn:function(){this.set_reaction_data(null)}},load_metabolite_data:{fn:null},clear_metabolite_data:{target:this,fn:function(){this.set_metabolite_data(null)}},load_gene_data:{fn:null},clear_gene_data:{target:this,fn:function(){this.set_gene_data(null,!0)}},zoom_in_ctrl:{key:"ctrl+=",target:n,fn:n.zoom_in},zoom_in:{key:"=",target:n,fn:n.zoom_in,ignore_with_input:!0},zoom_out_ctrl:{key:"ctrl+-",target:n,fn:n.zoom_out},zoom_out:{key:"-",target:n,fn:n.zoom_out,ignore_with_input:!0},extent_nodes_ctrl:{key:"ctrl+0",target:t,fn:t.zoom_extent_nodes},extent_nodes:{key:"0",target:t,fn:t.zoom_extent_nodes,ignore_with_input:!0},extent_canvas_ctrl:{key:"ctrl+1",target:t,fn:t.zoom_extent_canvas},extent_canvas:{key:"1",target:t,fn:t.zoom_extent_canvas,ignore_with_input:!0},view_mode:{target:this,fn:this.view_mode,ignore_with_input:!0},show_settings_ctrl:{key:"ctrl+,",fn:function(){return e.passPropsSettingsMenu({display:!0})}},show_settings:{key:",",fn:function(){return e.passPropsSettingsMenu({display:!0})},ignore_with_input:!0}};return this.settings.get("full_screen_button")&&l.extend(r,{full_screen_ctrl:{key:"ctrl+2",target:t,fn:t.full_screen},full_screen:{key:"2",target:t,fn:t.full_screen,ignore_with_input:!0}}),this.settings.get("enable_editing")&&l.extend(r,{build_mode:{key:"n",target:this,fn:this.build_mode,ignore_with_input:!0},zoom_mode:{key:"z",target:this,fn:this.zoom_mode,ignore_with_input:!0},brush_mode:{key:"v",target:this,fn:this.brush_mode,ignore_with_input:!0},rotate_mode:{key:"r",target:this,fn:this.rotate_mode,ignore_with_input:!0},text_mode:{key:"t",target:this,fn:this.text_mode,ignore_with_input:!0},toggle_beziers:{key:"b",target:t,fn:t.toggle_beziers,ignore_with_input:!0},delete_ctrl:{key:"ctrl+backspace",target:t,fn:t.delete_selected,ignore_with_input:!0},delete:{key:"backspace",target:t,fn:t.delete_selected,ignore_with_input:!0},delete_del:{key:"del",target:t,fn:t.delete_selected,ignore_with_input:!0},toggle_primary:{key:"p",target:t,fn:t.toggle_selected_node_primary,ignore_with_input:!0},cycle_primary:{key:"c",target:t,fn:t.cycle_primary_node,ignore_with_input:!0},direction_arrow_right:{key:"right",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.right,ignore_with_input:!0},direction_arrow_down:{key:"down",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.down,ignore_with_input:!0},direction_arrow_left:{key:"left",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.left,ignore_with_input:!0},direction_arrow_up:{key:"up",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.up,ignore_with_input:!0},undo:{key:"ctrl+z",target:t.undo_stack,fn:t.undo_stack.undo},redo:{key:"ctrl+shift+z",target:t.undo_stack,fn:t.undo_stack.redo},select_all:{key:"ctrl+a",target:t,fn:t.select_all,ignore_with_input:!0},select_none:{key:"ctrl+shift+a",target:t,fn:t.select_none,ignore_with_input:!0},invert_selection:{target:t,fn:t.invert_selection}}),this.settings.get("enable_search")&&l.extend(r,{search_ctrl:{key:"ctrl+f",fn:function(){return e.passPropsSearchBar({display:!0})}},search:{key:"f",fn:function(){return e.passPropsSearchBar({display:!0})},ignore_with_input:!0}}),r},e.prototype._setup_confirm_before_exit=function(){window.onbeforeunload=function(e){return e=e||window.event,this.settings.get("never_ask_before_quit")?null:"You will lose any unsaved changes."}.bind(this)},o(e,[{key:"options",get:function(){throw new Error("builder.options is deprecated. Use builder.settings.get() and builder.settings.set() instead.")},set:function(e){throw new Error("builder.options is deprecated. Use builder.settings.get() and builder.settings.set() instead.")}}]),e}();t.default=l.class_with_optional_new(q)},function(e,t){function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,l="",s=0,c=t?n(t):this.shift;for(s=0;s<i;s++)r[s].search(/<!/)>-1?(l+=c[a]+r[s],o=!0,(r[s].search(/-->/)>-1||r[s].search(/\]>/)>-1||r[s].search(/!DOCTYPE/)>-1)&&(o=!1)):r[s].search(/-->/)>-1||r[s].search(/\]>/)>-1?(l+=r[s],o=!1):/^<\w/.exec(r[s-1])&&/^<\/\w/.exec(r[s])&&/^<[\w:\-\.\,]+/.exec(r[s-1])==/^<\/[\w:\-\.\,]+/.exec(r[s])[0].replace("/","")?(l+=r[s],o||a--):r[s].search(/<\w/)>-1&&-1==r[s].search(/<\//)&&-1==r[s].search(/\/>/)?l=l+=o?r[s]:c[a++]+r[s]:r[s].search(/<\w/)>-1&&r[s].search(/<\//)>-1?l=l+=o?r[s]:c[a]+r[s]:r[s].search(/<\//)>-1?l=l+=o?r[s]:c[--a]+r[s]:r[s].search(/\/>/)>-1?l=l+=o?r[s]:c[a]+r[s]:r[s].search(/<\?/)>-1?l+=c[a]+r[s]:r[s].search(/xmlns\:/)>-1||r[s].search(/xmlns\=/)>-1?l+=c[a]+r[s]:l+=r[s];return"\n"==l[0]?l.slice(1):l},r.prototype.json=function(e,t){var t=t||this.step;return"undefined"===typeof JSON?e:"string"===typeof e?JSON.stringify(JSON.parse(e),null,t):"object"===typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",l=0,s=t?n(t):this.shift;for(l=0;l<i;l++)/\{/.exec(r[l])?a+=s[o++]+r[l]:/\}/.exec(r[l])?a+=s[--o]+r[l]:(/\*\\/.exec(r[l]),a+=s[o]+r[l]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,l=[],s=0,c=this.step,u=0,d="",f=0,_=t?n(t):this.shift;for(f=0;f<a;f++)l=f%2?l.concat(r[f]):l.concat(o(r[f],c));for(a=l.length,f=0;f<a;f++){u=i(l[f],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(l[f])&&(l[f]=l[f].replace(/\,/g,",\n"+c+c)),/\s{0,}\s{0,}SET\s{0,}/.exec(l[f])&&(l[f]=l[f].replace(/\,/g,",\n"+c+c)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(l[f])?(s++,d+=_[s]+l[f]):/\'/.exec(l[f])?(u<1&&s&&s--,d+=l[f]):(d+=_[s]+l[f],u<1&&s&&s--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"===typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){"use strict";var r=(n(120),n(121),n(33));n.d(t,"a",function(){return r.a});n(122),n(123),n(124)},function(e,t,n){"use strict";function r(e,t){return function(n){return e(n.responseText,t)}}var i=n(32);t.a=function(e,t){return function(n,o,a){arguments.length<3&&(a=o,o=null);var l=Object(i.a)(n).mimeType(e);return l.row=function(e){return arguments.length?l.response(r(t,o=e)):o},l.row(o),a?l.get(a):l}}},function(e,t,n){"use strict";var r=function(e){return function(){return this.matches(e)}};if("undefined"!==typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(e){return function(){return o.call(this,e)}}}}t.a=r},function(e,t,n){"use strict";function r(){return[]}t.a=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";function r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.a=r;var i=n(65),o=n(5);t.b=function(){return new o.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},function(e,t,n){"use strict";function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function a(e,t){return e.style.getPropertyValue(t)||Object(l.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.b=a;var l=n(42);t.a=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"===typeof t?o:i)(e,t,null==n?"":n)):a(this.node(),e)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function r(e,t){var n=e.document.documentElement,r=Object(i.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",o.a,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}t.b=r;var i=n(0),o=n(70);t.a=function(e){var t=e.document.documentElement,n=Object(i.select)(e).on("dragstart.drag",o.a,!0);"onselectstart"in t?n.on("selectstart.drag",o.a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(0);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";var r=n(28),i=n(175),o=n(176),a=n(72),l=n(73),s=n(74),c=n(179),u=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){function t(e){function t(e){var t,o,a,l=y,f=v;if("c"===A)f=x(e)+f,e="";else{e=+e;var b=e<0;if(e=x(Math.abs(e),g),b&&0===+e&&(b=!1),l=(b?"("===i?i:"-":"-"===i||"("===i?"":i)+l,f=f+("s"===A?u[8+s.b/3]:"")+(b&&"("===i?")":""),w)for(t=-1,o=e.length;++t<o;)if(48>(a=e.charCodeAt(t))||a>57){f=(46===a?_+e.slice(t+1):e.slice(t))+f,e=e.slice(0,t);break}}m&&!c&&(e=d(e,1/0));var k=l.length+e.length+f.length,C=k<h?new Array(h-k+1).join(n):"";switch(m&&c&&(e=d(C+e,C.length?h-f.length:1/0),C=""),r){case"<":e=l+e+f+C;break;case"=":e=l+C+e+f;break;case"^":e=C.slice(0,k=C.length>>1)+l+e+f+C.slice(k);break;default:e=C+l+e+f}return p(e)}e=Object(a.a)(e);var n=e.fill,r=e.align,i=e.sign,o=e.symbol,c=e.zero,h=e.width,m=e.comma,g=e.precision,A=e.type,y="$"===o?f[0]:"#"===o&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",v="$"===o?f[1]:/[%p]/.test(A)?b:"",x=l.a[A],w=!A||/[defgprs%]/.test(A);return g=null==g?A?6:12:/[gprs]/.test(A)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),t.toString=function(){return e+""},t}function n(e,n){var i=t((e=Object(a.a)(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(n)/3))),l=Math.pow(10,-o),s=u[8+o/3];return function(e){return i(l*e)+s}}var d=e.grouping&&e.thousands?Object(i.a)(e.grouping,e.thousands):c.a,f=e.currency,_=e.decimal,p=e.numerals?Object(o.a)(e.numerals):c.a,b=e.percent||"%";return{format:t,formatPrefix:n}}},function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",l=t[4]||"",s=!!t[5],c=t[6]&&+t[6],u=!!t[7],d=t[8]&&+t[8].slice(1),f=t[9]||"";"n"===f?(u=!0,f="g"):o.a[f]||(f=""),(s||"0"===n&&"="===r)&&(s=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=l,this.zero=s,this.width=c,this.comma=u,this.precision=d,this.type=f}t.a=r;var o=n(73),a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(e,t,n){"use strict";var r=n(177),i=n(74),o=n(178);t.a={"":r.a,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Object(o.a)(100*e,t)},r:o.a,s:i.a,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r,i=n(45);t.a=function(e,t){var n=Object(i.a)(e,t);if(!n)return e+"";var o=n[0],a=n[1],l=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=o.length;return l===s?o:l>s?o+new Array(l-s+1).join("0"):l>0?o.slice(0,l)+"."+o.slice(l):"0."+new Array(1-l).join("0")+Object(i.a)(e,Math.max(0,t+l-1))[0]}},function(e,t,n){"use strict";function r(e,t,n,r){e.classed("escher-container",!0),navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Mozilla")&&e.on("touchstart touchmove",function(){k.event.stopPropagation()}),r&&(w("html").classed("fill-screen",!0),w("body").classed("fill-screen",!0),e.classed("fill-screen-div",!0));var i=e.append("div").attr("class","escher-zoom-container"),o=i.append("div").attr("class","escher-3d-transform-container"),a=o.append("svg").attr("class","escher-svg").attr("xmlns","http://www.w3.org/2000/svg");a.select(".zoom-g").remove();var l=a.append("g").attr("class","zoom-g");this.selection=e,this.zoom_container=i,this.css3_transform_container=o,this.svg=a,this.zoomed_sel=l,this.window_translate={x:0,y:0},this.window_scale=1,this._scroll_behavior=t,this._use_3d_transform=n,this._pan_drag_on=!0,this._zoom_behavior=null,this._zoom_timeout=null,this._svg_scale=this.window_scale,this._svg_translate=this.window_translate,this.callback_manager=new A,this._update_scroll()}function i(e){this._scroll_behavior=e,this._update_scroll()}function o(e){this._use_3d_transform=e}function a(e){y.isUndefined(e)?this._pan_drag_on=!this._pan_drag_on:this._pan_drag_on=e,this._pan_drag_on?this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1):this.zoomed_sel.style("cursor",null).classed("cursor-grab",!1).classed("cursor-grabbing",!1),this._update_scroll()}function l(){if(!y.contains(["zoom","pan","none"],this._scroll_behavior))throw Error("Bad value for scroll_behavior: "+this._scroll_behavior);if(this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null).on("dblclick.zoom",null).on("mousewheel.escher",null).on("DOMMouseScroll.escher",null).on("wheel.escher",null).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._zoom_behavior=v().on("start",function(){k.event.sourceEvent&&"mousedown"===k.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!1).classed("cursor-grabbing",!0),null!==k.event.sourceEvent&&(k.event.sourceEvent.stopPropagation(),k.event.sourceEvent.preventDefault())}.bind(this)).on("zoom",function(){this._go_to_callback(k.event.transform.k,{x:k.event.transform.x,y:k.event.transform.y})}.bind(this)).on("end",function(){k.event.sourceEvent&&"mouseup"===k.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1)}.bind(this)),this.zoom_container.call(this._zoom_behavior),this.zoom_container.on("dblclick.zoom",null),this._pan_drag_on||this.zoom_container.on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),"zoom"!==this._scroll_behavior&&this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null),"pan"===this._scroll_behavior){var e=function(){var e=k.event;e.stopPropagation(),e.preventDefault(),e.returnValue=!1;var t=function(e,t){return.5*(y.isUndefined(e)?t:-e/1.5)},n={x:this.window_translate.x-t(e.wheelDeltaX,e.deltaX),y:this.window_translate.y-t(e.wheelDeltaY,e.deltaY)};this.go_to(this.window_scale,n)}.bind(this);this.zoom_container.on("mousewheel.escher",e),this.zoom_container.on("DOMMouseScroll.escher",e),this.zoom_container.on("wheel.escher",e)}this.go_to(this.window_scale,this.window_translate)}function s(e,t){if(g.check_undefined(arguments,["scale","translate"]),!e)throw new Error("Bad scale value");if(!t||!("x"in t)||!("y"in t)||y.isNaN(t.x)||y.isNaN(t.y))throw new Error("Bad translate value");var n=x.translate(t.x,t.y).scale(e);this.zoom_container.call(this._zoom_behavior.transform,n)}function c(e,t){this.window_scale!==e&&(this.window_scale=e,this.callback_manager.run("zoom_change")),this.window_translate=t,this._use_3d_transform?(y.isNull(this._zoom_timeout)||clearTimeout(this._zoom_timeout),this._go_to_3d(e,t,this._svg_scale,this._svg_translate),this._zoom_timeout=y.delay(function(){this._go_to_svg(e,t)}.bind(this),100)):this._go_to_svg(e,t),this.callback_manager.run("go_to")}function u(e,t,n,r){var i=e/n,o=g.c_minus_c(t,g.c_times_scalar(r,i)),a="translate("+o.x+"px,"+o.y+"px) scale("+i+")";this.css3_transform_container.style("transform",a),this.css3_transform_container.style("-webkit-transform",a),this.css3_transform_container.style("transform-origin","0 0"),this.css3_transform_container.style("-webkit-transform-origin","0 0")}function d(){this.css3_transform_container.style("transform",null),this.css3_transform_container.style("-webkit-transform",null),this.css3_transform_container.style("transform-origin",null),this.css3_transform_container.style("-webkit-transform-origin",null)}function f(e,t,n){this.callback_manager.run("svg_start"),y.defer(function(){this._clear_3d(),this.zoomed_sel.attr("transform","translate("+t.x+","+t.y+") scale("+e+")"),this._svg_scale=e,this._svg_translate=t,y.defer(function(){this.callback_manager.run("svg_finish"),y.isUndefined(n)||n()}.bind(this))}.bind(this))}function _(e){var t=this.get_size(),n={x:t.width/2-((t.width/2-this.window_translate.x)*e+this.window_translate.x),y:t.height/2-((t.height/2-this.window_translate.y)*e+this.window_translate.y)};this.go_to(this.window_scale*e,g.c_plus_c(this.window_translate,n))}function p(){this.zoom_by(1.5)}function b(){this.zoom_by(.667)}function h(){var e=this.selection.node().getBoundingClientRect();return{width:e.width,height:e.height}}function m(e){var t=this.get_size(),n={x:{min:-this.window_translate.x/this.window_scale+120/this.window_scale,max:-this.window_translate.x/this.window_scale+(t.width-120)/this.window_scale},y:{min:-this.window_translate.y/this.window_scale+120/this.window_scale,max:-this.window_translate.y/this.window_scale+(t.height-120)/this.window_scale}};e.x<n.x.min?(this.window_translate.x=this.window_translate.x-(e.x-n.x.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):e.x>n.x.max&&(this.window_translate.x=this.window_translate.x-(e.x-n.x.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate)),e.y<n.y.min?(this.window_translate.y=this.window_translate.y-(e.y-n.y.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):e.y>n.y.max&&(this.window_translate.y=this.window_translate.y-(e.y-n.y.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate))}var g=n(1),A=n(17),y=n(2),v=n(46).zoom,x=(n(46).zoomTransform,n(46).zoomIdentity),w=n(0).select,k=n(0),C=g.make_class();C.prototype={init:r,set_scroll_behavior:i,set_use_3d_transform:o,_update_scroll:l,toggle_pan_drag:a,go_to:s,_go_to_callback:c,_go_to_3d:u,_clear_3d:d,_go_to_svg:f,zoom_by:_,zoom_in:p,zoom_out:b,get_size:h,translate_off_screen:m},e.exports=C},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(e,t,n){"use strict";function r(e){return function(t){var n,r,o=t.length,a=new Array(o),l=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(t[n]),a[n]=r.r||0,l[n]=r.g||0,s[n]=r.b||0;return a=e(a),l=e(l),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=l(e),r.b=s(e),r+""}}}var i=n(8),o=n(50),a=n(78),l=n(21);t.a=function e(t){function n(e,t){var n=r((e=Object(i.f)(e)).r,(t=Object(i.f)(t)).r),o=r(e.g,t.g),a=r(e.b,t.b),s=Object(l.a)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=a(t),e.opacity=s(t),e+""}}var r=Object(l.b)(t);return n.gamma=e,n}(1);r(o.b),r(a.a)},function(e,t,n){"use strict";var r=n(50);t.a=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),o=e[(i+t-1)%t],a=e[i%t],l=e[(i+1)%t],s=e[(i+2)%t];return Object(r.a)((n-i/t)*t,o,a,l,s)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(47);t.a=function(e,t){var n,i=t?t.length:0,o=e?Math.min(i,e.length):0,a=new Array(o),l=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(e[n],t[n]);for(;n<i;++n)l[n]=t[n];return function(e){for(n=0;n<o;++n)l[n]=a[n](e);return l}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}},function(e,t,n){"use strict";var r=n(47);t.a=function(e,t){var n,i={},o={};null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={});for(n in t)n in e?i[n]=Object(r.a)(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}}},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}var o=n(29),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l=new RegExp(a.source,"g");t.a=function(e,t){var n,s,c,u=a.lastIndex=l.lastIndex=0,d=-1,f=[],_=[];for(e+="",t+="";(n=a.exec(e))&&(s=l.exec(t));)(c=s.index)>u&&(c=t.slice(u,c),f[d]?f[d]+=c:f[++d]=c),(n=n[0])===(s=s[0])?f[d]?f[d]+=s:f[++d]=s:(f[++d]=null,_.push({i:d,x:Object(o.a)(n,s)})),u=l.lastIndex;return u<t.length&&(c=t.slice(u),f[d]?f[d]+=c:f[++d]=c),f.length<2?_[0]?i(_[0].x):r(t):(t=_.length,function(e){for(var n,r=0;r<t;++r)f[(n=_[r]).i]=n.x(e);return f.join("")})}},function(e,t,n){"use strict";var r=(n(196),n(13),n(228),n(85));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(6);t.a=function(e,t){var n,i,o,a=e.__transition,l=!0;if(a){t=null==t?null:t+"";for(o in a)(n=a[o]).name===t?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete a[o]):l=!1;l&&delete e.__transition}}},function(e,t,n){"use strict";var r=n(51);n.d(t,"a",function(){return r.b}),n.d(t,"c",function(){return r.c});var i=n(198);n.d(t,"b",function(){return i.a});n(199)},function(e,t,n){"use strict";var r=n(8),i=n(7);t.a=function(e,t){var n;return("number"===typeof t?i.c:t instanceof r.a?i.d:(n=Object(r.a)(t))?(t=n,i.d):i.f)(e,t)}},function(e,t,n){"use strict";function r(e,t,n){this.k=e,this.x=t,this.y=n}function i(e){return e.__zoom||o}t.a=r,n.d(t,"c",function(){return o}),t.b=i,r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);i.prototype=r.prototype},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,l,s,c,u){if(null===a){var d=r.get_size();a={x:-d.width,y:-d.height,width:3*d.width,height:3*d.height}}s=Ue.isUndefined(s)||null===s||""===s?"new_map":String(s),c=Ue.isUndefined(c)||null===c||""===c?Oe.generate_map_id():String(c),u=Ue.isUndefined(u)||null===u?"":String(u),this.callback_manager=new Te,this.svg=e,this.defs=Oe.setup_defs(e,t),this.canvas=new Pe(n,a),this.setup_containers(n),this.sel=n,this.zoom_container=r,this.settings=i,this.cobra_model=o,this.largest_ids={reactions:-1,nodes:-1,segments:-1,text_labels:-1},this.undo_stack=new Le,this.behavior=new De(this,this.undo_stack),this.draw=new Ie(this.behavior,this.settings,this),this.key_manager=new ze,this.key_manager.ctrl_equals_cmd=!0,this.enable_search=l,this.search_index=new Qe,this.map_name=s,this.map_id=c,this.map_description=u;this.beziers_enabled=!1,this.has_data_on_reactions=!1,this.has_data_on_nodes=!1,this.imported_reaction_data=null,this.imported_metabolite_data=null,this.imported_gene_data=null,this.nodes={},this.reactions={},this.beziers={},this.text_labels={},this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.scale=new Ne,this.scale.connectToSettings(this.settings,this,j.bind(this)),this.rotation_on=!1,this.listen_for_full_screen(function(){setTimeout(function(){this.zoom_extent_canvas()}.bind(this),50)}.bind(this))}function i(e,t,n,r,i,o,a,l){function s(e,t){return Ue.isUndefined(t)&&(t=0),Ue.isUndefined(e)?t:Math.max.apply(null,Object.keys(e).map(function(e){return parseInt(e)}).concat([t]))}var c=e[1].canvas,u=e[0].map_name,d=e[0].map_id,f=e[0].map_description.replace(/(\nLast Modified.*)+$/g,"")+"\nLast Modified "+Date(Date.now()).toString(),_=new Ge(t,n,r,i,o,a,c,l,u,d,f);_.reactions=e[1].reactions,_.nodes=e[1].nodes,_.text_labels=e[1].text_labels;for(var p in _.nodes){var b=_.nodes[p];if(b.connected_segments=[],l){if("metabolite"!==b.node_type)continue;_.search_index.insert("n"+p,{name:b.bigg_id,data:{type:"metabolite",node_id:p}}),_.search_index.insert("n_name"+p,{name:b.name,data:{type:"metabolite",node_id:p}})}}for(var h in _.reactions){var m=_.reactions[h];if(l){_.search_index.insert("r"+h,{name:m.bigg_id,data:{type:"reaction",reaction_id:h}}),_.search_index.insert("r_name"+h,{name:m.name,data:{type:"reaction",reaction_id:h}});for(var g in m.genes){var A=m.genes[g];_.search_index.insert("r"+h+"_g"+g,{name:A.bigg_id,data:{type:"reaction",reaction_id:h}}),_.search_index.insert("r"+h+"_g_name"+g,{name:A.name,data:{type:"reaction",reaction_id:h}})}}var y=[];for(var v in m.segments){var x=m.segments[v];if(x.reversibility=m.reversibility,x.from_node_id in _.nodes&&x.to_node_id in _.nodes){var w=_.nodes[x.from_node_id],k=_.nodes[x.to_node_id];m.metabolites.forEach(function(e){e.bigg_id==w.bigg_id?x.from_node_coefficient=e.coefficient:e.bigg_id==k.bigg_id&&(x.to_node_coefficient=e.coefficient)}),[w,k].forEach(function(e){e.connected_segments.push({segment_id:v,reaction_id:h})});var C=_.nodes[x.from_node_id],B=_.nodes[x.to_node_id];if("metabolite"==C.node_type||"metabolite"==B.node_type){var E=Oe.c_plus_c(C,Oe.c_times_scalar(Oe.c_minus_c(B,C),.5));null===x.b1&&(x.b1=E),null===x.b2&&(x.b2=E)}}else console.warn("Bad node references in segment "+v+". Deleting segment."),y.push(v)}y.forEach(function(e){delete m.segments[e]})}if(l)for(var M in _.text_labels){var j=_.text_labels[M];_.search_index.insert("l"+M,{name:j.text,data:{type:"text_label",text_label_id:M}})}_.beziers=Se.new_beziers_for_reactions(_.reactions),_.largest_ids.reactions=s(_.reactions),_.largest_ids.nodes=s(_.nodes),_.largest_ids.text_labels=s(_.text_labels);var O=0;for(var I in _.reactions)O=s(_.reactions[I].segments,O);return _.largest_ids.segments=O,_.apply_reaction_data_to_map(null),_.apply_metabolite_data_to_map(null),_.apply_gene_data_to_map(null),_}function o(e){e.append("g").attr("id","reactions"),e.append("g").attr("id","nodes"),e.append("g").attr("id","beziers"),e.append("g").attr("id","text-labels")}function a(){this.sel.select("#reactions").selectAll(".reaction").remove(),this.sel.select("#nodes").selectAll(".node").remove(),this.sel.select("#beziers").selectAll(".bezier").remove(),this.sel.select("#text-labels").selectAll(".text-label").remove()}function l(e,t){this.callback_manager.run("set_status",null,e),clearTimeout(this._status_timer),this._status_timer=null,void 0!==t&&(this._status_timer=setTimeout(function(){this.callback_manager.run("set_status",null,"")}.bind(this),t))}function s(){this.reactions={},this.beziers={},this.nodes={},this.text_labels={},this.map_name="new_map",this.map_id=Oe.generate_map_id(),this.map_description="",this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.draw_everything()}function c(){return null!==this.cobra_model}function u(){this.draw_all_reactions(!0,!0),this.draw_all_nodes(!0),this.draw_all_text_labels()}function d(e,t){Ue.isUndefined(e)&&(e=!0),Ue.isUndefined(t)&&(t=!0);var n=[];for(var r in this.reactions)n.push(r);this.draw_these_reactions(n,!1),e&&this.beziers_enabled&&this.draw_all_beziers(),t&&this.clear_deleted_reactions(e)}function f(e,t){Ue.isUndefined(t)&&(t=!0);var n=Oe.object_slice_for_ids_ref(this.reactions,e),r=function(e){return this.draw.update_reaction(e,this.scale,this.cobra_model,this.nodes,this.defs,this.has_data_on_reactions)}.bind(this);if(Oe.draw_an_object(this.sel,"#reactions",".reaction",n,"reaction_id",this.draw.create_reaction.bind(this.draw),r),t){var i=Se.bezier_ids_for_reaction_ids(n);this.draw_these_beziers(i)}}function _(e){Ue.isUndefined(e)&&(e=!0),Oe.draw_an_object(this.sel,"#reactions",".reaction",this.reactions,"reaction_id",null,function(e){Oe.draw_a_nested_object(e,".segment-group","segments","segment_id",null,null,function(e){e.remove()})},function(e){e.remove()}),!0===e&&this.clear_deleted_beziers()}function p(e){void 0===e&&(e=!0);var t=[];for(var n in this.nodes)t.push(n);this.draw_these_nodes(t),e&&this.clear_deleted_nodes()}function b(e){var t=Oe.object_slice_for_ids_ref(this.nodes,e),n=function(e){return this.draw.create_node(e,this.nodes,this.reactions)}.bind(this),r=function(e){return this.draw.update_node(e,this.scale,this.has_data_on_nodes,this.behavior.selectableMousedown,this.behavior.selectableClick,this.behavior.nodeMouseover,this.behavior.nodeMouseout,this.behavior.selectableDrag,this.behavior.nodeLabelDrag)}.bind(this);Oe.draw_an_object(this.sel,"#nodes",".node",t,"node_id",n,r)}function h(){Oe.draw_an_object(this.sel,"#nodes",".node",this.nodes,"node_id",null,null,function(e){e.remove()})}function m(){this.draw_these_text_labels(Object.keys(this.text_labels)),this.clear_deleted_text_labels()}function g(e){var t=Oe.object_slice_for_ids_ref(this.text_labels,e);Oe.draw_an_object(this.sel,"#text-labels",".text-label",t,"text_label_id",this.draw.create_text_label.bind(this.draw),this.draw.update_text_label.bind(this.draw))}function A(){Oe.draw_an_object(this.sel,"#text-labels",".text-label",this.text_labels,"text_label_id",null,null,function(e){e.remove()})}function y(){var e=[];for(var t in this.beziers)e.push(t);this.draw_these_beziers(e),this.clear_deleted_beziers()}function v(e){var t=Oe.object_slice_for_ids_ref(this.beziers,e),n=function(e){return this.draw.update_bezier(e,this.beziers_enabled,this.behavior.bezierDrag,this.behavior.bezierMouseover,this.behavior.bezierMouseout,this.nodes,this.reactions)}.bind(this);Oe.draw_an_object(this.sel,"#beziers",".bezier",t,"bezier_id",this.draw.create_bezier.bind(this.draw),n)}function x(){Oe.draw_an_object(this.sel,"#beziers",".bezier",this.beziers,"bezier_id",null,null,function(e){e.remove()})}function w(){this.toggle_beziers(!0)}function k(){this.toggle_beziers(!1)}function C(e){Ue.isUndefined(e)?this.beziers_enabled=!this.beziers_enabled:this.beziers_enabled=e,this.draw_all_beziers(),this.callback_manager.run("toggle_beziers",null,this.beziers_enabled)}function B(e,t){var n=this.settings.get("reaction_styles"),r=this.settings.get("reaction_compare_style"),i=Fe.apply_reaction_data_to_reactions(this.reactions,e,n,r,t);return this.has_data_on_reactions=i,this.imported_reaction_data=i?e:null,this.calc_data_stats("reaction")}function E(e,t){var n=this.settings.get("metabolite_styles"),r=this.settings.get("metabolite_compare_style"),i=Fe.apply_metabolite_data_to_nodes(this.nodes,e,n,r,t);return this.has_data_on_nodes=i,this.imported_metabolite_data=i?e:null,this.calc_data_stats("metabolite")}function M(e,t){var n=this.settings.get("reaction_styles"),r=this.settings.get("reaction_compare_style"),i=this.settings.get("identifiers_on_map"),o=this.settings.get("and_method_in_gene_reaction_rule"),a=Fe.apply_gene_data_to_reactions(this.reactions,e,n,i,r,o,t);return this.has_data_on_reactions=a,this.imported_gene_data=a?e:null,this.calc_data_stats("reaction")}function j(){return this.data_statistics}function O(e){return function(t){return e.apply(null,t)}}function I(e){if(-1===["reaction","metabolite"].indexOf(e))throw new Error("Bad type "+e);"data_statistics"in this?e in this.data_statistics||(this.data_statistics[e]=null):(this.data_statistics={},this.data_statistics[e]=null);var t=[];if("metabolite"===e)for(var n in this.nodes){var r=this.nodes[n];Ue.isUndefined(r.data)?console.error("metabolite missing "):null!==r.data&&t.push(r.data)}else if("reaction"==e)for(var i in this.reactions){var o=this.reactions[i];Ue.isUndefined(o.data)?console.error("reaction data missing "):null!==o.data&&t.push(o.data)}if(0===t.length){var a=null===this.data_statistics[e];return this.data_statistics[e]=null,"reaction"===e?this.callback_manager.run("calc_data_stats__reaction",null,!a):this.callback_manager.run("calc_data_stats__metabolite",null,!a),!a}null===this.data_statistics[e]&&(this.data_statistics[e]={});var l=!0,s=Oe.quartiles(t);if([["min",O(Math.min)],["max",O(Math.max)],["mean",Oe.mean],["Q1",function(){return s[0]}],["median",function(){return s[1]}],["Q3",function(){return s[2]}]].forEach(function(n){var r,i=n[0];r=0===t.length?null:(0,n[1])(t),r!=this.data_statistics[e][i]&&(l=!1),this.data_statistics[e][i]=r}.bind(this)),this.data_statistics[e].min===this.data_statistics[e].max&&null!==this.data_statistics[e].min){var c=this.data_statistics[e].min,u=this.data_statistics[e].max;this.data_statistics[e].min=c-1-.1*Math.abs(c),this.data_statistics[e].max=u+1+.1*Math.abs(u)}return"reaction"===e?this.callback_manager.run("calc_data_stats__reaction",null,!l):this.callback_manager.run("calc_data_stats__metabolite",null,!l),!l}function D(){var e=[];return this.sel.select("#nodes").selectAll(".selected").each(function(t){e.push(t.node_id)}),e}function N(){var e={};return this.sel.select("#nodes").selectAll(".selected").each(function(t){e[t.node_id]=this.nodes[t.node_id]}.bind(this)),e}function S(){var e=[];return this.sel.select("#text-labels").selectAll(".selected").each(function(t){e.push(t.text_label_id)}),e}function L(){var e={};return this.sel.select("#text-labels").selectAll(".selected").each(function(t){e[t.text_label_id]=this.text_labels[t.text_label_id]}.bind(this)),e}function T(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",!0)}function z(){this.sel.selectAll(".selected").classed("selected",!1)}function P(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",function(){return!Re(this).classed("selected")})}function F(e){this.deselect_text_labels();var t,n,r=this.sel.select("#nodes").selectAll(".node");r.classed("selected",function(r){var i=String(r.node_id)==String(e);return i&&(n=r,t={x:r.x,y:r.y}),i}),this.sel.selectAll(".start-reaction-target").style("visibility","hidden"),this.callback_manager.run("select_metabolite_with_id",null,n,t)}function Q(e,t,n){n=!Ue.isUndefined(n)&&n;var r,i=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");r=-1==Re(e).attr("class").indexOf("text-label")?e.parentNode:e,n?Re(r).classed("selected",!Re(r).classed("selected")):(i.classed("selected",!1),Re(r).classed("selected",!0));var o,a,l=this.sel.select("#nodes").selectAll(".selected"),s=0;l.each(function(e){a=e,o={x:e.x,y:e.y},s++}),this.callback_manager.run("select_selectable",null,s,a,o)}function U(){var e=null;return this.sel.select("#nodes").selectAll(".selected").classed("selected",function(t,n){return 0===n&&(e=t,!0)}),e}function R(){this.sel.select("#nodes").selectAll(".node").classed("selected",!1),this.callback_manager.run("deselect_nodes")}function G(e,t){this.deselect_nodes(),this.sel.select("#text-labels").selectAll(".text-label").classed("selected",function(e){return t===e});var n,r=this.sel.select("#text-labels").selectAll(".selected");r.each(function(e){n={x:e.x,y:e.y}}),this.callback_manager.run("select_text_label")}function Y(){this.sel.select("#text-labels").selectAll(".text-label").classed("selected",!1)}function H(){var e=this.getSelectedNodes(),t=this.get_selected_text_labels();(Object.keys(e).length>=1||Object.keys(t).length>=1)&&this.delete_selectable(e,t,!0)}function W(e,t,n){var r=this.segments_and_reactions_for_nodes(e),i=r.segment_objs_w_segments,o=r.reactions,a=Oe.clone(e),l=Oe.clone(i),s=Oe.clone(o),c=Oe.clone(t),u=function(t,r,i,o){this.delete_node_data(Object.keys(e)),this.delete_segment_data(i),this.delete_reaction_data(Object.keys(r)),this.delete_text_label_data(Object.keys(o));var a=!1,l=!1;this.has_data_on_reactions&&(a=this.calc_data_stats("reaction")),this.has_data_on_nodes&&(l=this.calc_data_stats("metabolite")),n&&(a?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(),l?this.draw_all_nodes(!0):this.clear_deleted_nodes(),this.clear_deleted_text_labels())}.bind(this);u(e,o,i,t),this.undo_stack.push(function(){this.extend_nodes(a),this.extend_reactions(s);var r=Object.keys(s);for(var u in l){var d=l[u],f=d.segment;this.reactions[d.reaction_id].segments[d.segment_id]=f;[f.from_node_id,f.to_node_id].forEach(function(e){if(!(e in a)){this.nodes[e].connected_segments.push({reaction_id:d.reaction_id,segment_id:d.segment_id})}}.bind(this));var _=d.segment_id,p=d.reaction_id,b={};b[_]=d.segment,Oe.extend(this.beziers,Se.new_beziers_for_segments(b,p)),-1===r.indexOf(d.reaction_id)&&r.push(d.reaction_id)}if(this.has_data_on_reactions){var h=this.calc_data_stats("reaction");h?this.draw_all_reactions(!0,!1):this.draw_these_reactions(r)}else n&&this.draw_these_reactions(r);if(this.has_data_on_nodes){var h=this.calc_data_stats("metabolite");n&&(h?this.draw_all_nodes(!1):this.draw_these_nodes(Object.keys(a)))}else n&&this.draw_these_nodes(Object.keys(a));Oe.extend(this.text_labels,c),n&&this.draw_these_text_labels(Object.keys(c)),t=Oe.clone(c),e=Oe.clone(a),i=Oe.clone(l),o=Oe.clone(s)}.bind(this),function(){u(e,o,i,t)}.bind(this))}function V(e){e.forEach(function(e){if(this.enable_search&&"metabolite"==this.nodes[e].node_type){this.search_index.remove("n"+e)&&this.search_index.remove("n_name"+e)||console.warn("Could not find deleted metabolite in search index")}delete this.nodes[e]}.bind(this))}function q(e){for(var t in e){var n=e[t],r=this.reactions[n.reaction_id];if(!(n.segment_id in r.segments))return;var i=r.segments[n.segment_id];[i.from_node_id,i.to_node_id].forEach(function(e){if(e in this.nodes){var t=this.nodes[e];t.connected_segments=t.connected_segments.filter(function(e){return e.segment_id!=n.segment_id})}}.bind(this)),["b1","b2"].forEach(function(e){var t=Se.bezier_id_for_segment_id(n.segment_id,e);delete this.beziers[t]}.bind(this)),delete r.segments[n.segment_id]}}function K(e){e.forEach(function(e){var t=this.reactions[e];for(var n in t.segments)["b1","b2"].forEach(function(e){var t=Se.bezier_id_for_segment_id(n,e);delete this.beziers[t]}.bind(this));delete this.reactions[e];var r=this.search_index.remove("r"+e)&&this.search_index.remove("r_name"+e);r||console.warn("Could not find deleted reaction "+e+" in search index");for(var i in t.genes){var r=this.search_index.remove("r"+e+"_g"+i)&&this.search_index.remove("r"+e+"_g_name"+i);r||console.warn("Could not find deleted gene "+i+" in search index")}}.bind(this))}function Z(e){e.forEach(function(e){delete this.text_labels[e],this.search_index.remove("l"+e)||console.warn("Could not find deleted text label in search index")}.bind(this))}function X(e,t){this.extend_nodes(e);var n=[t];if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");this.apply_metabolite_data_to_map(this.imported_metabolite_data,n)?this.draw_all_nodes(!1):this.draw_these_nodes(n)}else this.draw_these_nodes(n)}function J(e,t,n){if(!this.cobra_model)return void console.error("No CobraModel. Cannot build new reaction");var r=Oe.clone(this.cobra_model.reactions[e]);if(0===Ue.size(r.metabolites))throw Error("No metabolites in reaction "+r.bigg_id);var i=Ue.map(r.metabolites,function(e,t){return[e,t]}).filter(function(e){return e[0]<0}).map(function(e){return e[1]}),o=i.length>0?i[0]:Object.keys(r.metabolites)[0],a=this.cobra_model.metabolites[o],l=String(++this.largest_ids.nodes),s=Se.get_met_label_loc(Math.PI/180*n,0,1,!0,o),c={connected_segments:[],x:t.x,y:t.y,node_is_primary:!0,label_x:t.x+s.x,label_y:t.y+s.y,name:a.name,bigg_id:o,node_type:"metabolite"},u={};u[l]=c,X.apply(this,[u,l]);var d=Oe.clone(u),f=this.new_reaction_for_metabolite(e,l,n,!1),_=f.redo,p=f.undo;this.undo_stack.push(function(){p(),this.delete_node_data(Object.keys(u)),u=Oe.clone(d),this.clear_deleted_nodes(),this.deselect_nodes()}.bind(this),function(){X.apply(this,[u,l]),_()}.bind(this))}function $(e){if(this.enable_search)for(var t in e){var n=e[t];"metabolite"==n.node_type&&(this.search_index.insert("n"+t,{name:n.bigg_id,data:{type:"metabolite",node_id:t}}),this.search_index.insert("n_name"+t,{name:n.name,data:{type:"metabolite",node_id:t}}))}Oe.extend(this.nodes,e)}function ee(e){if(this.enable_search)for(var t in e){var n=e[t];this.search_index.insert("r"+t,{name:n.bigg_id,data:{type:"reaction",reaction_id:t}}),this.search_index.insert("r_name"+t,{name:n.name,data:{type:"reaction",reaction_id:t}});for(var r in n.genes){var i=n.genes[r];this.search_index.insert("r"+t+"_g"+r,{name:i.bigg_id,data:{type:"reaction",reaction_id:t}}),this.search_index.insert("r"+t+"_g_name"+r,{name:i.name,data:{type:"reaction",reaction_id:t}})}}Oe.extend(this.reactions,e)}function te(e,t,n,r){this.extend_reactions(t),Oe.extend(this.beziers,n),this.delete_node_data([r]),this.extend_nodes(e);var i=Object.keys(t);if(this.has_data_on_reactions){var o=!1;if(this.imported_reaction_data)o=this.apply_reaction_data_to_map(this.imported_reaction_data,i);else{if(!this.imported_gene_data)throw new Error("imported_gene_data or imported_reaction_data should not be null");o=this.apply_gene_data_to_map(this.imported_gene_data,i)}o?this.draw_all_reactions(!0,!1):this.draw_these_reactions(i)}else this.draw_these_reactions(i);var a=Object.keys(e);if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");var o=this.apply_metabolite_data_to_map(this.imported_metabolite_data,a);o?this.draw_all_nodes(!1):this.draw_these_nodes(a)}else this.draw_these_nodes(a);for(var l in e){var s=e[l];if(s.node_is_primary&&l!=r){this.select_metabolite_with_id(l);var c={x:s.x,y:s.y};this.zoom_container&&this.zoom_container.translate_off_screen(c)}}}function ne(e,t,n,r){void 0===r&&(r=!0);var i=this.nodes[t],o=this.cobra_model.reactions[e],a=Se.new_reaction(e,o,this.cobra_model.metabolites,t,Oe.clone(i),this.largest_ids,this.settings.get("cofactors"),n),l=a.new_nodes,s=a.new_reactions,c=a.new_beziers;te.apply(this,[l,s,c,t]);var u=Oe.clone(l),d=Oe.clone(s),f=Oe.clone(c),_=function(){if(delete l[t],this.delete_node_data(Object.keys(l)),this.delete_reaction_data(Object.keys(s)),F.apply(this,[t]),l=Oe.clone(u),s=Oe.clone(d),c=Oe.clone(f),this.has_data_on_reactions){var e=this.calc_data_stats("reaction");e?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(!0)}else this.clear_deleted_reactions(!0);if(this.has_data_on_nodes){var e=this.calc_data_stats("metabolite");e?this.draw_all_nodes(!0):this.clear_deleted_nodes()}else this.clear_deleted_nodes()}.bind(this),p=function(){te.apply(this,[l,s,c,t])}.bind(this);return r&&this.undo_stack.push(_,p),{undo:_,redo:p}}function re(){var e=this.getSelectedNodes();if(!Ue.isEmpty(e)){var t,n=Object.keys(e)[0],r=(e[n],this.reactions),i=this.nodes,o=[];if(i[n].connected_segments.forEach(function(e){t=[e.reaction_id];var i;try{if(void 0===(i=r[e.reaction_id].segments[e.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segment "+e.segment_id)}o.push(i.from_node_id==n?i.to_node_id:i.from_node_id)}),1!=o.length)return void console.error("Only connected nodes with a single reaction can be selected");var a=o[0],l=[n];i[a].connected_segments.forEach(function(e){var t;try{if(void 0===(t=r[e.reaction_id].segments[e.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segment "+e.segment_id)}var o=t.from_node_id==a?t.to_node_id:t.from_node_id;"metabolite"==i[o].node_type&&o!=n&&l.push(String(o))});for(var s=0;s<l.length;s++)if(i[l[s]].connected_segments.length>1)return void console.error("Only connected nodes with a single reaction can be selected");for(var c in e)if(c!=n&&-1==l.indexOf(c))return void console.warn("Selected nodes are not on the same reaction");var u=[],d=l.length-1,f=i[l[d]],_=f.node_is_primary,p={x:f.x,y:f.y,label_x:f.label_x,label_y:f.label_y};f.connected_segments.length>1&&console.warn("Too many connected segments for node "+f.node_id);var b,h=f.connected_segments[0];try{if(void 0===(b=r[h.reaction_id].segments[h.segment_id]))throw new Error("undefined segment")}catch(e){return void console.error("Could not find connected segment "+h.segment_id)}var m,g={b1:b.b1,b2:b.b2};l.forEach(function(e){var t=i[e],n=t.node_is_primary,o={x:t.x,y:t.y,label_x:t.label_x,label_y:t.label_y},a=t.connected_segments[0],l=r[a.reaction_id].segments[a.segment_id],s={b1:l.b1,b2:l.b2};t.node_is_primary=_,t.x=p.x,t.y=p.y,t.label_x=p.label_x,t.label_y=p.label_y,l.b1=g.b1,l.b2=g.b2,_=n,p=o,g=s,t.node_is_primary&&(m=e),u.push(e)});var A=i[a].connected_segments,d=A.length-1,y=[A[d]];A.forEach(function(e,t){d!=t&&y.push(e)}),i[a].connected_segments=y,this.draw_these_nodes(u),this.draw_these_reactions(t),this.select_metabolite_with_id(m)}}function ie(){var e=this.get_selected_node_ids(),t=function(e){var t={},n=this.settings.get("hide_secondary_metabolites");if(e.forEach(function(e){if(!(e in this.nodes))return void console.warn("Could not find node: "+e);var n=this.nodes[e];"metabolite"==n.node_type&&(n.node_is_primary=!n.node_is_primary,t[e]=n)}.bind(this)),this.draw_these_nodes(Object.keys(t)),n){var r=this.segments_and_reactions_for_nodes(t),i={};for(var o in r.segment_objs_w_segments){i[r.segment_objs_w_segments[o].reaction_id]=!0}this.draw_these_reactions(Object.keys(i))}}.bind(this);t(e),this.undo_stack.push(function(){t(e)},function(){t(e)})}function oe(e){var t={},n={},r={},i=this.reactions;for(var o in e){e[o].connected_segments.forEach(function(e){var n;try{if(void 0===(n=i[e.reaction_id].segments[e.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segments for node")}var o=Oe.clone(e);o.segment=Oe.clone(n),t[e.segment_id]=o,e.reaction_id in r||(r[e.reaction_id]=[]),r[e.reaction_id].push(e.segment_id)})}for(var a in r){var l=i[a],s=r[a],c=!0;for(var u in l.segments)-1==s.indexOf(u)&&(c=!1);c&&(n[a]=l)}return{segment_objs_w_segments:t,reactions:n}}function ae(e,t){this.search_index.insert("l"+e,{name:t,data:{type:"text_label",text_label_id:e}})}function le(e,t){var n=Se.new_text_label(this.largest_ids,t,e);return this.text_labels[n.id]=n.label,this.draw_these_text_labels([n.id]),""!==t&&this.add_label_to_search_index(n.id,t),n.id}function se(e,t,n,r){if(Ue.isUndefined(r)&&(r=!1),""===t)throw new Error("Should not be called for empty string");var i=function(t,n){this.text_labels[e].text=t,n&&this.draw_these_text_labels([e]);var i="l"+e,o=this.search_index.remove(i);r||o||console.warn("Could not find modified text label in search index"),this.search_index.insert(i,{name:t,data:{type:"text_label",text_label_id:e}})}.bind(this),o=Oe.clone(this.text_labels[e]);i(t,n),this.undo_stack.push(function(){r?(this.delete_text_label_data([e]),this.clear_deleted_text_labels()):i(o.text,!0)}.bind(this),function(){r?(this.text_labels[e]=Oe.clone(o),this.text_labels[e].text=t,this.draw_these_text_labels([e]),this.add_label_to_search_index(e,t)):i(t,!0)}.bind(this))}function ce(e){this._zoom_extent(e,"nodes")}function ue(e){this._zoom_extent(e,"canvas")}function de(e,t){Ue.isUndefined(e)&&(e="nodes"===t?.2:0),Ue.isUndefined(t)&&(t="canvas");var n,r,i=this.get_size();if(e*=i.height,"nodes"===t){var o={x:null,y:null},a={x:null,y:null};for(var l in this.nodes){var s=this.nodes[l];null===o.x&&(o.x=s.x),null===o.y&&(o.y=s.y),null===a.x&&(a.x=s.x),null===a.y&&(a.y=s.y),o.x=Math.min(o.x,s.x),o.y=Math.min(o.y,s.y),a.x=Math.max(a.x,s.x),a.y=Math.max(a.y,s.y)}n=Math.min((i.width-2*e)/(a.x-o.x),(i.height-2*e)/(a.y-o.y)),r={x:-o.x*n+e+(i.width-2*e-(a.x-o.x)*n)/2,y:-o.y*n+e+(i.height-2*e-(a.y-o.y)*n)/2}}else{if("canvas"!=t)return console.error("Did not recognize mode");n=Math.min((i.width-2*e)/this.canvas.width,(i.height-2*e)/this.canvas.height),r={x:-this.canvas.x*n+e+(i.width-2*e-this.canvas.width*n)/2,y:-this.canvas.y*n+e+(i.height-2*e-this.canvas.height*n)/2}}return this.zoom_container.go_to(n,r),null}function fe(){return this.zoom_container.get_size()}function _e(e){var t=this.reactions[e],n=this.get_size(),r={x:.5*-t.label_x+n.width/2,y:.5*-t.label_y+n.height/2};this.zoom_container.go_to(.5,r)}function pe(e){var t=this.nodes[e],n=this.get_size(),r={x:.5*-t.label_x+n.width/2,y:.5*-t.label_y+n.height/2};this.zoom_container.go_to(.5,r)}function be(e){var t=this.text_labels[e],n=this.get_size(),r={x:.5*-t.x+n.width/2,y:.5*-t.y+n.height/2};this.zoom_container.go_to(.5,r)}function he(e){this.highlight(this.sel.selectAll("#r"+e).selectAll("text"))}function me(e){this.highlight(this.sel.selectAll("#n"+e).selectAll("text"))}function ge(e){this.highlight(this.sel.selectAll("#l"+e).selectAll("text"))}function Ae(e){this.sel.selectAll(".highlight").classed("highlight",!1),null!==e&&e.classed("highlight",!0)}function ye(){return document.fullscreenEnabled?"fullscreenchange":document.mozFullScreenEnabled?"mozfullscreenchange":document.webkitFullscreenEnabled?"webkitfullscreenchange":document.msFullscreenEnabled?"MSFullscreenChange":null}function ve(e){document.addEventListener(ye(),e),this.full_screen_listener=e}function xe(){document.removeEventListener(ye(),this.full_screen_listener)}function we(){var e=this.zoom_container.selection,t=e.node(),n=document;if(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)if(e.classed("full-screen-on",!1),n.exitFullscreen)n.exitFullscreen();else if(n.mozCancelFullScreen)n.mozCancelFullScreen();else if(n.webkitExitFullscreen)n.webkitExitFullscreen();else{if(!n.msExitFullscreen)throw Error("Cannot exit full screen");n.msExitFullscreen()}else if(e.classed("full-screen-on",!0),t.requestFullscreen)t.requestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!t.msRequestFullscreen)throw Error("Full screen does not seem to be supported on this system.");t.msRequestFullscreen()}}function ke(){Oe.download_json(this.map_for_export(),this.map_name)}function Ce(){var e=[{map_name:this.map_name,map_id:this.map_id,map_description:this.map_description,homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:Oe.clone(this.reactions),nodes:Oe.clone(this.nodes),text_labels:Oe.clone(this.text_labels),canvas:this.canvas.size_and_location()}];for(var t in e[1].reactions){var n=e[1].reactions[t],r={},i=["name","bigg_id","reversibility","label_x","label_y","gene_reaction_rule","genes","metabolites"];i.forEach(function(e){r[e]=n[e]}),r.segments={};for(var o in n.segments){var a=n.segments[o],l={},i=["from_node_id","to_node_id","b1","b2"];i.forEach(function(e){l[e]=a[e]}),r.segments[o]=l}e[1].reactions[t]=r}for(var s in e[1].nodes){var i,c=e[1].nodes[s],u={};i="metabolite"===c.node_type?["node_type","x","y","bigg_id","name","label_x","label_y","node_is_primary"]:["node_type","x","y"],i.forEach(function(e){u[e]=c[e]}),e[1].nodes[s]=u}for(var d in e[1].text_labels){var f=e[1].text_labels[d],_={},i=["x","y","text"];i.forEach(function(e){_[e]=f[e]}),e[1].text_labels[d]=_}var p=e[1].canvas,b={},i=["x","y","width","height"];return i.forEach(function(e){b[e]=p[e]}),e[1].canvas=b,e}function Be(e,t,n,r){e.callback_manager.run(t);var i=e.zoom_container.window_scale,o=e.zoom_container.window_translate,a=e.canvas.size_and_location(),l={w:e.canvas.mouse_node.attr("width"),h:e.canvas.mouse_node.attr("height"),transform:e.canvas.mouse_node.attr("transform")};e.zoom_container._go_to_svg(1,{x:-a.x,y:-a.y},function(){e.svg.attr("width",a.width),e.svg.attr("height",a.height),e.canvas.mouse_node.attr("width","0px"),e.canvas.mouse_node.attr("height","0px"),e.canvas.mouse_node.attr("transform",null);var t=e.sel.selectAll(".multimarker-circle,.midmarker-circle,#canvas").style("visibility","hidden");"svg"==r?Oe.download_svg("saved_map",e.svg,!0):"png"==r&&Oe.download_png("saved_map",e.svg),e.zoom_container._go_to_svg(i,o,function(){e.svg.attr("width",null),e.svg.attr("height",null),e.canvas.mouse_node.attr("width",l.w),e.canvas.mouse_node.attr("height",l.h),e.canvas.mouse_node.attr("transform",l.transform),t.style("visibility",null),e.callback_manager.run(n)}.bind(e))}.bind(e))}function Ee(){Be(this,"before_svg_export","after_svg_export","svg")}function Me(){Be(this,"before_png_export","after_png_export","png")}function je(){if(this.callback_manager.run("before_convert_map"),!this.has_cobra_model())throw Error("No COBRA model loaded.");var e,t=this.cobra_model,n={},r=["name","gene_reaction_rule","genes"],i={},o=["name"];for(var a in this.reactions){var l=this.reactions[a];e=!1;for(var s in t.reactions){var c=t.reactions[s];c.bigg_id==l.bigg_id&&(r.forEach(function(e){l[e]=c[e]}),e=!0)}e||(n[a]=!0)}for(var u in this.nodes){var d=this.nodes[u];if("metabolite"==d.node_type){e=!1;for(var f in t.metabolites){var _=t.metabolites[f];_.bigg_id==d.bigg_id&&(o.forEach(function(e){d[e]=_[e]}),e=!0)}e||(i[u]=!0)}}var p=Object.keys(n).length,b=Object.keys(i).length;0===p&&0===b?this.set_status("Successfully converted attributes.",3e3):0===b?(this.set_status("Converted attributes, but count not find "+p+" reactions in the model.",3e3),this.settings.set_conditional("highlight_missing",!0)):0===p?(this.set_status("Converted attributes, but count not find "+b+" metabolites in the model.",3e3),this.settings.set_conditional("highlight_missing",!0)):(this.set_status("Converted attributes, but count not find "+p+" reactions and "+b+" metabolites in the model.",3e3),this.settings.set_conditional("highlight_missing",!0)),this.draw_everything(),this.callback_manager.run("after_convert_map")}var Oe=n(1),Ie=n(232),De=n(90).default,Ne=n(233).default,Se=n(52),Le=n(111),Te=n(17),ze=n(112),Pe=n(282),Fe=n(16),Qe=n(114),Ue=(n(57),n(2)),Re=n(0).select,Ge=Oe.make_class();Ge.from_data=i,Ge.prototype={init:r,setup_containers:o,reset_containers:a,set_status:l,clear_map:s,select_all:T,select_none:z,invert_selection:P,select_selectable:Q,select_metabolite_with_id:F,select_single_node:U,deselect_nodes:R,select_text_label:G,deselect_text_labels:Y,new_reaction_from_scratch:J,extend_nodes:$,extend_reactions:ee,new_reaction_for_metabolite:ne,cycle_primary_node:re,toggle_selected_node_primary:ie,add_label_to_search_index:ae,new_text_label:le,edit_text_label:se,delete_selected:H,delete_selectable:W,delete_node_data:V,delete_segment_data:q,delete_reaction_data:K,delete_text_label_data:Z,get_selected_node_ids:D,getSelectedNodes:N,get_selected_text_label_ids:S,get_selected_text_labels:L,segments_and_reactions_for_nodes:oe,draw_everything:u,draw_all_reactions:d,draw_these_reactions:f,clear_deleted_reactions:_,draw_all_nodes:p,draw_these_nodes:b,clear_deleted_nodes:h,draw_all_text_labels:m,draw_these_text_labels:g,clear_deleted_text_labels:A,draw_all_beziers:y,draw_these_beziers:v,clear_deleted_beziers:x,toggle_beziers:C,hide_beziers:k,show_beziers:w,has_cobra_model:c,apply_reaction_data_to_map:B,apply_metabolite_data_to_map:E,apply_gene_data_to_map:M,get_data_statistics:j,calc_data_stats:I,zoom_extent_nodes:ce,zoom_extent_canvas:ue,_zoom_extent:de,get_size:fe,zoom_to_reaction:_e,zoom_to_node:pe,zoom_to_text_label:be,highlight_reaction:he,highlight_node:me,highlight_text_label:ge,highlight:Ae,listen_for_full_screen:ve,unlisten_for_full_screen:xe,full_screen:we,save:ke,map_for_export:Ce,save_svg:Ee,save_png:Me,convert_map:je},e.exports=Ge},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(1),a=r(o),l=n(52),s=r(l),c=n(15),u=n(0),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),f=d.select,_=d.mouse,p=function(){function e(t,n){i(this,e),this.map=t,this.undoStack=n,this.emptyBehavior=function(){},this.rotationModeEnabled=!1,this.rotationDrag=(0,c.drag)(),this.selectableMousedown=null,this.textLabelMousedown=null,this.textLabelClick=null,this.selectableDrag=this.emptyBehavior,this.nodeMouseover=null,this.nodeMouseout=null,this.labelMousedown=null,this.labelMouseover=this.emptyBehavior,this.labelMouseout=null,this.labelTouch=null,this.objectMouseover=this.emptyBehavior,this.objectTouch=null,this.objectMouseout=null,this.bezierDrag=this.emptyBehavior,this.bezierMouseover=null,this.bezierMouseout=null,this.reactionLabelDrag=this.emptyBehavior,this.nodeLabelDrag=this.emptyBehavior,this.dragging=!1,this.turnEverythingOn()}return e.prototype.turnEverythingOn=function(){this.toggleSelectableClick(!0),this.toggleSelectableDrag(!0),this.toggleLabelDrag(!0),this.toggleLabelMouseover(!0),this.toggleLabelTouch(!0),this.toggleObjectMouseover(!0),this.toggleObjectTouch(!0)},e.prototype.turnEverythingOff=function(){this.toggleSelectableClick(!1),this.toggleSelectableDrag(!1),this.toggleLabelDrag(!1),this.toggleLabelMouseover(!1),this.toggleLabelTouch(!1),this.toggleObjectMouseover(!1),this.toggleObjectTouch(!1)},e.prototype.averageLocation=function(e){var t=[],n=[];for(var r in e){var i=e[r];void 0!==i.x&&t.push(i.x),void 0!==i.y&&n.push(i.y)}return{x:a.default.mean(t),y:a.default.mean(n)}},e.prototype.showCenter=function(){var e=this,t=this.map.sel.selectAll("#rotation-center").data([0]),n=t.enter().append("g").attr("id","rotation-center");n.append("path").attr("d","M-32 0 L32 0").attr("class","rotation-center-line"),n.append("path").attr("d","M0 -32 L0 32").attr("class","rotation-center-line");var r=n.merge(t);r.attr("transform","translate("+this.center.x+","+this.center.y+")").attr("visibility","visible").on("mouseover",function(){var e=parseFloat(r.selectAll("path").style("stroke-width"));r.selectAll("path").style("stroke-width",2*e+"px")}).on("mouseout",function(){r.selectAll("path").style("stroke-width",null)}).call((0,c.drag)().on("drag",function(){var t=a.default.d3_transform_catch(r.attr("transform")),n=[d.event.dx+t.translate[0],d.event.dy+t.translate[1]];r.attr("transform","translate("+n+")"),e.center={x:n[0],y:n[1]}}))},e.prototype.hideCenter=function(){this.map.sel.select("#rotation-center").attr("visibility","hidden")},e.prototype.toggleRotationMode=function(e){var t=this;this.rotationModeEnabled=void 0===e?!this.rotationModeEnabled:e;var n=this.map.sel.selectAll(".node-circle"),r=this.map.sel.selectAll("#canvas");if(this.rotationModeEnabled){this.map.callback_manager.run("start_rotation");var i=this.map.getSelectedNodes();if(0===Object.keys(i).length)return void console.warn("No selected nodes");this.center=this.averageLocation(i),this.showCenter();var o=this.map,a=Object.keys(i),l=this.map.reactions,c=this.map.nodes,u=this.map.beziers,f=function(e){d.event.sourceEvent.stopPropagation()},_=function(e,t,n,r){var a=s.default.rotate_nodes(i,l,u,t,r);o.draw_these_nodes(a.node_ids),o.draw_these_reactions(a.reaction_ids)},p=function(e){},b=function(e,t,n){var r={};a.forEach(function(e){r[e]=c[e]});var i=s.default.rotate_nodes(r,l,u,-t,n);o.draw_these_nodes(i.node_ids),o.draw_these_reactions(i.reaction_ids)},h=function(e,t,n){var r={};a.forEach(function(e){r[e]=c[e]});var i=s.default.rotate_nodes(r,l,u,t,n);o.draw_these_nodes(i.node_ids),o.draw_these_reactions(i.reaction_ids)},m=function(){return t.center};this.rotationDrag=this.getGenericAngularDrag(f,_,p,b,h,m,this.map.sel),r.call(this.rotationDrag),this.selectableDrag=this.rotationDrag}else this.hideCenter(),n.on("mousedown.center",null),r.on("mousedown.center",null),r.on("mousedown.drag",null),r.on("touchstart.drag",null),this.rotationDrag=null,this.selectableDrag=null},e.prototype.toggleSelectableClick=function(e){if(void 0===e&&(e=null===this.selectableMousedown),e){var t=this.map;this.selectableMousedown=function(e){d.event.stopPropagation()},this.selectableClick=function(e){d.event.stopPropagation(),d.event.defaultPrevented||t.select_selectable(this,e,d.event.shiftKey)},this.nodeMouseover=function(e){f(this).style("stroke-width",null);var t=parseFloat(f(this).style("stroke-width"));f(this.parentNode).classed("selected")||f(this).style("stroke-width",3*t+"px")},this.nodeMouseout=function(e){f(this).style("stroke-width",null)}}else this.selectableMousedown=null,this.selectableClick=null,this.nodeMouseover=null,this.nodeMouseout=null,this.map.sel.select("#nodes").selectAll(".node-circle").style("stroke-width",null)},e.prototype.toggleTextLabelEdit=function(e){if(void 0===e&&(e=null==this.textEditMousedown),e){var t=this.map;this.textLabelMousedown=function(){if(!d.event.defaultPrevented){var e=a.default.d3_transform_catch(f(this).attr("transform")).translate,n={x:e[0],y:e[1]};t.callback_manager.run("edit_text_label",null,f(this),n),d.event.stopPropagation()}},this.textLabelClick=null,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!0),this.map.sel.on("mousedown.new_text_label",function(e){d.event.preventDefault();var t={x:_(e)[0],y:_(e)[1]};this.map.callback_manager.run("new_text_label",null,t)}.bind(this,this.map.sel.node()))}else this.textLabelMousedown=this.selectableMousedown,this.textLabelClick=this.selectableClick,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!1),this.map.sel.on("mousedown.new_text_label",null),this.map.callback_manager.run("hide_text_label_editor")},e.prototype.toggleSelectableDrag=function(e){void 0===e&&(e=this.selectableDrag===this.emptyBehavior),e?(this.selectableDrag=this.getSelectableDrag(this.map,this.undoStack),this.bezierDrag=this.getBezierDrag(this.map,this.undoStack)):(this.selectableDrag=this.emptyBehavior,this.bezierDrag=this.emptyBehavior)},e.prototype.toggleLabelDrag=function(e){void 0===e&&(e=this.labelDrag===this.emptyBehavior),e?(this.reactionLabelDrag=this.getReactionLabelDrag(this.map),this.nodeLabelDrag=this.getNodeLabelDrag(this.map)):(this.reactionLabelDrag=this.emptyBehavior,this.nodeLabelDrag=this.emptyBehavior)},e.prototype.toggleLabelMouseover=function(e){var t=this;void 0===e&&(e=this.labelMouseover===this.emptyBehavior),e?(this.labelMouseover=function(e,n){t.dragging||t.map.callback_manager.run("show_tooltip",null,e,n)},this.labelMouseout=function(){t.map.callback_manager.run("delay_hide_tooltip")}):this.labelMouseover=this.emptyBehavior},e.prototype.toggleLabelTouch=function(e){var t=this;void 0===e&&(e=null===this.labelTouch),this.labelTouch=e?function(e,n){t.dragging||t.map.callback_manager.run("show_tooltip",null,e,n)}:null},e.prototype.toggleObjectMouseover=function(e){var t=this;void 0===e&&(e=this.objectMouseover===this.emptyBehavior),e?(this.objectMouseover=function(e,n){t.dragging||t.map.callback_manager.run("show_tooltip",null,e,n)},this.objectMouseout=function(){t.map.callback_manager.run("delay_hide_tooltip")}):this.objectMouseover=this.emptyBehavior},e.prototype.toggleObjectTouch=function(e){var t=this;void 0===e&&(e=null===this.labelTouch),this.objectTouch=e?function(e,n){t.dragging||t.map.callback_manager.run("show_tooltip",null,e,n)}:null},e.prototype.toggleBezierDrag=function(e){void 0===e&&(e=this.bezierDrag===this.emptyBehavior),e?(this.bezierDrag=this.getBezierDrag(this.map),this.bezierMouseover=function(e){f(this).style("stroke-width",String(3)+"px")},this.bezierMouseout=function(e){f(this).style("stroke-width",String(1)+"px")}):(this.bezierDrag=this.emptyBehavior,this.bezierMouseover=null,this.bezierMouseout=null)},e.prototype.turnOffDrag=function(e){e.on("mousedown.drag",null),e.on("touchstart.drag",null)},e.prototype.combineNodesAndDraw=function(e,t){var n=this.map,r=n.nodes[t],i=n.nodes[e],o=[];return r.connectedSegments.forEach(function(r){var l=null;try{if(void 0===(l=n.reactions[r.reactionId].segments[r.segmentId]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+r.segmentId)}if(l.fromNodeId==t)l.fromNodeId=e;else{if(l.toNodeId!=t)return void console.error("Segment does not connect to dragged node");l.toNodeId=e}i.connectedSegments.push(r),o.push(a.default.clone(r))}),n.delete_node_data([t]),n.sel.selectAll(".node-to-combine").classed("node-to-combine",!1),n.drawEverything(),o},e.prototype.getSelectableDrag=function(e,t){var n=this,r=(0,c.drag)(),i=null,o=null,l=null,u=null,_=null,p=function(t,n){var r=e.text_labels[t];r.x=r.x+n.x,r.y=r.y+n.y},b=function(e){n.dragging=e};return r.on("start",function(t){if(b(!0),d.event.sourceEvent.stopPropagation(),o={x:0,y:0},-1===f(this).attr("class").indexOf("label")){var n=this.parentNode.__data__,r=n.biggId,a=this.parentNode;i=setTimeout(function(){a.parentNode.insertBefore(a,a.parentNode.firstChild)},200),e.sel.selectAll(".metabolite-circle").on("mouseover.combine",function(e){e.bigg_id===r&&e.node_id!==n.nodeId&&f(this).style("stroke-width",String(12)+"px").classed("node-to-combine",!0)}).on("mouseout.combine",function(t){t.bigg_id===r&&e.sel.selectAll(".node-to-combine").style("stroke-width",String(2)+"px").classed("node-to-combine",!1)})}}),r.on("drag",function(t){f(this.parentNode).classed("selected")||e.select_selectable(this,t);var n={};-1===f(this).attr("class").indexOf("label")?(n.type="node",n.id=this.parentNode.__data__.node_id):(n.type="label",n.id=this.__data__.text_label_id);var r=e.get_selected_node_ids(),i=e.get_selected_text_label_ids();l=[],_=[],"node"===n.type&&-1===r.indexOf(n.id)?l.push(n.id):"label"===n.type&&-1===i.indexOf(n.id)?_.push(n.id):(l=r,_=i),u=[];var c={x:d.event.dx,y:d.event.dy};o=a.default.c_plus_c(o,c),l.forEach(function(t){var n=e.nodes[t],r=s.default.move_node_and_dependents(n,t,e.reactions,e.beziers,c);u=a.default.uniqueConcat([u,r.reaction_ids])}),_.forEach(function(e){p(e,c)}),e.draw_these_nodes(l),e.draw_these_reactions(u),e.draw_these_text_labels(_)}),r.on("end",function(){if(b(!1),null===l)return o=null,l=null,_=null,u=null,void(i=null);var r=[];if(e.sel.selectAll(".node-to-combine").each(function(e){r.push(e.node_id)}),1===r.length){var c=r[0],d=n.parentNode.__data__.node_id,f=a.default.clone(e.nodes[d]),h=n.combineNodesAndDraw(c,d);t.push(function(){e.nodes[d]=f;var t=e.nodes[c],n=[];h.forEach(function(r){var i=e.reactions[r.reactionId].segments[r.segmentId];i.fromNodeId===c?i.fromNodeId=d:i.toNodeId===c?i.toNodeId=d:console.error("Segment does not connect to fixed node"),t.connectedSegments=t.connectedSegments.filter(function(e){return!(e.reactionId===r.reactionId&&e.segmentId===r.segmentId)}),-1===n.indexOf(r.reactionId)&&n.push(r.reactionId)}),e.draw_these_nodes([d]),e.draw_these_reactions(n)},function(){n.combineNodesAndDraw(c,d)})}else{var m=a.default.clone(o),g=a.default.clone(l),A=a.default.clone(_),y=a.default.clone(u);t.push(function(){g.forEach(function(t){var n=e.nodes[t];s.default.move_node_and_dependents(n,t,e.reactions,e.beziers,a.default.c_times_scalar(m,-1))}),A.forEach(function(e){p(e,a.default.c_times_scalar(m,-1))}),e.draw_these_nodes(g),e.draw_these_reactions(y),e.draw_these_text_labels(A)},function(){g.forEach(function(t){var n=e.nodes[t];s.default.move_node_and_dependents(n,t,e.reactions,e.beziers,m)}),A.forEach(function(e){p(e,m)}),e.draw_these_nodes(g),e.draw_these_reactions(y),e.draw_these_text_labels(A)})}e.sel.selectAll(".metabolite-circle").on("mouseover.combine",null).on("mouseout.combine",null),clearTimeout(i),o=null,l=null,_=null,u=null,i=null}),r},e.prototype.getBezierDrag=function(e){var t=function(t,n,r,i,o){var l=e.reactions[t].segments[n];l[r]=a.default.c_plus_c(l[r],o),e.beziers[i].x=l[r].x,e.beziers[i].y=l[r].y},n=function(e){e.dragging=!0},r=function(n,r,i){t(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,r),e.draw_these_reactions([n.reaction_id],!1),e.draw_these_beziers([n.bezier_id])},i=function(e){e.dragging=!1},o=function(n,r){t(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,a.default.c_times_scalar(r,-1)),e.draw_these_reactions([n.reaction_id],!1),e.draw_these_beziers([n.bezier_id])},l=function(n,r){t(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,r),e.draw_these_reactions([n.reaction_id],!1),e.draw_these_beziers([n.bezier_id])};return this.getGenericDrag(n,r,i,o,l,this.map.sel)},e.prototype.getReactionLabelDrag=function(e){var t=function(t,n){var r=e.reactions[t];r.label_x=r.label_x+n.x,r.label_y=r.label_y+n.y},n=function(t){e.callback_manager.run("hide_tooltip")},r=function(n,r,i){t(n.reaction_id,r),e.draw_these_reactions([n.reaction_id])},i=function(){},o=function(n,r){t(n.reaction_id,a.default.c_times_scalar(r,-1)),e.draw_these_reactions([n.reaction_id])},l=function(n,r){t(n.reaction_id,r),e.draw_these_reactions([n.reaction_id])};return this.getGenericDrag(n,r,i,o,l,this.map.sel)},e.prototype.getNodeLabelDrag=function(e){var t=function(t,n){var r=e.nodes[t];r.label_x=r.label_x+n.x,r.label_y=r.label_y+n.y},n=function(t){e.callback_manager.run("hide_tooltip")},r=function(n,r,i){t(n.node_id,r),e.draw_these_nodes([n.node_id])},i=function(){},o=function(n,r){t(n.node_id,a.default.c_times_scalar(r,-1)),e.draw_these_nodes([n.node_id])},l=function(n,r){t(n.node_id,r),e.draw_these_nodes([n.node_id])};return this.getGenericDrag(n,r,i,o,l,this.map.sel)},e.prototype.getGenericDrag=function(e,t,n,r,i,o){var l=this,s=(0,c.drag)(),u=this.undoStack,f=o.node(),p=void 0;return s.on("start",function(t){l.dragging=!0,d.event.sourceEvent.stopPropagation(),p={x:0,y:0},e(t)}),s.on("drag",function(e){var n={x:d.event.dx,y:d.event.dy},r={x:_(f)[0],y:_(f)[1]};p=a.default.c_plus_c(p,n),t(e,n,p,r)}),s.on("end",function(e){l.dragging=!1;var t=a.default.clone(e),o=a.default.clone(p),s={x:_(f)[0],y:_(f)[1]};u.push(function(){r(t,o,s)},function(){i(t,o,s)}),n(e)}),s},e.prototype.getGenericAngularDrag=function(e,t,n,r,i,o,l){var s=this,u=(0,c.drag)(),f=this.undoStack,p=l.node(),b=void 0;return u.on("start",function(t){s.dragging=!0,d.event.sourceEvent.stopPropagation(),b=0,e(t)}),u.on("drag",function(e){var n={x:d.event.dx,y:d.event.dy},r={x:_(p)[0],y:_(p)[1]},i=o(),l=a.default.angle_for_event(n,r,i);b+=l,t(e,l,b,i)}),u.on("end",function(e){s.dragging=!1;var t=a.default.clone(e),l=b,c=a.default.clone(o());f.push(function(){return r(t,l,c)},function(){return i(t,l,c)}),n(e)}),u},e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(234);n.d(t,"scaleBand",function(){return r.a}),n.d(t,"scalePoint",function(){return r.b});var i=n(251);n.d(t,"scaleIdentity",function(){return i.a});var o=n(23);n.d(t,"scaleLinear",function(){return o.a});var a=n(253);n.d(t,"scaleLog",function(){return a.a});var l=n(104);n.d(t,"scaleOrdinal",function(){return l.a}),n.d(t,"scaleImplicit",function(){return l.b});var s=n(254);n.d(t,"scalePow",function(){return s.a}),n.d(t,"scaleSqrt",function(){return s.b});var c=n(255);n.d(t,"scaleQuantile",function(){return c.a});var u=n(256);n.d(t,"scaleQuantize",function(){return u.a});var d=n(257);n.d(t,"scaleThreshold",function(){return d.a});var f=n(107);n.d(t,"scaleTime",function(){return f.b});var _=n(273);n.d(t,"scaleUtc",function(){return _.a});var p=n(274);n.d(t,"schemeCategory10",function(){return p.a});var b=n(275);n.d(t,"schemeCategory20b",function(){return b.a});var h=n(276);n.d(t,"schemeCategory20c",function(){return h.a});var m=n(277);n.d(t,"schemeCategory20",function(){return m.a});var g=n(278);n.d(t,"interpolateCubehelixDefault",function(){return g.a});var A=n(279);n.d(t,"interpolateRainbow",function(){return A.b}),n.d(t,"interpolateWarm",function(){return A.c}),n.d(t,"interpolateCool",function(){return A.a});var y=n(280);n.d(t,"interpolateViridis",function(){return y.a}),n.d(t,"interpolateMagma",function(){return y.c}),n.d(t,"interpolateInferno",function(){return y.b}),n.d(t,"interpolatePlasma",function(){return y.d});var v=n(281);n.d(t,"scaleSequential",function(){return v.a})},function(e,t,n){"use strict";var r=n(18),i=n(93),o=Object(i.a)(r.a),a=o.right;o.left;t.a=a},function(e,t,n){"use strict";function r(e){return function(t,n){return Object(i.a)(e(t),n)}}var i=n(18);t.a=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}},function(e,t,n){"use strict";function r(e,t){return[e,t]}t.a=r},function(e,t,n){"use strict";var r=n(96);t.a=function(e,t){var n=Object(r.a)(e,t);return n?Math.sqrt(n):n}},function(e,t,n){"use strict";var r=n(22);t.a=function(e,t){var n,i,o=e.length,a=0,l=-1,s=0,c=0;if(null==t)for(;++l<o;)isNaN(n=Object(r.a)(e[l]))||(i=n-s,s+=i/++a,c+=i*(n-s));else for(;++l<o;)isNaN(n=Object(r.a)(t(e[l],l,e)))||(i=n-s,s+=i/++a,c+=i*(n-s));if(a>1)return c/(a-1)}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}},function(e,t,n){"use strict";function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=o?10:s>=a?5:s>=l?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=o?10:s>=a?5:s>=l?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=o?i*=10:s>=a?i*=5:s>=l&&(i*=2),t<e?-i:i}t.b=r,t.c=i;var o=Math.sqrt(50),a=Math.sqrt(10),l=Math.sqrt(2);t.a=function(e,t,n){var i,o,a,l,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(l=r(e,t,n))||!isFinite(l))return[];if(l>0)for(e=Math.ceil(e/l),t=Math.floor(t/l),a=new Array(o=Math.ceil(t-e+1));++s<o;)a[s]=(e+s)*l;else for(e=Math.floor(e*l),t=Math.ceil(t*l),a=new Array(o=Math.ceil(e-t+1));++s<o;)a[s]=(e-s)/l;return i&&a.reverse(),a}},function(e,t,n){"use strict";t.a=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}},function(e,t,n){"use strict";function r(e){return e.length}var i=n(102);t.a=function(e){if(!(a=e.length))return[];for(var t=-1,n=Object(i.a)(e,r),o=new Array(n);++t<n;)for(var a,l=-1,s=o[t]=new Array(a);++l<a;)s[l]=e[l][t];return o}},function(e,t,n){"use strict";function r(e){function t(t){var r=t+"",i=n.get(r);if(!i){if(s!==a)return s;n.set(r,i=l.push(t))}return e[(i-1)%e.length]}var n=Object(i.a)(),l=[],s=a;return e=null==e?[]:o.b.call(e),t.domain=function(e){if(!arguments.length)return l.slice();l=[],n=Object(i.a)();for(var r,o,a=-1,s=e.length;++a<s;)n.has(o=(r=e[a])+"")||n.set(o,l.push(r));return t},t.range=function(n){return arguments.length?(e=o.b.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(s=e,t):s},t.copy=function(){return r().domain(l).range(e).unknown(s)},t}n.d(t,"b",function(){return a}),t.a=r;var i=n(60),o=n(14),a={name:"implicit"}},function(e,t,n){"use strict";t.a=function(e){return+e}},function(e,t,n){"use strict";t.a=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}},function(e,t,n){"use strict";function r(e){return new Date(e)}function i(e){return e instanceof Date?+e:+new Date(+e)}function o(e,t,n,s,c,y,v,x,w){function k(r){return(v(r)<r?j:y(r)<r?O:c(r)<r?I:s(r)<r?D:t(r)<r?n(r)<r?N:S:e(r)<r?L:T)(r)}function C(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var o=Math.abs(r-n)/t,l=Object(a.c)(function(e){return e[2]}).right(z,o);l===z.length?(i=Object(a.g)(n/A,r/A,t),t=e):l?(l=z[o/z[l-1][2]<z[l][2]/o?l-1:l],i=l[1],t=l[0]):(i=Math.max(Object(a.g)(n,r,t),1),t=x)}return null==i?t:t.every(i)}var B=Object(d.b)(d.c,l.c),E=B.invert,M=B.domain,j=w(".%L"),O=w(":%S"),I=w("%I:%M"),D=w("%I %p"),N=w("%a %d"),S=w("%b %d"),L=w("%B"),T=w("%Y"),z=[[v,1,_],[v,5,5*_],[v,15,15*_],[v,30,30*_],[y,1,p],[y,5,5*p],[y,15,15*p],[y,30,30*p],[c,1,b],[c,3,3*b],[c,6,6*b],[c,12,12*b],[s,1,h],[s,2,2*h],[n,1,m],[t,1,g],[t,3,3*g],[e,1,A]];return B.invert=function(e){return new Date(E(e))},B.domain=function(e){return arguments.length?M(u.a.call(e,i)):M().map(r)},B.ticks=function(e,t){var n,r=M(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=C(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},B.tickFormat=function(e,t){return null==t?k:w(t)},B.nice=function(e,t){var n=M();return(e=C(e,n[0],n[n.length-1],t))?M(Object(f.a)(n,e)):B},B.copy=function(){return Object(d.a)(B,o(e,t,n,s,c,y,v,x,w))},B}t.a=o;var a=n(9),l=n(7),s=n(55),c=n(108),u=n(14),d=n(31),f=n(106),_=1e3,p=60*_,b=60*p,h=24*b,m=7*h,g=30*h,A=365*h;t.b=function(){return o(s.k,s.f,s.j,s.a,s.b,s.d,s.g,s.c,c.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(e,t,n){"use strict";var r=n(56);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b});n(109),n(110),n(272)},function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,o,a=[],l=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=pe[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),s=l+1);return a.push(e.slice(s,l)),a.join("")}}function n(e,t){return function(n){var r,l,s=o(1900),c=a(s,e,n+="",0);if(c!=n.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=i(o(s.y)),l=r.getUTCDay(),r=l>4||0===l?_e.p.ceil(r):Object(_e.p)(r),r=_e.l.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(r=t(o(s.y)),l=r.getDay(),r=l>4||0===l?_e.e.ceil(r):Object(_e.e)(r),r=_e.a.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),l="Z"in s?i(o(s.y)).getUTCDay():t(o(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(l+5)%7:s.w+7*s.U-(l+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,i(s)):t(s)}}function a(e,t,n,r){for(var i,o,a=0,l=t.length,s=n.length;a<l;){if(r>=s)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Xe[i in pe?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function l(e,t,n){var r=Fe.exec(t.slice(n));return r?(e.p=Qe[r[0].toLowerCase()],n+r[0].length):-1}function s(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.w=Ye[r[0].toLowerCase()],n+r[0].length):-1}function be(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.w=Re[r[0].toLowerCase()],n+r[0].length):-1}function he(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.m=qe[r[0].toLowerCase()],n+r[0].length):-1}function me(e,t,n){var r=He.exec(t.slice(n));return r?(e.m=We[r[0].toLowerCase()],n+r[0].length):-1}function ge(e,t,n){return a(e,Ie,t,n)}function Ae(e,t,n){return a(e,De,t,n)}function ye(e,t,n){return a(e,Ne,t,n)}function ve(e){return Te[e.getDay()]}function xe(e){return Le[e.getDay()]}function we(e){return Pe[e.getMonth()]}function ke(e){return ze[e.getMonth()]}function Ce(e){return Se[+(e.getHours()>=12)]}function Be(e){return Te[e.getUTCDay()]}function Ee(e){return Le[e.getUTCDay()]}function Me(e){return Pe[e.getUTCMonth()]}function je(e){return ze[e.getUTCMonth()]}function Oe(e){return Se[+(e.getUTCHours()>=12)]}var Ie=e.dateTime,De=e.date,Ne=e.time,Se=e.periods,Le=e.days,Te=e.shortDays,ze=e.months,Pe=e.shortMonths,Fe=c(Se),Qe=u(Se),Ue=c(Le),Re=u(Le),Ge=c(Te),Ye=u(Te),He=c(ze),We=u(ze),Ve=c(Pe),qe=u(Pe),Ke={a:ve,A:xe,b:we,B:ke,c:null,d:O,e:O,f:L,H:I,I:D,j:N,L:S,m:T,M:z,p:Ce,Q:de,s:fe,S:P,u:F,U:Q,V:U,w:R,W:G,x:null,X:null,y:Y,Y:H,Z:W,"%":ue},Ze={a:Be,A:Ee,b:Me,B:je,c:null,d:V,e:V,f:J,H:q,I:K,j:Z,L:X,m:$,M:ee,p:Oe,Q:de,s:fe,S:te,u:ne,U:re,V:ie,w:oe,W:ae,x:null,X:null,y:le,Y:se,Z:ce,"%":ue},Xe={a:s,A:be,b:he,B:me,c:ge,d:y,e:y,f:B,H:x,I:x,j:v,L:C,m:A,M:w,p:l,Q:M,s:j,S:k,u:f,U:_,V:p,w:d,W:b,x:Ae,X:ye,y:m,Y:h,Z:g,"%":E};return Ke.x=t(De,Ke),Ke.X=t(Ne,Ke),Ke.c=t(Ie,Ke),Ze.x=t(De,Ze),Ze.X=t(Ne,Ze),Ze.c=t(Ie,Ze),{format:function(e){var n=t(e+="",Ke);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Ze);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,i);return t.toString=function(){return e},t}}}function l(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function s(e){return e.replace(me,"\\$&")}function c(e){return new RegExp("^(?:"+e.map(s).join("|")+")","i")}function u(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function d(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function f(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function h(e,t,n){var r=be.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function m(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function g(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function y(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function v(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function k(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function B(e,t,n){var r=be.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function E(e,t,n){var r=he.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function M(e,t,n){var r=be.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function j(e,t,n){var r=be.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function O(e,t){return l(e.getDate(),t,2)}function I(e,t){return l(e.getHours(),t,2)}function D(e,t){return l(e.getHours()%12||12,t,2)}function N(e,t){return l(1+_e.a.count(Object(_e.k)(e),e),t,3)}function S(e,t){return l(e.getMilliseconds(),t,3)}function L(e,t){return S(e,t)+"000"}function T(e,t){return l(e.getMonth()+1,t,2)}function z(e,t){return l(e.getMinutes(),t,2)}function P(e,t){return l(e.getSeconds(),t,2)}function F(e){var t=e.getDay();return 0===t?7:t}function Q(e,t){return l(_e.h.count(Object(_e.k)(e),e),t,2)}function U(e,t){var n=e.getDay();return e=n>=4||0===n?Object(_e.i)(e):_e.i.ceil(e),l(_e.i.count(Object(_e.k)(e),e)+(4===Object(_e.k)(e).getDay()),t,2)}function R(e){return e.getDay()}function G(e,t){return l(_e.e.count(Object(_e.k)(e),e),t,2)}function Y(e,t){return l(e.getFullYear()%100,t,2)}function H(e,t){return l(e.getFullYear()%1e4,t,4)}function W(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+l(t/60|0,"0",2)+l(t%60,"0",2)}function V(e,t){return l(e.getUTCDate(),t,2)}function q(e,t){return l(e.getUTCHours(),t,2)}function K(e,t){return l(e.getUTCHours()%12||12,t,2)}function Z(e,t){return l(1+_e.l.count(Object(_e.v)(e),e),t,3)}function X(e,t){return l(e.getUTCMilliseconds(),t,3)}function J(e,t){return X(e,t)+"000"}function $(e,t){return l(e.getUTCMonth()+1,t,2)}function ee(e,t){return l(e.getUTCMinutes(),t,2)}function te(e,t){return l(e.getUTCSeconds(),t,2)}function ne(e){var t=e.getUTCDay();return 0===t?7:t}function re(e,t){return l(_e.s.count(Object(_e.v)(e),e),t,2)}function ie(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Object(_e.t)(e):_e.t.ceil(e),l(_e.t.count(Object(_e.v)(e),e)+(4===Object(_e.v)(e).getUTCDay()),t,2)}function oe(e){return e.getUTCDay()}function ae(e,t){return l(_e.p.count(Object(_e.v)(e),e),t,2)}function le(e,t){return l(e.getUTCFullYear()%100,t,2)}function se(e,t){return l(e.getUTCFullYear()%1e4,t,4)}function ce(){return"+0000"}function ue(){return"%"}function de(e){return+e}function fe(e){return Math.floor(+e/1e3)}t.a=a;var _e=n(55),pe={"-":"",_:" ",0:"0"},be=/^\s*\d+/,he=/^%/,me=/[\\^$*+?|[\]().{}]/g},function(e,t,n){"use strict";function r(e){return e.toISOString()}n.d(t,"a",function(){return o});var i=n(56),o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Object(i.b)(o)},function(e,t,n){"use strict";function r(){this.stack=Array(40),this.current=-1,this.oldest=-1,this.newest=-1,this.end_of_stack=!0,this.top_of_stack=!0}function i(e,t){return e+1>t-1?0:e+1}function o(e,t){return e-1<0?t-1:e-1}function a(e,t){this.current=i(this.current,this.stack.length),this.end_of_stack?this.oldest=this.current:this.oldest==this.current&&(this.oldest=i(this.oldest,this.stack.length)),this.stack[this.current]={undo:e,redo:t},this.newest=this.current,this.top_of_stack=!0,this.end_of_stack=!1}function l(){if(this.end_of_stack)return console.warn("End of stack.");this.stack[this.current].undo(),this.current==this.oldest?this.end_of_stack=!0:this.current=o(this.current,this.stack.length),this.top_of_stack=!1}function s(){if(this.top_of_stack)return console.warn("Top of stack.");this.end_of_stack||(this.current=i(this.current,this.stack.length)),this.stack[this.current].redo(),this.current==this.newest&&(this.top_of_stack=!0),this.end_of_stack=!1}var c=n(1),u=c.make_class();u.prototype={init:r,push:a,undo:l,redo:s},e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){this.assigned_keys=e||{},this.input_list=t||[],this.mousetrap=n?new d(n):new d,this.ctrl_equals_cmd=!!f.isBoolean(r)&&r,this.mousetrap.stopCallback=function(){return!1},this.enabled=!0,this.update()}function i(e,t){if(!t)return e;var n=f.isArray(e)?e:[e],r=n.reduce(function(e,t){var n=t.replace("ctrl+","meta+");return n!==t&&e.push(n),e},n.slice());return r.length===n.length?e:r}function o(){if(this.mousetrap.reset(),this.enabled)for(var e in this.assigned_keys){var t=this.assigned_keys[e];if(t.key){var n=i(t.key,this.ctrl_equals_cmd);t.input_list=this.input_list,this.mousetrap.bind(n,function(e){var t=!1;if(this.ignore_with_input)for(var n=0,r=this.input_list.length;n<r;n++){var i=this.input_list[n],o=f.isFunction(i)?i():i;if(null!==o&&o.is_visible()){t=!0;break}}t||(this.fn?this.fn.call(this.target):console.warn("No function for key: "+this.key),e.preventDefault())}.bind(t),"keydown")}}}function a(e){f.isUndefined(e)&&(e=!this.enabled),this.enabled=e,this.update()}function l(e,t){return this.add_key_listener("enter",e,t)}function s(e,t){return this.add_key_listener("escape",e,t)}function c(e,t,n){f.isUndefined(n)&&(n=!1);var r=this.mousetrap.unbind.bind(this.mousetrap,e);return this.mousetrap.bind(i(e,this.ctrl_equals_cmd),function(e){e.preventDefault(),t(),n&&r()}),r}var u=n(1),d=n(113),f=n(2),_=u.make_class();_.prototype={init:r,update:o,toggle:a,add_escape_listener:s,add_enter_listener:l,add_key_listener:c},e.exports=_},function(e,t,n){var r;!function(i,o,a){function l(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return v[e.which]?v[e.which]:x[e.which]?x[e.which]:String.fromCharCode(e.which).toLowerCase()}function c(e,t){return e.sort().join(",")===t.sort().join(",")}function u(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function f(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function _(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){if(!y){y={};for(var e in v)e>95&&e<112||v.hasOwnProperty(e)&&(y[v[e]]=e)}return y}function b(e,t,n){return n||(n=p()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function h(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function m(e,t){var n,r,i,o=[];for(n=h(e),i=0;i<n.length;++i)r=n[i],k[r]&&(r=k[r]),t&&"keypress"!=t&&w[r]&&(r=w[r],o.push("shift")),_(r)&&o.push(r);return t=b(r,o,t),{key:r,modifiers:o,action:t}}function g(e,t){return null!==e&&e!==o&&(e===t||g(e.parentNode,t))}function A(e){function t(e){e=e||{};var t,n=!1;for(t in y)e[t]?n=!0:y[t]=0;n||(w=!1)}function n(e,t,n,r,i,o){var a,l,s=[],u=n.type;if(!h._callbacks[e])return[];for("keyup"==u&&_(e)&&(t=[e]),a=0;a<h._callbacks[e].length;++a)if(l=h._callbacks[e][a],(r||!l.seq||y[l.seq]==l.level)&&u==l.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||c(t,l.modifiers))){var d=!r&&l.combo==i,f=r&&l.seq==r&&l.level==o;(d||f)&&h._callbacks[e].splice(a,1),s.push(l)}return s}function r(e,t,n,r){h.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&(d(t),f(t))}function i(e){"number"!==typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&v===t?void(v=!1):void h.handleKey(t,u(e),e)}function a(){clearTimeout(g),g=setTimeout(t,1e3)}function p(e,n,i,o){function l(n){r(i,n,e),"keyup"!==o&&(v=s(n)),setTimeout(t,10)}y[e]=0;for(var c=0;c<n.length;++c){var u=c+1===n.length,d=u?l:function(t){return function(){w=t,++y[e],a()}}(o||m(n[c+1]).action);b(n[c],d,o,e,c)}}function b(e,t,r,i,o){h._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var a,l=e.split(" ");if(l.length>1)return void p(e,l,t,r);a=m(e,r),h._callbacks[a.key]=h._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},i,e,o),h._callbacks[a.key][i?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e})}var h=this;if(e=e||o,!(h instanceof A))return new A(e);h.target=e,h._callbacks={},h._directMap={};var g,y={},v=!1,x=!1,w=!1;h._handleKey=function(e,i,o){var a,l=n(e,i,o),s={},c=0,u=!1;for(a=0;a<l.length;++a)l[a].seq&&(c=Math.max(c,l[a].level));for(a=0;a<l.length;++a)if(l[a].seq){if(l[a].level!=c)continue;u=!0,s[l[a].seq]=1,r(l[a].callback,o,l[a].combo,l[a].seq)}else u||r(l[a].callback,o,l[a].combo);var d="keypress"==o.type&&x;o.type!=w||_(e)||d||t(s),x=u&&"keydown"==o.type},h._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)b(e[r],t,n)},l(e,"keypress",i),l(e,"keydown",i),l(e,"keyup",i)}if(i){for(var y,v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)v[111+C]="f"+C;for(C=0;C<=9;++C)v[C+96]=C.toString();A.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},A.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},A.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},A.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},A.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!g(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},A.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},A.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(v[t]=e[t]);y=null},A.init=function(){var e=A(o);for(var t in e)"_"!==t.charAt(0)&&(A[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},A.init(),i.Mousetrap=A,"undefined"!==typeof e&&e.exports&&(e.exports=A),void 0!==(r=function(){return A}.call(t,n,t,e))&&(e.exports=r)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},function(e,t,n){"use strict";function r(){this.index={}}function i(e,t,n,r){if(!n&&e in this.index)throw new Error("id is already in the index");if(r&&!("name"in t&&"data"in t))throw new Error("malformed record");this.index[e]=t}function o(e){return e in this.index&&(delete this.index[e],!0)}function a(e){var t=RegExp(e,"i"),n=[];for(var r in this.index){var i=this.index[r];t.exec(i.name)&&n.push(i.data)}return n}var l=n(1),s=l.make_class();s.prototype={init:r,insert:i,remove:o,find:a},e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(286);n.d(t,"brush",function(){return r.d}),n.d(t,"brushX",function(){return r.b}),n.d(t,"brushY",function(){return r.c}),n.d(t,"brushSelection",function(){return r.a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n={savedValue:null,currentValue:null,lastStatus:null};return l.default.combineAsArray(e,t.toProperty(null)).scan(n,function(e,t){var n=e.savedValue,r=e.currentValue,i=e.lastStatus,o=t[0],a=t[1],l=i!==a;return l&&"hold"===a?{savedValue:r,currentValue:r,lastStatus:a}:l||"hold"!==a?l&&"abandon"===a?{savedValue:null,currentValue:n,lastStatus:a}:l&&"accept"===a?{savedValue:null,currentValue:r,lastStatus:a}:{savedValue:null,currentValue:o,lastStatus:a}:{savedValue:n,currentValue:o,lastStatus:a}}).skip(1).map(function(e){return e.currentValue}).skipDuplicates().toEventStream()}t.__esModule=!0;var a=n(57),l=r(a),s=n(2),c=r(s),u=function(){function e(t,n){var r=this;i(this,e),this._options=t,this.statusBus=new l.default.Bus;var o=c.default.chain(t).mapObject(function(e,t){var i=c.default.contains(n,t),o=r.createSetting(t,e,i);return[o.bus,o.stream]}).pairs().map(function(e){var t=e[0],n=e[1];return[[t,n[0]],[t,n[1]]]}).unzip().map(function(e){return c.default.object(e)}).value();this.busses=o[0],this.streams=o[1]}return e.prototype.createSetting=function(e,t,n){var r=this,i=new l.default.Bus,a=n?o(i,this.statusBus):i.toEventStream();return a.onValue(function(t){r._options[e]=t}),i.push(t),{bus:i,stream:a}},e.prototype.set_conditional=function(e,t){return console.warn("set_conditional is deprecated. Use Settings.set() instead"),this.set(e,t)},e.prototype.set=function(e,t){if(!(e in this.busses))throw new Error("Invalid setting name "+e);this.busses[e].push(t)},e.prototype.get_option=function(e){return console.warn("get_option is deprecated. Use Settings.get() instead"),this.get(e)},e.prototype.get=function(e){return this._options[e]},e.prototype.holdChanges=function(){this.statusBus.push("hold")},e.prototype.abandonChanges=function(){this.statusBus.push("abandon")},e.prototype.acceptChanges=function(){this.statusBus.push("accept")},e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,s.render)((0,s.h)(c,{component:e,connectSetStateFn:n,ref:t,refPassthrough:i}),r,r.children.length>0?r.firstChild:void 0)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(4),c=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.state={},o}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.connectSetStateFn(function(t){return e.setState(t)})},t.prototype.is_visible=function(){return this.state.display},t.prototype.render=function(){var e=this;return this.state.display?(0,s.h)(this.props.component,l({setDisplay:function(t){return e.setState({display:t})},ref:this.props.refPassthrough},this.state)):null},t}(s.Component);t.default=a},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,nCUAAPQkAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAPEi+7wAAAAAAAAAAAAAAAAAAAAAAABAAZgBvAG4AdABlAGwAbABvAAAADgBSAGUAZwB1AGwAYQByAAAAFgBWAGUAcgBzAGkAbwBuACAAMQAuADAAAAAQAGYAbwBuAHQAZQBsAGwAbwAAAAAAAAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI+I1MqAAABUAAAAFZjbWFwh1r3sAAAAagAAAK4Y3Z0IAbV/v4AABjcAAAAIGZwZ22KkZBZAAAY/AAAC3BnYXNwAAAAEAAAGNQAAAAIZ2x5ZhPQy/4AAARgAAAPmmhlYWQPoZfIAAAT/AAAADZoaGVhBzsDaAAAFDQAAAAkaG10eElc//wAABRYAAAAWGxvY2Ep+yYIAAAUsAAAAC5tYXhwASUMCgAAFOAAAAAgbmFtZcydHR8AABUAAAACzXBvc3Sd6TSHAAAX0AAAAQNwcmVw5UErvAAAJGwAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDVgGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOgA8kUDUv9qAFoDUgCZAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGsAAEAAAAAAKYAAwABAAAALAADAAoAAAGsAAQAegAAABAAEAADAADoC+gR8EfwsvDI8N3yRf//AADoAOgO8EfwsvDI8N3yRf//AAAAAAAAAAAAAAAAAAAAAQAQACYALAAsACwALAAsAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAQwAAAAAAAAAFQAA6AAAAOgAAAAAAQAA6AEAAOgBAAAAAgAA6AIAAOgCAAAAAwAA6AMAAOgDAAAABAAA6AQAAOgEAAAABQAA6AUAAOgFAAAABgAA6AYAAOgGAAAABwAA6AcAAOgHAAAACAAA6AgAAOgIAAAACQAA6AkAAOgJAAAACgAA6AoAAOgKAAAACwAA6AsAAOgLAAAADAAA6A4AAOgOAAAADQAA6A8AAOgPAAAADgAA6BAAAOgQAAAADwAA6BEAAOgRAAAAEAAA8EcAAPBHAAAAEQAA8LIAAPCyAAAAEgAA8MgAAPDIAAAAEwAA8N0AAPDdAAAAFAAA8kUAAPJFAAAAFQABAAAAAAOlApgAFQAdQBoPAQABAUcAAgECbwABAAFvAAAAZhQXFAMFFysBFAcBBiInASY0PwE2Mh8BATYyHwEWA6UQ/iAQLBD+6g8PTBAsEKQBbhAsEEwQAhYWEP4gDw8BFhAsEEwQEKUBbxAQTA8AAQAA/+8C1AKGACQAHkAbIhkQBwQAAgFHAwECAAJvAQEAAGYUHBQUBAUYKyUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYC1A9MECwQpKQQLBBMEBCkpBAQTBAsEKSkECwQTA8PpKQPcBYQTA8PpaUPD0wQLBCkpBAsEEwQEKSkEBBMDy4PpKQPAAEAAP/5AxIDCwAjAClAJgAEAwRvAAEAAXAFAQMAAANUBQEDAwBYAgEAAwBMIzMlIzMjBgUaKwEVFAYnIxUUBgcjIiY3NSMiJic1NDY3MzU0NjsBMhYXFTMyFgMSIBboIBZrFiAB6BceASAW6B4XaxceAegXHgG3axYgAekWHgEgFekeF2sXHgHoFiAgFuggAAEAAP/PA4MDCwAeACBAHRgPAgABAUcAAgECbwMBAQABbwAAAGYVNRcUBAUYKwEUBwEGIicBJjQ/ATYyHwERNDY3MzIWFRE3NjIfARYDgxX+lRY6Ff6VFRUpFjoVpCoeRx0qpRQ7FikVAYIeFP6UFRUBbBQ7FikVFaQBiR0qASwc/nekFRUpFgABAAD/iANZAu0AHQAkQCEAAgMCbwABAAFwAAMAAANUAAMDAFgAAAMATCYXFiMEBRgrARUUBiMhFxYUDwEGIicBJjQ3ATYyHwEWFA8BITIWA1kkHf53pBUVKhU7Ff6UFBQBbBU6FioVFaQBiR0kAV5HHiqkFDwUKxQUAWwVOhYBaxUVKRY6FqQoAAAAAAEAAP+IAzUC7QAeACRAIQADAgNvAAABAHAAAgEBAlQAAgIBWAABAgFMFiUmFAQFGCsBFAcBBiIvASY0PwEhIiY9ATQ2FyEnJjQ/ATYyFwEWAzUU/pUWOhUqFhaj/ncdJCQdAYmjFhYqFToWAWsUAToeFP6UFBQqFTwVoyoeRx4qAaUUPBQqFRX+lRQAAQAA/7EDgwLnAB4AIEAdEAcCAAMBRwADAANvAgEAAQBvAAEBZhcVNRQEBRgrARQPAQYiLwERFAYHIyImNREHBiIvASY0NwE2MhcBFgODFSkWOxSlKB9HHiqkFDwUKhUVAWsUPBUBaxUBNBwWKhUVpP53HSQBJhwBiaQVFSoVOxUBaxUV/pUWAAEAAP/AApgDRAAUAC21AQEAAQFHS7AkUFhACwAAAQBwAAEBDAFJG0AJAAEAAW8AAABmWbQXFwIFFisJAhYUDwEGIicBJjQ3ATYyHwEWFAKO/tcBKQoKXQscC/5iCwsBngoeCl0KAqr+2P7XCh4KXQoKAZ8KHgoBngsLXQoeAAAAAQAA/8ACdANEABQALbUJAQABAUdLsCRQWEALAAABAHAAAQEMAUkbQAkAAQABbwAAAGZZtBwSAgUWKwkBBiIvASY0NwkBJjQ/ATYyFwEWFAJq/mILHAtdCwsBKP7YCwtdCh4KAZ4KAWn+YQoKXQscCwEpASgLHAtdCwv+YgscAAADAAD/dgOgAwsACAAUAC4AWUAQJgEEAygnEgMCBAABAQADR0uwIVBYQBoAAwQDbwAEAgRvAAIAAm8AAAEAbwABAQ0BSRtAGAADBANvAAQCBG8AAgACbwAAAQBvAAEBZlm3HCMtGBIFBRkrNzQmDgIeATYlAQYiLwEmNDcBHgElFAcOASciJjQ2NzIWFxYUDwEVFzY/ATYyFtYUHhQCGBoYAWb+gxU6FjsVFQF8FlQBmQ0bgk9okpJoIEYZCQmjbAIqSyEPCh0OFgISIBIEGvb+gxQUPRQ7FgF8N1TdFiVLXgGS0JACFBAGEgdefTwCGS0UCgAAAgAA/7EDWgMLABgAMAAxQC4oHxkDAgQSDAMDAAECRwAEAgRvAAIDAm8AAwEDbwABAAFvAAAAZjoUFxo3BQUZKwEUDwEXFhQGByMiJic1ND4BHwE3NjIfARYBFRQOAS8BBwYiLwEmND8BJyY0NjczMhYBpQW5UAoUD/oPFAEWHAtQugUOBkAFAbQUIAlQuQYOBkAFBbpRChQP+g8WAQUHBrlRCh4UARYO+g8UAgxQuQYGPwYB2/oPFAIMULkGBkAFDga5UQoeFAEWAAAAAf/+/7EDWQMLADAAPUA6LQEBBQkBAAECRwAAAQMBAANtAAMCAQMCawAFAAEABQFgAAIEBAJUAAICBFgABAIETCcnEyckMwYFGisBFRQGKwEiJj8BJiMiDgIUHgIzMjY3PgEfAR4BBw4BByIuAj4DMzIWFzc2FgNZFBD6FxMRTVJwOmpMLi5MajpCdikEEQZMBQIGPK5fV6BwSARAeJhbUpg9SBEsAsP6DhYtEE1NLkxqdGpMLjo1BgEFTQQOBkpQAUR0nq6edEQ+OUgSEwAAAAYAAP+xAxIDCwAPAB8ALwA7AEMAZwBkQGFXRQIGCCkhGREJAQYAAQJHBQMCAQYABgEAbQQCAgAHBgAHawAOAAkIDglgDw0CCAwKAgYBCAZeAAcLCwdUAAcHC1gACwcLTGVkYV5bWVNST0xJR0E/FCQUJiYmJiYjEAUdKwERFAYrASImNRE0NjsBMhYXERQGKwEiJjURNDY7ATIWFxEUBisBIiY1ETQ2OwEyFhMRIREUHgEzITI+AQEzJyYnIwYHBRUUBisBERQGIyEiJicRIyImPQE0NjsBNz4BNzMyFh8BMzIWAR4KCCQICgoIJAgKjwoIJAgKCggkCAqOCgckCAoKCCQHCkj+DAgIAgHQAggI/on6GwQFsQYEAesKCDY0Jf4wJTQBNQgKCgisJwksFrIXKgknrQgKAbf+vwgKCggBQQgKCgj+vwgKCggBQQgKCgj+vwgKCggBQQgKCv5kAhH97wwUCgoUAmVBBQEBBVMkCAr97y5EQi4CEwoIJAgKXRUcAR4UXQoAAgAA/7EDoQMLAAcAUACzQAk+NiEJBAUDAUdLsApQWEAqAAEAAW8ABQMCAwUCbQACBAMCBGsHBgIEBG4AAAMDAFIAAAADVgADAANKG0uwC1BYQCoAAQABbwAFAwIDBQJtBAECBgMCBmsHAQYGbgAAAwMAUgAAAANWAAMAA0obQCoAAQABbwAFAwIDBQJtAAIEAwIEawcGAgQEbgAAAwMAUgAAAANWAAMAA0pZWUATCAgIUAhQTEtKSTs6KiMbUQgFFisBBxcWMzI3JgE3PgQ3GwEzFxMeARceARcWFx4BFxYVFAYXIiYHIgYjND8CNj8BNj8BNic0Ji8CDgEXFB4BHwEWNxYVFAciJiMiBicGAZVfTDofCxUw/jUBDSQcHBYGhJxIBnITUhYJMBALCAtMCQQCASOOJCqcFQJJBwYDEQQCBQMCIhcY+w46ARAgCyAVAgEBIYIgBRQCLQIa+wEBAY3+BiwEBgYKGBABWAGUDP70K8o0E3ohGgYJEAMWCgMKAgoBCBgTEAEBAQcCAgYEBAlaNjgBIJoODBIKAgUDAQsVBQsMBgEIAAP///9qA6EDDQAjACwARQBdQFofGAIDBBMSAQMAAw0GAgEAQwEHATIBCQcFRwAEBgMGBANtAAEABwABB20ACgAGBAoGYAUBAwIBAAEDAGAABwAJCAcJYAAICA0IST08NTMUExUUIyYUIyMLBR0rARUUBicjFRQGJyMiJjc1IyImJzU0NjsBNTQ2OwEyFhcVMzIWFzQuAQYUFj4BARQGIi8BBiMiLgI+BB4CFxQHFxYCOwoHfQwGJAcMAX0HCgEMBn0KCCQHCgF9BwpIktCSktCSAR4qPBS/ZHtQkmhAAjxsjqSObDwBRb8VAZQkBwwBfQcMAQoIfQoIJAcKfQgKCgh9ChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAAD////agOhAw0ADwAYADEAO0A4CQgBAwABLwEDAB4BBQMDRwAGAAIBBgJgAAEAAAMBAGAAAwAFBAMFYAAEBA0ESRcjFBMVJiMHBRsrARUUBichIiYnNTQ2MyEyFhc0LgEGFBY+AQEUBiIvAQYjIi4CPgQeAhcUBxcWAjsKB/6+BwoBDAYBQgcKSJLQkpLQkgEeKjwUv2R7UJJoQAI8bI6kjmw8AUW/FQGUJAcMAQoIJAcKChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAEAAP9qA+gDUgBEAFBATQsBCQoHCgkHbQ0BBwgKBwhrBgEAAQIBAAJtBAECAwECA2sMAQgFAQEACAFeAAoKDEgAAwMNA0lBQD08Ozk0My4sExcTESUVIRMUDgUdKwEUDwEGIiY9ASMVMzIWFA8BBiIvASY0NjsBNSMVFAYiLwEmND8BNjIWHQEzNSMiJjQ/ATYyHwEWFAYrARUzNTQ2Mh8BFgPoC44LHhTXSA4WC48KHgqPCxYOSNcUHgqPCwuPCh4U10gOFguPCxwLjwsWDkjXFB4LjgsBXg4LjwsWDkjXFB4KjwsLjwoeFNdIDhYLjwscC48LFg5I1xQeC44LC44LHhTXSA4WC48KAAABAAD/sQNaAwsARQAyQC8+NTMiBAIDNCEgGxIREAIBCQACAkcEAQMCA28FAQIAAm8BAQAAZiY6Nxs6OQYFGisBBxc3NhYdARQGKwEiJyY/AScHFxYHBisBIiYnNTQ2HwE3JwcGIyInJj0BNDY7ATIXFg8BFzcnJjc2OwEyFgcVFAcGIyInAszGxlARLBQQ+hcJChFRxsZQEQkKF/oPFAEsEVDGxlALDgcHFhYO+hcKCRFQxsZREQoJF/oPFgEWBwcOCwIkxsZQEhMY+g4WFxURUcbGUREVFxYO+hgTElDGxlALAwkY+g4WFxURUcbGUREVFxYO+hgJAwsAAAABAAD/sQNZAwsADwARQA4AAQABbwAAAGY1MwIFFisBERQGByEiJjURNDY3ITIWA1leQ/3pQ15eQwIXQ14Cav3oQl4BYEECGEJeAWAAAQAA/9UCPAEXAA4AF0AUAAEAAQFHAAEAAW8AAABmJhQCBRYrJRQPAQYiLwEmNDY3ITIWAjsK+gscC/oLFg4B9A4W8w8K+gsL+goeFAEWAAABAAD/ZwKKA1IAHAAhQB4OAQEAAUcAAAIBAgABbQABAW4AAgIMAkkoGyMDBRcrARYHBisBExYGDwEGJi8BBwYjIicmNRE0NzYzMhcCeBIKCRjVcAYMDWMOGgZrrgsOBwcWFgcHDwoBDBEVF/72DRwFKgYMDfyuCwMKFwNHGAkDCwAAAAABAAAAAQAA775IPF8PPPUACwPoAAAAANZOKhUAAAAA1k4qFf/+/2cD6ANSAAAACAACAAAAAAAAAAEAAANS/2oAAAPo//7//wPoAAEAAAAAAAAAAAAAAAAAAAAWA+gAAAPoAAADEQAAAxEAAAOgAAADWQAAA1kAAAOgAAACygAAAsoAAAOgAAADWQAAA1n//gMRAAADoAAAA6D//wOg//8D6AAAA1kAAANZAAACOwAAAsoAAAAAAAAAOACCAMoBDgFUAZoB3gIeAl4C2AM+A6YEagU+BdAGOgbABz4HZAeMB80AAAABAAAAFgBoAAYAAAAAAAIAIAAwAHMAAAB1C3AAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACAA1AAEAAAAAAAIABwA9AAEAAAAAAAMACABEAAEAAAAAAAQACABMAAEAAAAAAAUACwBUAAEAAAAAAAYACABfAAEAAAAAAAoAKwBnAAEAAAAAAAsAEwCSAAMAAQQJAAAAagClAAMAAQQJAAEAEAEPAAMAAQQJAAIADgEfAAMAAQQJAAMAEAEtAAMAAQQJAAQAEAE9AAMAAQQJAAUAFgFNAAMAAQQJAAYAEAFjAAMAAQQJAAoAVgFzAAMAAQQJAAsAJgHJQ29weXJpZ2h0IChDKSAyMDE3IGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21mb250ZWxsb1JlZ3VsYXJmb250ZWxsb2ZvbnRlbGxvVmVyc2lvbiAxLjBmb250ZWxsb0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABDACkAIAAyADAAMQA3ACAAYgB5ACAAbwByAGkAZwBpAG4AYQBsACAAYQB1AHQAaABvAHIAcwAgAEAAIABmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQBmAG8AbgB0AGUAbABsAG8AUgBlAGcAdQBsAGEAcgBmAG8AbgB0AGUAbABsAG8AZgBvAG4AdABlAGwAbABvAFYAZQByAHMAaQBvAG4AIAAxAC4AMABmAG8AbgB0AGUAbABsAG8ARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXAAJvawZjYW5jZWwEcGx1cwhkb3duLWJpZwhsZWZ0LWJpZwlyaWdodC1iaWcGdXAtYmlnCWxlZnQtb3BlbgpyaWdodC1vcGVuBndyZW5jaAtyZXNpemUtZnVsbAJjdwt0cmFzaC1lbXB0eQRmb250B3pvb20taW4Iem9vbS1vdXQEbW92ZQ9yZXNpemUtZnVsbC1hbHQFYmxhbmsJc29ydC1kb3duDW1vdXNlLXBvaW50ZXIAAAAAAQAB//8ADwAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGANS/2cDUv9nsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIGQgsMBQsAQmWrIoAQpDRWNFUltYISMhG4pYILBQUFghsEBZGyCwOFBYIbA4WVkgsQEKQ0VjRWFksChQWCGxAQpDRWNFILAwUFghsDBZGyCwwFBYIGYgiophILAKUFhgGyCwIFBYIbAKYBsgsDZQWCGwNmAbYFlZWRuwAStZWSOwAFBYZVlZLbADLCBFILAEJWFkILAFQ1BYsAUjQrAGI0IbISFZsAFgLbAELCMhIyEgZLEFYkIgsAYjQrEBCkNFY7EBCkOwAWBFY7ADKiEgsAZDIIogirABK7EwBSWwBCZRWGBQG2FSWVgjWSEgsEBTWLABKxshsEBZI7AAUFhlWS2wBSywB0MrsgACAENgQi2wBiywByNCIyCwACNCYbACYmawAWOwAWCwBSotsAcsICBFILALQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAILLIHCwBDRUIqIbIAAQBDYEItsAkssABDI0SyAAEAQ2BCLbAKLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbALLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsAwsILAAI0KyCwoDRVghGyMhWSohLbANLLECAkWwZGFELbAOLLABYCAgsAxDSrAAUFggsAwjQlmwDUNKsABSWCCwDSNCWS2wDywgsBBiZrABYyC4BABjiiNhsA5DYCCKYCCwDiNCIy2wECxLVFixBGREWSSwDWUjeC2wESxLUVhLU1ixBGREWRshWSSwE2UjeC2wEiyxAA9DVVixDw9DsAFhQrAPK1mwAEOwAiVCsQwCJUKxDQIlQrABFiMgsAMlUFixAQBDYLAEJUKKiiCKI2GwDiohI7ABYSCKI2GwDiohG7EBAENgsAIlQrACJWGwDiohWbAMQ0ewDUNHYLACYiCwAFBYsEBgWWawAWMgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLEAABMjRLABQ7AAPrIBAQFDYEItsBMsALEAAkVUWLAPI0IgRbALI0KwCiOwAWBCIGCwAWG1EBABAA4AQkKKYLESBiuwcisbIlktsBQssQATKy2wFSyxARMrLbAWLLECEystsBcssQMTKy2wGCyxBBMrLbAZLLEFEystsBossQYTKy2wGyyxBxMrLbAcLLEIEystsB0ssQkTKy2wHiwAsA0rsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wHyyxAB4rLbAgLLEBHistsCEssQIeKy2wIiyxAx4rLbAjLLEEHistsCQssQUeKy2wJSyxBh4rLbAmLLEHHistsCcssQgeKy2wKCyxCR4rLbApLCA8sAFgLbAqLCBgsBBgIEMjsAFgQ7ACJWGwAWCwKSohLbArLLAqK7AqKi2wLCwgIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgjIIpVWCBHICCwC0NjuAQAYiCwAFBYsEBgWWawAWNgI2E4GyFZLbAtLACxAAJFVFiwARawLCqwARUwGyJZLbAuLACwDSuxAAJFVFiwARawLCqwARUwGyJZLbAvLCA1sAFgLbAwLACwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwC0NjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sS8BFSotsDEsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYTgtsDIsLhc8LbAzLCA8IEcgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2GwAUNjOC2wNCyxAgAWJSAuIEewACNCsAIlSYqKRyNHI2EgWGIbIVmwASNCsjMBARUUKi2wNSywABawBCWwBCVHI0cjYbAJQytlii4jICA8ijgtsDYssAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgsAhDIIojRyNHI2EjRmCwBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2EjICCwBCYjRmE4GyOwCENGsAIlsAhDRyNHI2FgILAEQ7ACYiCwAFBYsEBgWWawAWNgIyCwASsjsARDYLABK7AFJWGwBSWwAmIgsABQWLBAYFlmsAFjsAQmYSCwBCVgZCOwAyVgZFBYIRsjIVkjICCwBCYjRmE4WS2wNyywABYgICCwBSYgLkcjRyNhIzw4LbA4LLAAFiCwCCNCICAgRiNHsAErI2E4LbA5LLAAFrADJbACJUcjRyNhsABUWC4gPCMhG7ACJbACJUcjRyNhILAFJbAEJUcjRyNhsAYlsAUlSbACJWG5CAAIAGNjIyBYYhshWWO4BABiILAAUFiwQGBZZrABY2AjLiMgIDyKOCMhWS2wOiywABYgsAhDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsDssIyAuRrACJUZSWCA8WS6xKwEUKy2wPCwjIC5GsAIlRlBYIDxZLrErARQrLbA9LCMgLkawAiVGUlggPFkjIC5GsAIlRlBYIDxZLrErARQrLbA+LLA1KyMgLkawAiVGUlggPFkusSsBFCstsD8ssDYriiAgPLAEI0KKOCMgLkawAiVGUlggPFkusSsBFCuwBEMusCsrLbBALLAAFrAEJbAEJiAuRyNHI2GwCUMrIyA8IC4jOLErARQrLbBBLLEIBCVCsAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgR7AEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYbACJUZhOCMgPCM4GyEgIEYjR7ABKyNhOCFZsSsBFCstsEIssDUrLrErARQrLbBDLLA2KyEjICA8sAQjQiM4sSsBFCuwBEMusCsrLbBELLAAFSBHsAAjQrIAAQEVFBMusDEqLbBFLLAAFSBHsAAjQrIAAQEVFBMusDEqLbBGLLEAARQTsDIqLbBHLLA0Ki2wSCywABZFIyAuIEaKI2E4sSsBFCstsEkssAgjQrBIKy2wSiyyAABBKy2wSyyyAAFBKy2wTCyyAQBBKy2wTSyyAQFBKy2wTiyyAABCKy2wTyyyAAFCKy2wUCyyAQBCKy2wUSyyAQFCKy2wUiyyAAA+Ky2wUyyyAAE+Ky2wVCyyAQA+Ky2wVSyyAQE+Ky2wViyyAABAKy2wVyyyAAFAKy2wWCyyAQBAKy2wWSyyAQFAKy2wWiyyAABDKy2wWyyyAAFDKy2wXCyyAQBDKy2wXSyyAQFDKy2wXiyyAAA/Ky2wXyyyAAE/Ky2wYCyyAQA/Ky2wYSyyAQE/Ky2wYiywNysusSsBFCstsGMssDcrsDsrLbBkLLA3K7A8Ky2wZSywABawNyuwPSstsGYssDgrLrErARQrLbBnLLA4K7A7Ky2waCywOCuwPCstsGkssDgrsD0rLbBqLLA5Ky6xKwEUKy2wayywOSuwOystsGwssDkrsDwrLbBtLLA5K7A9Ky2wbiywOisusSsBFCstsG8ssDorsDsrLbBwLLA6K7A8Ky2wcSywOiuwPSstsHIsswkEAgNFWCEbIyFZQiuwCGWwAyRQeLABFTAtAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAFQrIAAQAqsQAFQrMKAgEIKrEABUKzDgABCCqxAAZCugLAAAEACSqxAAdCugBAAAEACSqxAwBEsSQBiFFYsECIWLEDZESxJgGIUVi6CIAAAQRAiGNUWLEDAERZWVlZswwCAQwquAH/hbAEjbECAEQAAA=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.libs=t.initializeJupyterWidget=t.ZoomContainer=t.data_styles=t.Settings=t.SearchIndex=t.utils=t.CobraModel=t.UndoStack=t.DataMenu=t.KeyManager=t.Behavior=t.Map=t.default=t.Builder=t.version=void 0;var i=n(58);Object.defineProperty(t,"Builder",{enumerable:!0,get:function(){return r(i).default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}});var o=n(89);Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return r(o).default}});var a=n(90);Object.defineProperty(t,"Behavior",{enumerable:!0,get:function(){return r(a).default}});var l=n(112);Object.defineProperty(t,"KeyManager",{enumerable:!0,get:function(){return r(l).default}});var s=n(332);Object.defineProperty(t,"DataMenu",{enumerable:!0,get:function(){return r(s).default}});var c=n(111);Object.defineProperty(t,"UndoStack",{enumerable:!0,get:function(){return r(c).default}});var u=n(44);Object.defineProperty(t,"CobraModel",{enumerable:!0,get:function(){return r(u).default}});var d=n(1);Object.defineProperty(t,"utils",{enumerable:!0,get:function(){return r(d).default}});var f=n(114);Object.defineProperty(t,"SearchIndex",{enumerable:!0,get:function(){return r(f).default}});var _=n(116);Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return r(_).default}});var p=n(16);Object.defineProperty(t,"data_styles",{enumerable:!0,get:function(){return r(p).default}});var b=n(75);Object.defineProperty(t,"ZoomContainer",{enumerable:!0,get:function(){return r(b).default}});var h=n(333);Object.defineProperty(t,"initializeJupyterWidget",{enumerable:!0,get:function(){return r(h).default}});var m=n(2),g=r(m),A=n(4),y=r(A),v=n(57),x=r(v),w=n(113),k=r(w),C=n(59),B=r(C),E=n(0),M=n(19);t.version="1.7.0-beta.8",t.libs={_:g.default,underscore:g.default,preact:y.default,baconjs:x.default,mousetrap:k.default,vkbeautify:B.default,d3_selection:E.selection,d3_select:E.select,d3_json:M.json}},function(e,t,n){"use strict";n(33)},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}var o=n(33),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(e){return e+="",this[o.b+e]=e,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function l(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=s,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var s={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=o(e+"",r),s=-1,c=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++s<c;)if(n=(e=i[s]).type)r[n]=l(r[n],e.name,t);else if(null==t)for(n in r)r[n]=l(r[n],e.name,null);return this}for(;++s<c;)if((n=(e=i[s]).type)&&(n=a(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=r},function(e,t,n){"use strict";var r=n(25);t.a=Object(r.a)("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)})},function(e,t,n){"use strict";var r=n(25);t.a=Object(r.a)("application/json",function(e){return JSON.parse(e.responseText)})},function(e,t,n){"use strict";var r=n(25);t.a=Object(r.a)("text/plain",function(e){return e.responseText})},function(e,t,n){"use strict";var r=n(25);t.a=Object(r.a)("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})},function(e,t,n){"use strict";var r=n(34),i=n(61);t.a=Object(i.a)("text/csv",r.csvParse)},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return s});var r=n(35),i=Object(r.a)(","),o=i.parse,a=i.parseRows,l=i.format,s=i.formatRows},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return s});var r=n(35),i=Object(r.a)("\t"),o=i.parse,a=i.parseRows,l=i.format,s=i.formatRows},function(e,t,n){"use strict";var r=n(34),i=n(61);t.a=Object(i.a)("text/tab-separated-values",r.tsvParse)},function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}t.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";var r=n(39),i=n(26);t.a=function(e){var t=Object(r.a)();return t.changedTouches&&(t=t.changedTouches[0]),Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return"string"===typeof e?new r.a([[document.querySelector(e)]],[document.documentElement]):new r.a([[e]],r.c)}},function(e,t,n){"use strict";var r=n(5),i=n(41);t.a=function(e){"function"!==typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var l,s,c=t[a],u=c.length,d=o[a]=new Array(u),f=0;f<u;++f)(l=c[f])&&(s=e.call(l,l.__data__,f,c))&&("__data__"in l&&(s.__data__=l.__data__),d[f]=s);return new r.a(o,this._parents)}},function(e,t,n){"use strict";var r=n(5),i=n(63);t.a=function(e){"function"!==typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,o=[],a=[],l=0;l<n;++l)for(var s,c=t[l],u=c.length,d=0;d<u;++d)(s=c[d])&&(o.push(e.call(s,s.__data__,d,c)),a.push(s));return new r.a(o,a)}},function(e,t,n){"use strict";var r=n(5),i=n(62);t.a=function(e){"function"!==typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var l,s=t[a],c=s.length,u=o[a]=[],d=0;d<c;++d)(l=s[d])&&e.call(l,l.__data__,d,s)&&u.push(l);return new r.a(o,this._parents)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var l,s=0,c=t.length,u=o.length;s<u;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new a.a(e,o[s]);for(;s<c;++s)(l=t[s])&&(i[s]=l)}function i(e,t,n,r,i,o,l){var c,u,d,f={},_=t.length,p=o.length,b=new Array(_);for(c=0;c<_;++c)(u=t[c])&&(b[c]=d=s+l.call(u,u.__data__,c,t),d in f?i[c]=u:f[d]=u);for(c=0;c<p;++c)d=s+l.call(e,o[c],c,o),(u=f[d])?(r[c]=u,u.__data__=o[c],f[d]=null):n[c]=new a.a(e,o[c]);for(c=0;c<_;++c)(u=t[c])&&f[b[c]]===u&&(i[c]=u)}var o=n(5),a=n(64),l=n(141),s="$";t.a=function(e,t){if(!e)return m=new Array(this.size()),_=-1,this.each(function(e){m[++_]=e}),m;var n=t?i:r,a=this._parents,s=this._groups;"function"!==typeof e&&(e=Object(l.a)(e));for(var c=s.length,u=new Array(c),d=new Array(c),f=new Array(c),_=0;_<c;++_){var p=a[_],b=s[_],h=b.length,m=e.call(p,p&&p.__data__,_,a),g=m.length,A=d[_]=new Array(g),y=u[_]=new Array(g);n(p,b,A,y,f[_]=new Array(h),m,t);for(var v,x,w=0,k=0;w<g;++w)if(v=A[w]){for(w>=k&&(k=w+1);!(x=y[k])&&++k<g;);v._next=x||null}}return u=new o.a(u,a),u._enter=d,u._exit=f,u}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(65),i=n(5);t.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var c,u=t[s],d=n[s],f=u.length,_=l[s]=new Array(f),p=0;p<f;++p)(c=u[p]||d[p])&&(_[p]=c);for(;s<i;++s)l[s]=t[s];return new r.a(l,this._parents)}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var i=n(5);t.a=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,o=n.length,a=new Array(o),l=0;l<o;++l){for(var s,c=n[l],u=c.length,d=a[l]=new Array(u),f=0;f<u;++f)(s=c[f])&&(d[f]=s);d.sort(t)}return new i.a(a,this._parents).order()}},function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.each(function(){++e}),e}},function(e,t,n){"use strict";t.a=function(){return!this.node()}},function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,l=o.length;a<l;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function a(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function s(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var c=n(37);t.a=function(e,t){var n=Object(c.a)(e);if(arguments.length<2){var u=this.node();return n.local?u.getAttributeNS(n.space,n.local):u.getAttribute(n)}return this.each((null==t?n.local?i:r:"function"===typeof t?n.local?s:l:n.local?a:o)(n,t))}},function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function o(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?r:"function"===typeof t?o:i)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new o(e)}function o(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function a(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function l(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function s(e){return function(){a(this,e)}}function c(e){return function(){l(this,e)}}function u(e,t){return function(){(t.apply(this,arguments)?a:l)(this,e)}}o.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=r(e+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,l=n.length;++a<l;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"===typeof t?u:t?s:c)(n,t))}},function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function o(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"===typeof e?o:i)(e)):this.node().textContent}},function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function o(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"===typeof e?o:i)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";var r=n(36);t.a=function(e){var t="function"===typeof e?e:Object(r.a)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},function(e,t,n){"use strict";function r(){return null}var i=n(36),o=n(41);t.a=function(e,t){var n="function"===typeof e?e:Object(i.a)(e),a=null==t?r:"function"===typeof t?t:Object(o.a)(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";function r(e,t,n){var r=Object(a.a)(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function i(e,t){return function(){return r(this,e,t)}}function o(e,t){return function(){return r(this,e,t.apply(this,arguments))}}var a=n(42);t.a=function(e,t){return this.each(("function"===typeof t?o:i)(e,t))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return"string"===typeof e?new r.a([document.querySelectorAll(e)],[document.documentElement]):new r.a([null==e?[]:e],r.c)}},function(e,t,n){"use strict";var r=n(39),i=n(26);t.a=function(e,t,n){arguments.length<3&&(n=t,t=Object(r.a)().changedTouches);for(var o,a=0,l=t?t.length:0;a<l;++a)if((o=t[a]).identifier===n)return Object(i.a)(e,o);return null}},function(e,t,n){"use strict";var r=n(39),i=n(26);t.a=function(e,t){null==t&&(t=Object(r.a)().touches);for(var n=0,o=t?t.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(e,t[n]);return a}},function(e,t,n){var r,i=i||function(e){"use strict";if(!("undefined"===typeof e||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c=function(e){var t=function(){"string"===typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},u=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"===typeof i)try{i.call(e,n||e)}catch(e){s(e)}}},d=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},f=function(t,s,f){f||(t=d(t));var _,p=this,b=t.type,h="application/octet-stream"===b,m=function(){u(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return _=n().createObjectURL(t),void setTimeout(function(){r.href=_,r.download=s,o(r),m(),c(_),p.readyState=p.DONE});!function(){if((l||h&&a)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=l?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,m()},r.readAsDataURL(t),void(p.readyState=p.INIT)}if(_||(_=n().createObjectURL(t)),h)e.location.href=_;else{e.open(_,"_blank")||(e.location.href=_)}p.readyState=p.DONE,m(),c(_)}()},_=f.prototype,p=function(e,t,n){return new f(e,t||e.name||"download",n)};return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=d(e)),navigator.msSaveOrOpenBlob(e,t)}:(_.abort=function(){},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,p)}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof e&&e.exports?e.exports.saveAs=i:null!==n(67)&&null!==n(68)&&void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(1),a=r(o),l=n(43),s=r(l),c=n(169),u=r(c),d=n(170),f=r(d),_=n(44),p=r(_),b=n(2),h=r(b),m=n(0),g=function(){function e(t,n,r,o){var a=this;i(this,e);var l=t.append("div").attr("id","rxn-input");this.placed_div=(0,s.default)(l,n,{x:240,y:0}),this.placed_div.hide(),this.completely=(0,u.default)(l.node(),{backgroundColor:"#eee"}),l.append("button").attr("class","button input-close-button").text("\xd7").on("mousedown",function(){return a.hideDropdown()}),this.map=n;this.direction_arrow=new f.default(n.sel),this.direction_arrow.set_rotation(90),this.setUpMapCallbacks(n),this.zoom_container=r,this.setUpZoomCallbacks(r),this.settings=o,this.toggle(!1),this.target_coords=null}return e.prototype.setUpMapCallbacks=function(e){var t=this;e.callback_manager.set("select_metabolite_with_id.input",function(e,n){if(t.is_active){t.reload(e,n,!1)&&t.showDropdown(n)}t.hideTarget()}),e.callback_manager.set("select_selectable.input",function(e,n,r){if(t.hideTarget(),1===e&&t.is_active&&r){t.reload(n,r,!1)&&t.showDropdown(r)}else t.toggle(!1)}),e.callback_manager.set("deselect_nodes",function(){t.direction_arrow.hide(),t.hideDropdown()}),e.callback_manager.set("before_svg_export",function(){t.direction_arrow.hide(),t.hideTarget()})},e.prototype.setUpZoomCallbacks=function(e){},e.prototype.is_visible=function(){return this.placed_div.is_visible()},e.prototype.toggle=function(e){if(this.is_active=void 0===e?!this.is_active:e,this.is_active){this.toggleStartReactionListener(!0);var t=!0;h.default.isNull(this.target_coords)?t=this.reloadAtSelected():this.placed_div.place(this.target_coords),t&&(this.showDropdown(),this.map.set_status("Click on the canvas or an existing metabolite")),this.direction_arrow.show()}else this.toggleStartReactionListener(!1),this.hideDropdown(),this.map.set_status(null),this.direction_arrow.hide()},e.prototype.showDropdown=function(e){var t=this;this.clear_escape=this.map.key_manager.add_escape_listener(function(){return t.hideDropdown()},!0),this.completely.input.blur(),this.completely.repaint(),this.completely.setText(""),this.completely.input.focus()},e.prototype.hideDropdown=function(){this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.placed_div.hide(),this.completely.input.blur(),this.completely.hideDropDown()},e.prototype.place=function(e){this.placed_div.place(e),this.direction_arrow.set_location(e),this.direction_arrow.show()},e.prototype.reloadAtSelected=function(){this.map.deselect_text_labels();var e=this.map.select_single_node();if(null===e)return!1;var t={x:e.x,y:e.y};return this.reload(e,t,!1)},e.prototype.alreadyDrawn=function(e,t){for(var n in t)if(t[n].bigg_id===e)return!0;return!1},e.prototype.reload=function(e,t,n){var r=this;if(!n&&!e)return void console.error("No selected node, and not starting from scratch");if(this.place(t),null===this.map.cobra_model)return this.completely.setText("Cannot add: No model."),!1;var i="name"===this.settings.get("identifiers_on_map"),o=this.settings.get("allow_building_duplicate_reactions"),l=[],s=this.map.cobra_model.reactions,c=this.map.cobra_model.metabolites,u=this.map.reactions,d=this.map.hasDataOnReactions,f=e?i?e.name:e.bigg_id:"",_={};for(var b in s){var m=s[b],g=m.name,A=i?g:b;if(o||!this.alreadyDrawn(b,u))for(var y in m.metabolites)if(n||y===e.biggId){if(b in _)continue;if(d)l.push({reaction_data:m.data,html:"<b>"+A+"</b>: "+m.data_string,matches:[A],id:b}),_[b]=!0;else{var v={},x=[],w=void 0;if(i)for(w in m.metabolites){var k=c[w].name;v[k]=m.metabolites[w],x.push(k)}else{v=a.default.clone(m.metabolites);for(w in m.metabolites)x.push(w)}var C=h.default.flatten(m.genes.map(function(e){return[e.name,e.biggId]})),B=p.default.build_reaction_string(v,m.reversibility,m.lower_bound,m.upper_bound),E=[A].concat(x).concat(C).filter(function(e){return e});l.push({html:"<b>"+A+"</b>\t"+function(e,t){return e.replace(new RegExp("(^| )("+t.join("|")+")($| )","g"),"$1<b>$2</b>$3")}(B,[f]),matches:E,id:b}),_[b]=!0}}}var M=d?function(e,t){return Math.abs(t.reactionData)-Math.abs(e.reactionData)}:function(e,t){return e.html.toLowerCase()<t.html.toLowerCase()?-1:1};this.completely.options=l.sort(M),this.completely.setText("");var j=function(i){if(null!==i)if(n)r.map.new_reaction_from_scratch(i,t,r.direction_arrow.get_rotation());else{if(!(e.node_id in r.map.nodes))return console.error("Selected node no longer exists"),void r.hideDropdown();r.map.new_reaction_for_metabolite(i,e.node_id,r.direction_arrow.get_rotation())}};return this.completely.onEnter=function(e){this.setText(""),this.onChange(""),j(e)},!0},e.prototype.toggleStartReactionListener=function(e){var t=this;if(void 0===e)this.start_reaction_listener=!this.start_reaction_listener;else{if(this.start_reaction_listener===e)return;this.start_reaction_listener=e}if(this.start_reaction_listener){var n=this.map.sel.node();this.map.sel.on("click.start_reaction",function(){if(!t.direction_arrow.dragging){var e={x:(0,m.mouse)(n)[0],y:(0,m.mouse)(n)[1]};t.map.deselect_nodes(),t.map.deselect_text_labels();t.reload(null,e,!0)&&t.showDropdown(e),t.showTarget(t.map,e)}}),this.map.sel.classed("start-reaction-cursor",!0)}else this.map.sel.on("click.start_reaction",null),this.map.sel.classed("start-reaction-cursor",!1),this.hideTarget()},e.prototype.hideTarget=function(){this.target_coords&&this.map.sel.selectAll(".start-reaction-target").remove(),this.target_coords=null},e.prototype.showTarget=function(e,t){var n=e.sel.selectAll(".start-reaction-target").data([12,5]);n.enter().append("circle").classed("start-reaction-target",!0).attr("r",function(e){return e}).style("stroke-width",4).merge(n).style("visibility","visible").attr("transform","translate("+t.x+","+t.y+")"),this.target_coords=t},e}();t.default=g},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){function n(e){return void 0===_&&(_=i.createElement("span"),_.style.visibility="hidden",_.style.position="fixed",_.style.outline="0",_.style.margin="0",_.style.padding="0",_.style.border="0",_.style.left="0",_.style.whiteSpace="pre",_.style.fontSize=t.fontSize,_.style.fontFamily=t.fontFamily,_.style.fontWeight="normal",i.body.appendChild(_)),_.innerHTML=String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),_.getBoundingClientRect().right}var i=r.get_document(e),o=r.get_window(e);t=t||{},t.fontSize=t.fontSize||"13px",t.fontFamily=t.fontFamily||"sans-serif",t.promptInnerHTML=t.promptInnerHTML||"",t.color=t.color||"#333",t.hintColor=t.hintColor||"#aaa",t.backgroundColor=t.backgroundColor||"#fff",t.dropDownBorderColor=t.dropDownBorderColor||"#aaa",t.dropDownZIndex=t.dropDownZIndex||"100",t.dropDownOnHoverBackgroundColor=t.dropDownOnHoverBackgroundColor||"#ddd";var a=i.createElement("input");a.type="text",a.spellcheck=!1,a.style.fontSize=t.fontSize,a.style.fontFamily=t.fontFamily,a.style.color=t.color,a.style.backgroundColor=t.backgroundColor,a.style.width="100%",a.style.outline="0",a.style.border="0",a.style.margin="0",a.style.padding="0";var l=a.cloneNode();l.disabled="",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.borderColor="transparent",l.style.boxShadow="none",l.style.color=t.hintColor,a.style.backgroundColor="transparent",a.style.verticalAlign="top",a.style.position="relative";var s=i.createElement("div");s.style.position="relative",s.style.outline="0",s.style.border="0",s.style.margin="0",s.style.padding="0";var c=i.createElement("div");if(c.style.position="absolute",c.style.outline="0",c.style.margin="0",c.style.padding="0",c.style.border="0",c.style.fontSize=t.fontSize,c.style.fontFamily=t.fontFamily,c.style.color=t.color,c.style.backgroundColor=t.backgroundColor,c.style.top="0",c.style.left="0",c.style.overflow="hidden",c.innerHTML=t.promptInnerHTML,c.style.background="transparent",void 0===i.body)throw"thisDocument.body is undefined. The library was wired up incorrectly.";i.body.appendChild(c);var u=c.getBoundingClientRect().right;s.appendChild(c),c.style.visibility="visible",c.style.left="-"+u+"px",s.style.marginLeft=u+"px",s.appendChild(l),s.appendChild(a);var d=i.createElement("div");d.style.position="absolute",d.style.visibility="hidden",d.style.outline="0",d.style.margin="0",d.style.padding="0",d.style.textAlign="left",d.style.fontSize=t.fontSize,d.style.fontFamily=t.fontFamily,d.style.backgroundColor=t.backgroundColor,d.style.zIndex=t.dropDownZIndex,d.style.cursor="default",d.style.borderStyle="solid",d.style.borderWidth="1px",d.style.borderColor=t.dropDownBorderColor,d.style.overflowX="hidden",d.style.whiteSpace="pre",d.style.overflowY="scroll";var f=function(e){var n=[],r=0,a=-1,l=null,s=function(){this.style.outline="1px solid #ddd"},c=function(){this.style.outline="0"},u=function(e){e.preventDefault(),d.onmouseselection(this.id)},d={hide:function(){e.style.visibility="hidden"},refresh:function(a,l){e.style.visibility="hidden",r=0,e.innerHTML="";var f=o.innerHeight||i.documentElement.clientHeight,_=e.parentNode.getBoundingClientRect(),p=_.top-6,b=f-_.bottom-6;n=[];for(var m=0;m<l.length;m++){var g=l[m].matches.filter(function(e){return 0==e.toLowerCase().indexOf(a.toLowerCase())});if(0!=g.length){var A=i.createElement("div");if(A.style.color=t.color,A.onmouseover=s,A.onmouseout=c,A.onmousedown=function(e){e.preventDefault()},A.ondblclick=u,A.__hint=g[0],A.id=l[m].id,A.innerHTML=l[m].html,n.push(A),e.appendChild(A),n.length>=h.display_limit){var y=i.createElement("div");y.innerHTML=" "+(l.length-n.length)+" more",n.push(y),e.appendChild(y);break}}}0!==n.length&&(d.highlight(0),p>3*b?(e.style.maxHeight=p+"px",e.style.top="",e.style.bottom="100%"):(e.style.top="100%",e.style.bottom="",e.style.maxHeight=b+"px"),e.style.visibility="visible")},highlight:function(e){-1!=a&&n[a]&&(n[a].style.backgroundColor=t.backgroundColor),n[e].style.backgroundColor=t.dropDownOnHoverBackgroundColor,a=e,l=n[e]},move:function(t){return"hidden"===e.style.visibility?"":r+t===-1||r+t===n.length?n[r].__hint:(r+=t,d.highlight(r),n[r].__hint)},onmouseselection:function(){},get_current_row:function(){return l}};return d}(d);f.onmouseselection=function(e){h.onEnter(e),h.input.focus()},s.appendChild(d),e.appendChild(s);var _,p,b,h={get_hint:function(e){return e},display_limit:1e3,onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},onChange:function(){h.repaint()},startFrom:0,options:[],wrapper:s,input:a,hint:l,dropDown:d,prompt:c,setText:function(e){l.value=e,a.value=e},getText:function(){return a.value},hideDropDown:function(){f.hide()},repaint:function(){var e=a.value,t=h.startFrom,r=h.options,i=r.length,o=e.substring(t);p=e.substring(0,t),l.value="";for(var s=0;s<i;s++){var c=r[s].matches.filter(function(e){return 0==e.toLowerCase().indexOf(o.toLowerCase())});if(0!=c.length){l.value=h.get_hint(c[0]);break}}d.style.left=n(p)+"px",f.refresh(o,h.options)}};!function(e,t){b=e.value;var n=function(){var n=e.value;b!==n&&(b=n,t(n))};e.addEventListener("input",n,!1),e.addEventListener("keyup",n,!1),e.addEventListener("change",n,!1)}(a,function(e){h.onChange(e),h.repaint()});var m=function(e){e=e||o.event;var t=e.keyCode;if(33!=t&&34!=t)if(39!=t&&35!=t&&9!=t){if(13==t){var n=f.get_current_row().id;return void h.onEnter(n)}if(40==t){var r=f.move(1);return""==r&&h.onArrowDown(),void(l.value=h.get_hint(r))}if(38==t){var r=f.move(-1);return""==r&&h.onArrowUp(),l.value=h.get_hint(r),e.preventDefault(),void e.stopPropagation()}l.value=""}else if(9==t&&(e.preventDefault(),e.stopPropagation(),0==l.value.length&&h.onTab()),l.value.length>0){a.value=l.value;var i=b!=a.value;b=a.value,i&&h.onChange(a.value)}};return a.addEventListener("keydown",m,!1),h}},function(e,t,n){"use strict";function r(e){this.arrow_container=e.append("g").attr("id","direction-arrow-container").attr("transform","translate(0,0)rotate(0)"),this.arrow=this.arrow_container.append("path").classed("direction-arrow",!0).attr("d","M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z").style("visibility","hidden").attr("transform","translate(30,0)scale(2.5)"),this.sel=e,this.center={x:0,y:0},this._setup_drag(),this.dragging=!1,this.is_visible=!1,this.show()}function i(e){this.center=e;var t=h.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+e.x+","+e.y+")rotate("+t.rotate+")")}function o(e){var t=h.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+t.translate+")rotate("+e+")")}function a(e){var t=h.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+t.translate+")rotate("+(t.rotate+e)+")")}function l(){return h.d3_transform_catch(this.arrow_container.attr("transform")).rotate}function s(e){this.is_visible=void 0===e?!this.is_visible:e,this.arrow.style("visibility",this.is_visible?"visible":"hidden")}function c(){this.toggle(!0)}function u(){this.toggle(!1)}function d(){this.set_rotation(0)}function f(){this.set_rotation(90)}function _(){this.set_rotation(180)}function p(){this.set_rotation(270)}function b(){var e=m().on("start",function(e){A.event.sourceEvent.stopPropagation(),this.dragging=!0}.bind(this)).on("drag.direction_arrow",function(e){var t={x:A.event.dx,y:A.event.dy},n={x:g(this.sel.node())[0],y:g(this.sel.node())[1]},r=h.angle_for_event(t,n,this.center);this.displace_rotation(h.to_degrees(r))}.bind(this)).on("end",function(e){setTimeout(function(){this.dragging=!1}.bind(this),200)}.bind(this));this.arrow_container.call(e)}var h=n(1),m=n(15).drag,g=n(0).mouse,A=n(0),y=h.make_class();y.prototype={init:r,set_location:i,set_rotation:o,displace_rotation:a,get_rotation:l,toggle:s,show:c,hide:u,right:d,left:_,up:p,down:f,_setup_drag:b},e.exports=y},function(e,t,n){"use strict";function r(){return!s.event.button}function i(){return this.parentNode}function o(e){return null==e?{x:s.event.x,y:s.event.y}:e}function a(){return"ontouchstart"in this}var l=n(20),s=n(0),c=n(69),u=n(70),d=n(172),f=n(173);t.a=function(){function e(e){e.on("mousedown.drag",t).filter(C).on("touchstart.drag",p).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!v&&x.apply(this,arguments)){var e=m("mouse",w.apply(this,arguments),s.mouse,this,arguments);e&&(Object(s.select)(s.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",_,!0),Object(c.a)(s.event.view),Object(u.b)(),y=!1,g=s.event.clientX,A=s.event.clientY,e("start"))}}function n(){if(Object(u.a)(),!y){var e=s.event.clientX-g,t=s.event.clientY-A;y=e*e+t*t>j}B.mouse("drag")}function _(){Object(s.select)(s.event.view).on("mousemove.drag mouseup.drag",null),Object(c.b)(s.event.view,y),Object(u.a)(),B.mouse("end")}function p(){if(x.apply(this,arguments)){var e,t,n=s.event.changedTouches,r=w.apply(this,arguments),i=n.length;for(e=0;e<i;++e)(t=m(n[e].identifier,r,s.touch,this,arguments))&&(Object(u.b)(),t("start"))}}function b(){var e,t,n=s.event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=B[n[e].identifier])&&(Object(u.a)(),t("drag"))}function h(){var e,t,n=s.event.changedTouches,r=n.length;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),e=0;e<r;++e)(t=B[n[e].identifier])&&(Object(u.b)(),t("end"))}function m(t,n,r,i,o){var a,l,c,u=r(n,t),d=E.copy();if(Object(s.customEvent)(new f.a(e,"beforestart",a,t,M,u[0],u[1],0,0,d),function(){return null!=(s.event.subject=a=k.apply(i,o))&&(l=a.x-u[0]||0,c=a.y-u[1]||0,!0)}))return function _(p){var b,h=u;switch(p){case"start":B[t]=_,b=M++;break;case"end":delete B[t],--M;case"drag":u=r(n,t),b=M}Object(s.customEvent)(new f.a(e,p,a,t,b,u[0]+l,u[1]+c,u[0]-h[0],u[1]-h[1],d),d.apply,d,[p,i,o])}}var g,A,y,v,x=r,w=i,k=o,C=a,B={},E=Object(l.a)("start","drag","end"),M=0,j=0;return e.filter=function(t){return arguments.length?(x="function"===typeof t?t:Object(d.a)(!!t),e):x},e.container=function(t){return arguments.length?(w="function"===typeof t?t:Object(d.a)(t),e):w},e.subject=function(t){return arguments.length?(k="function"===typeof t?t:Object(d.a)(t),e):k},e.touchable=function(t){return arguments.length?(C="function"===typeof t?t:Object(d.a)(!!t),e):C},e.on=function(){var t=E.on.apply(E,arguments);return t===E?e:t},e.clickDistance=function(t){return arguments.length?(j=(t=+t)*t,e):Math.sqrt(j)},e}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,l,s,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=l,this.dy=s,this._=c}t.a=r,r.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},function(e,t,n){"use strict";function r(e){return i=Object(l.a)(e),o=i.format,a=i.formatPrefix,i}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),t.a=r;var i,o,a,l=n(71);r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(e,t,n){"use strict";t.a=function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},function(e,t,n){"use strict";t.a=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e}},function(e,t,n){"use strict";var r=n(45);t.a=function(e,t){var n=Object(r.a)(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(28);t.a=function(e){return Math.max(0,-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(28);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(28);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(r.a)(t)-Object(r.a)(e))+1}},function(e,t,n){"use strict";function r(){return!f.event.button}function i(){var e,t,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,e=n.width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function o(){return this.__zoom||h.c}function a(){return-f.event.deltaY*(f.event.deltaMode?120:1)/500}function l(){return"ontouchstart"in this}function s(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var c=n(20),u=n(15),d=n(7),f=n(0),_=n(84),p=n(229),b=n(230),h=n(88),m=n(231);t.a=function(){function e(e){e.property("__zoom",o).on("wheel.zoom",x).on("mousedown.zoom",w).on("dblclick.zoom",k).filter(S).on("touchstart.zoom",C).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(e,t){return t=Math.max(L[0],Math.min(L[1],t)),t===e.k?e:new h.a(t,e.x,e.y)}function n(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new h.a(e.k,r,i)}function g(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function A(e,t,n){e.on("start.zoom",function(){y(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).end()}).tween("zoom",function(){var e=this,r=arguments,i=y(e,r),o=I.apply(e,r),a=n||g(o),l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=e.__zoom,c="function"===typeof t?t.apply(e,r):t,u=P(s.invert(a).concat(l/s.k),c.invert(a).concat(l/c.k));return function(e){if(1===e)e=c;else{var t=u(e),n=l/t[2];e=new h.a(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}})}function y(e,t){for(var n,r=0,i=F.length;r<i;++r)if((n=F[r]).that===e)return n;return new v(e,t)}function v(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=I.apply(e,t)}function x(){function e(){r.wheel=null,r.end()}if(O.apply(this,arguments)){var r=y(this,arguments),i=this.__zoom,o=Math.max(L[0],Math.min(L[1],i.k*Math.pow(2,N.apply(this,arguments)))),a=Object(f.mouse)(this);if(r.wheel)r.mouse[0][0]===a[0]&&r.mouse[0][1]===a[1]||(r.mouse[1]=i.invert(r.mouse[0]=a)),clearTimeout(r.wheel);else{if(i.k===o)return;r.mouse=[a,i.invert(a)],Object(_.a)(this),r.start()}Object(m.a)(),r.wheel=setTimeout(e,R),r.zoom("mouse",D(n(t(i,o),r.mouse[0],r.mouse[1]),r.extent,T))}}function w(){function e(){if(Object(m.a)(),!r.moved){var e=f.event.clientX-a,t=f.event.clientY-l;r.moved=e*e+t*t>G}r.zoom("mouse",D(n(r.that.__zoom,r.mouse[0]=Object(f.mouse)(r.that),r.mouse[1]),r.extent,T))}function t(){i.on("mousemove.zoom mouseup.zoom",null),Object(u.dragEnable)(f.event.view,r.moved),Object(m.a)(),r.end()}if(!j&&O.apply(this,arguments)){var r=y(this,arguments),i=Object(f.select)(f.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",t,!0),o=Object(f.mouse)(this),a=f.event.clientX,l=f.event.clientY;Object(u.dragDisable)(f.event.view),Object(m.b)(),r.mouse=[o,this.__zoom.invert(o)],Object(_.a)(this),r.start()}}function k(){if(O.apply(this,arguments)){var r=this.__zoom,i=Object(f.mouse)(this),o=r.invert(i),a=r.k*(f.event.shiftKey?.5:2),l=D(n(t(r,a),i,o),I.apply(this,arguments),T);Object(m.a)(),z>0?Object(f.select)(this).transition().duration(z).call(A,l,i):Object(f.select)(this).call(e.transform,l)}}function C(){if(O.apply(this,arguments)){var e,t,n,r,i=y(this,arguments),o=f.event.changedTouches,a=o.length;for(Object(m.b)(),t=0;t<a;++t)n=o[t],r=Object(f.touch)(this,o,n.identifier),r=[r,this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,e=!0);if(M&&(M=clearTimeout(M),!i.touch1))return i.end(),void((r=Object(f.select)(this).on("dblclick.zoom"))&&r.apply(this,arguments));e&&(M=setTimeout(function(){M=null},U),Object(_.a)(this),i.start())}}function B(){var e,r,i,o,a=y(this,arguments),l=f.event.changedTouches,s=l.length;for(Object(m.a)(),M&&(M=clearTimeout(M)),e=0;e<s;++e)r=l[e],i=Object(f.touch)(this,l,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var c=a.touch0[0],u=a.touch0[1],d=a.touch1[0],_=a.touch1[1],p=(p=d[0]-c[0])*p+(p=d[1]-c[1])*p,b=(b=_[0]-u[0])*b+(b=_[1]-u[1])*b;r=t(r,Math.sqrt(p/b)),i=[(c[0]+d[0])/2,(c[1]+d[1])/2],o=[(u[0]+_[0])/2,(u[1]+_[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",D(n(r,i,o),a.extent,T))}function E(){var e,t,n=y(this,arguments),r=f.event.changedTouches,i=r.length;for(Object(m.b)(),j&&clearTimeout(j),j=setTimeout(function(){j=null},U),e=0;e<i;++e)t=r[e],n.touch0&&n.touch0[2]===t.identifier?delete n.touch0:n.touch1&&n.touch1[2]===t.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var M,j,O=r,I=i,D=s,N=a,S=l,L=[0,1/0],T=[[-1/0,-1/0],[1/0,1/0]],z=250,P=d.i,F=[],Q=Object(c.a)("start","zoom","end"),U=500,R=150,G=0;return e.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",o),e!==n?A(e,t):n.interrupt().each(function(){y(this,arguments).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"===typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(r,i){e.transform(r,function(){var e=I.apply(this,arguments),r=this.__zoom,o=g(e),a=r.invert(o),l="function"===typeof i?i.apply(this,arguments):i;return D(n(t(r,l),o,a),e,T)})},e.translateBy=function(t,n,r){e.transform(t,function(){return D(this.__zoom.translate("function"===typeof n?n.apply(this,arguments):n,"function"===typeof r?r.apply(this,arguments):r),I.apply(this,arguments),T)})},e.translateTo=function(t,n,r){e.transform(t,function(){var e=I.apply(this,arguments),t=this.__zoom,i=g(e);return D(h.c.translate(i[0],i[1]).scale(t.k).translate("function"===typeof n?-n.apply(this,arguments):-n,"function"===typeof r?-r.apply(this,arguments):-r),e,T)})},v.prototype={start:function(){return 1===++this.active&&(this.index=F.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(F.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(f.customEvent)(new b.a(e,t,this.that.__zoom),Q.apply,Q,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(N="function"===typeof t?t:Object(p.a)(+t),e):N},e.filter=function(t){return arguments.length?(O="function"===typeof t?t:Object(p.a)(!!t),e):O},e.touchable=function(t){return arguments.length?(S="function"===typeof t?t:Object(p.a)(!!t),e):S},e.extent=function(t){return arguments.length?(I="function"===typeof t?t:Object(p.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):I},e.scaleExtent=function(t){return arguments.length?(L[0]=+t[0],L[1]=+t[1],e):[L[0],L[1]]},e.translateExtent=function(t){return arguments.length?(T[0][0]=+t[0][0],T[1][0]=+t[1][0],T[0][1]=+t[0][1],T[1][1]=+t[1][1],e):[[T[0][0],T[0][1]],[T[1][0],T[1][1]]]},e.constrain=function(t){return arguments.length?(D=t,e):D},e.duration=function(t){return arguments.length?(z=+t,e):z},e.interpolate=function(t){return arguments.length?(P=t,e):P},e.on=function(){var t=Q.on.apply(Q,arguments);return t===Q?e:t},e.clickDistance=function(t){return arguments.length?(G=(t=+t)*t,e):Math.sqrt(G)},e}},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof f){var t=e.h*b.a;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof p.b||(e=Object(p.h)(e));var n=c(e.r),r=c(e.g),i=c(e.b),l=a((.4124564*n+.3575761*r+.1804375*i)/h),s=a((.2126729*n+.7151522*r+.072175*i)/m);return new o(116*s-16,500*(l-s),200*(s-a((.0193339*n+.119192*r+.9503041*i)/g)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function a(e){return e>x?Math.pow(e,1/3):e/v+A}function l(e){return e>y?e*e*e:v*(e-A)}function s(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function c(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function u(e){if(e instanceof f)return new f(e.h,e.c,e.l,e.opacity);e instanceof o||(e=r(e));var t=Math.atan2(e.b,e.a)*b.b;return new f(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function d(e,t,n,r){return 1===arguments.length?u(e):new f(e,t,n,null==r?1:r)}function f(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}t.a=i,t.b=d;var _=n(49),p=n(48),b=n(76),h=.95047,m=1,g=1.08883,A=4/29,y=6/29,v=3*y*y,x=y*y*y;Object(_.a)(o,i,Object(_.b)(p.a,{brighter:function(e){return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=m*l(e),t=h*l(t),n=g*l(n),new p.b(s(3.2404542*t-1.5371385*e-.4985314*n),s(-.969266*t+1.8760108*e+.041556*n),s(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Object(_.a)(f,d,Object(_.b)(p.a,{brighter:function(e){return new f(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new f(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof l.b||(e=Object(l.h)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(h*r+p*t-b*n)/(h+p-b),a=r-i,c=(_*(n-i)-d*a)/f,u=Math.sqrt(c*c+a*a)/(_*i*(1-i)),m=u?Math.atan2(c,a)*s.b-120:NaN;return new o(m<0?m+360:m,u,i,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=i;var a=n(49),l=n(48),s=n(76),c=-.14861,u=1.78277,d=-.29227,f=-.90649,_=1.97294,p=_*f,b=_*u,h=u*d-f*c;Object(a.a)(o,i,Object(a.b)(l.a,{brighter:function(e){return e=null==e?l.c:Math.pow(l.c,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?l.d:Math.pow(l.d,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*s.a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new l.b(255*(t+n*(c*r+u*i)),255*(t+n*(d*r+f*i)),255*(t+n*(_*r)),this.opacity)}}))},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}}},function(e,t,n){"use strict";function r(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}function a(e,r,o,a,l,s){if(e!==o||r!==a){var c=l.push("translate(",null,t,null,n);s.push({i:c-4,x:Object(i.a)(e,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&l.push("translate("+o+t+a+n)}function l(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}function s(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}function c(e,t,n,r,a,l){if(e!==n||t!==r){var s=a.push(o(a)+"scale(",null,",",null,")");l.push({i:s-4,x:Object(i.a)(e,n)},{i:s-2,x:Object(i.a)(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),l(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return l});var i=n(29),o=n(188),a=r(o.a,"px, ","px)","deg)"),l=r(o.b,", ",")",")")},function(e,t,n){"use strict";function r(e){return"none"===e?c.b:(o||(o=document.createElement("DIV"),a=document.documentElement,l=document.defaultView),o.style.transform=e,e=l.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),e=e.slice(7,-1).split(","),Object(c.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?c.b:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",e),(e=s.transform.baseVal.consolidate())?(e=e.matrix,Object(c.a)(e.a,e.b,e.c,e.d,e.e,e.f)):c.b)}t.a=r,t.b=i;var o,a,l,s,c=n(189)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.a=function(e,t,n,i,o,a){var l,s,c;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,c/=s),e*i<t*n&&(e=-e,t=-t,c=-c,l=-l),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(c)*r,scaleX:l,scaleY:s}}},function(e,t,n){"use strict";function r(e){return((e=Math.exp(e))+1/e)/2}function i(e){return((e=Math.exp(e))-1/e)/2}function o(e){return((e=Math.exp(2*e))-1)/(e+1)}var a=Math.SQRT2;t.a=function(e,t){var n,l,s=e[0],c=e[1],u=e[2],d=t[0],f=t[1],_=t[2],p=d-s,b=f-c,h=p*p+b*b;if(h<1e-12)l=Math.log(_/u)/a,n=function(e){return[s+e*p,c+e*b,u*Math.exp(a*e*l)]};else{var m=Math.sqrt(h),g=(_*_-u*u+4*h)/(2*u*2*m),A=(_*_-u*u-4*h)/(2*_*2*m),y=Math.log(Math.sqrt(g*g+1)-g),v=Math.log(Math.sqrt(A*A+1)-A);l=(v-y)/a,n=function(e){var t=e*l,n=r(y),d=u/(2*m)*(n*o(a*t+y)-i(y));return[s+d*p,c+d*b,u*n/r(a*t+y)]}}return n.duration=1e3*l,n}},function(e,t,n){"use strict";function r(e){return function(t,n){var r=e((t=Object(i.d)(t)).h,(n=Object(i.d)(n)).h),a=Object(o.a)(t.s,n.s),l=Object(o.a)(t.l,n.l),s=Object(o.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=l(e),t.opacity=s(e),t+""}}}var i=n(8),o=n(21);r(o.c),r(o.a)},function(e,t,n){"use strict";n(8),n(21)},function(e,t,n){"use strict";function r(e){return function(t,n){var r=e((t=Object(i.c)(t)).h,(n=Object(i.c)(n)).h),a=Object(o.a)(t.c,n.c),l=Object(o.a)(t.l,n.l),s=Object(o.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=l(e),t.opacity=s(e),t+""}}}var i=n(8),o=n(21);r(o.c),r(o.a)},function(e,t,n){"use strict";function r(e){return function t(n){function r(t,r){var a=e((t=Object(i.b)(t)).h,(r=Object(i.b)(r)).h),l=Object(o.a)(t.s,r.s),s=Object(o.a)(t.l,r.l),c=Object(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=l(e),t.l=s(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}n.d(t,"a",function(){return a});var i=n(8),o=n(21),a=(r(o.c),r(o.a))},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(0),i=n(197),o=n(200);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(e,t,n){"use strict";var r=n(85);t.a=function(e){return this.each(function(){Object(r.a)(this,e)})}},function(e,t,n){"use strict";var r=n(51);t.a=function(e,t,n){var i=new r.a;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i}},function(e,t,n){"use strict";n(51)},function(e,t,n){"use strict";function r(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return s.time=Object(l.a)(),s;return n}var i=n(13),o=n(6),a=n(217),l=n(86),s={time:null,delay:0,duration:250,ease:a.a};t.a=function(e){var t,n;e instanceof i.a?(t=e._id,e=e._name):(t=Object(i.b)(),(n=s).time=Object(l.a)(),e=null==e?null:e+"");for(var a=this._groups,c=a.length,u=0;u<c;++u)for(var d,f=a[u],_=f.length,p=0;p<_;++p)(d=f[p])&&Object(o.e)(d,e,t,p,f,n||r(d,t));return new i.a(a,this._parents,e,t)}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}}function a(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}function l(e,t,n){var r,i,o;return function(){var a,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e),a===l?null:a===r&&l===i?o:o=t(r=a,i=l))}}function s(e,t,n){var r,i,o;return function(){var a,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),a===l?null:a===r&&l===i?o:o=t(r=a,i=l))}}var c=n(7),u=n(0),d=n(30),f=n(87);t.a=function(e,t){var n=Object(u.namespace)(e),_="transform"===n?c.h:f.a;return this.attrTween(e,"function"===typeof t?(n.local?s:l)(n,_,Object(d.b)(this,"attr."+e,t)):null==t?(n.local?i:r)(n):(n.local?a:o)(n,_,t+""))}},function(e,t,n){"use strict";function r(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function i(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}var o=n(0);t.a=function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var a=Object(o.namespace)(e);return this.tween(n,(a.local?r:i)(a,t))}},function(e,t,n){"use strict";function r(e,t){return function(){Object(o.g)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){Object(o.g)(this,e).delay=t}}var o=n(6);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?r:i)(t,e)):Object(o.f)(this.node(),t).delay}},function(e,t,n){"use strict";function r(e,t){return function(){Object(o.h)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){Object(o.h)(this,e).duration=t}}var o=n(6);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?r:i)(t,e)):Object(o.f)(this.node(),t).duration}},function(e,t,n){"use strict";function r(e,t){if("function"!==typeof t)throw new Error;return function(){Object(i.h)(this,e).ease=t}}var i=n(6);t.a=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):Object(i.f)(this.node(),t).ease}},function(e,t,n){"use strict";var r=n(0),i=n(13);t.a=function(e){"function"!==typeof e&&(e=Object(r.matcher)(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var l,s=t[a],c=s.length,u=o[a]=[],d=0;d<c;++d)(l=s[d])&&e.call(l,l.__data__,d,s)&&u.push(l);return new i.a(o,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var r=n(13);t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var c,u=t[s],d=n[s],f=u.length,_=l[s]=new Array(f),p=0;p<f;++p)(c=u[p]||d[p])&&(_[p]=c);for(;s<i;++s)l[s]=t[s];return new r.a(l,this._parents,this._name,this._id)}},function(e,t,n){"use strict";function r(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function i(e,t,n){var i,a,l=r(t)?o.g:o.h;return function(){var r=l(this,e),o=r.on;o!==i&&(a=(i=o).copy()).on(t,n),r.on=a}}var o=n(6);t.a=function(e,t){var n=this._id;return arguments.length<2?Object(o.f)(this.node(),n).on.on(e):this.each(i(n,e,t))}},function(e,t,n){"use strict";function r(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}t.a=function(){return this.on("end.remove",r(this._id))}},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(6);t.a=function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(r.selector)(e));for(var a=this._groups,l=a.length,s=new Array(l),c=0;c<l;++c)for(var u,d,f=a[c],_=f.length,p=s[c]=new Array(_),b=0;b<_;++b)(u=f[b])&&(d=e.call(u,u.__data__,b,f))&&("__data__"in u&&(d.__data__=u.__data__),p[b]=d,Object(o.e)(p[b],t,n,b,p,Object(o.f)(u,n)));return new i.a(s,this._parents,t,n)}},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(6);t.a=function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(r.selectorAll)(e));for(var a=this._groups,l=a.length,s=[],c=[],u=0;u<l;++u)for(var d,f=a[u],_=f.length,p=0;p<_;++p)if(d=f[p]){for(var b,h=e.call(d,d.__data__,p,f),m=Object(o.f)(d,n),g=0,A=h.length;g<A;++g)(b=h[g])&&Object(o.e)(b,t,n,g,h,m);s.push(h),c.push(d)}return new i.a(s,c,t,n)}},function(e,t,n){"use strict";var r=n(0),i=r.selection.prototype.constructor;t.a=function(){return new i(this._groups,this._parents)}},function(e,t,n){"use strict";function r(e,t){var n,r,i;return function(){var o=Object(s.style)(this,e),a=(this.style.removeProperty(e),Object(s.style)(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function i(e){return function(){this.style.removeProperty(e)}}function o(e,t,n){var r,i;return function(){var o=Object(s.style)(this,e);return o===n?null:o===r?i:i=t(r=o,n)}}function a(e,t,n){var r,i,o;return function(){var a=Object(s.style)(this,e),l=n(this);return null==l&&(this.style.removeProperty(e),l=Object(s.style)(this,e)),a===l?null:a===r&&l===i?o:o=t(r=a,i=l)}}var l=n(7),s=n(0),c=n(30),u=n(87);t.a=function(e,t,n){var s="transform"===(e+="")?l.g:u.a;return null==t?this.styleTween(e,r(e,s)).on("end.style."+e,i(e)):this.styleTween(e,"function"===typeof t?a(e,s,Object(c.b)(this,"style."+e,t)):o(e,s,t+""),n)}},function(e,t,n){"use strict";function r(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}t.a=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!==typeof t)throw new Error;return this.tween(i,r(e,t,null==n?"":n))}},function(e,t,n){"use strict";function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var o=n(30);t.a=function(e){return this.tween("text","function"===typeof e?i(Object(o.b)(this,"text",e)):r(null==e?"":e+""))}},function(e,t,n){"use strict";var r=n(13),i=n(6);t.a=function(){for(var e=this._name,t=this._id,n=Object(r.b)(),o=this._groups,a=o.length,l=0;l<a;++l)for(var s,c=o[l],u=c.length,d=0;d<u;++d)if(s=c[d]){var f=Object(i.f)(s,t);Object(i.e)(s,e,n,d,c,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(o,this._parents,e,n)}},function(e,t,n){"use strict";var r=(n(218),n(219),n(220));n.d(t,"a",function(){return r.a});n(221),n(222),n(223),n(224),n(225),n(226),n(227)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.a=r},function(e,t,n){"use strict";(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},function(e,t,n){"use strict";Math.PI},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158)},function(e,t,n){"use strict";var r=2*Math.PI;(function e(t,n){function i(e){return t*Math.pow(2,10*--e)*Math.sin((o-e)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i})(1,.3),function e(t,n){function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+o)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((o-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((o+e)/n))/2}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(1,.3)},function(e,t,n){"use strict";n(13),n(6)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t,n){this.target=e,this.type=t,this.transform=n}t.a=r},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(0);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";function r(e,t,n){this.behavior=e,this.settings=t,this.map=n,this.callback_manager=new v}function i(e){var t=e.append("rect").attr("class","membrane");return this.callback_manager.run("create_membrane",this,e),t}function o(e){e.attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).style("stroke-width",function(e){return 10}).attr("rx",function(e){return 20}).attr("ry",function(e){return 20}),this.callback_manager.run("update_membrane",this,e)}function a(e){var t=e.append("g").attr("id",function(e){return"r"+e.reaction_id}).attr("class","reaction");return this.create_reaction_label(t),this.callback_manager.run("create_reaction",this,e),t}function l(e,t,n,r,i,o){e.select(".reaction-label-group").call(function(e){return this.update_reaction_label(e,o)}.bind(this)),A.draw_a_nested_object(e,".segment-group","segments","segment_id",this.create_segment.bind(this),function(e){return this.update_segment(e,t,n,r,i,o)}.bind(this),function(e){e.remove()}),this.callback_manager.run("update_reaction",this,e)}function s(e,t){var n=e.append("g").attr("class","reaction-label-group");return n.append("text").attr("class","reaction-label label"),n.append("g").attr("class","all-genes-label-group"),this.callback_manager.run("create_reaction_label",this,e),n}function c(e,t){var n=(x(".4g"),this.settings.get("identifiers_on_map")),r=this.settings.get("reaction_styles"),i=this.settings.get("show_gene_reaction_rules"),o=this.settings.get("hide_all_labels"),a=this.settings.get("gene_font_size"),l=this.behavior.labelMousedown,s=this.behavior.labelMouseover,c=this.behavior.labelMouseout,u=this.behavior.labelTouch;e.attr("transform",function(e){return"translate("+e.label_x+","+e.label_y+")"}).call(this.behavior.turnOffDrag).call(this.behavior.reactionLabelDrag);var d=e.select(".reaction-label").attr("visibility",o?"hidden":"visible");o||d.text(function(e){var i=e[n];return t&&-1!==r.indexOf("text")&&(i+=" "+e.data_string),i}).on("mousedown",l).on("mouseover",function(e){s("reaction_label",e)}).on("mouseout",c).on("touchend",function(e){u("reaction_label",e)});var f=function(e,t){return e+1.5*a*(t+1)},_=e.select(".all-genes-label-group").selectAll(".gene-label-group").data(function(e){var t="gene_string"in e&&null!==e.gene_string&&i&&!o&&-1!==r.indexOf("text"),a="gene_reaction_rule"in e&&null!==e.gene_reaction_rule&&i&&!o;if(t)return console.warn("Showing gene_string. See TODO in source."),e.gene_string;if(a){var l=y.gene_string_for_data(e.gene_reaction_rule,null,e.genes,null,n,null);return l.forEach(function(t,n){t.label_x=e.label_x,t.label_y=f(e.label_y,n)}),l}return[]}),p=_.enter().append("g").attr("class","gene-label-group");p.append("text").attr("class","gene-label").style("font-size",a+"px").on("mousedown",l).on("mouseover",function(e){s("gene_label",e)}).on("mouseout",c);var b=p.merge(_);b.attr("transform",function(e,t){return"translate(0, "+f(0,t)+")"}),b.select("text").text(function(e){return e.text}),_.exit().remove(),this.callback_manager.run("update_reaction_label",this,e)}function u(e){var t=e.append("g").attr("class","segment-group").attr("id",function(e){return"s"+e.segment_id});return t.append("path").attr("class","segment"),t.append("g").attr("class","arrowheads"),t.append("g").attr("class","stoichiometry-labels"),this.callback_manager.run("create_segment",this,e),t}function d(e,t,n,r,i,o){var a=this.settings.get("reaction_styles"),l=o&&-1!==a.indexOf("size"),s=o&&-1!==a.indexOf("color"),c=this.settings.get("reaction_no_data_size"),u=this.settings.get("reaction_no_data_color"),d=this.settings.get("highlight_missing"),f=this.settings.get("hide_secondary_metabolites"),_=this.settings.get("primary_metabolite_radius"),p=this.settings.get("secondary_metabolite_radius"),b=this.behavior.objectMouseover,h=this.behavior.objectMouseout,m=this.behavior.objectTouch,y=function(e,n){var r=20,i=13;return n&&(i=null===e?c:t.reaction_size(e),isNaN(i)&&(i=c),r=2*i),{width:r,height:i}},v=function(e,t,n,r){var i=t||n>0?e.height:0;return(r?_:p)+i+10};e.selectAll(".segment").datum(function(){return Object.assign({},this.parentNode.__data__,this.parentNode.parentNode.__data__)}).style("visibility",function(e){var t=r[e.from_node_id],n=r[e.to_node_id];return f&&("metabolite"===n.node_type&&!n.node_is_primary||"metabolite"===t.node_type&&!t.node_is_primary)?"hidden":null}).attr("d",function(e){if(null===e.from_node_id||null===e.to_node_id)return null;var t=r[e.from_node_id],n=r[e.to_node_id],i=e.b1,o=e.b2;if("metabolite"===t.node_type){var a=y(e.data,l),s=v(a,e.reversibility,e.from_node_coefficient,t.node_is_primary),c=null===i?n:i;t=g(s,t,c,"start")}if("metabolite"==n.node_type){var a=y(e.data,l),s=v(a,e.reversibility,e.to_node_coefficient,n.node_is_primary),c=null===o?t:o;n=g(s,c,n,"end")}var u="M"+t.x+","+t.y+" ";return null!==i&&null!==o&&(u+="C"+i.x+","+i.y+" "+o.x+","+o.y+" "),u+=n.x+","+n.y}).style("stroke",function(e){var r=this.parentNode.parentNode.__data__.bigg_id;if(d&&null!==n&&!(r in n.reactions))return"red";if(s){var i=e.data;return null===i?u:t.reaction_color(i)}return null}).style("stroke-width",function(e){if(l){var n=e.data;return null===n?c:t.reaction_size(n)}return null}).attr("pointer-events","visibleStroke").on("mouseover",function(e){var t=w(this);b("reaction_object",Object.assign({},e,{xPos:t[0],yPos:t[1]}))}).on("touchend",function(e){var t=k(this.parentNode,0);m("reaction_object",Object.assign({},e,{xPos:t[0],yPos:t[1]}))}).on("mouseout",h);var x=e.select(".arrowheads").selectAll(".arrowhead").data(function(e){var t=[],n=r[e.from_node_id],i=e.b1,o=r[e.to_node_id],a=e.b2;if(f&&("metabolite"===o.node_type&&!o.node_is_primary||"metabolite"===n.node_type&&!n.node_is_primary))return t;if("metabolite"===n.node_type&&(e.reversibility||e.from_node_coefficient>0)){var s=y(e.data,l),c=v(s,e.reversibility,e.from_node_coefficient,n.node_is_primary),u=null===i?o:i,d=A.to_degrees(A.get_angle([n,u]))+90,_=g(c,n,u,"start");t.push({data:e.data,x:_.x,y:_.y,size:s,rotation:d,show_arrowhead_flux:e.from_node_coefficient<0===e.reverse_flux||0===e.data})}if("metabolite"===o.node_type&&(e.reversibility||e.to_node_coefficient>0)){var s=y(e.data,l),c=v(s,e.reversibility,e.to_node_coefficient,o.node_is_primary),u=null===a?n:a,d=A.to_degrees(A.get_angle([o,u]))+90,_=g(c,u,o,"end");t.push({data:e.data,x:_.x,y:_.y,size:s,rotation:d,show_arrowhead_flux:e.to_node_coefficient<0===e.reverse_flux||0===e.data})}if(e.unconnected_segment_with_arrow){var s=y(e.data,l),u=o,d=A.to_degrees(A.get_angle([n,u]))+90;t.push({data:e.data,x:n.x,y:n.y,size:s,rotation:d,show_arrowhead_flux:e.to_node_coefficient<0===e.reverse_flux||0===e.data})}return t});x.enter().append("path").classed("arrowhead",!0).merge(x).attr("d",function(e){return"M"+[-e.size.width/2,0]+" L"+[0,e.size.height]+" L"+[e.size.width/2,0]+" Z"}).attr("transform",function(e){return"translate("+e.x+","+e.y+")rotate("+e.rotation+")"}).style("fill",function(e){if(s){if(e.show_arrowhead_flux){var n=e.data;return null===n?u:t.reaction_color(n)}return"#FFFFFF"}return null}).style("stroke",function(e){if(s){var n=e.data;return null===n?u:t.reaction_color(n)}return null}),x.exit().remove();var C=e.select(".stoichiometry-labels").selectAll(".stoichiometry-label").data(function(e){var t=[],n=r[e.from_node_id],i=e.b1,o=r[e.to_node_id],a=e.b2;if(f&&("metabolite"==o.node_type&&!o.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary))return t;if("metabolite"===n.node_type&&1!=Math.abs(e.from_node_coefficient)){var s=y(e.data,l),c=1.5*v(s,!1,0,o.node_is_primary),u=null===i?o:i;u=A.c_plus_c(u,A.rotate_coords(u,.5,n));var d=g(c,n,u,"start");d=A.c_plus_c(d,{x:0,y:7}),t.push({coefficient:Math.abs(e.from_node_coefficient),x:d.x,y:d.y,data:e.data})}if("metabolite"===o.node_type&&1!==Math.abs(e.to_node_coefficient)){var s=y(e.data,l),c=1.5*v(s,!1,0,o.node_is_primary),u=null===a?n:a;u=A.c_plus_c(u,A.rotate_coords(u,.5,o));var d=g(c,u,o,"end");d=A.c_plus_c(d,{x:0,y:7}),t.push({coefficient:Math.abs(e.to_node_coefficient),x:d.x,y:d.y,data:e.data})}return t});C.enter().append("text").attr("class","stoichiometry-label").attr("text-anchor","middle").merge(C).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).text(function(e){return e.coefficient}).style("fill",function(e){if(s){var n=e.data;return null===n?u:t.reaction_color(n)}return null}),C.exit().remove(),this.callback_manager.run("update_segment",this,e)}function f(e){var t=e.append("g").attr("id",function(e){return e.bezier_id}).attr("class",function(e){return"bezier"});return t.append("path").attr("class","connect-line"),t.append("circle").attr("class",function(e){return"bezier-circle "+e.bezier}).style("stroke-width",String(1)+"px").attr("r",String(7)+"px"),this.callback_manager.run("create_bezier",this,e),t}function _(e,t,n,r,i,o,a){var l=this.settings.get("hide_secondary_metabolites");if(!t)return void e.attr("visibility","hidden");e.attr("visibility","visible"),e.style("visibility",function(e){var t=a[e.reaction_id].segments[e.segment_id],n=o[t.from_node_id],r=o[t.to_node_id];return l&&("metabolite"==r.node_type&&!r.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary)?"hidden":null}),e.select(".bezier-circle").call(this.behavior.turnOffDrag).call(n).on("mouseover",r).on("mouseout",i).attr("transform",function(e){return null==e.x||null==e.y?"":"translate("+e.x+","+e.y+")"}),e.select(".connect-line").attr("d",function(e){var t,n=a[e.reaction_id].segments[e.segment_id];return t="b1"==e.bezier?o[n.from_node_id]:o[n.to_node_id],null==e.x||null==e.y||null==t.x||null==t.y?"":"M"+e.x+", "+e.y+" "+t.x+","+t.y}),this.callback_manager.run("update_bezier",this,e)}function p(e,t,n){var r=e.append("g").attr("class","node").attr("id",function(e){return"n"+e.node_id});return r.append("circle").attr("class",function(e){var t="node-circle";return null!==e.node_type&&(t+=" "+e.node_type+"-circle"),t}),r.filter(function(e){return"metabolite"===e.node_type}).append("text").attr("class","node-label label"),this.callback_manager.run("create_node",this,e),r}function b(e,t,n,r,i,o,a,l,s){function c(e,t){return"metabolite"===e.node_type&&t&&!e.node_is_primary}var u=this.settings.get("hide_secondary_metabolites"),d=this.settings.get("primary_metabolite_radius"),f=this.settings.get("secondary_metabolite_radius"),_=this.settings.get("marker_radius"),p=this.settings.get("hide_all_labels"),b=this.settings.get("identifiers_on_map"),h=this.settings.get("metabolite_styles"),m={color:this.settings.get("metabolite_no_data_color"),size:this.settings.get("metabolite_no_data_size")},g=this.behavior.labelMousedown,A=this.behavior.labelMouseover,y=this.behavior.labelMouseout,v=(this.behavior.labelTouch,this.behavior.objectMouseover),x=this.behavior.objectMouseout,C=this.behavior.objectTouch,B=(e.select(".node-circle").attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).style("visibility",function(e){return c(e,u)?"hidden":null}).attr("r",function(e){if("metabolite"===e.node_type){if(n&&-1!==h.indexOf("size")){var r=e.data;return null===r?m.size:t.metabolite_size(r)}return e.node_is_primary?d:f}return _}).style("fill",function(e){if("metabolite"===e.node_type){if(n&&-1!==h.indexOf("color")){var r=e.data;return null===r?m.color:t.metabolite_color(r)}return null}return null}).call(this.behavior.turnOffDrag).call(l).on("mousedown",r).on("click",i).on("mouseover",function(e){if("metabolite"===e.node_type){var t=w(this.parentNode);v("node_object",Object.assign({},e,{xPos:t[0],yPos:t[1]}))}}).on("mouseout",x).on("touchend",function(e){"metabolite"===e.node_type&&(touchEvent=k(this.parentNode,0),C("node_object",Object.assign({},e,{xPos:touchEvent[0],yPos:touchEvent[1]})))}),e.select(".node-label").attr("visibility",p?"hidden":"visible"));p||B.style("visibility",function(e){return c(e,u)?"hidden":null}).attr("transform",function(e){return"translate("+e.label_x+","+e.label_y+")"}).text(function(e){var t=e[b];return n&&-1!==h.indexOf("text")&&(t+=" "+e.data_string),t}).call(this.behavior.turnOffDrag).call(s).on("mousedown",g).on("mouseover",function(e){A("node_label",e)}).on("mouseout",y),this.callback_manager.run("update_node",this,e)}function h(e){var t=e.append("g").attr("id",function(e){return"l"+e.text_label_id}).attr("class","text-label");return t.append("text").attr("class","label"),this.callback_manager.run("create_text_label",this,e),t}function m(e){var t=this.behavior.textLabelMousedown,n=this.behavior.textLabelClick,r=this.behavior.selectableDrag,i=this.behavior.turnOffDrag;e.select(".label").text(function(e){return e.text}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).on("mousedown",t).on("click",n).call(i).call(r),this.callback_manager.run("update_text_label",this,e)}function g(e,t,n,r){A.check_undefined(arguments,["reaction_arrow_displacement","start","end","displace"]);var i,o,a=e,l=A.distance(t,n);return a&&l||console.error("Bad value"),"start"===r?(i=t.x+a*(n.x-t.x)/l,o=t.y+a*(n.y-t.y)/l):"end"===r?(i=n.x-a*(n.x-t.x)/l,o=n.y-a*(n.y-t.y)/l):console.error("bad displace value: "+r),{x:i,y:o}}var A=n(1),y=n(16),v=n(17),x=n(27).format,w=(n(0).select,n(0).mouse),k=n(0).touch,C=A.make_class();C.prototype={init:r,create_reaction:a,update_reaction:l,create_bezier:f,update_bezier:_,create_node:p,update_node:b,create_text_label:h,update_text_label:m,create_membrane:i,update_membrane:o,create_reaction_label:s,update_reaction_label:c,create_segment:u,update_segment:d},e.exports=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(91),o=function(){function e(){r(this,e),this.x=(0,i.scaleLinear)(),this.y=(0,i.scaleLinear)(),this.x_size=(0,i.scaleLinear)(),this.y_size=(0,i.scaleLinear)(),this.size=(0,i.scaleLinear)(),this.reaction_color=(0,i.scaleLinear)().clamp(!0),this.reaction_size=(0,i.scaleLinear)().clamp(!0),this.metabolite_color=(0,i.scaleLinear)().clamp(!0),this.metabolite_size=(0,i.scaleLinear)().clamp(!0)}return e.prototype.connectToSettings=function(e,t,n){var r=this;e.streams.reaction_scale.onValue(function(e){r.setReactionScale(e,n)}),e.streams.metabolite_scale.onValue(function(e){r.setMetaboliteScale(e,n)}),t.callback_manager.set("calc_data_stats__reaction",function(t){t&&r.setReactionScale(e.get("reaction_scale"),n)}),t.callback_manager.set("calc_data_stats__metabolite",function(t){t&&r.setMetaboliteScale(e.get("metabolite_scale"),n)})},e.prototype.sortScale=function(e,t){var n=e.map(function(e){var n=void 0;if(e.type in t)n=t[e.type];else{if("value"!==e.type)throw new Error("Bad domain type "+e.type);n=e.value}return{v:n,color:e.color,size:e.size}}).sort(function(e,t){return e.v-t.v});return{domain:n.map(function(e){return e.v}),color_range:n.map(function(e){return e.color}),size_range:n.map(function(e){return e.size})}},e.prototype.setReactionScale=function(e,t){var n=t().reaction;if(null!==n){var r=this.sortScale(e,n);this.reaction_color.domain(r.domain),this.reaction_size.domain(r.domain),this.reaction_color.range(r.color_range),this.reaction_size.range(r.size_range)}},e.prototype.setMetaboliteScale=function(e,t){var n=t().metabolite;if(null!==n){var r=this.sortScale(e,n);this.metabolite_color.domain(r.domain),this.metabolite_size.domain(r.domain),this.metabolite_color.range(r.color_range),this.metabolite_size.range(r.size_range)}},e}();t.default=o},function(e,t,n){"use strict";function r(){function e(){var e=o().length,r=c[1]<c[0],i=c[r-0],l=c[1-r];t=(l-i)/Math.max(1,e-d+2*f),u&&(t=Math.floor(t)),i+=(l-i-t*(e-d))*_,n=t*(1-d),u&&(i=Math.round(i),n=Math.round(n));var p=Object(a.e)(e).map(function(e){return i+t*e});return s(r?p.reverse():p)}var t,n,i=Object(l.a)().unknown(void 0),o=i.domain,s=i.range,c=[0,1],u=!1,d=0,f=0,_=.5;return delete i.unknown,i.domain=function(t){return arguments.length?(o(t),e()):o()},i.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},i.rangeRound=function(t){return c=[+t[0],+t[1]],u=!0,e()},i.bandwidth=function(){return n},i.step=function(){return t},i.round=function(t){return arguments.length?(u=!!t,e()):u},i.padding=function(t){return arguments.length?(d=f=Math.max(0,Math.min(1,t)),e()):d},i.paddingInner=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},i.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},i.align=function(t){return arguments.length?(_=Math.max(0,Math.min(1,t)),e()):_},i.copy=function(){return r().domain(o()).range(c).round(u).paddingInner(d).paddingOuter(f).align(_)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i(t())},e}function o(){return i(r().paddingInner(1))}t.a=r,t.b=o;var a=n(9),l=n(104)},function(e,t,n){"use strict";n(94)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(98),n(92),n(238),n(97),n(239),n(99),n(100),n(101)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";n(98),n(18),n(22),n(53)},function(e,t,n){"use strict";n(95)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(22)},function(e,t,n){"use strict";n(18),n(22),n(53)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(18)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(103)},function(e,t,n){"use strict";function r(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=i.a.call(n,a.a),e):t.slice()},e.copy=function(){return r().domain(t)},Object(o.b)(e)}t.a=r;var i=n(14),o=n(23),a=n(105)},function(e,t,n){"use strict";var r=n(9),i=n(27);t.a=function(e,t,n){var o,a=e[0],l=e[e.length-1],s=Object(r.g)(a,l,null==t?10:t);switch(n=Object(i.formatSpecifier)(null==n?",f":n),n.type){case"s":var c=Math.max(Math.abs(a),Math.abs(l));return null!=n.precision||isNaN(o=Object(i.precisionPrefix)(s,c))||(n.precision=o),Object(i.formatPrefix)(n,c);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Object(i.precisionRound)(s,Math.max(Math.abs(a),Math.abs(l))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Object(i.precisionFixed)(s))||(n.precision=o-2*("%"===n.type))}return Object(i.format)(n)}},function(e,t,n){"use strict";function r(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Object(f.a)(t)}function i(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function o(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a(e){return 10===e?o:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function l(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function s(e){return function(t){return-e(-t)}}function c(){function e(){return f=l(o),b=a(o),n()[0]<0&&(f=s(f),b=s(b)),t}var t=Object(p.b)(r,i).domain([1,10]),n=t.domain,o=10,f=l(10),b=a(10);return t.base=function(t){return arguments.length?(o=+t,e()):o},t.domain=function(t){return arguments.length?(n(t),e()):n()},t.ticks=function(e){var t,r=n(),i=r[0],a=r[r.length-1];(t=a<i)&&(d=i,i=a,a=d);var l,s,c,d=f(i),_=f(a),p=null==e?10:+e,h=[];if(!(o%1)&&_-d<p){if(d=Math.round(d)-1,_=Math.round(_)+1,i>0){for(;d<_;++d)for(s=1,l=b(d);s<o;++s)if(!((c=l*s)<i)){if(c>a)break;h.push(c)}}else for(;d<_;++d)for(s=o-1,l=b(d);s>=1;--s)if(!((c=l*s)<i)){if(c>a)break;h.push(c)}}else h=Object(u.h)(d,_,Math.min(_-d,p)).map(b);return t?h.reverse():h},t.tickFormat=function(e,n){if(null==n&&(n=10===o?".0e":","),"function"!==typeof n&&(n=Object(d.format)(n)),e===1/0)return n;null==e&&(e=10);var r=Math.max(1,o*e/t.ticks().length);return function(e){var t=e/b(Math.round(f(e)));return t*o<o-.5&&(t*=o),t<=r?n(e):""}},t.nice=function(){return n(Object(_.a)(n(),{floor:function(e){return b(Math.floor(f(e)))},ceil:function(e){return b(Math.ceil(f(e)))}}))},t.copy=function(){return Object(p.a)(t,c().base(o))},t}t.a=c;var u=n(9),d=n(27),f=n(54),_=n(106),p=n(31)},function(e,t,n){"use strict";function r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function i(){function e(e,t){return(t=r(t,n)-(e=r(e,n)))?function(i){return(r(i,n)-e)/t}:Object(a.a)(t)}function t(e,t){return t=r(t,n)-(e=r(e,n)),function(i){return r(e+t*i,1/n)}}var n=1,o=Object(s.b)(e,t),c=o.domain;return o.exponent=function(e){return arguments.length?(n=+e,c(c())):n},o.copy=function(){return Object(s.a)(o,i().exponent(n))},Object(l.b)(o)}function o(){return i().exponent(.5)}t.a=i,t.b=o;var a=n(54),l=n(23),s=n(31)},function(e,t,n){"use strict";function r(){function e(){var e=0,r=Math.max(1,a.length);for(l=new Array(r-1);++e<r;)l[e-1]=Object(i.d)(n,e/r);return t}function t(e){if(!isNaN(e=+e))return a[Object(i.b)(l,e)]}var n=[],a=[],l=[];return t.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?l[t-1]:n[0],t<l.length?l[t]:n[n.length-1]]},t.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,o=0,a=t.length;o<a;++o)null==(r=t[o])||isNaN(r=+r)||n.push(r);return n.sort(i.a),e()},t.range=function(t){return arguments.length?(a=o.b.call(t),e()):a.slice()},t.quantiles=function(){return l.slice()},t.copy=function(){return r().domain(n).range(a)},t}t.a=r;var i=n(9),o=n(14)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return u[Object(i.b)(c,e,0,s)]}function t(){var t=-1;for(c=new Array(s);++t<s;)c[t]=((t+1)*l-(t-s)*n)/(s+1);return e}var n=0,l=1,s=1,c=[.5],u=[0,1];return e.domain=function(e){return arguments.length?(n=+e[0],l=+e[1],t()):[n,l]},e.range=function(e){return arguments.length?(s=(u=o.b.call(e)).length-1,t()):u.slice()},e.invertExtent=function(e){var t=u.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,c[0]]:t>=s?[c[s-1],l]:[c[t-1],c[t]]},e.copy=function(){return r().domain([n,l]).range(u)},Object(a.b)(e)}t.a=r;var i=n(9),o=n(14),a=n(23)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return n[Object(i.b)(t,e,0,a)]}var t=[.5],n=[0,1],a=1;return e.domain=function(r){return arguments.length?(t=o.b.call(r),a=Math.min(t.length,n.length-1),e):t.slice()},e.range=function(r){return arguments.length?(n=o.b.call(r),a=Math.min(t.length,n.length-1),e):n.slice()},e.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},e.copy=function(){return r().domain(t).range(n)},e}t.a=r;var i=n(9),o=n(14)},function(e,t,n){"use strict";var r=n(3),i=Object(r.a)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Object(r.a)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i:null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){e.setTime(Math.floor(e/i.d)*i.d)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getUTCSeconds()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){e.setTime(Math.floor(e/i.c)*i.c)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getMinutes()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){var t=e.getTimezoneOffset()*i.c%i.b;t<0&&(t+=i.b),e.setTime(Math.floor((+e-t)/i.b)*i.b+t)},function(e,t){e.setTime(+e+t*i.b)},function(e,t){return(t-e)/i.b},function(e){return e.getHours()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.c)/i.a},function(e){return e.getDate()-1});t.a=o;o.range},function(e,t,n){"use strict";function r(e){return Object(i.a)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.c)/o.e})}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u});var i=n(3),o=n(10),a=r(0),l=r(1),s=r(2),c=r(3),u=r(4),d=r(5),f=r(6);a.range,l.range,s.range,c.range,u.range,d.range,f.range},function(e,t,n){"use strict";var r=n(3),i=Object(r.a)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(3),i=Object(r.a)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getUTCMinutes()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.b)},function(e,t){return(t-e)/i.b},function(e){return e.getUTCHours()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(3),i=n(10),o=Object(r.a)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.a},function(e){return e.getUTCDate()-1});t.a=o;o.range},function(e,t,n){"use strict";function r(e){return Object(i.a)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.e})}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u});var i=n(3),o=n(10),a=r(0),l=r(1),s=r(2),c=r(3),u=r(4),d=r(5),f=r(6);a.range,l.range,s.range,c.range,u.range,d.range,f.range},function(e,t,n){"use strict";var r=n(3),i=Object(r.a)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(3),i=Object(r.a)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.a=i;i.range},function(e,t,n){"use strict";function r(e){var t=new Date(e);return isNaN(t)?null:t}var i=n(110),o=n(56);+new Date("2000-01-01T00:00:00.000Z")||Object(o.c)(i.a)},function(e,t,n){"use strict";var r=n(107),i=n(108),o=n(55);t.a=function(){return Object(r.a)(o.v,o.q,o.u,o.l,o.m,o.o,o.r,o.n,i.b).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(e,t,n){"use strict";var r=n(24);t.a=Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";var r=n(24);t.a=Object(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(e,t,n){"use strict";var r=n(24);t.a=Object(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(e,t,n){"use strict";var r=n(24);t.a=Object(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(e,t,n){"use strict";var r=n(8),i=n(7);t.a=Object(i.b)(Object(r.b)(300,.5,0),Object(r.b)(-240,.5,1))},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n(8),i=n(7),o=Object(i.b)(Object(r.b)(-100,.75,.35),Object(r.b)(80,1.5,.8)),a=Object(i.b)(Object(r.b)(260,.75,.35),Object(r.b)(80,1.5,.8)),l=Object(r.b)();t.b=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return l.h=360*e-100,l.s=1.5-1.5*t,l.l=.8-.9*t,l+""}},function(e,t,n){"use strict";function r(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return l});var i=n(24);t.a=r(Object(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(Object(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=r(Object(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),l=r(Object(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";function r(e){function t(t){var r=(t-n)/(o-n);return e(a?Math.max(0,Math.min(1,r)):r)}var n=0,o=1,a=!1;return t.domain=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.clamp=function(e){return arguments.length?(a=!!e,t):a},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return r(e).domain([n,o]).clamp(a)},Object(i.b)(t)}t.a=r;var i=n(23)},function(e,t,n){"use strict";function r(e,t){this.selection=e,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.resize_enabled=!0,this.callback_manager=new s,this.setup()}function i(e){d.isUndefined(e)&&(e=!this.resize_enabled),e?this.selection.selectAll(".drag-rect").style("pointer-events","auto"):this.selection.selectAll(".drag-rect").style("pointer-events","none")}function o(){function e(){u.event.sourceEvent.stopPropagation()}function t(e,t,n){var r=l.d3_transform_catch(n),i=r.translate;return null!==e&&(i[0]=e),null!==t&&(i[1]=t),"translate("+i+")"}function n(e){var n=e.x;e.x=Math.min(e.x+a.width-s/2,u.event.x),a.x=e.x,a.width=a.width+(n-e.x),A.attr("transform",function(e){return t(e.x-s/2,null,A.attr("transform"))}),_.attr("transform",function(e){return t(e.x,null,_.attr("transform"))}).attr("width",a.width*d),p.attr("transform",function(e){return t(e.x,null,p.attr("transform"))}).attr("width",a.width),v.attr("transform",function(e){return t(e.x+s/2,null,v.attr("transform"))}).attr("width",a.width-s),x.attr("transform",function(e){return t(e.x+s/2,null,x.attr("transform"))}).attr("width",a.width-s),a.callback_manager.run("resize")}function r(e){u.event.sourceEvent.stopPropagation();var n=Math.max(e.x+s/2,e.x+a.width+u.event.dx);a.width=n-e.x,y.attr("transform",function(e){return t(n-s/2,null,y.attr("transform"))}),_.attr("width",a.width*d),p.attr("width",a.width),v.attr("width",a.width-s),x.attr("width",a.width-s),a.callback_manager.run("resize")}function i(e){u.event.sourceEvent.stopPropagation();var n=e.y;e.y=Math.min(e.y+a.height-s/2,u.event.y),a.y=e.y,a.height=a.height+(n-e.y),v.attr("transform",function(e){return t(null,e.y-s/2,v.attr("transform"))}),_.attr("transform",function(e){return t(null,e.y,_.attr("transform"))}).attr("width",a.height*d),p.attr("transform",function(e){return t(null,e.y,p.attr("transform"))}).attr("height",a.height),A.attr("transform",function(e){return t(null,e.y+s/2,A.attr("transform"))}).attr("height",a.height-s),y.attr("transform",function(e){return t(null,e.y+s/2,y.attr("transform"))}).attr("height",a.height-s),a.callback_manager.run("resize")}function o(e){u.event.sourceEvent.stopPropagation();var n=Math.max(e.y+s/2,e.y+a.height+u.event.dy);a.height=n-e.y,x.attr("transform",function(e){return t(null,n-s/2,x.attr("transform"))}),_.attr("height",a.height*d),p.attr("height",a.height),A.attr("height",a.height-s),y.attr("height",a.height-s),a.callback_manager.run("resize")}var a=this,s=(this.width,this.height,100),d=10,f=this.selection.append("g").classed("canvas-group",!0).data([{x:this.x,y:this.y}]),_=f.append("rect").attr("id","mouse-node").attr("width",this.width*d).attr("height",this.height*d).attr("transform","translate("+[a.x-this.width*d/2,a.y-this.height*d/2]+")").attr("pointer-events","all");this.mouse_node=_;var p=f.append("rect").attr("id","canvas").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[a.x,a.y]+")"),b=c().on("start",e).on("drag",r),h=c().on("start",e).on("drag",n),m=c().on("start",e).on("drag",i),g=c().on("start",e).on("drag",o),A=f.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x-s/2,e.y+s/2]+")"}).attr("height",this.height-s).attr("id","dragleft").attr("width",s).attr("cursor","ew-resize").classed("resize-rect",!0).call(h),y=f.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+a.width-s/2,e.y+s/2]+")"}).attr("id","dragright").attr("height",this.height-s).attr("width",s).attr("cursor","ew-resize").classed("resize-rect",!0).call(b),v=f.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+s/2,e.y-s/2]+")"}).attr("height",s).attr("id","dragtop").attr("width",this.width-s).attr("cursor","ns-resize").classed("resize-rect",!0).call(m),x=f.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+s/2,e.y+a.height-s/2]+")"}).attr("id","dragbottom").attr("height",s).attr("width",this.width-s).attr("cursor","ns-resize").classed("resize-rect",!0).call(g)}function a(){return{x:this.x,y:this.y,width:this.width,height:this.height}}var l=n(1),s=n(17),c=n(15).drag,u=n(0),d=n(2),f=l.make_class();f.prototype={init:r,toggle_resize:i,setup:o,size_and_location:a},e.exports=f},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t,n,r){this.brush_sel=e.append("g").attr("id","brush-container");var i=this.brush_sel.node(),o=e.select(r).node().nextSibling;i!==o&&i.parentNode.insertBefore(i,o),this.enabled=t,this.map=n}function i(e){void 0===e&&(e=!this.enabled),e?this.setup_selection_brush():this.brush_sel.selectAll("*").remove()}function o(e){e.selectAll("rect").attr("cursor",null)}function a(){var e=this.map,t=this.brush_sel,n=e.sel.selectAll("#nodes,#text-labels"),r=e.canvas.size_and_location(),i=r.width,a=r.height,l=r.x,d=r.y;t.selectAll("*").remove();var f=!1,_=s().extent([[l,d],[l+i,d+a]]).on("start",function(){o(t),e.settings.get("hide_secondary_metabolites")&&(e.settings.set("hide_secondary_metabolites",!1),e.draw_everything(),e.set_status("Showing secondary metabolites. You can hide them again in Settings.",2e3))}).on("brush",function(){var e=u.event.sourceEvent.shiftKey,t=c(this);if(null!==t){(e?n.selectAll(".node:not(.selected),.text-label:not(.selected)"):n.selectAll(".node,.text-label")).classed("selected",function(e){var n=e.x,r=e.y;return t[0][0]<=n&&n<t[1][0]&&t[0][1]<=r&&r<t[1][1]})}}).on("end",function(){o(t),null===c(this)?f?f=!1:e.select_none():(f=!0,t.call(_.move,null))});t.call(_),o(t)}var l=n(1),s=n(115).brush,c=n(115).brushSelection,u=(n(91).scaleIdentity,n(0)),d=(n(0).select,l.make_class());d.prototype={init:r,toggle:i,setup_selection_brush:a},e.exports=d},function(e,t,n){"use strict";function r(e){return{type:e}}function i(){return!b.event.button}function o(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function a(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function l(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function s(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function c(){return d(k)}function u(){return d(C)}function d(e){function t(t){var i=t.property("__brush",d).selectAll(".overlay").data([r("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",E.overlay).merge(i).each(function(){var e=a(this).extent;Object(b.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",E.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=t.selectAll(".handle").data(e.handles,function(e){return e.type});o.exit().remove(),o.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return E[e.type]}),t.each(n).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function n(){var e=Object(b.select)(this),t=a(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-L/2:t[0][0]-L/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-L/2:t[0][1]-L/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+L:L}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+L:L})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(e,t){return e.__brush.emitter||new c(e,t)}function c(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function u(){function t(){var e=Object(b.mouse)(Q);!J||P||F||(Math.abs(e[0]-ee[0])>Math.abs(e[1]-ee[1])?F=!0:P=!0),ee=e,z=!0,Object(A.a)(),r()}function r(){var e;switch(L=ee[0]-$[0],T=ee[1]-$[1],R){case v:case y:G&&(L=Math.max(q-u,Math.min(Z-m,L)),d=u+L,g=m+L),Y&&(T=Math.max(K-f,Math.min(X-D,T)),p=f+T,S=D+T);break;case x:G<0?(L=Math.max(q-u,Math.min(Z-u,L)),d=u+L,g=m):G>0&&(L=Math.max(q-m,Math.min(Z-m,L)),d=u,g=m+L),Y<0?(T=Math.max(K-f,Math.min(X-f,T)),p=f+T,S=D):Y>0&&(T=Math.max(K-D,Math.min(X-D,T)),p=f,S=D+T);break;case w:G&&(d=Math.max(q,Math.min(Z,u-L*G)),g=Math.max(q,Math.min(Z,m+L*G))),Y&&(p=Math.max(K,Math.min(X,f-T*Y)),S=Math.max(K,Math.min(X,D+T*Y)))}g<d&&(G*=-1,e=u,u=m,m=e,e=d,d=g,g=e,U in M&&re.attr("cursor",E[U=M[U]])),S<p&&(Y*=-1,e=f,f=D,D=e,e=p,p=S,S=e,U in j&&re.attr("cursor",E[U=j[U]])),H.selection&&(V=H.selection),P&&(d=V[0][0],g=V[1][0]),F&&(p=V[0][1],S=V[1][1]),V[0][0]===d&&V[0][1]===p&&V[1][0]===g&&V[1][1]===S||(H.selection=[[d,p],[g,S]],n.call(Q),te.brush())}function i(){if(Object(A.b)(),b.event.touches){if(b.event.touches.length)return;B&&clearTimeout(B),B=setTimeout(function(){B=null},500),ne.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(_.dragEnable)(b.event.view,z),ie.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ne.attr("pointer-events","all"),re.attr("cursor",E.overlay),H.selection&&(V=H.selection),l(V)&&(H.selection=null,n.call(Q)),te.end()}function o(){switch(b.event.keyCode){case 16:J=G&&Y;break;case 18:R===x&&(G&&(m=g-L*G,u=d+L*G),Y&&(D=S-T*Y,f=p+T*Y),R=w,r());break;case 32:R!==x&&R!==w||(G<0?m=g-L:G>0&&(u=d-L),Y<0?D=S-T:Y>0&&(f=p-T),R=v,re.attr("cursor",E.selection),r());break;default:return}Object(A.a)()}function c(){switch(b.event.keyCode){case 16:J&&(P=F=J=!1,r());break;case 18:R===w&&(G<0?m=g:G>0&&(u=d),Y<0?D=S:Y>0&&(f=p),R=x,r());break;case 32:R===v&&(b.event.altKey?(G&&(m=g-L*G,u=d+L*G),Y&&(D=S-T*Y,f=p+T*Y),R=w):(G<0?m=g:G>0&&(u=d),Y<0?D=S:Y>0&&(f=p),R=x),re.attr("cursor",E[U]),r());break;default:return}Object(A.a)()}if(b.event.touches){if(b.event.changedTouches.length<b.event.touches.length)return Object(A.a)()}else if(B)return;if(N.apply(this,arguments)){var u,d,f,p,m,g,D,S,L,T,z,P,F,Q=this,U=b.event.target.__data__.type,R="selection"===(b.event.metaKey?U="overlay":U)?y:b.event.altKey?w:x,G=e===C?null:O[U],Y=e===k?null:I[U],H=a(Q),W=H.extent,V=H.selection,q=W[0][0],K=W[0][1],Z=W[1][0],X=W[1][1],J=!1,$=Object(b.mouse)(Q),ee=$,te=s(Q,arguments).beforestart();"overlay"===U?H.selection=V=[[u=e===C?q:$[0],f=e===k?K:$[1]],[m=e===C?Z:u,D=e===k?X:f]]:(u=V[0][0],f=V[0][1],m=V[1][0],D=V[1][1]),d=u,p=f,g=m,S=D;var ne=Object(b.select)(Q).attr("pointer-events","none"),re=ne.selectAll(".overlay").attr("cursor",E[U]);if(b.event.touches)ne.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",i,!0);else{var ie=Object(b.select)(b.event.view).on("keydown.brush",o,!0).on("keyup.brush",c,!0).on("mousemove.brush",t,!0).on("mouseup.brush",i,!0);Object(_.dragDisable)(b.event.view)}Object(A.b)(),Object(h.a)(Q),n.call(Q),te.start()}}function d(){var t=this.__brush||{selection:null};return t.extent=D.apply(this,arguments),t.dim=e,t}var B,D=o,N=i,S=Object(f.a)(t,"start","brush","end"),L=6;return t.move=function(t,r){t.selection?t.on("start.brush",function(){s(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){s(this,arguments).end()}).tween("brush",function(){function t(e){o.selection=1===e&&l(u)?null:d(e),n.call(i),a.brush()}var i=this,o=i.__brush,a=s(i,arguments),c=o.selection,u=e.input("function"===typeof r?r.apply(this,arguments):r,o.extent),d=Object(p.a)(c,u);return c&&u?t:t(1)}):t.each(function(){var t=this,i=arguments,o=t.__brush,a=e.input("function"===typeof r?r.apply(t,i):r,o.extent),c=s(t,i).beforestart();Object(h.a)(t),o.selection=null==a||l(a)?null:a,n.call(t),c.start().brush().end()})},c.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Object(b.customEvent)(new g.a(t,n,e.output(this.state.selection)),S.apply,S,[n,this.that,this.args])}},t.extent=function(e){return arguments.length?(D="function"===typeof e?e:Object(m.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):D},t.filter=function(e){return arguments.length?(N="function"===typeof e?e:Object(m.a)(!!e),t):N},t.handleSize=function(e){return arguments.length?(L=+e,t):L},t.on=function(){var e=S.on.apply(S,arguments);return e===S?t:e},t}t.a=s,t.b=c,t.c=u;var f=n(20),_=n(15),p=n(7),b=n(0),h=n(84),m=n(287),g=n(288),A=n(289),y={name:"drag"},v={name:"space"},x={name:"handle"},w={name:"center"},k={name:"x",handles:["e","w"].map(r),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},C={name:"y",handles:["n","s"].map(r),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},B={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(r),input:function(e){return e},output:function(e){return e}},E={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},M={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},j={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},O={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},I={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};t.d=function(){return d(B)}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t,n){this.target=e,this.type=t,this.selection=n}},function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}t.b=r;var i=n(0);t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(e,t,n){"use strict";function r(e,t,n){var r=e.append("div").attr("id","text-edit-input");this.placed_div=f(r,t),this.placed_div.hide(),this.input=r.append("input"),this.map=t,this.setup_map_callbacks(t),this.zoom_container=n,this.setup_zoom_callbacks(n),this.is_new=!1}function i(e){e.callback_manager.set("edit_text_label.text_edit_input",function(e,t){this.show(e,t)}.bind(this)),e.callback_manager.set("new_text_label.text_edit_input",function(e){null!==this.active_target&&this._accept_changes(this.active_target.target),this.hide(),this._add_and_edit(e)}.bind(this)),e.callback_manager.set("hide_text_label_editor.text_edit_input",function(){this.hide()}.bind(this))}function o(e){e.callback_manager.set("zoom.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this)),e.callback_manager.set("go_to.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this))}function a(){return this.placed_div.is_visible()}function l(e,t){this.active_target&&this._accept_changes(this.active_target.target),this.active_target={target:e,coords:t},e.each(function(e){this.input.node().value=e.text}.bind(this)),this.placed_div.place(t),this.input.node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this._accept_changes(e),this.hide()}.bind(this),!0),this.clear_enter=this.map.key_manager.add_enter_listener(function(e){this._accept_changes(e),this.hide()}.bind(this,e),!0)}function s(){this.is_new=!1,this.placed_div.hide(),this.input.attr("value",""),this.active_target=null,this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_enter&&this.clear_enter(),this.clear_enter=null}function c(e){if(""===this.input.node().value)e.each(function(e){var t={};t[e.text_label_id]=this.map.text_labels[e.text_label_id],this.map.delete_selectable({},t,!0)}.bind(this));else{var t=[];e.each(function(e){this.map.edit_text_label(e.text_label_id,this.input.node().value,!0,this.is_new),t.push(e.text_label_id)}.bind(this))}}function u(e){this.is_new=!0;var t=this.map.new_text_label(e,""),n=this.map.sel.select("#text-labels").selectAll(".text-label").filter(function(e){return e.text_label_id===t});n.select("text").classed("edit-text-cursor",!0),this.show(n,e)}var d=n(1),f=n(43),_=(n(52),d.make_class());_.prototype={init:r,setup_map_callbacks:i,setup_zoom_callbacks:o,is_visible:a,show:l,hide:s,_accept_changes:c,_add_and_edit:u},e.exports=_},function(e,t,n){"use strict";function r(e,t){var n=e.append("select").attr("id","quick-jump-menu").attr("class","form-control");this.selector=n;var r=a.parse_url_components(window),i="map_name"in r?r.map_name:null,o="quick_jump_path"in r?r.quick_jump_path:null,l="quick_jump"in r?r.quick_jump:[],s=["\u2014 Jump to map \u2014"].concat(l);null!==i&&(s=s.filter(function(e){return e!=i}));var c=function(e){t(e,o,function(t){t?this.replace_state_for_map_name(e):this.reset_selection()}.bind(this))}.bind(this);if(s.length>1){var u=n.selectAll("option").data(s);u.enter().append("option").merge(u).text(function(e){return e.split(".").slice(-1)[0]}),n.on("change",function(){var e=this.options[this.selectedIndex].__data__;c(e)})}else n.style("display","none")}function i(){this.selector.node().selectedIndex=0}function o(e){var t=window.location.href.replace(/(map_name=)([^&]+)(&|$)/,"$1"+e+"$3");window.history.replaceState("Not implemented","",t)}var a=n(1),l=a.make_class();l.prototype={init:r,reset_selection:i,replace_state_for_map_name:o},e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(4),s=n(293),c=r(s),u=n(294),d=r(u),f=n(304),_=r(f),p=n(2),b=r(p);n(305);var h=n(307),m=r(h),g=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentWillMount=function(){var e=this;this.props.settings.holdChanges(),this.setState({clearEscape:this.props.map.key_manager.add_escape_listener(function(){return e.abandonChanges()},!0),clearEnter:this.props.map.key_manager.add_key_listener(["enter"],function(){return e.saveChanges()},!0)})},t.prototype.componentWillUnmount=function(){this.state.clearEscape(),this.state.clearEnter()},t.prototype.abandonChanges=function(){this.props.settings.abandonChanges(),this.props.setDisplay(!1)},t.prototype.saveChanges=function(){this.props.settings.acceptChanges(),this.props.setDisplay(!1)},t.prototype.handleStyle=function(e,t){var n=this.props.settings.get(t),r=n.indexOf(e);-1===r?this.props.settings.set(t,[].concat(n,[e])):this.props.settings.set(t,[].concat(n.slice(0,r),n.slice(r+1)))},t.prototype.render=function(){var e=this,t=this.props.settings,n=t.get("enable_tooltips")||[],r=this.props.map.get_data_statistics();return(0,l.h)("div",{className:"settingsBackground"},(0,l.h)("div",{className:"settingsBoxContainer"},(0,l.h)("button",{className:"discardChanges btn",onClick:function(){return e.abandonChanges()}},(0,l.h)("i",{className:"icon-cancel","aria-hidden":"true"})),(0,l.h)("button",{className:"saveChanges btn",onClick:function(){return e.saveChanges()}},(0,l.h)("i",{className:"icon-ok","aria-hidden":"true"})),(0,l.h)("div",{className:"settingsBox"},(0,l.h)("div",{className:"settingsTip"},(0,l.h)("i",null,"Tip: Hover over an option to see more details about it.")),(0,l.h)("hr",null),(0,l.h)("div",{className:"title"},"View and build options"),(0,l.h)("div",{className:"settingsContainer"},(0,l.h)("table",{className:"radioSelection"},(0,l.h)("tr",{title:"The identifiers that are show in the reaction, gene, and metabolite labels on the map."},(0,l.h)("td",{className:"optionLabel"},"Identifiers:"),(0,l.h)("td",{className:"singleLine"},(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"identifiers",onClick:function(){t.set("identifiers_on_map","bigg_id")},checked:"bigg_id"===t.get("identifiers_on_map")}),"ID's"),(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"identifiers",onClick:function(){t.set("identifiers_on_map","name")},checked:"name"===t.get("identifiers_on_map")}),"Descriptive names")))),(0,l.h)("label",{title:"If checked, then the scroll wheel and trackpad will control zoom rather than pan."},(0,l.h)("input",{type:"checkbox",onClick:function(){"zoom"===t.get("scroll_behavior")?t.set("scroll_behavior","pan"):t.set("scroll_behavior","zoom")},checked:"zoom"===t.get("scroll_behavior")}),"Scroll to zoom (instead of scroll to pan)"),(0,l.h)("label",{title:"If checked, then only the primary metabolites will be displayed."},(0,l.h)("input",{type:"checkbox",onClick:function(){return t.set("hide_secondary_metabolites",!t.get("hide_secondary_metabolites"))},checked:t.get("hide_secondary_metabolites")}),"Hide secondary metabolites"),(0,l.h)("label",{title:"If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)"},(0,l.h)("input",{type:"checkbox",onClick:function(){return t.set("show_gene_reaction_rules",!t.get("show_gene_reaction_rules"))},checked:t.get("show_gene_reaction_rules")}),"Show gene reaction rules"),(0,l.h)("label",{title:"If checked, hide all reaction, gene, and metabolite labels"},(0,l.h)("input",{type:"checkbox",onClick:function(){return t.set("hide_all_labels",!t.get("hide_all_labels"))},checked:t.get("hide_all_labels")}),"Hide reaction, gene, and metabolite labels"),(0,l.h)("label",{title:"If checked, then allow duplicate reactions during model building."},(0,l.h)("input",{type:"checkbox",onClick:function(){return t.set("allow_building_duplicate_reactions",!t.get("allow_building_duplicate_reactions"))},checked:t.get("allow_building_duplicate_reactions")}),"Allow duplicate reactions"),(0,l.h)("label",{title:"If checked, then highlight in red all the reactions on the map that are not present in the loaded model."},(0,l.h)("input",{type:"checkbox",onClick:function(){t.set("highlight_missing",!t.get("highlight_missing"))},checked:t.get("highlight_missing")}),"Highlight reactions not in model"),(0,l.h)("label",{title:"If true, then use CSS3 3D transforms to speed up panning and zooming."},(0,l.h)("input",{type:"checkbox",onClick:function(){t.set("use_3d_transform",!t.get("use_3d_transform"))},checked:t.get("use_3d_transform")}),"Use 3D transform for responsive panning and zooming"),(0,l.h)("table",null,(0,l.h)("tr",{title:"Determines over which elements tooltips will display for reactions, metabolites, and genes"},(0,l.h)("td",null,"Show tooltips over:"),(0,l.h)("td",{className:"singleLine"},(0,l.h)("label",{className:"tooltipOption",title:"If checked, tooltips will display over the gene, reaction, and metabolite labels"},(0,l.h)("input",{type:"checkbox",onClick:function(){var e=b.default.contains(n,"label")?b.default.filter(n,function(e){return"label"!==e}):[].concat(n,["label"]);t.set("enable_tooltips",e)},checked:b.default.contains(n,"label")}),"Labels"),(0,l.h)("label",{className:"tooltipOption",title:"If checked, tooltips will display over the reaction line segments and metabolite circles"},(0,l.h)("input",{type:"checkbox",onClick:function(){var e=b.default.contains(n,"object")?b.default.filter(n,function(e){return"object"!==e}):[].concat(n,["object"]);t.set("enable_tooltips",e)},checked:b.default.contains(n,"object")}),"Objects"))))),(0,l.h)("div",{className:"settingsTip",style:{marginTop:"16px"}},(0,l.h)("i",null,"Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).")),(0,l.h)("hr",null),(0,l.h)("div",{className:"scaleTitle"},(0,l.h)("div",{className:"title"},"Reactions"),(0,l.h)(c.default,{disabled:null===r.reaction},Object.values(b.default.mapObject(m.default,function(e,n){return(0,l.h)(_.default,{name:n,scale:e,onClick:function(){t.set("reaction_scale",e)}})})))),(0,l.h)(d.default,{scale:t.get("reaction_scale"),settings:t,type:"Reaction",stats:r.reaction,noDataColor:t.get("reaction_no_data_color"),noDataSize:t.get("reaction_no_data_size"),onChange:function(e){t.set("reaction_scale",e)},onNoDataColorChange:function(e){t.set("reaction_no_data_color",e)},onNoDataSizeChange:function(e){t.set("reaction_no_data_size",e)},abs:t.get("reaction_styles").indexOf("abs")>-1}),(0,l.h)("div",{className:"subheading"},"Reaction or Gene data"),(0,l.h)("table",{className:"radioSelection"},(0,l.h)("tr",null,(0,l.h)("td",{className:"optionLabel",title:"Options for reactions data"},"Options:"),(0,l.h)("td",null,(0,l.h)("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of reactions on the map"},(0,l.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return e.handleStyle("abs","reaction_styles")},checked:b.default.contains(t.get("reaction_styles"),"abs"),disabled:null===r.reaction}),"Absolute value"),(0,l.h)("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the reaction data"},(0,l.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return e.handleStyle("size","reaction_styles")},checked:b.default.contains(t.get("reaction_styles"),"size"),disabled:null===r.reaction}),"Size"),(0,l.h)("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the reaction data"},(0,l.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return e.handleStyle("color","reaction_styles")},checked:b.default.contains(t.get("reaction_styles"),"color"),disabled:null===r.reaction}),"Color"),(0,l.h)("br",null),(0,l.h)("label",{className:"optionGroup",title:"If checked, then show data values in the reaction labels"},(0,l.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return e.handleStyle("text","reaction_styles")},checked:b.default.contains(t.get("reaction_styles"),"text"),disabled:null===r.reaction}),"Text (Show data in label)"))),(0,l.h)("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},(0,l.h)("td",{className:"optionLabel"},"Comparison"),(0,l.h)("td",null,(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){return t.set("reaction_compare_style","fold")},checked:"fold"===t.get("reaction_compare_style"),disabled:null===r.reaction}),"Fold Change"),(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){return t.set("reaction_compare_style","log2_fold")},checked:"log2_fold"===t.get("reaction_compare_style"),disabled:null===r.reaction}),"Log2 (Fold Change)"),(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){return t.set("reaction_compare_style","diff")},checked:"diff"===t.get("reaction_compare_style"),disabled:null===r.reaction}),"Difference")))),(0,l.h)("table",{className:"radioSelection"},(0,l.h)("tr",{title:"The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)"},(0,l.h)("td",{className:"optionLabelWide"},"Method for evaluating AND:"),(0,l.h)("td",null,(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"andMethod",onClick:function(){return t.set("and_method_in_gene_reaction_rule","mean")},checked:"mean"===t.get("and_method_in_gene_reaction_rule"),disabled:null===r.reaction}),"Mean"),(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"andMethod",onClick:function(){return t.set("and_method_in_gene_reaction_rule","min")},checked:"min"===t.get("and_method_in_gene_reaction_rule"),disabled:null===r.reaction}),"Min")))),(0,l.h)("hr",null),(0,l.h)("div",{className:"scaleTitle"},(0,l.h)("div",{className:"title"},"Metabolites"),(0,l.h)(c.default,{disabled:null===r.metabolite},Object.values(b.default.mapObject(m.default,function(e,n){return(0,l.h)(_.default,{name:n,scale:e,onClick:function(){return t.set("metabolite_scale",e)}})})))),(0,l.h)(d.default,{scale:t.get("metabolite_scale"),settings:t,type:"Metabolite",stats:r.metabolite,noDataColor:t.get("metabolite_no_data_color"),noDataSize:t.get("metabolite_no_data_size"),onChange:function(e){t.set("metabolite_scale",e)},onNoDataColorChange:function(e){t.set("metabolite_no_data_color",e)},onNoDataSizeChange:function(e){t.set("metabolite_no_data_size",e)},abs:b.default.contains(t.get("metabolite_styles"),"abs")}),(0,l.h)("div",{className:"subheading"},"Metabolite data"),(0,l.h)("table",{className:"radioSelection"},(0,l.h)("tr",null,(0,l.h)("td",{className:"optionLabel",title:"Options for metabolite data"},"Options:"),(0,l.h)("td",null,(0,l.h)("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of metabolites on the map"},(0,l.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return e.handleStyle("abs","metabolite_styles")},checked:b.default.contains(t.get("metabolite_styles"),"abs"),disabled:null===r.metabolite}),"Absolute value"),(0,l.h)("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the metabolite data"},(0,l.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return e.handleStyle("size","metabolite_styles")},checked:b.default.contains(t.get("metabolite_styles"),"size"),disabled:null===r.metabolite}),"Size"),(0,l.h)("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the metabolite data"},(0,l.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return e.handleStyle("color","metabolite_styles")},checked:b.default.contains(t.get("metabolite_styles"),"color"),disabled:null===r.metabolite}),"Color"),(0,l.h)("br",null),(0,l.h)("label",{className:"optionGroup",title:"If checked, then show data values in the metabolite labels"},(0,l.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return e.handleStyle("text","metabolite_styles")},checked:b.default.contains(t.get("metabolite_styles"),"text"),disabled:null===r.metabolite}),"Text (Show data in label)"))),(0,l.h)("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},(0,l.h)("td",{className:"optionLabel"},"Comparison"),(0,l.h)("td",null,(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return t.set("metabolite_compare_style","fold")},checked:"fold"===t.get("metabolite_compare_style"),disabled:null===r.metabolite}),"Fold Change"),(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return t.set("metabolite_compare_style","log2_fold")},checked:"log2_fold"===t.get("metabolite_compare_style"),disabled:null===r.metabolite}),"Log2 (Fold Change)"),(0,l.h)("label",{className:"optionGroup"},(0,l.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return t.set("metabolite_compare_style","diff")},checked:"diff"===t.get("metabolite_compare_style"),disabled:null===r.metabolite}),"Difference")))))))},t}(l.Component);t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4),l=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.setWrapperRef=o.setWrapperRef.bind(o),o.handleClickOutside=o.handleClickOutside.bind(o),o.state={visible:!1},o}return o(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleClickOutside)},t.prototype.setWrapperRef=function(e){this.wrapperRef=e},t.prototype.handleClickOutside=function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({visible:!1})},t.prototype.render=function(){var e=this;return(0,a.h)("div",{className:"selector"},(0,a.h)("div",{className:["selectorTitle",this.props.disabled?"disabled":""].join(" "),ref:this.setWrapperRef,onClick:function(){e.props.disabled||e.setState({visible:!e.state.visible})}},"Preset Scale Selections",(0,a.h)("i",{className:"icon-sort-down"})),(0,a.h)("div",{className:"selectorMenu",style:this.state.visible?{display:"block"}:{display:"none"}},this.props.children.map(function(e){return e})))},t}(a.Component);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(4),s=n(295),c=r(s),u=n(299),d=r(u),f=n(2),_=r(f);n(302);var p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.sortScale=function(){var e=this;return _.default.sortBy(this.props.scale,function(t){return"value"===t.type?t.value:e.props.stats[t.type]})},t.prototype.placePickers=function(){var e=this.props.stats,t=this.props.scale.reduce(function(e,t){var n=e[0],r=e[1];return"value"===t.type?[Math.min(t.value,n),Math.max(t.value,r)]:[n,r]},[e.min,e.max]),n=t[0],r=t[1];return{pickerLocations:this.props.scale.map(function(t){return(("value"===t.type?t.value:e[t.type])-n)/(r-n)}),absoluteMax:r,absoluteMin:n}},t.prototype.scaleChange=function(e,t,n){var r=null;if("type"===t&&"value"!==n){var i,o;r=(0,d.default)(this.props.scale,(o={},o[e]=(i={},i[t]={$set:n},i.$unset=["value"],i),o)),this.props.onChange(r)}else if("value"===t&&"value"!==this.props.scale[e].type){var a,l;r=(0,d.default)(this.props.scale,(l={},l[e]=(a={},a[t]={$set:n},a.type={$set:"value"},a),l)),this.props.onChange(r)}else if("value"===n){var s,c;r=(0,d.default)(this.props.scale,(c={},c[e]=(s={},s[t]={$set:n},s.$merge={value:this.props.stats[this.props.scale[e].type]},s),c)),this.props.onChange(r)}else if(!isNaN(parseFloat(n))||"#"===n[0]&&"color"===t){var u,f;r=(0,d.default)(this.props.scale,(f={},f[e]=(u={},u[t]={$set:n},u),f)),this.props.onChange(r)}},t.prototype.addColorStop=function(e){var t=(0,d.default)(this.props.scale,{$push:[{type:"value",value:e.layerX/e.target.clientWidth*this.props.stats.max+(1-e.layerX/e.target.clientWidth)*this.props.stats.min,color:"#9696ff",size:20}]});this.props.onChange(t)},t.prototype.makeGradient=function(e,t){var n=this,r=this.sortScale();return(r.length<2?[{type:"min",color:"#f1ecfa"},{type:"max",color:"#f1ecfa"}]:r).map(function(r){var i="value"===r.type?r.value:n.props.stats[r.type];return" "+r.color+" "+(i-e)/(t-e)*100+"%"}).toString()},t.prototype.removeColorStop=function(e){var t=(0,d.default)(this.props.scale,{$splice:[[[e],1]]});this.props.onChange(t)},t.prototype.render=function(){var e=this;if(!this.props.stats)return(0,l.h)("div",{className:"scaleEditor"},(0,l.h)("div",null,(0,l.h)("div",{className:"scaleTrack disabled",style:{width:400}},this.props.type," data not loaded",(0,l.h)(c.default,{location:0,trackWidth:400,disabled:!0}),(0,l.h)(c.default,{location:1,trackWidth:400,disabled:!0}))),(0,l.h)("div",{className:"scaleLabels"},(0,l.h)("label",null,"Value:"),(0,l.h)("label",null,"Color:"),(0,l.h)("label",null,"Size:")),(0,l.h)("div",{className:"noDataStyle"},(0,l.h)("label",{className:"styleHeader"},"Styles for reactions with no data"),(0,l.h)("br",null),(0,l.h)("label",null,"Color:"),(0,l.h)("input",{type:"text",className:"colorInput",disabled:!0}),(0,l.h)("input",{type:"color",className:"colorWheel",disabled:!0}),(0,l.h)("label",null,"Size:"),(0,l.h)("input",{type:"text",className:"sizeInput",disabled:!0})));var t=this.placePickers(),n=t.pickerLocations,r=t.absoluteMax,i=t.absoluteMin,o=this.props.scale.map(function(t,o){return"value"!==t.type?(0,l.h)(c.default,{trackWidth:400,type:t.type,location:n[o],onChange:function(t,n){return e.scaleChange(o,t,n)},focus:function(){return e.setState({focusedPicker:o})},remove:function(){return e.removeColorStop(o)},min:i,max:r,value:e.props.stats[t.type],color:t.color,size:t.size,zIndex:e.state.focusedPicker===o?"2":"0",showTrash:e.props.scale.length>=3}):null!=t.value?(0,l.h)(c.default,{trackWidth:400,type:t.type,location:n[o],onChange:function(t,n){return e.scaleChange(o,t,n)},focus:function(){return e.setState({focusedPicker:o})},remove:function(){return e.removeColorStop(o)},min:i,max:r,value:t.value,color:t.color,size:t.size,zIndex:e.state.focusedPicker===o?"2":"0",showTrash:e.props.scale.length>=3}):void 0});return(0,l.h)("div",{className:"scaleEditor"},(0,l.h)("div",null,(0,l.h)("i",{className:"settingsTip"},"To add a color stop to the scale, click the gradient"),(0,l.h)("div",{className:"scaleTrack",style:{width:400}},(0,l.h)("div",{className:"gradient",onClick:function(t){return e.addColorStop(t)},style:{background:"linear-gradient(to right,"+this.makeGradient(i,r)+")"}}),o)),(0,l.h)("div",{className:"scaleLabels"},(0,l.h)("label",null,"Value:"),(0,l.h)("label",null,"Color:"),(0,l.h)("label",null,"Size:")),(0,l.h)("div",{className:"noDataStyle"},(0,l.h)("label",{className:"styleHeader"},"Styles for reactions with no data"),(0,l.h)("br",null),(0,l.h)("label",null,"Color:"),(0,l.h)("input",{type:"text",className:"colorInput",value:this.props.noDataColor,onInput:function(t){return e.props.onNoDataColorChange(t.target.value)}}),(0,l.h)("input",{type:"color",className:"colorWheel",value:this.props.noDataColor,onInput:function(t){return e.props.onNoDataColorChange(t.target.value)}}),(0,l.h)("label",null,"Size:"),(0,l.h)("input",{type:"text",className:"sizeInput",value:this.props.noDataSize,onInput:function(t){return e.props.onNoDataSizeChange(parseFloat(t.target.value))}})))},t}(l.Component);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4),l=n(0),s=n(15);n(296);var c=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.setUpDrag=function(){var e=this;if((0,l.select)(this.base).select(".pickerBox").on("mousedown.drag",null),!this.props.disabled){var t=(0,s.drag)().on("start",function(){e.props.focus&&e.props.focus()}).on("drag",function(){"value"!==e.props.type&&e.props.onChange&&e.props.onChange("type","value");var t=e.props.value+l.event.dx/e.props.trackWidth*(e.props.max-e.props.min),n=Math.max(e.props.min,Math.min(e.props.max,t));e.props.onChange("value",n)}).container(function(){return e.base.parentNode.parentNode});(0,l.select)(this.base).select(".pickerBox").call(t)}},t.prototype.componentDidUpdate=function(){this.setUpDrag()},t.prototype.componentDidMount=function(){this.setUpDrag()},t.prototype.render=function(){var e=this;return(0,a.h)("div",{className:"picker",style:{left:this.props.location*this.props.trackWidth+"px",zIndex:this.props.zIndex}},this.props.showTrash&&(0,a.h)("div",{className:"trashDiv"},(0,a.h)("i",{className:"icon-trash-empty","aria-hidden":"true",onClick:function(){e.props.remove&&e.props.remove()}})),(0,a.h)("div",{className:"pickerBox",onClick:function(){e.props.focus&&e.props.focus()}}),(0,a.h)("div",{className:["pickerOptions",this.props.location>.8?"rightOptions":""].join(" ")},(0,a.h)("input",{type:"text",className:"option",value:this.props.disabled?"":"value"===this.props.type?parseFloat(this.props.value.toFixed(2)):this.props.type+" ("+parseFloat(this.props.value.toFixed(2))+")",disabled:this.props.disabled,onInput:function(t){var n=parseFloat(t.target.value);isNaN(n)||e.props.onChange("value",n)},onFocus:function(t){t.target.select(),e.props.focus&&e.props.focus()}}),(0,a.h)("select",{className:"typePicker",value:this.props.type,onChange:function(t){e.props.onChange&&e.props.onChange("type",t.target.value)},disabled:this.props.disabled,onFocus:function(t){e.props.focus&&e.props.focus()}},(0,a.h)("option",{value:"value"},"Value"),(0,a.h)("option",{value:"min"},"Min"),(0,a.h)("option",{value:"mean"},"Mean"),(0,a.h)("option",{value:"Q1"},"Q1"),(0,a.h)("option",{value:"median"},"Median"),(0,a.h)("option",{value:"Q3"},"Q3"),(0,a.h)("option",{value:"max"},"Max")),(0,a.h)("div",{className:"colorOptions"},(0,a.h)("input",{type:"text",className:"colorText",onInput:function(t){e.props.onChange&&e.props.onChange("color",t.target.value)},onFocus:function(t){t.target.select(),e.props.focus&&e.props.focus()},value:this.props.color||"",disabled:this.props.disabled}),(0,a.h)("input",{type:"color",className:"colorWheel",onInput:function(t){e.props.onChange&&e.props.onChange("color",t.target.value)},onFocus:function(t){t.target.select(),e.props.focus&&e.props.focus()},value:this.props.color||"",disabled:this.props.disabled})),(0,a.h)("input",{type:"text",className:"option",onInput:function(t){e.props.onChange&&e.props.onChange("size",parseInt(t.target.value))},onFocus:function(t){t.target.select(),e.props.focus&&e.props.focus()},value:this.props.size,disabled:this.props.disabled})))},t}(a.Component);t.default=c},function(e,t,n){var r=n(297);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .picker{top:35px;margin-left:-7px;position:absolute;user-select:none}.escher-container .pickerBox{position:absolute;cursor:pointer;background:rgba(0,0,0,.375);width:14px;height:35px;top:-35px}.escher-container .scaleTrack .rightOptions{position:absolute;left:-76px}.escher-container .pickerOptions{box-shadow:0 2px 14px #c5c5c5;margin-top:1px;display:inline-flex;flex-direction:column;width:90px}.escher-container .pickerOptions *{font-size:12px}.escher-container .pickerOptions .option{padding:3px 0}.escher-container .pickerOptions .typePicker{width:20px;position:absolute;left:70px;top:1px;right:0;height:14px;background-color:#e8e8e8}.escher-container .pickerOptions .colorOptions{display:inline-flex}.escher-container .colorOptions .colorText{padding:3px 0;width:-webkit-fill-available}.escher-container .colorOptions .colorWheel{padding:0 2px;position:absolute;right:0;width:24px}.escher-container .picker .trashDiv{position:absolute;top:-56px;font-size:17px}.escher-container .picker .trashDiv *{font-size:17px;cursor:pointer}.escher-container .picker .icon-trash-empty{margin:-5px}.escher-container .scaleEditor :disabled{background:#f1ecfa}.escher-container .scaleEditor input[type=color]:disabled{margin-top:1px}","",{version:3,sources:["/Users/zaking/repos/escher/src/Picker.css"],names:[],mappings:"AAAA,0BACE,SAAU,AACV,iBAAkB,AAClB,kBAAmB,AACnB,gBAAkB,CACnB,AAED,6BACE,kBAAmB,AACnB,eAAgB,AAChB,4BAAiC,AACjC,WAAY,AACZ,YAAa,AACb,SAAU,CACX,AAED,4CACE,kBAAmB,AACnB,UAAY,CACb,AAED,iCACE,8BAA+B,AAC/B,eAAgB,AAChB,oBAAqB,AACrB,sBAAuB,AACvB,UAAY,CACb,AAED,mCACE,cAAgB,CACjB,AAED,yCACE,aAAiB,CAClB,AAED,6CACE,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,QAAS,AACT,QAAW,AACX,YAAa,AACb,wBAAqC,CACtC,AAED,+CACE,mBAAqB,CACtB,AAED,2CACE,cAAiB,AACjB,4BAA8B,CAC/B,AAED,4CACE,cAAiB,AACjB,kBAAmB,AACnB,QAAS,AACT,UAAW,CACZ,AAED,oCACE,kBAAmB,AACnB,UAAW,AACX,cAAgB,CACjB,AAED,sCACE,eAAgB,AAChB,cAAgB,CACjB,AAED,4CACE,WAAa,CACd,AAED,yCACE,kBAAoB,CACrB,AAED,0DACE,cAAgB,CACjB",file:"Picker.css",sourcesContent:[".escher-container .picker {\n  top: 35px;\n  margin-left: -7px;\n  position: absolute;\n  user-select: none;\n}\n\n.escher-container .pickerBox {\n  position: absolute;\n  cursor: pointer;\n  background: rgba(0, 0, 0, 0.375);\n  width: 14px;\n  height: 35px;\n  top: -35px\n}\n\n.escher-container .scaleTrack .rightOptions {\n  position: absolute;\n  left: -76px;\n}\n\n.escher-container .pickerOptions {\n  box-shadow: 0 2px 14px #c5c5c5;\n  margin-top: 1px;\n  display: inline-flex;\n  flex-direction: column;\n  width: 90px;\n}\n\n.escher-container .pickerOptions * {\n  font-size: 12px;\n}\n\n.escher-container .pickerOptions .option {\n  padding: 3px 0px;\n}\n\n.escher-container .pickerOptions .typePicker {\n  width: 20px;\n  position: absolute;\n  left: 70px;\n  top: 1px;\n  right: 0px;\n  height: 14px;\n  background-color: rgb(232, 232, 232);\n}\n\n.escher-container .pickerOptions .colorOptions {\n  display: inline-flex;\n}\n\n.escher-container .colorOptions .colorText {\n  padding: 3px 0px;\n  width: -webkit-fill-available;\n}\n\n.escher-container .colorOptions .colorWheel {\n  padding: 0px 2px;\n  position: absolute;\n  right: 0;\n  width: 24px\n}\n\n.escher-container .picker .trashDiv {\n  position: absolute;\n  top: -56px;\n  font-size: 17px;\n}\n\n.escher-container .picker .trashDiv * {\n  font-size: 17px;\n  cursor: pointer;\n}\n\n.escher-container .picker .icon-trash-empty {\n  margin: -5px;\n}\n\n.escher-container .scaleEditor :disabled {\n  background: #f1ecfa;\n}\n\n.escher-container .scaleEditor input[type=color]:disabled {\n  margin-top: 1px;\n}\n"],sourceRoot:""}])},function(e,t){e.exports=function(e){var t="undefined"!==typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!==typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){function r(e){if(Array.isArray(e))return g(e.constructor(e.length),e);if("Map"===m(e))return new Map(e);if("Set"===m(e))return new Set(e);if(e&&"object"===typeof e){var t=Object.getPrototypeOf(e);return g(Object.create(t),e)}return e}function i(){function e(n,i){"function"===typeof i&&(i={$apply:i}),Array.isArray(n)&&Array.isArray(i)||_(!Array.isArray(i),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),_("object"===typeof i&&null!==i,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(t).join(", "));var o=n;return A(i).forEach(function(a){if(p.call(t,a)){var l=n===o;o=t[a](i[a],o,i,n),l&&e.isEquals(o,n)&&(o=n)}else{var s="Map"===m(n)?e(n.get(a),i[a]):e(n[a],i[a]),c="Map"===m(o)?o.get(a):o[a];e.isEquals(s,c)&&("undefined"!==typeof s||p.call(n,a))||(o===n&&(o=r(n)),"Map"===m(o)?o.set(a,s):o[a]=s)}}),o}var t=g({},y);return e.extend=function(e,n){t[e]=n},e.isEquals=function(e,t){return e===t},e}function o(e,t,n){_(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),a(t[n],n)}function a(e,t){_(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function l(e,t){_(Array.isArray(e),"Expected $splice target to be an array; got %s",e),s(t.$splice)}function s(e){_(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function c(e){_("function"===typeof e,"update(): expected spec of $apply to be a function; got %s.",e)}function u(e){_(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}function d(e,t){_(t&&"object"===typeof t,"update(): $merge expects a spec of type 'object'; got %s",t),_(e&&"object"===typeof e,"update(): $merge expects a target of type 'object'; got %s",e)}function f(e,t){var n=m(e);_("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}var _=n(300),p=Object.prototype.hasOwnProperty,b=Array.prototype.splice,h=Object.prototype.toString,m=function(e){return h.call(e).slice(8,-1)},g=Object.assign||function(e,t){return A(t).forEach(function(n){p.call(t,n)&&(e[n]=t[n])}),e},A="function"===typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)},y={$push:function(e,t,n){return o(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return o(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return l(t,n),e.forEach(function(e){s(e),t===i&&e.length&&(t=r(i)),b.apply(t,e)}),t},$set:function(e,t,n){return u(n),e},$toggle:function(e,t){a(e,"$toggle");var n=e.length?r(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,i){return a(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===i&&(t=r(i)),delete t[e])}),t},$add:function(e,t,n,i){return f(t,"$add"),a(e,"$add"),"Map"===m(t)?e.forEach(function(e){var n=e[0],o=e[1];t===i&&t.get(n)!==o&&(t=r(i)),t.set(n,o)}):e.forEach(function(e){t!==i||t.has(e)||(t=r(i)),t.add(e)}),t},$remove:function(e,t,n,i){return f(t,"$remove"),a(e,"$remove"),e.forEach(function(e){t===i&&t.has(e)&&(t=r(i)),t.delete(e)}),t},$merge:function(e,t,n,i){return d(t,e),A(e).forEach(function(n){e[n]!==t[n]&&(t===i&&(t=r(i)),t[n]=e[n])}),t},$apply:function(e,t){return c(e),e(t)}},v=i();e.exports=v,e.exports.default=v,e.exports.newContext=i},function(e,t,n){"use strict";(function(t){var n=function(e,n,r,i,o,a,l,s){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,o,a,l,s],d=0;c=new Error(n.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=n}).call(t,n(301))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){b&&_&&(b=!1,_.length?p=_.concat(p):h=-1,p.length&&l())}function l(){if(!b){var e=i(a);b=!0;for(var t=p.length;t;){for(_=p,p=[];++h<t;)_&&_[h].run();h=-1,t=p.length}_=null,b=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,f=e.exports={};!function(){try{u="function"===typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"===typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var _,p=[],b=!1,h=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||b||i(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){var r=n(303);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .scaleEditor *{font-size:12px;color:#777;box-sizing:border-box}.escher-container .scaleEditor{position:relative;display:flex;justify-content:center;flex-direction:column}.escher-container .scaleTrack{position:relative;display:flex;height:30px;margin-bottom:9px;margin-top:30px;margin-left:55px;font-size:15px;user-select:none}.escher-container .scaleTrack.disabled{background:#f1ecfa;color:#b19ec0;padding:4px 0;justify-content:center}.escher-container .gradient{position:absolute;width:100%;height:100%;cursor:pointer}.escher-container .scaleLabels{display:inline-flex;flex-direction:column;font-size:12px}.escher-container .scaleLabels label{margin-bottom:6px}.escher-container .noDataStyle{position:relative;margin-top:10px}.escher-container .noDataStyle .styleHeader{font-size:12px;font-weight:700}.escher-container .noDataStyle label{margin-right:5px}.escher-container .noDataStyle input[type=text]{margin-right:10px;padding:3px 0;width:86px}.escher-container .noDataStyle input[type=color]{position:absolute;padding:0 2px;border:1px solid #a9a9a9;margin-left:-34px;height:23px;width:24px}.escher-container .scaleEditor .icon-plus{cursor:pointer;position:absolute;font-size:14px;right:19px}","",{version:3,sources:["/Users/zaking/repos/escher/src/ScaleSlider.css"],names:[],mappings:"AAAA,iCACE,eAAgB,AAChB,WAAY,AACZ,qBAAuB,CACxB,AAED,+BACE,kBAAmB,AACnB,aAAc,AACd,uBAAwB,AACxB,qBAAuB,CACxB,AAED,8BACE,kBAAmB,AACnB,aAAc,AACd,YAAa,AACb,kBAAmB,AACnB,gBAAiB,AACjB,iBAAkB,AAClB,eAAgB,AAChB,gBAAkB,CACnB,AAED,uCACE,mBAAoB,AACpB,cAAe,AACf,cAAe,AACf,sBAAwB,CACzB,AAED,4BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,cAAgB,CACjB,AAED,+BACE,oBAAqB,AACrB,sBAAuB,AACvB,cAAgB,CACjB,AAED,qCACE,iBAAmB,CACpB,AAED,+BACE,kBAAmB,AACnB,eAAiB,CAClB,AAED,4CACE,eAAgB,AAChB,eAAkB,CACnB,AAED,qCACE,gBAAkB,CACnB,AAED,gDACE,kBAAmB,AACnB,cAAiB,AACjB,UAAY,CACb,AAED,iDACE,kBAAmB,AACnB,cAAiB,AACjB,yBAA2B,AAC3B,kBAAmB,AACnB,YAAa,AACb,UAAY,CACb,AAED,0CACE,eAAgB,AAChB,kBAAmB,AACnB,eAAgB,AAChB,UAAY,CACb",file:"ScaleSlider.css",sourcesContent:[".escher-container .scaleEditor * {\n  font-size: 12px;\n  color: #777;\n  box-sizing: border-box;\n}\n\n.escher-container .scaleEditor {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.escher-container .scaleTrack {\n  position: relative;\n  display: flex;\n  height: 30px;\n  margin-bottom: 9px;\n  margin-top: 30px;\n  margin-left: 55px;\n  font-size: 15px;\n  user-select: none;\n}\n\n.escher-container .scaleTrack.disabled {\n  background: #f1ecfa;\n  color: #b19ec0;\n  padding: 4px 0;\n  justify-content: center;\n}\n\n.escher-container .gradient {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.escher-container .scaleLabels {\n  display: inline-flex;\n  flex-direction: column;\n  font-size: 12px;\n}\n\n.escher-container .scaleLabels label {\n  margin-bottom: 6px;\n}\n\n.escher-container .noDataStyle {\n  position: relative;\n  margin-top: 10px;\n}\n\n.escher-container .noDataStyle .styleHeader {\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.escher-container .noDataStyle label {\n  margin-right: 5px;\n}\n\n.escher-container .noDataStyle input[type=text] {\n  margin-right: 10px;\n  padding: 3px 0px;\n  width: 86px;\n}\n\n.escher-container .noDataStyle input[type=color] {\n  position: absolute;\n  padding: 0px 2px;\n  border: 1px solid darkgrey;\n  margin-left: -34px;\n  height: 23px;\n  width: 24px;\n}\n\n.escher-container .scaleEditor .icon-plus {\n  cursor: pointer;\n  position: absolute;\n  font-size: 14px;\n  right: 19px;\n}\n"],sourceRoot:""}])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4),l=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n)),a=[];if(n.scale)for(var l=0;l<n.scale.length;l++)a.push(n.scale[l].color);return o.state={colors:a},o}return o(t,e),t.prototype.render=function(){var e=this;return(0,a.h)("div",{className:"scaleSelection",onClick:function(){return e.props.onClick()}},(0,a.h)("div",{className:"scaleName"},this.props.name),(0,a.h)("div",{className:"scaleColors"},this.state.colors.map(function(e){return(0,a.h)("i",{className:"icon-blank",style:{color:e}})})))},t}(a.Component);t.default=l},function(e,t,n){var r=n(306);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .settingsBackground{box-sizing:border-box;position:absolute;top:0;left:0;width:100%;height:100%;z-index:9;background:rgba(0,0,0,.4);padding:5% 0 80px;text-align:center}.escher-container .scale-editor .domain-input{color:#333}.escher-container .settingsBoxContainer button{position:absolute;top:5px;right:20px;z-index:10;text-align:center;vertical-align:middle;font-weight:400!important;width:34px;height:30px;margin:0;padding:unset;font-size:14px!important;border-radius:3px;-ms-touch-action:none;touch-action:none}.escher-container .settingsBoxContainer button:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}.escher-container .settingsBoxContainer .discardChanges{right:60px}.escher-container .settingsBoxContainer{color:#777;display:inline-block;position:relative;width:90%;max-width:520px;height:100%;z-index:10}.escher-container .settingsBox{font-size:13px;box-sizing:border-box;display:inline-block;max-height:100%;width:100%;overflow-y:scroll;overflow-x:hidden;background:hsla(0,0%,100%,.953);padding:8px;margin:0;border:1px solid #ddd;text-align:left}.escher-container .settingsBox *{box-sizing:border-box}.escher-container .settingsBox .title{font-size:17px;font-weight:700;color:#777}.escher-container .settingsBox .subheading{font-size:13px;font-weight:700;margin-top:15px;color:#777}.escher-container .settingsBox table{border-collapse:collapse}.escher-container .settingsBox .radioSelection{cursor:default}.escher-container .radioSelection td{padding:3px 5px}.escher-container .radioSelection input[type=radio]{margin:0;margin-top:4px;margin-right:4px}.escher-container .radioSelection .optionLabel{width:88px}.escher-container .radioSelection .optionLabelWide{width:192px}.escher-container .radioSelection .optionGroup{margin-right:10px}.escher-container .settingsBox .singleLine{display:flex}.escher-container .settingsContainer label{display:block;margin-bottom:0}.escher-container .settingsBoxContainer input[type=checkbox]{margin:0;margin-top:4px;margin-right:4px}.escher-container .settingsTip{font-size:13px}.escher-container .settingsBoxContainer hr{margin:18px 0;border:0;border-top:1px solid #ddd}.escher-container .scaleTitle{margin-top:15px;display:flex;justify-content:space-between}.escher-container .selector{position:relative;user-select:none;padding-top:2px}.escher-container .selectorTitle{background-color:#fff;border:1px solid #a9a9a9;padding-left:4px;cursor:default;width:162px}.escher-container .selectorTitle:hover:not(.disabled){border-color:#000}.escher-container .selectorTitle.disabled{background-color:#f1ecfa}.escher-container .selectorMenu{position:absolute;z-index:4;background-color:#fff;border:1px solid #a9a9a9;min-width:162px}.escher-container .scaleSelection{cursor:default;padding:0 6px;display:flex;justify-content:space-between}.escher-container .scaleSelection:hover{background-color:#1e90ff;color:#fff}.escher-container .icon-blank{margin:-3px}.escher-container .scaleName{margin-right:15px}.escher-container .settingsBox .icon-sort-down{position:absolute;top:0}.escher-container .settingsBox .tooltipOption{margin-left:10px}","",{version:3,sources:["/Users/zaking/repos/escher/src/SettingsMenu.css"],names:[],mappings:"AAAA,sCACE,sBAAuB,AACvB,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,UAAW,AACX,0BAA2B,AAC3B,kBAAmB,AACnB,iBAAmB,CACpB,AAED,8CACE,UAAY,CACb,AAED,+CACE,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,WAAY,AACZ,kBAAmB,AACnB,sBAAuB,AACvB,0BAA8B,AAC9B,WAAY,AACZ,YAAa,AACb,SAAU,AACV,cAAe,AACf,yBAA0B,AAC1B,kBAAmB,AACnB,sBAAuB,AACvB,iBAAmB,CACpB,AAED,sDACE,4DAAgE,CACjE,AAED,wDACE,UAAY,CACb,AAED,wCACE,WAA0B,AAC1B,qBAAsB,AACtB,kBAAmB,AACnB,UAAW,AACX,gBAAiB,AACjB,YAAa,AACb,UAAY,CACb,AAED,+BACE,eAAgB,AAChB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,WAAY,AACZ,kBAAmB,AACnB,kBAAmB,AACnB,gCAAuC,AACvC,YAAa,AACb,SAAU,AACV,sBAAuB,AACvB,eAAiB,CAClB,AAED,iCACE,qBAAuB,CACxB,AAED,sCACE,eAAgB,AAChB,gBAAiB,AACjB,UAAe,CAChB,AAED,2CACE,eAAgB,AAChB,gBAAiB,AACjB,gBAAiB,AACjB,UAAe,CAChB,AAED,qCACE,wBAA0B,CAC3B,AAED,+CACE,cAAgB,CACjB,AAED,qCACE,eAAiB,CAClB,AAED,oDACE,SAAU,AACV,eAAgB,AAChB,gBAAkB,CACnB,AAED,+CACE,UAAY,CACb,AAED,mDACE,WAAa,CACd,AAED,+CACE,iBAAkB,CACnB,AAED,2CACE,YAAc,CACf,AAED,2CACE,cAAe,AACf,eAAiB,CAClB,AAED,6DACE,SAAU,AACV,eAAgB,AAChB,gBAAkB,CACnB,AAED,+BACE,cAAgB,CACjB,AAED,2CACE,cAAe,AACf,SAAU,AACV,yBAA8B,CAC/B,AAED,8BACE,gBAAiB,AACjB,aAAc,AACd,6BAA+B,CAChC,AAED,4BACE,kBAAmB,AACnB,iBAAkB,AAClB,eAAiB,CAClB,AAED,iCACE,sBAAwB,AACxB,yBAA0B,AAC1B,iBAAkB,AAClB,eAAgB,AAChB,WAAa,CACd,AAED,sDACE,iBAAoB,CACrB,AAED,0CACE,wBAA0B,CAC3B,AAED,gCACE,kBAAmB,AACnB,UAAW,AACX,sBAAwB,AACxB,yBAA0B,AAC1B,eAAiB,CAClB,AAED,kCACE,eAAgB,AAChB,cAAe,AACf,aAAc,AACd,6BAA+B,CAChC,AAED,wCACE,yBAA6B,AAC7B,UAAa,CACd,AAED,8BACE,WAAkB,CACnB,AAED,6BACE,iBAAmB,CACpB,AAED,+CACE,kBAAmB,AACnB,KAAO,CACR,AAED,8CACE,gBAAkB,CACnB",file:"SettingsMenu.css",sourcesContent:[".escher-container .settingsBackground {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n  background: rgba(0,0,0,.4);\n  padding: 5% 0 80px;\n  text-align: center;\n}\n\n.escher-container .scale-editor .domain-input {\n  color: #333;\n}\n\n.escher-container .settingsBoxContainer button {\n  position: absolute;\n  top: 5px;\n  right: 20px;\n  z-index: 10;\n  text-align: center;\n  vertical-align: middle;\n  font-weight: normal!important;\n  width: 34px;\n  height: 30px;\n  margin: 0;\n  padding: unset;\n  font-size: 14px!important;\n  border-radius: 3px;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n.escher-container .settingsBoxContainer button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .settingsBoxContainer .discardChanges {\n  right: 60px;\n}\n\n.escher-container .settingsBoxContainer {\n  color: rgb(119, 119, 119);\n  display: inline-block;\n  position: relative;\n  width: 90%;\n  max-width: 520px;\n  height: 100%;\n  z-index: 10;\n}\n\n.escher-container .settingsBox {\n  font-size: 13px;\n  box-sizing: border-box;\n  display: inline-block;\n  max-height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: rgba(255, 255, 255, 0.953);\n  padding: 8px;\n  margin: 0;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\n.escher-container .settingsBox * {\n  box-sizing: border-box;\n}\n\n.escher-container .settingsBox .title {\n  font-size: 17px;\n  font-weight: 700;\n  color: #777777;\n}\n\n.escher-container .settingsBox .subheading {\n  font-size: 13px;\n  font-weight: 700;\n  margin-top: 15px;\n  color: #777777;\n}\n\n.escher-container .settingsBox table {\n  border-collapse: collapse;\n}\n\n.escher-container .settingsBox .radioSelection {\n  cursor: default;\n}\n\n.escher-container .radioSelection td {\n  padding: 3px 5px;\n}\n\n.escher-container .radioSelection input[type=radio] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .radioSelection .optionLabel {\n  width: 88px;\n}\n\n.escher-container .radioSelection .optionLabelWide {\n  width: 192px;\n}\n\n.escher-container .radioSelection .optionGroup {\n  margin-right: 10px\n}\n\n.escher-container .settingsBox .singleLine {\n  display: flex;\n}\n\n.escher-container .settingsContainer label {\n  display: block;\n  margin-bottom: 0;\n}\n\n.escher-container .settingsBoxContainer input[type=checkbox] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .settingsTip {\n  font-size: 13px;\n}\n\n.escher-container .settingsBoxContainer hr {\n  margin: 18px 0;\n  border: 0;\n  border-top: 1px solid #dddddd;\n}\n\n.escher-container .scaleTitle {\n  margin-top: 15px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .selector {\n  position: relative;\n  user-select: none;\n  padding-top: 2px;\n}\n\n.escher-container .selectorTitle {\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  padding-left: 4px;\n  cursor: default;\n  width: 162px;\n}\n\n.escher-container .selectorTitle:hover:not(.disabled) {\n  border-color: black;\n}\n\n.escher-container .selectorTitle.disabled {\n  background-color: #f1ecfa;\n}\n\n.escher-container .selectorMenu {\n  position: absolute;\n  z-index: 4;\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  min-width: 162px;\n}\n\n.escher-container .scaleSelection {\n  cursor: default;\n  padding: 0 6px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .scaleSelection:hover {\n  background-color: dodgerblue;\n  color: white;\n}\n\n.escher-container .icon-blank {\n  margin: -3px -3px;\n}\n\n.escher-container .scaleName {\n  margin-right: 15px;\n}\n\n.escher-container .settingsBox .icon-sort-down {\n  position: absolute;\n  top: 0;\n}\n\n.escher-container .settingsBox .tooltipOption {\n  margin-left: 10px;\n}\n"],sourceRoot:""}])},function(e,t,n){"use strict";t.__esModule=!0;var r={GaBuGeRd:[{type:"min",color:"#c8c8c8",size:12},{type:"value",value:.01,color:"#9696ff",size:16},{type:"value",value:20,color:"#209123",size:20},{type:"max",color:"#ff0000",size:25}],GaBuRd:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],RdYlBu:[{type:"min",color:"#d7191c",size:12},{type:"median",color:"#ffffbf",size:20},{type:"max",color:"#2c7bb6",size:25}],GeGaRd:[{type:"min",color:"#209123",size:25},{type:"value",value:0,color:"#c8c8c8",size:12},{type:"max",color:"#ff0000",size:25}]};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(4),s=n(309),c=r(s),u=n(312),d=r(u),f=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentWillMount=function(){var e=this;this.props.sel.selectAll(".escher-zoom-container").on("touchend.menuBar",function(){return e.setState({dropdownVisible:!1})}).on("click.menuBar",function(){return e.setState({dropdownVisible:!1})})},t.prototype.componentWillUnmount=function(){this.props.sel.selectAll(".escher-zoom-container").on("touchend.menuBar",null).on("click.menuBar",null)},t.prototype.render=function(){var e=this,t=this.props.settings.get("enable_keys"),n=this.props.settings.get("disabled_buttons"),r=this.props.map.beziers_enabled;return(0,l.h)("ul",{className:"menu-bar"},(0,l.h)(c.default,{name:"Map",dropdownVisible:this.props.dropdownVisible},(0,l.h)(d.default,{name:"Save map JSON"+(t?" (Ctrl+S)":""),onClick:function(){return e.props.saveMap()},disabledButtons:n}),(0,l.h)(d.default,{name:"Load map JSON"+(t?" (Ctrl+O)":""),onClick:function(t){return e.props.loadMap(t)},type:"load",disabledButtons:n}),(0,l.h)(d.default,{name:"Export as SVG"+(t?" (Ctrl+Shift+S)":""),onClick:function(){return e.props.saveSvg()},disabledButtons:n}),(0,l.h)(d.default,{name:"Export as PNG"+(t?" (Ctrl+Shift+P)":""),onClick:function(){return e.props.savePng()},disabledButtons:n}),(0,l.h)(d.default,{name:"Clear map",onClick:function(){return e.props.clearMap()},disabledButtons:n})),(0,l.h)(c.default,{name:"Model",dropdownVisible:this.props.dropdownVisible},(0,l.h)(d.default,{name:"Load COBRA model JSON"+(t?" (Ctrl+M)":""),onClick:function(t){return e.props.loadModel(t)},type:"load",disabledButtons:n}),(0,l.h)(d.default,{name:"Update names and gene reaction rules using model",onClick:function(){return e.props.updateRules()},disabledButtons:n}),(0,l.h)(d.default,{name:"Clear model",onClick:function(){return e.props.clearModel()},disabledButtons:n})),(0,l.h)(c.default,{name:"Data",dropdownVisible:this.props.dropdownVisible},(0,l.h)(d.default,{name:"Load reaction data",onClick:function(t){return e.props.setReactionData(t)},type:"load",disabledButtons:n}),(0,l.h)(d.default,{name:"Clear reaction data",onClick:function(){return e.props.setReactionData(null)},disabledButtons:n}),(0,l.h)("li",{name:"divider"}),(0,l.h)(d.default,{name:"Load gene data",onClick:function(t){return e.props.setGeneData(t)},type:"load",disabledButtons:n}),(0,l.h)(d.default,{name:"Clear gene data",onClick:function(){return e.props.setGeneData(null)},disabledButtons:n}),(0,l.h)("li",{name:"divider"}),(0,l.h)(d.default,{name:"Load metabolite data",onClick:function(t){return e.props.setMetaboliteData(t)},type:"load",disabledButtons:n}),(0,l.h)(d.default,{name:"Clear metabolite data",onClick:function(){return e.props.loadMetaboliteData(null)},disabledButtons:n})),(0,l.h)(c.default,{name:"Edit",rightMenu:"true",dropdownVisible:this.props.dropdownVisible,disabledEditing:!this.props.settings.get("enable_editing")},(0,l.h)(d.default,{name:"Pan mode"+(t?" (Z)":""),modeName:"zoom",mode:this.props.mode,onClick:function(){return e.props.setMode("zoom")},disabledButtons:n}),(0,l.h)(d.default,{name:"Select mode"+(t?" (V)":""),modeName:"brush",mode:this.props.mode,onClick:function(){return e.props.setMode("brush")},disabledButtons:n}),(0,l.h)(d.default,{name:"Add reaction mode"+(t?" (N)":""),modeName:"build",mode:this.props.mode,onClick:function(){return e.props.setMode("build")},disabledButtons:n}),(0,l.h)(d.default,{name:"Rotate mode"+(t?" (R)":""),modeName:"rotate",mode:this.props.mode,onClick:function(){return e.props.setMode("rotate")},disabledButtons:n}),(0,l.h)(d.default,{name:"Text mode"+(t?" (T)":""),modeName:"text",mode:this.props.mode,onClick:function(){return e.props.setMode("text")},disabledButtons:n}),(0,l.h)("li",{name:"divider"}),(0,l.h)(d.default,{name:"Delete"+(t?" (Del)":""),onClick:function(){return e.props.deleteSelected()},disabledButtons:n}),(0,l.h)(d.default,{name:"Undo"+(t?" (Ctrl+Z)":""),onClick:function(){return e.props.undo()},disabledButtons:n}),(0,l.h)(d.default,{name:"Redo"+(t?" (Ctrl+Shift+Z)":""),onClick:function(){return e.props.redo()},disabledButtons:n}),(0,l.h)(d.default,{name:"Toggle primary/secondary"+(t?" (P)":""),onClick:function(){return e.props.togglePrimary()},disabledButtons:n}),(0,l.h)(d.default,{name:"Rotate reactant locations"+(t?" (C)":""),onClick:function(){return e.props.cyclePrimary()},disabledButtons:n}),(0,l.h)(d.default,{name:"Select all"+(t?" (Ctrl+A)":""),onClick:function(){return e.props.selectAll()},disabledButtons:n}),(0,l.h)(d.default,{name:"Select none"+(t?" (Ctrl+Shift+A)":""),onClick:function(){return e.props.selectNone()},disabledButtons:n}),(0,l.h)(d.default,{name:"Invert selection",onClick:function(){return e.props.invertSelection()},disabledButtons:n})),(0,l.h)(c.default,{name:"View",rightMenu:"true",dropdownVisible:this.props.dropdownVisible},(0,l.h)(d.default,{name:"Zoom in"+(t?" (+)":""),onClick:function(){return e.props.zoomIn()},disabledButtons:n}),(0,l.h)(d.default,{name:"Zoom out"+(t?" (-)":""),onClick:function(){return e.props.zoomOut()},disabledButtons:n}),(0,l.h)(d.default,{name:"Zoom to nodes"+(t?" (0)":""),onClick:function(){return e.props.zoomExtentNodes()},disabledButtons:n}),(0,l.h)(d.default,{name:"Zoom to canvas"+(t?" (1)":""),onClick:function(){return e.props.zoomExtentCanvas()},disabledButtons:n}),(0,l.h)(d.default,{name:"Toggle full screen"+(t?" (2)":""),onClick:function(){return e.props.map.full_screen()},disabledButtons:n}),(0,l.h)(d.default,{name:"Find"+(t?" (F)":""),onClick:function(){return e.props.search()},disabledButtons:n}),(0,l.h)(d.default,{name:(r?"Hide":"Show")+" control points"+(t?" (B)":""),onClick:function(){return e.props.toggleBeziers()},disabledButtons:n}),(0,l.h)("li",{name:"divider"}),(0,l.h)(d.default,{name:"Settings"+(t?" (,)":""),onClick:function(){return e.props.renderSettingsMenu()},disabledButtons:n,type:"settings"})),(0,l.h)("a",{className:"helpButton",target:"#",href:"https://escher.readthedocs.org"},"?"))},t}(l.Component);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4);n(310);var l=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.state={visible:null},o.setWrapperRef=o.setWrapperRef.bind(o),o.handleClickOutside=o.handleClickOutside.bind(o),o}return o(t,e),t.prototype.componentWillMount=function(){this.setState({visible:!1})},t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleClickOutside)},t.prototype.componentWillReceiveProps=function(e){this.setState({visible:e.visible})},t.prototype.setWrapperRef=function(e){this.wrapperRef=e},t.prototype.handleClickOutside=function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({visible:!1})},t.prototype.render=function(){var e=this;return(0,a.h)("li",{className:"dropdown",style:this.props.disabledEditing?{display:"none"}:{display:"block"}},(0,a.h)("div",{className:"dropdownButton",tabindex:"0",ref:this.setWrapperRef,onClick:function(){return e.setState({visible:!e.state.visible})}},this.props.name,"\xa0",(0,a.h)("i",{className:"icon-sort-down"})),(0,a.h)("ul",{className:"menu",style:this.state.visible?{display:"block"}:{display:"none"},id:"true"===this.props.rightMenu?"rightMenu":""},this.props.children.map(function(e){return"divider"===e.attributes.name?(0,a.h)("li",{style:{height:"1px",backgroundColor:"#e5e5e5",padding:"0",margin:"8px 0"}}):e})))},t}(a.Component);t.default=l},function(e,t,n){var r=n(311);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .menu-bar{list-style-type:none;padding:0;padding-right:20px;position:relative;margin:5px 0;background-color:#fff;border:1px solid #ddd;display:inline-flex;box-sizing:border-box;width:100%;justify-content:space-between}.escher-container .dropdown{position:relative;float:left;box-sizing:border-box;font-size:12px;border-radius:3px;margin-bottom:0;font-weight:400!important;text-align:center;vertical-align:middle;-ms-touch-action:none;touch-action:none;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.escher-container .dropdownButton{color:#d9230f!important;border:1px solid transparent;padding:6px 9px}.escher-container .helpButton{color:#d9230f!important;padding:0 5px;background-color:#f5f5f5!important;border:0!important;text-decoration:unset;height:fit-content;position:absolute;right:0;font-size:12px}.escher-container .dropdownButton:focus,.escher-container .dropdownButton:hover,.escher-container .helpButton:focus,.escher-container .helpButton:hover{color:#91170a!important;text-decoration:underline}.escher-container .menu-bar .icon-sort-down{position:absolute;font-size:10px;margin-left:-5px}@media (min-width:550px){.escher-container .menu-bar{padding-right:25px}.escher-container .dropdown{font-size:18px}.escher-container .dropdownButton{padding:6px 10px;padding-right:16px}.escher-container .helpButton{font-size:16px}.escher-container .menu-bar .icon-sort-down{font-size:14px}}.escher-container .menu{box-sizing:border-box;font-weight:400!important;word-spacing:0;position:absolute;white-space:nowrap;top:103%;left:-1%;z-index:1000;display:block;float:none;min-width:160px;padding:5px 0;list-style:none;font-size:13px;box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box;border:1px solid #ddd;background-color:hsla(0,0%,100%,.95);border-radius:0;margin:0;text-align:left}.escher-container #rightMenu{left:auto;right:-2%}.escher-container .menu li:hover{background-color:#d9230f;color:#fff}.escher-container .menu li,.menu label{font-size:15px;display:block;font-weight:400!important;color:#444}.escher-container .menu.ul.li{background-color:hsla(0,0%,100%,.95)}.escher-container .menuButton{box-sizing:border-box;width:100%;padding:5px 20px;margin:0;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.escher-container .menuButton:hover,.escher-container label:focus,.menuButton:focus{background-color:#d9230f;color:#fff}.escher-container input[type=file]{display:none}.escher-container #disabled{color:#e0e0e0}#disabled:focus,.escher-container #disabled:hover{background-color:hsla(0,0%,100%,.95);cursor:default}","",{version:3,sources:["/Users/zaking/repos/escher/src/Dropdown.css"],names:[],mappings:"AAAA,4BAEE,qBAAsB,AACtB,UAAW,AACX,mBAAoB,AACpB,kBAAmB,AACnB,aAAgB,AAChB,sBAAwB,AACxB,sBAAuB,AACvB,oBAAqB,AACrB,sBAAuB,AACvB,WAAY,AACZ,6BAA+B,CAChC,AAED,4BACE,kBAAmB,AACnB,WAAY,AACZ,sBAAuB,AACvB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,0BAA8B,AAC9B,kBAAmB,AACnB,sBAAuB,AACvB,sBAAuB,AACvB,kBAAmB,AACnB,eAAgB,AAChB,2BAA4B,AAC5B,yBAA0B,AAC1B,wBAAyB,AACzB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAkB,CACnB,AAED,kCACE,wBAAyB,AACzB,6BAA8B,AAC9B,eAAiB,CAClB,AAED,8BACE,wBAAyB,AACzB,cAAiB,AACjB,mCAAoC,AACpC,mBAAoB,AACpB,sBAAuB,AACvB,mBAAoB,AACpB,kBAAmB,AACnB,QAAS,AACT,cAAgB,CACjB,AAOD,wJACE,wBAAyB,AACzB,yBAA2B,CAC5B,AAED,4CACE,kBAAmB,AACnB,eAAgB,AAChB,gBAAkB,CACnB,AAED,yBACE,4BACE,kBAAoB,CACrB,AAED,4BACE,cAAgB,CACjB,AAED,kCACE,iBAAkB,AAClB,kBAAoB,CACrB,AAED,8BACE,cAAgB,CACjB,AAED,4CACE,cAAgB,CACjB,CACF,AAED,wBACE,sBAAuB,AACvB,0BAA8B,AAC9B,eAAgB,AAChB,kBAAmB,AACnB,mBAAoB,AACpB,SAAU,AACV,SAAU,AACV,aAAc,AACd,cAAe,AACf,WAAY,AACZ,gBAAiB,AACjB,cAAe,AACf,gBAAiB,AACjB,eAAgB,AAChB,uCAAyC,AACzC,4BAA6B,AAC7B,sBAAuB,AACvB,qCAA4C,AAC5C,gBAAiB,AACjB,SAAU,AACV,eAAiB,CAClB,AAED,6BACE,UAAW,AACX,SAAW,CACZ,AAED,iCACE,yBAA0B,AAC1B,UAAe,CAChB,AAED,uCACE,eAAgB,AAChB,cAAe,AACf,0BAA8B,AAC9B,UAAe,CAChB,AAED,8BACE,oCAA4C,CAC7C,AAED,8BACE,sBAAuB,AACvB,WAAY,AACZ,iBAAkB,AAClB,SAAU,AACV,eAAgB,AAChB,2BAA4B,AAC5B,yBAA0B,AAC1B,wBAAyB,AACzB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAkB,CACnB,AAOD,oFACE,yBAA0B,AAC1B,UAAe,CAChB,AAED,mCACE,YAAc,CACf,AAED,4BACE,aAAe,CAChB,AAED,kDACE,qCAA4C,AAC5C,cAAgB,CACjB",file:"Dropdown.css",sourcesContent:['.escher-container .menu-bar {\n  box-sizing: border-box;\n  list-style-type: none;\n  padding: 0;\n  padding-right: 20px;\n  position: relative;\n  margin: 5px 0px;\n  background-color: white;\n  border: 1px solid #ddd;\n  display: inline-flex;\n  box-sizing: border-box;\n  width: 100%;\n  justify-content: space-between;\n}\n\n.escher-container .dropdown {\n  position: relative;\n  float: left;\n  box-sizing: border-box;\n  font-size: 12px;\n  border-radius: 3px;\n  margin-bottom: 0;\n  font-weight: normal!important;\n  text-align: center;\n  vertical-align: middle;\n  -ms-touch-action: none;\n  touch-action: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .dropdownButton {\n  color: #d9230f!important;\n  border: 1px solid transparent;\n  padding: 6px 9px;\n}\n\n.escher-container .helpButton {\n  color: #d9230f!important;\n  padding: 0px 5px;\n  background-color: #f5f5f5!important;\n  border: 0!important;\n  text-decoration: unset;\n  height: fit-content;\n  position: absolute;\n  right: 0;\n  font-size: 12px;\n}\n\n.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .menu-bar .icon-sort-down {\n  position: absolute;\n  font-size: 10px;\n  margin-left: -5px;\n}\n\n@media (min-width: 550px) {\n  .escher-container .menu-bar {\n    padding-right: 25px;\n  }\n\n  .escher-container .dropdown {\n    font-size: 18px;\n  }\n\n  .escher-container .dropdownButton {\n    padding: 6px 10px;\n    padding-right: 16px;\n  }\n\n  .escher-container .helpButton {\n    font-size: 16px;\n  }\n\n  .escher-container .menu-bar .icon-sort-down {\n    font-size: 14px;\n  }\n}\n\n.escher-container .menu {\n  box-sizing: border-box;\n  font-weight: normal!important;\n  word-spacing: 0;\n  position: absolute;\n  white-space: nowrap;\n  top: 103%;\n  left: -1%;\n  z-index: 1000;\n  display: block;\n  float: none;\n  min-width: 160px;\n  padding: 5px 0;\n  list-style: none;\n  font-size: 13px;\n  box-shadow: 0 6px 12px rgba(0,0,0,0.175);\n  background-clip: padding-box;\n  border: 1px solid #ddd;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 0;\n  margin: 0;\n  text-align: left;\n}\n\n.escher-container #rightMenu {\n  left: auto;\n  right: -2%;\n}\n\n.escher-container .menu li:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menu li, .menu label {\n  font-size: 15px;\n  display: block;\n  font-weight: normal!important;\n  color: #444444;\n}\n\n.escher-container .menu.ul.li {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n\n.escher-container .menuButton {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px 20px;\n  margin: 0;\n  cursor: pointer;\n  -webkit-touch-callout: none; /* Prevents text selection on touch devices */\n  -webkit-user-select: none; /* Prevents text selection. Other */\n  -khtml-user-select: none; /* Prevents text selection in Chrome, Safari, Opera */\n  -moz-user-select: none; /* Prevents text selection in Firefox */\n  -ms-user-select: none; /* Prevents text selection in IE */\n  user-select: none; /* Prevents text selection. Default */\n}\n\n.escher-container label:focus, .menuButton:focus {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menuButton:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container input[type="file"] {\n  display: none;\n}\n\n.escher-container #disabled {\n  color: #e0e0e0;\n}\n\n.escher-container #disabled:hover, #disabled:focus {\n  background-color: rgba(255, 255, 255, 0.95);\n  cursor: default;\n}\n'],sourceRoot:""}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(4),s=n(2),c=r(s),u=n(1),d=r(u),f=n(16),_=r(f),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.handleFileInput=function(e){var t=this,n=new window.FileReader;n.onload=function(){d.default.load_json_or_csv(e,_.default.csv_converter,function(e,n){return t.props.onClick(n)})},void 0!==e&&n.readAsText(e)},t.prototype.render=function(){var e=this,t=c.default.contains(this.props.disabledButtons,this.props.name.replace(/ \(.*\)$/,""));return"load"===this.props.type?(0,l.h)("label",{className:"menuButton",tabindex:t?"-1":"0",id:t?"disabled":""},(0,l.h)("input",{type:"file",onChange:function(t){return e.handleFileInput(t.target.files[0])},disabled:t}),this.props.name):void 0!==this.props.modeName&&this.props.mode===this.props.modeName?(0,l.h)("li",{className:"menuButton",tabindex:t?"-1":"0",onClick:this.props.onClick,id:t?"disabled":""},(0,l.h)("i",{className:"icon-ok","aria-hidden":"true"},"\xa0"),this.props.name):(0,l.h)("li",{className:"menuButton",tabindex:t?"-1":"0",onClick:t?null:this.props.onClick,id:t?"disabled":""},this.props.name)},t}(l.Component);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4);n(314);var l=n(2),s=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o.state={current:0,searchItem:n.searchItem,counter:""},o}return o(t,e),t.prototype.componentWillMount=function(){var e=this;this.setState({clearEscape:this.props.map.key_manager.add_escape_listener(function(){return e.close()},!0),clearNext:this.props.map.key_manager.add_key_listener(["enter","ctrl+g"],function(){return e.next()},!1),clearPrevious:this.props.map.key_manager.add_key_listener(["shift+enter","shift+ctrl+g"],function(){return e.previous()},!1)})},t.prototype.componentDidMount=function(){this.inputRef.focus()},t.prototype.componentWillUnmount=function(){this.state.clearEscape(),this.state.clearNext(),this.state.clearPrevious(),this.props.map.highlight(null)},t.prototype.handleInput=function(e){var t=this.dropDuplicates(this.props.map.search_index.find(e)),n="";if(null!==t&&e)if(0===t.length)n="0 / 0",this.props.map.highlight(null);else{this.state.current>=t.length&&this.setState({current:0}),n=this.state.current+1+"/"+t.length;var r=t[this.state.current];if("reaction"===r.type)this.props.map.zoom_to_reaction(r.reaction_id),this.props.map.highlight_reaction(r.reaction_id);else if("metabolite"===r.type)this.props.map.zoom_to_node(r.node_id),this.props.map.highlight_node(r.node_id);else{if("text_label"!==r.type)throw new Error("Bad search index data type: "+r.type);this.props.map.zoom_to_text_label(r.text_label_id),this.props.map.highlight_text_label(r.text_label_id)}}else this.props.map.highlight(null);this.setState({searchItem:e,current:0,counter:n,results:t})},t.prototype.dropDuplicates=function(e){var t={metabolite:{type:"m",key:"node_id"},reaction:{type:"r",key:"reaction_id"},text_label:{type:"t",key:"text_label_id"}};return s.default.uniq(e,function(e){var n=t[e.type];return""+n.type+e[n.key]})},t.prototype.next=function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+1)%this.state.results.length)},t.prototype.previous=function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+this.state.results.length-1)%this.state.results.length)},t.prototype.update=function(e){this.setState({current:e,counter:e+1+"/"+this.state.results.length});var t=this.state.results[e];if("reaction"===t.type)this.props.map.zoom_to_reaction(t.reaction_id),this.props.map.highlight_reaction(t.reaction_id);else if("metabolite"===t.type)this.props.map.zoom_to_node(t.node_id),this.props.map.highlight_node(t.node_id);else{if("text_label"!==t.type)throw new Error("Bad search index data type: "+t.type);this.props.map.zoom_to_text_label(t.text_label_id),this.props.map.highlight_text_label(t.text_label_id)}},t.prototype.close=function(){this.props.setDisplay(!1)},t.prototype.render=function(){var e=this;return(0,a.h)("div",{className:"search-container"},(0,a.h)("input",{className:"search-field",value:this.state.searchItem,onInput:function(t){return e.handleInput(t.target.value)},ref:function(t){e.inputRef=t}}),(0,a.h)("button",{className:"search-bar-button left btn",onClick:function(){return e.previous()}},(0,a.h)("i",{className:"icon-left-open"})),(0,a.h)("button",{className:"search-bar-button right btn",onClick:function(){return e.next()}},(0,a.h)("i",{className:"icon-right-open"})),(0,a.h)("div",{className:"search-counter"},this.state.counter),(0,a.h)("button",{className:"search-bar-button btn",onClick:function(){return e.close()}},(0,a.h)("i",{className:"icon-cancel"})))},t}(a.Component);t.default=c},function(e,t,n){var r=n(315);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .search-container{display:flex;flex-direction:row;background-color:hsla(0,0%,100%,.95);padding:3px;border:1px solid #ddd}.escher-container .search-container .search-field{flex:0 0 auto;color:#777;border:1px solid #ddd;width:114px;height:29px;border-radius:3px;font-size:13px}.escher-container .search-container .search-counter{flex:1;color:#777;font-size:13px;padding:9px 0 0 6px}.escher-container .search-container .search-bar-button{flex:0 0 auto;border-radius:4px;text-align:center;vertical-align:middle;font-size:14px;font-weight:400;height:29px;width:34px;margin:3px}.escher-container .search-container .search-bar-button.left{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:0}.escher-container .search-container .search-bar-button.right{border-top-left-radius:0;border-bottom-left-radius:0;margin-left:0}.escher-container .search-container .search-bar-button:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}","",{version:3,sources:["/Users/zaking/repos/escher/src/SearchBar.css"],names:[],mappings:"AAAA,oCACE,aAAc,AACd,mBAAoB,AACpB,qCAA4C,AAC5C,YAAa,AACb,qBAAuB,CACxB,AAED,kDACE,cAAe,AACf,WAAY,AACZ,sBAAuB,AACvB,YAAa,AACb,YAAa,AACb,kBAAmB,AACnB,cAAgB,CACjB,AAED,oDACE,OAAQ,AACR,WAAY,AACZ,eAAgB,AAChB,mBAAqB,CACtB,AAED,uDACE,cAAe,AACf,kBAAmB,AACnB,kBAAmB,AACnB,sBAAuB,AACvB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,WAAY,AACZ,UAAY,CACb,AAED,4DACE,0BAA6B,AAC7B,6BAAgC,AAChC,cAAgB,CACjB,AAED,6DACE,yBAA4B,AAC5B,4BAA+B,AAC/B,aAAe,CAChB,AAED,8DACE,4DAAgE,CACjE",file:"SearchBar.css",sourcesContent:[".escher-container .search-container {\n  display: flex;\n  flex-direction: row;\n  background-color: rgba(255, 255, 255, 0.95);\n  padding: 3px;\n  border: 1px solid #DDD;\n}\n\n.escher-container .search-container .search-field {\n  flex: 0 0 auto;\n  color: #777;\n  border: 1px solid #DDD;\n  width: 114px;\n  height: 29px;\n  border-radius: 3px;\n  font-size: 13px;\n}\n\n.escher-container .search-container .search-counter {\n  flex: 1;\n  color: #777;\n  font-size: 13px;\n  padding: 9px 0 0 6px;\n}\n\n.escher-container .search-container .search-bar-button {\n  flex: 0 0 auto;\n  border-radius: 4px;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 14px;\n  font-weight: 400;\n  height: 29px;\n  width: 34px;\n  margin: 3px;\n}\n\n.escher-container .search-container .search-bar-button.left {\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n  margin-right: 0;\n}\n\n.escher-container .search-container .search-bar-button.right {\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n  margin-left: 0;\n}\n\n.escher-container .search-container .search-bar-button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n"],sourceRoot:""}])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4);n(317);var l=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.settings.get("menu"),n=this.props.settings.get("enable_keys"),r=this.props.settings.get("enable_editing");return(0,a.h)("ul",{className:"button-panel"},(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return e.props.zoomContainer.zoom_in()},title:"Zoom in"+(n?" (+)":"")},(0,a.h)("i",{className:"icon-zoom-in"}))),(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return e.props.zoomContainer.zoom_out()},title:"Zoom out"+(n?" (-)":"")},(0,a.h)("i",{className:"icon-zoom-out"}))),(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return e.props.map.zoom_extent_canvas()},title:"Zoom to canvas"+(n?" (1)":"")},(0,a.h)("i",{className:"icon-resize-full"}))),(0,a.h)("li",{style:{display:this.props.settings.get("full_screen_button")?"block":"none"}},(0,a.h)("button",{className:"button btn",onClick:function(){return e.props.map.full_screen()},title:"Toggle full screen"+(n?" (2)":"")},(0,a.h)("i",{className:"icon-resize-full-alt"}))),(0,a.h)("li",{className:"grouping",style:{display:"all"===t&&r?"block":"none"}},(0,a.h)("button",{className:"buttonGroup btn",title:"Pan mode"+(n?" (Z)":""),for:"zoom",id:"zoom"===this.props.mode?"currentMode":null,onClick:function(){return e.props.setMode("zoom")}},(0,a.h)("i",{className:"icon-move"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Select mode"+(n?" (V)":""),for:"brush",id:"brush"===this.props.mode?"currentMode":null,onClick:function(){return e.props.setMode("brush")}},(0,a.h)("i",{className:"icon-mouse-pointer"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Add reaction mode"+(n?" (N)":""),for:"build",onClick:function(){return e.props.setMode("build")},id:"build"===this.props.mode?"currentMode":null},(0,a.h)("i",{className:"icon-wrench"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Rotate mode"+(n?" (R)":""),for:"rotate",id:"rotate"===this.props.mode?"currentMode":null,onClick:function(){return e.props.setMode("rotate")}},(0,a.h)("i",{className:"icon-cw"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Text mode"+(n?" (T)":""),for:"text",id:"text"===this.props.mode?"currentMode":null,onClick:function(){return e.props.setMode("text")}},(0,a.h)("i",{className:"icon-font"}))),(0,a.h)("li",{className:"grouping",style:{display:"build"===this.props.mode&&"all"===t&&r?"block":"none"}},(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2190)":""),onClick:function(){return e.props.buildInput.direction_arrow.left()}},(0,a.h)("i",{className:"icon-left-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2192)":""),onClick:function(){return e.props.buildInput.direction_arrow.right()}},(0,a.h)("i",{className:"icon-right-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2191)":""),onClick:function(){return e.props.buildInput.direction_arrow.up()}},(0,a.h)("i",{className:"icon-up-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2193)":""),onClick:function(){return e.props.buildInput.direction_arrow.down()}},(0,a.h)("i",{className:"icon-down-big"}))))},t}(a.Component);t.default=l},function(e,t,n){var r=n(318);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .button-panel{position:absolute;left:4px;top:20%;margin-top:-32px;padding-left:0;touch-action:none}.escher-container .button-panel>li{margin-top:5px}.escher-container .grouping{display:block}.escher-container .buttonGroup{display:block;margin-bottom:-1px;padding:5px 0;border-radius:0}.escher-container .grouping>.buttonGroup:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.escher-container .grouping>.buttonGroup:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.escher-container .button-panel>.grouping:last-child{margin-top:4px}.escher-container #currentMode{background-image:linear-gradient(#8f4f3f,#834c3c 6%,#8d3a2d)}.escher-container .buttonGroup.btn{margin-top:-1px}.escher-container .button{border-radius:4px}.escher-container .button.btn,.escher-container .buttonGroup.btn{padding:unset;color:#fff!important;border:1px solid #474949;background-image:linear-gradient(#4f5151,#474949 6%,#3f4141);background-color:#fff;text-align:center;vertical-align:middle;cursor:pointer;font-size:14px!important;font-weight:400;width:40px;height:40px}.escher-container .button-panel .button:active,.escher-container .button-panel .buttonGroup:active,.escher-container .buttonGroup label:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}.escher-container .button-panel .fa{font-size:24px}.escher-container .button-panel [class^=icon-]{font-size:23px}","",{version:3,sources:["/Users/zaking/repos/escher/src/ButtonPanel.css"],names:[],mappings:"AAAA,gCACE,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,iBAAkB,AAClB,eAAgB,AAChB,iBAAmB,CACpB,AAED,mCACE,cAAgB,CACjB,AAED,4BACE,aAAe,CAChB,AAED,+BACE,cAAe,AACf,mBAAoB,AACpB,cAAiB,AACjB,eAAiB,CAClB,AAED,qDACE,2BAA4B,AAC5B,2BAA6B,CAC9B,AAED,oDACE,8BAA+B,AAC/B,8BAAgC,CACjC,AAED,qDACE,cAAgB,CACjB,AAED,+BACE,4DAA8D,CAC/D,AAED,mCACE,eAAiB,CAClB,AAED,0BACE,iBAAmB,CACpB,AAED,iEACE,cAAe,AACf,qBAAuB,AACvB,yBAA0B,AAC1B,6DAAgE,AAChE,sBAAwB,AACxB,kBAAmB,AACnB,sBAAuB,AACvB,eAAgB,AAChB,yBAA0B,AAC1B,gBAAiB,AACjB,WAAY,AACZ,WAAa,CACd,AAED,+IACE,4DAAgE,CACjE,AAED,oCACE,cAAgB,CACjB,AAGD,+CACE,cAAgB,CACjB",file:"ButtonPanel.css",sourcesContent:[".escher-container .button-panel {\n  position: absolute;\n  left: 4px;\n  top: 20%;\n  margin-top: -32px;\n  padding-left: 0;\n  touch-action: none;\n}\n\n.escher-container .button-panel>li {\n  margin-top: 5px;\n}\n\n.escher-container .grouping {\n  display: block;\n}\n\n.escher-container .buttonGroup {\n  display: block;\n  margin-bottom: -1px;\n  padding: 5px 0px;\n  border-radius: 0;\n}\n\n.escher-container .grouping>.buttonGroup:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n.escher-container .grouping>.buttonGroup:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.escher-container .button-panel>.grouping:last-child {\n  margin-top: 4px;\n}\n\n.escher-container #currentMode {\n  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d);\n}\n\n.escher-container .buttonGroup.btn {\n  margin-top: -1px;\n}\n\n.escher-container .button {\n  border-radius: 4px;\n}\n\n.escher-container .button.btn, .escher-container .buttonGroup.btn {\n  padding: unset;\n  color: white!important;\n  border: 1px solid #474949;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px!important;\n  font-weight: 400;\n  width: 40px;\n  height: 40px;\n}\n\n.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .button-panel .fa {\n  font-size: 24px;\n}\n\n/* Icons */\n.escher-container .button-panel [class^='icon-'] {\n  font-size: 23px;\n}\n"],sourceRoot:""}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(17),a=r(o),l=n(43),s=r(l),c=n(117),u=r(c),d=n(2),f=r(d),_=function(){function e(t,n,r,o){var l=this;i(this,e),this.div=t.append("div").attr("id","tooltip-container"),this.tooltipRef=null,this.zoomContainer=r,this.setUpZoomCallbacks(r),this.callback_manager=(0,a.default)(),this.div.on("mouseover",this.cancelHideTooltip.bind(this)),this.div.on("mouseleave",this.hide.bind(this)),this.map=o,this.setUpMapCallbacks(o),this.delay_hide_timeout=null,this.currentTooltip=null,(0,u.default)(n,null,function(e){return l.callback_manager.set("passProps",e)},this.div.node(),function(e){l.tooltipRef=e}),this.passProps({display:!1})}return e.prototype.passProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callback_manager.run("passProps",null,e)},e.prototype.setUpMapCallbacks=function(e){var t=this;this.placedDiv=(0,s.default)(this.div,e,void 0,!1),e.callback_manager.set("show_tooltip.tooltip_container",function(n,r){e.settings.get("enable_tooltips").indexOf(n.replace("reaction_","").replace("node_","").replace("gene_",""))>-1&&t.show(n,r)}),e.callback_manager.set("hide_tooltip.tooltip_container",function(){return t.hide()}),e.callback_manager.set("delay_hide_tooltip.tooltip_container",function(){return t.delayHide()}),e.sel.selectAll(".canvas-group").on("touchend",function(){return t.hide()})},e.prototype.setUpZoomCallbacks=function(e){e.callback_manager.set("zoom.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this)),e.callback_manager.set("go_to.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this))},e.prototype.is_visible=function(){return this.placedDiv.is_visible()},e.prototype.show=function(e,t){if(this.cancelHideTooltip(),!f.default.contains(["reaction_label","node_label","gene_label","reaction_object","node_object"],e))throw new Error("Tooltip not supported for object type "+e);var n=null!==this.tooltipRef&&this.tooltipRef.getSize?this.tooltipRef.getSize():{width:270,height:100};this.currentTooltip={type:e,id:t[e.replace("_label","_id").replace("_object","_id")]};var r=this.zoomContainer.window_translate,i=this.zoomContainer.window_scale,o=null!==this.map?this.map.get_size():{width:1e3,height:1e3},a={x:0,y:0},l="object"===e.replace("reaction_","").replace("node_","").replace("gene_","")?t.xPos:t.label_x,s="object"===e.replace("reaction_","").replace("node_","").replace("gene_","")?t.yPos:t.label_y,c=i*l+r.x+n.width,u=i*s+r.y+n.height;o.width<500?(c>o.width&&(a.x=-(c-o.width)/i),u>o.height-74&&(a.y=-(u-o.height+77)/i)):(i*l+r.x+.5*n.width>o.width?a.x=-n.width/i:c>o.width&&(a.x=-(c-o.width)/i),i*s+r.y+.5*n.height>o.height-45?a.y=-n.height/i:u>o.height-45&&(a.y=-(u-o.height+47)/i));var d={x:l+a.x,y:s+10+a.y};this.placedDiv.place(d),this.passProps({display:!0,biggId:t.bigg_id,name:t.name,loc:d,data:t.data_string,type:e.replace("_label","").replace("node","metabolite").replace("_object","")})},e.prototype.hide=function(){this.placedDiv.hide(),this.currentTooltip=null},e.prototype.delayHide=function(){var e=this;this.delayHideTimeout=setTimeout(function(){return e.hide()},100)},e.prototype.cancelHideTooltip=function(){null!==this.delayHideTimeout&&clearTimeout(this.delayHideTimeout)},e}();t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(4);n(321);var l=n(1),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.decompartmentalizeCheck=function(e,t){return"metabolite"===t?l.decompartmentalize(e)[0]:e},t.prototype.openBigg=function(){var e=this.props.type,t=this.props.biggId,n="http://bigg.ucsd.edu/",r="gene"===e?n+"search?query="+t:n+"universal/"+e+"s/"+this.decompartmentalizeCheck(t,e);window.open(r)},t.prototype.capitalizeFirstLetter=function(e){return"string"===typeof e?e.charAt(0).toUpperCase()+e.slice(1):console.warn("capitalizeFirstLetter was passed something other than a string")},t.prototype.render=function(){var e=this,t=this.decompartmentalizeCheck(this.props.biggId,this.props.type),n="Open "+t+" in BiGG Models.";return(0,a.h)("div",{className:"tooltip"},(0,a.h)("div",{className:"id"},this.props.biggId),(0,a.h)("div",{className:"name"},"name: ",this.props.name),(0,a.h)("div",{className:"data"},"data: ",this.props.data&&"(nd)"!==this.props.data?this.props.data:"no data"),(0,a.h)("button",{className:"biggIdButton",onClick:function(){return e.openBigg()}},n),(0,a.h)("div",{className:"typeLabel"},this.capitalizeFirstLetter(this.props.type)))},t}(a.Component);t.default=s},function(e,t,n){var r=n(322);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container .tooltip{box-sizing:border-box;min-width:270px;min-height:100px;border-radius:2px;border:1px solid #b58787;padding:7px;background-color:#fff;text-align:left;font-size:16px;font-family:sans-serif;color:#111;box-shadow:4px 6px 20px 0 rgba(0,0,0,.4)}.escher-container .tooltip .id{font-size:18px;font-weight:700}.escher-container .tooltip .biggIdButton{border-radius:3px;background-color:#eee;border:1px solid #ddd;margin-top:4px;font-size:16px;padding:3px 6px}.escher-container .tooltip .typeLabel{position:absolute;top:4px;right:4px;color:#d27066;background-color:#ffeded;border-radius:2px;font-size:14px;text-align:right;padding:0 5px}","",{version:3,sources:["/Users/zaking/repos/escher/src/DefaultTooltip.css"],names:[],mappings:"AAAA,2BACE,sBAAuB,AACvB,gBAAiB,AACjB,iBAAkB,AAClB,kBAAmB,AACnB,yBAA0B,AAC1B,YAAa,AACb,sBAAuB,AACvB,gBAAiB,AACjB,eAAgB,AAChB,uBAAwB,AACxB,WAAY,AACZ,wCAAgD,CACjD,AAED,+BACE,eAAgB,AAChB,eAAkB,CACnB,AAED,yCACE,kBAAmB,AACnB,sBAAuB,AACvB,sBAAuB,AACvB,eAAgB,AAChB,eAAgB,AAChB,eAAiB,CAClB,AAED,sCACE,kBAAmB,AACnB,QAAS,AACT,UAAW,AACX,cAAe,AACf,yBAA0B,AAC1B,kBAAmB,AACnB,eAAgB,AAChB,iBAAkB,AAClB,aAAiB,CAClB",file:"DefaultTooltip.css",sourcesContent:[".escher-container .tooltip {\n  box-sizing: border-box;\n  min-width: 270px;\n  min-height: 100px;\n  border-radius: 2px;\n  border: 1px solid #b58787;\n  padding: 7px;\n  background-color: #fff;\n  text-align: left;\n  font-size: 16px;\n  font-family: sans-serif;\n  color: #111;\n  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);\n}\n\n.escher-container .tooltip .id{\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.escher-container .tooltip .biggIdButton {\n  border-radius: 3px;\n  background-color: #eee;\n  border: 1px solid #ddd;\n  margin-top: 4px;\n  font-size: 16px;\n  padding: 3px 6px;\n}\n\n.escher-container .tooltip .typeLabel {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  color: #d27066;\n  background-color: #ffeded;\n  border-radius: 2px;\n  font-size: 14px;\n  text-align: right;\n  padding: 0px 5px;\n}"],sourceRoot:""}])},function(e,t,n){var r=n(324);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,"@font-face{font-family:fontello;src:url("+n(118)+");src:url("+n(118)+'#iefix) format("embedded-opentype"),url('+n(325)+') format("woff2"),url('+n(326)+') format("woff"),url('+n(327)+') format("truetype"),url('+n(328)+'#fontello) format("svg");font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:fontello;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-ok:before{content:"\\E800"}.icon-cancel:before{content:"\\E801"}.icon-plus:before{content:"\\E802"}.icon-down-big:before{content:"\\E803"}.icon-left-big:before{content:"\\E804"}.icon-right-big:before{content:"\\E805"}.icon-up-big:before{content:"\\E806"}.icon-left-open:before{content:"\\E807"}.icon-right-open:before{content:"\\E808"}.icon-wrench:before{content:"\\E809"}.icon-resize-full:before{content:"\\E80A"}.icon-cw:before{content:"\\E80B"}.icon-trash-empty:before{content:"\\E80E"}.icon-font:before{content:"\\E80F"}.icon-zoom-in:before{content:"\\E810"}.icon-zoom-out:before{content:"\\E811"}.icon-move:before{content:"\\F047"}.icon-resize-full-alt:before{content:"\\F0B2"}.icon-blank:before{content:"\\F0C8"}.icon-sort-down:before{content:"\\F0DD"}.icon-mouse-pointer:before{content:"\\F245"}',"",{version:3,sources:["/Users/zaking/repos/escher/icons/css/fontello.css"],names:[],mappings:"AAAA,WACE,qBAAwB,AACxB,kCAAyC,AACzC,sPAIgE,AAChE,gBAAoB,AACpB,iBAAmB,CACpB,AAYA,+CACC,qBAAwB,AACxB,kBAAmB,AACnB,gBAAoB,AACpB,WAAY,AAEZ,qBAAsB,AACtB,wBAAyB,AACzB,UAAW,AACX,kBAAmB,AACnB,kBAAmB,AAInB,oBAAqB,AACrB,oBAAqB,AAGrB,gBAAiB,AAIjB,iBAAkB,AAMlB,mCAAoC,AACpC,iCAAmC,CAIpC,AAED,gBAAkB,eAAiB,CAAE,AACrC,oBAAsB,eAAiB,CAAE,AACzC,kBAAoB,eAAiB,CAAE,AACvC,sBAAwB,eAAiB,CAAE,AAC3C,sBAAwB,eAAiB,CAAE,AAC3C,uBAAyB,eAAiB,CAAE,AAC5C,oBAAsB,eAAiB,CAAE,AACzC,uBAAyB,eAAiB,CAAE,AAC5C,wBAA0B,eAAiB,CAAE,AAC7C,oBAAsB,eAAiB,CAAE,AACzC,yBAA2B,eAAiB,CAAE,AAC9C,gBAAkB,eAAiB,CAAE,AACrC,yBAA2B,eAAiB,CAAE,AAC9C,kBAAoB,eAAiB,CAAE,AACvC,qBAAuB,eAAiB,CAAE,AAC1C,sBAAwB,eAAiB,CAAE,AAC3C,kBAAoB,eAAiB,CAAE,AACvC,6BAA+B,eAAiB,CAAE,AAClD,mBAAqB,eAAiB,CAAE,AACxC,uBAAyB,eAAiB,CAAE,AAC5C,2BAA6B,eAAiB,CAAE",file:"fontello.css",sourcesContent:["@font-face {\n  font-family: 'fontello';\n  src: url('../font/fontello.eot?9130959');\n  src: url('../font/fontello.eot?9130959#iefix') format('embedded-opentype'),\n       url('../font/fontello.woff2?9130959') format('woff2'),\n       url('../font/fontello.woff?9130959') format('woff'),\n       url('../font/fontello.ttf?9130959') format('truetype'),\n       url('../font/fontello.svg?9130959#fontello') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontello';\n    src: url('../font/fontello.svg?9130959#fontello') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"fontello\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-ok:before { content: '\\e800'; } /* '\ue800' */\n.icon-cancel:before { content: '\\e801'; } /* '\ue801' */\n.icon-plus:before { content: '\\e802'; } /* '\ue802' */\n.icon-down-big:before { content: '\\e803'; } /* '\ue803' */\n.icon-left-big:before { content: '\\e804'; } /* '\ue804' */\n.icon-right-big:before { content: '\\e805'; } /* '\ue805' */\n.icon-up-big:before { content: '\\e806'; } /* '\ue806' */\n.icon-left-open:before { content: '\\e807'; } /* '\ue807' */\n.icon-right-open:before { content: '\\e808'; } /* '\ue808' */\n.icon-wrench:before { content: '\\e809'; } /* '\ue809' */\n.icon-resize-full:before { content: '\\e80a'; } /* '\ue80a' */\n.icon-cw:before { content: '\\e80b'; } /* '\ue80b' */\n.icon-trash-empty:before { content: '\\e80e'; } /* '\ue80e' */\n.icon-font:before { content: '\\e80f'; } /* '\ue80f' */\n.icon-zoom-in:before { content: '\\e810'; } /* '\ue810' */\n.icon-zoom-out:before { content: '\\e811'; } /* '\ue811' */\n.icon-move:before { content: '\\f047'; } /* '\uf047' */\n.icon-resize-full-alt:before { content: '\\f0b2'; } /* '\uf0b2' */\n.icon-blank:before { content: '\\f0c8'; } /* '\uf0c8' */\n.icon-sort-down:before { content: '\\f0dd'; } /* '\uf0dd' */\n.icon-mouse-pointer:before { content: '\\f245'; } /* '\uf245' */"],sourceRoot:""}])},function(e,t){e.exports="data:application/font-woff2;base64,d09GMgABAAAAABKUAA8AAAAAJPQAABI7AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCFOAggCZZwEQgKnxyaVAE2AiQDWAsuAAQgBYVNB4IDDIEGG3UhBdwYumHjAJ55bgvZ/4fjjpUVOJbYEKqpuEgYY4RGw1xkC9qrly7T8mghbhYrHvTL5IwNHzluZQ3s/HCVNusnK5jg8CFWfFBkvTioSxtKCf//2Urv+7+qurp7ehZQRDgCgBHBamXAIATMnJkjPDmm9skdQkgQJAqA+X83/ZvWE3QrSdsBnVBzmECdpkbPg5YESkVhVGbOdk7YHGaVFFLmZRK6vlPazZ+IIE/sz2VGAQQczmWuiClj+qMnysBNTbpZ81pOz0xVSbnUgoMG4ofZ7U+7e5KNchL4f7R9s6IEn+aGt2IZzAbLN/B1EjRZK2qKerrqZPAGQMZdus1WakWb8u1Mq3/vtWfZIHcsYUI4+1+bZSvpECqqEIr62m70x/L6f82ClrU8PvLYPpj10hwAB6G7LsT2oX1oBxCqvPTY5aWt0jR9IJ2tR5+ipFk7hvjQYGz2h6tg6aIQsUlh20e/FwRULLeV7d7bTID2w2vbNoCJAvSuguNAPbxn7QO530DgTBG5JjGu6Wf0FhHsZfsKeC0O6RdWNDwy0aFXPHYbN4Ptv/6P+4knw1yYJt4tzwfo9cGBxfI06VNm+ye+x8WxrljhwMtA7+IWHX6tv+v7rfPv8Fu/ffkH/iTyaxymfbUrVhS95loM+F95hhOIJAoyJRU1LRra9NCrT78Bg4agBM1pAWizFTCEX1kZFCsYDApuGykYQqRgiFAwJCgYCigYMhQMJRQMFRQMNRQMLXhtGBp4PSCuvV4Q8PqAoPHfeiBo/Hcehn54b8AwAO9LLMUg/sfvliHUG13I4CZr9BuVewDBK06S9OYf7eNvSI9PkdUL5v/kM/WnI6blf3YJDBzbUeMc/ABtPOBR5+ARmB7PPAadiO90hPTTMN8rnBxPdj9HZ67pz4lj29GxPTVi/T67/ieppvDLCfMv1ZkVyzv1LBdi36EaEHnlmqiuMV/RdDZVe7GWra3LSR9bgywlg2s8Tcnj0EQELScicjsSJZAkND2aUPQEmEy9dVLjJ4gZqxg2URQnx3hwrFaqr/CXsrq81KmUbyfm7abspmiJY7fvxQE1CqlaL+SJoODmQGIWTKfvRIIJJBTsc4Z+USQGTwE1cLOax/+C61fuJNtzSm7IY3K5jKFoOPUkbDhDn6aE4b2qhFIyAxI0a9LPyp3gWqmehSU3Mn3Bdtv0wdXKuPijqbMaZuc4iYVau4xY6xMECUNdL2TRNebShvM0qJZk3CxjTxsoSrT4OpK7tIREc8bvvMn19ED0miPQv+AG6vzMaDOr74q2BPP04s1+rOFvnJZo/u2Hpw9vduKbvRumccNhAwv3o9LZdZDomdIoD/RYAmIaamvNm0JobMJ1O1bDBQQNvWuhShucZYkfvYYH6RtMJ5i0wJnsOGPsxk1747wrVNw5GyPCYZDcdvoFDGDOn+zZj/RI0IRaApWgGJRR/ru3O4941IS+W/vLhKc3m2vJM4jKYNMzhKqYDQtjI8LZqAhsgohsokhskijYZJHZFFG2TsUcx9sawafxNZ8OBGcAgDMBwFkA4GwAcA4AOBcAnAcAzgdg1QKoCyW2sFemN2pUvR7ZO6nIAo9KLQILzS9M8CyGNJOpk1Ye2OvU3nNlqHR7lth/S41ZHNDohmKHLLXIbm6vWgbdlbF1OeY4QlbwPSOrEFhJxr+gecdP7UFd5r0Nzwqdz0YzGVPA8oAXaSXaS51nVTof8ThtidWo5tBltZqB+GzqVf9Kx8oWxdfrMhOSMKzyMDq/4VkDGBN06SbnpeTmab9UpK4v56C1SQ1q+2kRJAi0ie6dPHT7Tvxp28Wymauki3EKwUSm+lmCj9GmmcBHJJuF7FU8jzGfGM5ykuQbS3Ok/HTZrXi0mERIbdpuaKX7U0y3bg1nzOp49hyzgTn2iVpWu00hSwNttDZAbrzt59dO9SSTZ53+CamTmCLHugee9bd8sgR2YgpUBC2lN5gLGq+sGeUZW3Xmmqv4UBa0k7lN0rNDXr2txpy0x6BVrSLl6/RsrL2GbqH8vrtb9eJuTG+CqbXYzaa7UV1q6yKPNz2bb620fZgtgnvmn3srWGMFhraBtdZXCp4iJd0DuQyBLYvMsz244pYFz+pv6tTag6Ke2ju2ai5q8MP/xCzwoOnwmmI6e27s3NZNLslHOw0R113sanLWVTpUqct3e6M7s37gEXxBzrWsCJ49rOjerYofPMfKo9/ZYvWW7YsynphaTXsJVK9+/5YvGvZNQge2BtyLHT8oPDukdYWH4YKO8HkQR4HQMQDoOAB0Avyp8Cd6ABEAEAkAGcCpMAKoDQAyAUDt4J+iA0CdAFAXANQNfhc9AOoFgPoAWNefN7fKxDRwYuZU+2FmXqYtoSQJL2dra1cLkhUu9OAeoIcAMzY8ag2NzF3odRFArweAbRilpI1zF3pTBNCbARiwJW8hMSbqU1GBmty5BMtctEy3672kdz6AgCKRz/aSan/DlwvUgD0BEOcAwK8jP3J4WLQ7sO+58G3wIGddEU2XpUnT0kSiRE5qSnKxQEM5CbKERlliisAV4nUCvsRGJZknHOjaSTtmdDlFpHUd0BupJIKhDYDbNQaeS5AeOSxiA9S1DHgRGezwLYEWSYXsM5nIIgjiZFPA27BRWeZrjpy1Pntu5Ywzm4y2P5+JOJ8FjPHMlLPZt3kG5pAslVUmoK2sHiqL4KIy8oqFjBzHcxDUmc41FEOWciGHb4iinql9zXNQNJFSW5NW7zRbaBVAsZhOndRWszY1Vm1ligJGu897zc1enhmoireWtvqDA5Q4EDA4Qvaw0RlMJ1sC0qUy3nfSVs0tdS0JHPWuWsS20FY7eF6DjWg1M9gEjLQpDDuezjSGJhHQaCoYIM6w2pVrCE0nBQKEIwQP50OcwRbjzF1rFDWROpiEou0uM94Wmjyv0BTLiaEYGuE6XZ5hxDCJwhNJfYC/eQwVgDmOkDRWUEDW6LlvfXs3hczTM0KQr+63kxkyp7luX706g3V0ICLTbLCYCUoYER0UMfmvIHKE5I4AbF9ixFxYpp0pD7WHSkoM7oCIYi6L0i9jNPhNcmjle9EbW1M3oPB6umMSgzRaoYvpTloEfNIeCqkfhMMW6pmWaw7AimPYJBmSIki2hGpOvmPmCmubk5M+CII9TnkuTYYgQd6pPDhwOVmArpocPk8muk0IeCuc2J0EaXcPOCpInco1GkrtSHbDLrb3s8mLPhOwA70CBbefwmQRc+tb4jlJs0mAknHQZu7RBM9AsUHzIL4zuFGSDMZ1sltLsybazWi+go6mxdszXeWL5IKyFUUjX3/9ZHkiEv2a96tGE9mKTHvXb9hGNJonko83or92e/KeTHtLkhhPUhe7HKf+UvBLkV+kxctuj6AR3Xffo491uyEx3/+KfRk3gl2p775Dv8YY/XWs06+Uvbp4v1Q9PEIoa8NXq/Cj+Aamp49JmA/qJR7xMe+0XEUcxZcqRrvrpWskx6an1WXqKbVKPTIiVypGhmuVhBtX4sJlrpKVtiilpcMjeqWaIcqIS5eOSdZIc0ReOHbJqy/TM2JFhodLZauL5WL8GKGSe0ehrd/US2lxkUPlZXKmVlU7PHzk+pbwpSfYrMysLEbKdHayYvbsOVYaPWenpFPfgJHmDw3268TsE/aJfZlZmZlbB5kguWWJ84NinuLD4rTN47stf+/dq1bqr6v0VdpsBr3e/QX6SmqTvespMDg6+sHoKSu0FF986tCiw5e69o2ohO6mvGg+Y/LGxON37mh1jLT0mwemgrveot4/o9XevYPzyCf4wmcPzNLfnVrtnTskj4yMefhvtU7sLZDFirGXHxgKwQMsj9/c3NK8STmUr9HkD22zs53341fWbF9zUAEITbNaQqoaZ7XdwHhevXFr/dno2cqzO7e61B2trvI36uuh+XLJreoE5mntLBWf7mT8hTgxKv6dxDP1HuFfQs7W3VEf2O6tO8wPUqvkVX6d/IdW/sVXCgtK1ekfpJdWcxcrCnmF6xmdB+/r5rGzB86vcTaBMU+kdD/QgNNpSFXh8bf+V19ec/OuseeA0TPe0LEZyWl5U7+/cPdv7PZrGv5+BRydAq04kViU44kXJS9q4PfqlsYVC/EVixOXmSw7H4CvjwyX8/v/F/+qEcCiWHiZHVkaqxC8vqAcl8V7evfti7+vizF346X8DiwuNnavvsv6ZOvo6PvQKP3WqOv92FGnxCJhyuTPPTdQa9ONlluHKk9BF1UnRtafWDMdfaJ6xKKiQbOtduC552q7yq6uKfGE1ZRTpqrC3s3znTjpkyp4DeFwA08vZU+e9DGnO1ip/pIUZ9L3gFUl4CSduHR6p0gWEbC6t1e8SrNaLTSfHCCZwxNAp7vO6MDBSSzQssnzkFYrEvh48f1tw9Ekb+bkQaBlujEThzn5j7T1x/N8JYqx4eSarq4agLGrp/oQFir/4DP//98Mp2Vj38EHfxkkthMRTBxODm5M7Lz/Sn920NM5/HB2to42E1ZfVA5/atn6b+IQzesfmxue/GoBOxzPet8PODLrqJvsr1l+P2DfznnB3F47bFs5O/w9R7ZPNIXUwWTjDN/pOHB7MMBsHCF0Uh1ZYsDUcRk2LiWcP8WYi6OEzkXBQ4bI4ygHP7V9ReecCefQrHXnyzRCnEjolNC0Cppd3Y6hbVDI3BnI3DQdokN01swN/IY/2c1l12GaSTbZTH1lOjTc9WVEplii4eoMrubjJsQ40u0Rb8treEhNOvjjWGMVUswOUkv7J9FS7d/5+RsBxsRh8ihTjk0XFae9PQSfPzisBSQ8D68KpiIPPk6wMI7tqmkONUUczWhC8dvnb6crVqHDxwmELh2LqMBt+jV3ZB1B7ndyubMyG3EQ7+fpjStQlFumLIpc+BhucntA7OdGdbEQTMeCLCr30LzBHdq1kwpfM+JRKS+oIltWyo4x20eZSGIsmFEkige0KXO77PY0lluVJeV0haKui1MUu/UcdVdy6Ja5r7vDpG/VNjfWV1fiFve0RGPxUwgtt+4qOUS3K1e8HAVkLUM82hgW3IkHyAb+ux+BOycAP4PjByZ9f6kKp4IseZ7jQaGUsN+KTp03VS2WlDhWhQ5pmhpVp7lJfnLL/jQvpIWMhwEHHG+SiV0qtBLKInYIyVPwMUSBijEqUqhSN8pNyOlSUOai7JJzk/dvuWzX2PVw07u+UW0RWS9nOVq2vsWpo3uHhClZF4GLbhQhBo9dQmjC/pEm6y32jRgnEXoYUVkVVVmMNSpylVs8SEImLIKOT/BBSzlKZF2hqlr7cG98/46q8sv5uFk/LW7g2p1XudhoRsXLbtt1zZmvrsrEsS1GJWadoIfuoHj358w97ZPT0Vtq28HXsGZ9FzQOomdJ/Na4udhONdR1qAiToTGkR5i1bP/8pHmVUf8HvjF+/kpiuMrf/Jdr/xXgxyPBi6/5/yRi9V+9FcgYCLv/9Vn8Vw6LVE3jFIevZbQGvG/F3xtxXh4b7QfsxGp58kQE3ysPooN+FR9vm9xa5gy7S7qGMd1yzwDP1Y+h3f1+kqV6jXAAIp/FevOMgi3znMxuHkYcmhepOTUvkbk6r2KRO9evGfCOo1AC9/n4ZZ7o3TPPaGsaOmvEEgwYsWVeZPhhTBhxY17FGT3ztmrm/v6FpLRlb53A3ds99Lu9CVRboMsP4qMKoIo44gzPYCgKhkBtTQ0Z+I22BMXDeHypf+TsKUKv3Y02/8KIrATrkq+TV7YvYsAwNfDJ/VuQmBaope1E0rzTqavMvTck2WKe5Qi4YxS7h363N4GKdAIJhL1ICchVCuGYmIHPEZp+EAkk4YC0de/wDQu/ibVK/+4V5uz2vP0flq8967FDr90V4F86CmnFqK3lttmqh33SLoyEmiW6O/jst0Nib7mANNG2SFgkZGy0bLFXusXutUcBFfSXNNzkCopKKpRVqlKtlhq11aNe6IN+GIBBGIJhGEFGHi1PtIoaw1EKJZ/VtI6tytuzgEZ2+jysYN9+UtKFy8xSwnjRhcMncbJmjNpdMma/w5YpIRzo9aWwyq6FTZLtkS9sebojalo+nsXPTEWOGlrhbY6SLRXkuAoqLs8zsbRkeY/XDZWMrUQ+CvLenr3dmdv8EHTSNAf96pvc5Af87371YOEuuwBHQQndcTwQFWruRb0QlH0mjgc0Eg12+2XQ0ZafKlNH2/zR5ltk5LmXQAGIqTo6QNywYLeJll7gREGcnDtQ5BAxJ/xRYDcAAA=="},function(e,t){e.exports="data:application/font-woff;base64,d09GRgABAAAAABXUAA8AAAAAJPQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+I1MqY21hcAAAAdgAAADTAAACuIda97BjdnQgAAACrAAAABMAAAAgBtX+/mZwZ20AAALAAAAFkAAAC3CKkZBZZ2FzcAAACFAAAAAIAAAACAAAABBnbHlmAAAIWAAACf0AAA+aE9DL/mhlYWQAABJYAAAAMgAAADYPoZfIaGhlYQAAEowAAAAfAAAAJAc7A2hobXR4AAASrAAAAC0AAABYSVz//GxvY2EAABLcAAAALgAAAC4p+yYIbWF4cAAAEwwAAAAgAAAAIAElDApuYW1lAAATLAAAAXcAAALNzJ0dH3Bvc3QAABSkAAAAswAAAQOd6TSHcHJlcAAAFVgAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZA5jnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGD65Mgf9z2KIYg5imAkUZgTJAQDhCgvVAHic7ZLBccIwEEWfwCEBjMFJ3AIn2mDoiYI4caIKmvB9jxoaIH+9mwM9sJrnGf2RZM0+AR/AXBxEA+VKweuitEz5nNWUN5w132lova2tr6d6q/c6Po7PpxKse01eqmjfXqf9D09mOqnRDRZ88sVS/1nTsqFjq9U93/zwy6ClC97V+qe0ORu844F7skQ9xZLJU+JuLXHnlqj3WCILWCIfWCIzWOJvwRLZ0jsI/HbWBTKIbQM82wV41gfySz0FMk29BXJOvQeyTx0DvQMex4DhD8NHSkgAeJxjYEADEhDIHPQ/HYQBEloD1wB4nK1WaXfTRhQdeUmchCwlCy1qYcTEabBGJmzBgAlBsmMgXZytlaCLFDvpvvGJ3+Bf82Tac+g3flrvGy8kkLTncJqTo3fnzdXM22USWpLYC+uRlJsvxdTWJo3sPAnphk3LUXwoO3shZYrJ3wVREK2W2rcdh0REIlC1rrBEEPseWZpkfOhRRsu2pFdNyi096S5b40G9Vd9+GjrKsTuhpGYzdGg9siVVGFWiSKY9UtKmZaj6K0krvL/CzFfNUMKITiJpvBnG0EjeG2e0ymg1tuMoimyy3ChSJJrhQRR5lNUS5+SKCQzKB82Q8sqnEeXD/Iis2KOcVrBLttP8vi95p3c5P7Ffb1G25EAfyI7s4Ox0JV+EW1th3LST7ShUEXbXd0Js2exU/2aP8ppGA7crMr3QjGCpfIUQKz+hzP4hWS2cT/mSR6NaspETQetlTuxLPoHW44gpcc0YWdDd0QkR1P2SMwz2mD4e/PHeKZYLEwJ4HMt6RyWcCBMpYXM0SdowcmAlZYsqqfWumDjldVrEW8J+7drRl85o41B3YjxbDx1bOVHJ8WhSp5lMndpJzaMpDaKUdCZ4zK8DKD+iSV5tYzWJlUfTOGbGhEQiAi3cS1NBLDuxpCkEzaMZvbkbprl2LVqkyQP13KP39OZWuLnTU9oO9LNGf1anYjrYC9PpaeQv8Wna5SJF6frpGX5M4kHWAjKRLTbDlIMHb/0O0svXlhyF1wbY7u3zK6h91kTwpAH7G9AeT9UpCUyFmFWIVkBirWtZlsnVrBapyNR3Q5pWvqzTBIpyHBfHvoxx/V8zM5aYEr7fidOzIy49c+1LCNMcfJt1PZrXqcVyAXFmeU6nWZbv6zTH8gOd5lme1+kIS1unoyw/1GmB5Uc6HWN5QQuadN/BkIsw5AIOkDCEpQNDWF6CISwVDGG5CENYFmEIyyUYwvJjGMJyGYawvKxl1dRTSePamVgGbEJgYo4eucxF5WoquVRCu2hUakOeEm6VVBTPqn9loF488oY5sBZIl8iaXzHOlY9G5fjWFS1vGjtXwLHqbx+O9jnxUtaLhT8F/9XWVCW9Ys3Dk6vwG4aebCeqNql4dE2Xz1U9uv5fVFRYC/QbSIVYKMqybHBnIoSPOp2GaqCVQ8xszDy063XLmp/D/TcxQhZQ/fg3FBoL3INOWUlZ7eCs1dfbstw7g3I4EyxJMTfz+lb4IiOz0n6RWcqej3wecAWMSmXYagOtFbzZJzEPmd4kzwRxW1E2SNrYzgSJDRzzgHnznQQmYeqqDeRO4YYN+AVhbsF5J1yieqMsh+5F7PMopPxbp+JE9qhojMCz2Rthr+9Cym9xDCQ0+aV+DFQVoakYNRXQNFJuqAZfxtm6bULGDvQjKnbDsqziw8cW95WSbRmEfKSI1aOjn9Zeok6q3H5mFJfvnb4FwSA1MX9733RxkMq7WskyR20DU7calVPXmkPjVYfq5lH1vePsEzlrmm66Jx56X9Oq28HFXCyw9m0O0lImF9T1YYUNosvFpVDqZTRJ77gHGBYY0O9Qio3/q/rYfJ4rVYXRcSTfTtS30edgDPwP2H9H9QPQ92Pocg0uz/eaE59u9OFsma6iF+un6Dcwa625WboG3NB0A+IhR62OuMoNfKcGcXqkuRzpIeBj3RXiAcAmgMXgE921jOZTAKP5jDk+wOfMYdBkDoMt5jDYZs4awA5zGOwyh8Eecxh8wZx1gC+ZwyBkDoOIOQyeMCcAeMocBl8xh8HXzGHwDXPuA3zLHAYxcxgkzGGwr+nWMMwtXtBdoLZBVaADU09Y3MPiUFNlyP6OF4b9vUHM/sEgpv6o6faQ+hMvDPVng5j6i0FM/VXTnSH1N14Y6u8GMfUPg5j6TL8Yy2UGv4x8lwoHlF1sPufvifcP28VAuQABAAH//wAPeJyVV1tsXMUZnn/m3M96r3POWdu7x3vzrr12nODd9cLacTa32iYb4YSoxCAb04ZA7VysKgJUmhdSVU3VGmQFlCKU0sZ+qdoIWioEDw1SJR5QpfIADVLV54ZWFQ9FSDXNSf+ZXSdpIwRdrebMnPln/vv3/4cAwR/boBeJQ9LNnggQgClCgZ4mOD2Nm8e5x5nqDQHXQcuVoFjdBWOjfSAHl21Eg0x0OBr8LRJp4XMdTuHYilLXxY1IBFy5jG7A6Wi0FcFLyc1P6Af0+6RA/GZvrjuqK8huigEl9DSA4JfiXFGTQ/08ggy3gy4GwbW0xbouWeO259IP2mzX22zwGb29jkTW1yMrrphsbETuJoyMCAIp079YnNkkTwabRaIwRWq/ogJD4xzBByNHKRBGWvlKf76S19SeIXC4VsrjoOdzxXoNh1KtOlav4DAOo67nVEZdFs+41zPuspuB654PuPC9ZZyIxZvi7ccuvnU+7rx1M4JcyvNHdg7l8UmmmU5G6C2nMNjyilPzpJX+1y0xIcOo68TaRmLnnOBFt4GD4wzic73sT6XLG3zcHXTgOZ8HFxwHTsilsw7n02UYTgVPrwtiKccP2Bz9B0mTQjNLKGtHxQqRZiHCKkQYpei5eSkLWiOf9VzpOCFSHbY8lUVjzBXS8uqyM+4EFziHE07DLbf5FmBhyi+v8wk+1NmAZSmxuz4gQrQtSw1l8aUsjLLT4u0KmgXoEUIpHCVAoeX2F++wSztwsrniTqiOedlOBHlolxqXdim77uXg6XShkIbzl12URjDm0BCW4bzsTDiX0WJ+GTZQNJQ1eJFLWV5n5+hf2/6J6pQw9A8j7DQGCRA0Ehz3nFpHjnYUx9qBUot1wrnekeMcKjnONwb6OuojDxRgAgcHqilpHiEfFFNwvmM7YRkUXsrxDr3I9hFOtv0WZOoeeK0we7Rpt00DEIKZ3qZ5K5Xn3vA8qrpDJr3bR3Q1uAaDljVvp+zgG7YNlyzfmrfoL4KPgmtyasFP8QmXbHve8js+eYee6fA3vxL/VFzy77imbsItj3C6hGxT9jyyHgg+kkyQmQXfCh5rSwWDMNAmEIQi8sjNp9irmCcGSjBC5prRIihsoBRnVEHmhKE4WRSnhzAFw0WhmNcCZkjHSV1CuuQXbB6fezOV35aMq2r3UL1aDFMfxvq35AYf+rkehlKuiPmG2S7s6XhjQhf3T9znNNmThOPBOYyncfTod90j8JOu3uceeHJt7cnM17pN8/IJWj6QjVjpsEvjmbjS81lwjvOdmInw3fqRv7j9BxZg7f0XKI9qcX3h7ATt3sYtghKK2HsYdU6SHeSe5shAXzdqGw9hMgKd6qghEpUBu43hDe711IUmIFGzHYuIV5OwhaaYu2H4b7CVQAIb6luzFo9sRji4KXv2bTWsNVV4g2fM2bc0MVffPiT3XVB17a1Dlo+EYSSnISTQdmnw51uLJh7uUIj4uRmgLnOoyw6ys9nYBqCKIEItCDD03knMcmB0maiohwqLhCqKTHXlqNCzVSolSoXKFhYPQa64C4r5XJhyn1ZGx+pCOR/QS3puhE4yVMarjyEM8eiml4gdPLzSWGqNjLSWGnueGlRiWkul2sSVRx96dWVaaT5z8ZHDF3dOx4bp7zfD7rbowYNIeAbpGzUN1INKWLt/FvaduXTl0pl9k/dNxxOojyZ9I+pIhPSR7WSc7CVPkGPNxx7aTzVjMNsdw7gX+qmol0Y0ICcVSomuEX2ZhIlphM3FSBc1QhbVwNAWiG7b+hGi6/ZRYut26/Fjjy08Mvfg4QdaM1O7d/ECL4pfPqqmhwS8CAPUYp3q8yXrRCwb4z5UsqOTAJVSsZTXdFUaMSYgHGMjlm+D5jigHUUg9IGIBt8yCoYlh+dvT1ctvT3VrekgZBgU3qeGEZzf7FXU1zUF/m4ZY9X+YEd/FWqC7pclc9j9tVc2S78yLHgzuCpewm4xfsE8OEZjNz4Jccvi9PHdKobKg8jxxicj+/aM0IQUYt5Jgc/nrU6O/Az9oJNZ8pumOTmWNRWVCXSyEA7K7bRALzCVnsSowgRa1jWMrlNEFLXDoiX6usDz+3sPvGbfdUIBqjGqLWOB0e4+8f9cPzfXTBiGMWvMtg7cPzPeKOd7DxmIj6B7bmW0XkTbK/VeqHgJH7BB8Fw5oJ+8XFHPafnqLiogB/+lanE7DYOHTsVkriONnsNc0EoavPhoq9FnOzuCGnQVUilX+94r09q3E4ddc0fUNuyWqVDIrxbKrzh0RtdYTKEoes5Lfh5uQDRjZxyssNnnMiqn22jP5wDw40AbVjTNSkbhKFwIBZ8OvVdNfCfbo5lR5lrMohYYyUQUKXVKNUUxHx67FzIvh0NxC68G21HtEAY4YTdv3lxCP3Vh3zVM9pP55sN9ScqURBz7LtalYTHdCzqMgqmriGwa0xTEBECvgn6SWERTLG0RmzNRdBlZxPemoZuLxDC6jJmdE7UKTzg8X+T5vC1SZKtfK93Zr43Dnf2aVx0BjbuYE1zgoJYXwKH41OPoEDpu6WdDWkEPwVndgpB2Vga8WEyvvb+Gf/DLE/zqsWdn155s0okTq+urJyZg/1UHLrQPhcAy2ofOisA+a3U/sUZfeu+i9qPg5XTZubp/cumFn6+eaih7jr908NljVx1yh40iiPj3kPHmvaaB2iJUM+KDytgU4g7CCV0U9RhhcxEjS1WYukgUpUuZ8fJohWJeV3vbFsi29cbM/3Jtg99JPWHPV9RQqvblSom+YYldZ4fJPjLbPGiDaemWqZ/sAt2wdGNZE0UAiEw0/C5gyyEwMOOJAQvEskLTmERdbGZ3c+fE+H3VyshwAtG838kmeFi4WTY2CF154dBO81WUjhbO71Q3rNJpqIgg6LTNrsA+RzTvsmu+bq/aPr82HXbt57ENed52w9PXuJiIdWcDe5GtDSSHhbD9VejuvJl0eklRz/eT0eb2yVolp1BWzWZ647EoBROr3ZQCottVb38hFRv13sZ9svDpoqSlQaJ7CetfCV2nS6gXXsbiXtLRr6UOlI96Lpb/eqlYlzGvI0qIXfqHd9+djQ2LumhasUNiYVqeqPjDsVlc2WFdd7Gme5Yp1odilumJeu/qetimBaSIJ5JYJj1HHD4UczwkTibi8iwz794yUd8t3edkvYw1w7ealVpF9IiyY862S1Zdfj4s7L3x8d6Fhb3U27tAl25c37MAi7tpUjzkXR/SCfCwkHpN0aOLT6atG4tc3Nh/OxrEhRjhm+iaTXQNfBp2/xnBpb3ZaU7EfU/QH2KMpki26YdFd419CX6DEUAMglPomBCdGejNy29jafOEqyGDomiihMlR8PpYZdSjz8QtM/nhihbq+ma4R1u+0janrkcwudAgwWddKbWMu/++YjPLY1PSPP8B8cyO5QAAAHicY2BkYGAA4vf7ZCPi+W2+MnAzvwCKMFzz0xKF0f///U9nfsEcBORyMDCBRAFSLwwtAAB4nGNgZGBgDvqfBSRf/P/3/z/zCwagCAoQAwC2mQeoAHicY37BwMAMwoJQvACII6EYyGY6BcEI8f//4OoW/P8Pxi8QepisIeoBt34RkgAAAAAAAAAAOACCAMoBDgFUAZoB3gIeAl4C2AM+A6YEagU+BdAGOgbABz4HZAeMB80AAAABAAAAFgBoAAYAAAAAAAIAIAAwAHMAAAB1C3AAAAAAeJx1kN1qwjAYht/Mn20K29hgp8vRUMbqDwxBEASHnmwnMjwdtda2UhtJo+Bt7B52MbuJXcte2ziGspY0z/fky5evAXCNbwjkzxNHzgJnjHI+wSl6lgv0z5aL5BfLJVTxZrlM/265ggcElqu4wQcriOI5owU+LQtciUvLJ7gQd5YL9I+Wi+Se5RJuxavlMr1nuYKJSC1XcS++Bmq11VEQGlkb1GW72erI6VYqqihxY+muTah0KvtyrhLjx7FyPLXc89gP1rGr9+F+nvg6jVQiW05zr0Z+4mvX+LNd9XQTtI2Zy7lWSzm0GXKl1cL3jBMas+o2Gn/PwwAKK2yhEfGqQhhI1GjrnNtoooUOacoMycw8K0ICFzGNizV3hNlKyrjPMWeU0PrMiMkOPH6XR35MCrg/ZhV9tHoYT0i7M6LMS/blsLvDrBEpyTLdzM5+e0+x4WltWsNduy511pXE8KCG5H3s1hY0Hr2T3Yqh7aLB95//+wHmboRRAHicbY5JDsIwFEPjUkoH5vEUOVQpvzQizY8yUMHpUcuGBd74yZYli0R8VYr/OiPBDCnmyLBAjgIlKiyxwhobbLHDHgccccIZF5HwI2tq05BOrY4+v/Fg5FXdc01tGKFw6t5NlEU7BVPDlkz5rUbMBkem6SpHXr1JtlHrpBmq4GrfSepteKUtm7B4M/dSmXxyjiHt+Umbn5WsdZhfdW0ehWcX5Phn1XP0JC0rE8gJ8QFXpkEUAHicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA="},function(e,t){e.exports="data:application/octet-stream;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI+I1MqAAABUAAAAFZjbWFwh1r3sAAAAagAAAK4Y3Z0IAbV/v4AABjcAAAAIGZwZ22KkZBZAAAY/AAAC3BnYXNwAAAAEAAAGNQAAAAIZ2x5ZhPQy/4AAARgAAAPmmhlYWQPoZfIAAAT/AAAADZoaGVhBzsDaAAAFDQAAAAkaG10eElc//wAABRYAAAAWGxvY2Ep+yYIAAAUsAAAAC5tYXhwASUMCgAAFOAAAAAgbmFtZcydHR8AABUAAAACzXBvc3Sd6TSHAAAX0AAAAQNwcmVw5UErvAAAJGwAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDVgGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOgA8kUDUv9qAFoDUgCZAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGsAAEAAAAAAKYAAwABAAAALAADAAoAAAGsAAQAegAAABAAEAADAADoC+gR8EfwsvDI8N3yRf//AADoAOgO8EfwsvDI8N3yRf//AAAAAAAAAAAAAAAAAAAAAQAQACYALAAsACwALAAsAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAQwAAAAAAAAAFQAA6AAAAOgAAAAAAQAA6AEAAOgBAAAAAgAA6AIAAOgCAAAAAwAA6AMAAOgDAAAABAAA6AQAAOgEAAAABQAA6AUAAOgFAAAABgAA6AYAAOgGAAAABwAA6AcAAOgHAAAACAAA6AgAAOgIAAAACQAA6AkAAOgJAAAACgAA6AoAAOgKAAAACwAA6AsAAOgLAAAADAAA6A4AAOgOAAAADQAA6A8AAOgPAAAADgAA6BAAAOgQAAAADwAA6BEAAOgRAAAAEAAA8EcAAPBHAAAAEQAA8LIAAPCyAAAAEgAA8MgAAPDIAAAAEwAA8N0AAPDdAAAAFAAA8kUAAPJFAAAAFQABAAAAAAOlApgAFQAdQBoPAQABAUcAAgECbwABAAFvAAAAZhQXFAMFFysBFAcBBiInASY0PwE2Mh8BATYyHwEWA6UQ/iAQLBD+6g8PTBAsEKQBbhAsEEwQAhYWEP4gDw8BFhAsEEwQEKUBbxAQTA8AAQAA/+8C1AKGACQAHkAbIhkQBwQAAgFHAwECAAJvAQEAAGYUHBQUBAUYKyUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYC1A9MECwQpKQQLBBMEBCkpBAQTBAsEKSkECwQTA8PpKQPcBYQTA8PpaUPD0wQLBCkpBAsEEwQEKSkEBBMDy4PpKQPAAEAAP/5AxIDCwAjAClAJgAEAwRvAAEAAXAFAQMAAANUBQEDAwBYAgEAAwBMIzMlIzMjBgUaKwEVFAYnIxUUBgcjIiY3NSMiJic1NDY3MzU0NjsBMhYXFTMyFgMSIBboIBZrFiAB6BceASAW6B4XaxceAegXHgG3axYgAekWHgEgFekeF2sXHgHoFiAgFuggAAEAAP/PA4MDCwAeACBAHRgPAgABAUcAAgECbwMBAQABbwAAAGYVNRcUBAUYKwEUBwEGIicBJjQ/ATYyHwERNDY3MzIWFRE3NjIfARYDgxX+lRY6Ff6VFRUpFjoVpCoeRx0qpRQ7FikVAYIeFP6UFRUBbBQ7FikVFaQBiR0qASwc/nekFRUpFgABAAD/iANZAu0AHQAkQCEAAgMCbwABAAFwAAMAAANUAAMDAFgAAAMATCYXFiMEBRgrARUUBiMhFxYUDwEGIicBJjQ3ATYyHwEWFA8BITIWA1kkHf53pBUVKhU7Ff6UFBQBbBU6FioVFaQBiR0kAV5HHiqkFDwUKxQUAWwVOhYBaxUVKRY6FqQoAAAAAAEAAP+IAzUC7QAeACRAIQADAgNvAAABAHAAAgEBAlQAAgIBWAABAgFMFiUmFAQFGCsBFAcBBiIvASY0PwEhIiY9ATQ2FyEnJjQ/ATYyFwEWAzUU/pUWOhUqFhaj/ncdJCQdAYmjFhYqFToWAWsUAToeFP6UFBQqFTwVoyoeRx4qAaUUPBQqFRX+lRQAAQAA/7EDgwLnAB4AIEAdEAcCAAMBRwADAANvAgEAAQBvAAEBZhcVNRQEBRgrARQPAQYiLwERFAYHIyImNREHBiIvASY0NwE2MhcBFgODFSkWOxSlKB9HHiqkFDwUKhUVAWsUPBUBaxUBNBwWKhUVpP53HSQBJhwBiaQVFSoVOxUBaxUV/pUWAAEAAP/AApgDRAAUAC21AQEAAQFHS7AkUFhACwAAAQBwAAEBDAFJG0AJAAEAAW8AAABmWbQXFwIFFisJAhYUDwEGIicBJjQ3ATYyHwEWFAKO/tcBKQoKXQscC/5iCwsBngoeCl0KAqr+2P7XCh4KXQoKAZ8KHgoBngsLXQoeAAAAAQAA/8ACdANEABQALbUJAQABAUdLsCRQWEALAAABAHAAAQEMAUkbQAkAAQABbwAAAGZZtBwSAgUWKwkBBiIvASY0NwkBJjQ/ATYyFwEWFAJq/mILHAtdCwsBKP7YCwtdCh4KAZ4KAWn+YQoKXQscCwEpASgLHAtdCwv+YgscAAADAAD/dgOgAwsACAAUAC4AWUAQJgEEAygnEgMCBAABAQADR0uwIVBYQBoAAwQDbwAEAgRvAAIAAm8AAAEAbwABAQ0BSRtAGAADBANvAAQCBG8AAgACbwAAAQBvAAEBZlm3HCMtGBIFBRkrNzQmDgIeATYlAQYiLwEmNDcBHgElFAcOASciJjQ2NzIWFxYUDwEVFzY/ATYyFtYUHhQCGBoYAWb+gxU6FjsVFQF8FlQBmQ0bgk9okpJoIEYZCQmjbAIqSyEPCh0OFgISIBIEGvb+gxQUPRQ7FgF8N1TdFiVLXgGS0JACFBAGEgdefTwCGS0UCgAAAgAA/7EDWgMLABgAMAAxQC4oHxkDAgQSDAMDAAECRwAEAgRvAAIDAm8AAwEDbwABAAFvAAAAZjoUFxo3BQUZKwEUDwEXFhQGByMiJic1ND4BHwE3NjIfARYBFRQOAS8BBwYiLwEmND8BJyY0NjczMhYBpQW5UAoUD/oPFAEWHAtQugUOBkAFAbQUIAlQuQYOBkAFBbpRChQP+g8WAQUHBrlRCh4UARYO+g8UAgxQuQYGPwYB2/oPFAIMULkGBkAFDga5UQoeFAEWAAAAAf/+/7EDWQMLADAAPUA6LQEBBQkBAAECRwAAAQMBAANtAAMCAQMCawAFAAEABQFgAAIEBAJUAAICBFgABAIETCcnEyckMwYFGisBFRQGKwEiJj8BJiMiDgIUHgIzMjY3PgEfAR4BBw4BByIuAj4DMzIWFzc2FgNZFBD6FxMRTVJwOmpMLi5MajpCdikEEQZMBQIGPK5fV6BwSARAeJhbUpg9SBEsAsP6DhYtEE1NLkxqdGpMLjo1BgEFTQQOBkpQAUR0nq6edEQ+OUgSEwAAAAYAAP+xAxIDCwAPAB8ALwA7AEMAZwBkQGFXRQIGCCkhGREJAQYAAQJHBQMCAQYABgEAbQQCAgAHBgAHawAOAAkIDglgDw0CCAwKAgYBCAZeAAcLCwdUAAcHC1gACwcLTGVkYV5bWVNST0xJR0E/FCQUJiYmJiYjEAUdKwERFAYrASImNRE0NjsBMhYXERQGKwEiJjURNDY7ATIWFxEUBisBIiY1ETQ2OwEyFhMRIREUHgEzITI+AQEzJyYnIwYHBRUUBisBERQGIyEiJicRIyImPQE0NjsBNz4BNzMyFh8BMzIWAR4KCCQICgoIJAgKjwoIJAgKCggkCAqOCgckCAoKCCQHCkj+DAgIAgHQAggI/on6GwQFsQYEAesKCDY0Jf4wJTQBNQgKCgisJwksFrIXKgknrQgKAbf+vwgKCggBQQgKCgj+vwgKCggBQQgKCgj+vwgKCggBQQgKCv5kAhH97wwUCgoUAmVBBQEBBVMkCAr97y5EQi4CEwoIJAgKXRUcAR4UXQoAAgAA/7EDoQMLAAcAUACzQAk+NiEJBAUDAUdLsApQWEAqAAEAAW8ABQMCAwUCbQACBAMCBGsHBgIEBG4AAAMDAFIAAAADVgADAANKG0uwC1BYQCoAAQABbwAFAwIDBQJtBAECBgMCBmsHAQYGbgAAAwMAUgAAAANWAAMAA0obQCoAAQABbwAFAwIDBQJtAAIEAwIEawcGAgQEbgAAAwMAUgAAAANWAAMAA0pZWUATCAgIUAhQTEtKSTs6KiMbUQgFFisBBxcWMzI3JgE3PgQ3GwEzFxMeARceARcWFx4BFxYVFAYXIiYHIgYjND8CNj8BNj8BNic0Ji8CDgEXFB4BHwEWNxYVFAciJiMiBicGAZVfTDofCxUw/jUBDSQcHBYGhJxIBnITUhYJMBALCAtMCQQCASOOJCqcFQJJBwYDEQQCBQMCIhcY+w46ARAgCyAVAgEBIYIgBRQCLQIa+wEBAY3+BiwEBgYKGBABWAGUDP70K8o0E3ohGgYJEAMWCgMKAgoBCBgTEAEBAQcCAgYEBAlaNjgBIJoODBIKAgUDAQsVBQsMBgEIAAP///9qA6EDDQAjACwARQBdQFofGAIDBBMSAQMAAw0GAgEAQwEHATIBCQcFRwAEBgMGBANtAAEABwABB20ACgAGBAoGYAUBAwIBAAEDAGAABwAJCAcJYAAICA0IST08NTMUExUUIyYUIyMLBR0rARUUBicjFRQGJyMiJjc1IyImJzU0NjsBNTQ2OwEyFhcVMzIWFzQuAQYUFj4BARQGIi8BBiMiLgI+BB4CFxQHFxYCOwoHfQwGJAcMAX0HCgEMBn0KCCQHCgF9BwpIktCSktCSAR4qPBS/ZHtQkmhAAjxsjqSObDwBRb8VAZQkBwwBfQcMAQoIfQoIJAcKfQgKCgh9ChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAAD////agOhAw0ADwAYADEAO0A4CQgBAwABLwEDAB4BBQMDRwAGAAIBBgJgAAEAAAMBAGAAAwAFBAMFYAAEBA0ESRcjFBMVJiMHBRsrARUUBichIiYnNTQ2MyEyFhc0LgEGFBY+AQEUBiIvAQYjIi4CPgQeAhcUBxcWAjsKB/6+BwoBDAYBQgcKSJLQkpLQkgEeKjwUv2R7UJJoQAI8bI6kjmw8AUW/FQGUJAcMAQoIJAcKChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAEAAP9qA+gDUgBEAFBATQsBCQoHCgkHbQ0BBwgKBwhrBgEAAQIBAAJtBAECAwECA2sMAQgFAQEACAFeAAoKDEgAAwMNA0lBQD08Ozk0My4sExcTESUVIRMUDgUdKwEUDwEGIiY9ASMVMzIWFA8BBiIvASY0NjsBNSMVFAYiLwEmND8BNjIWHQEzNSMiJjQ/ATYyHwEWFAYrARUzNTQ2Mh8BFgPoC44LHhTXSA4WC48KHgqPCxYOSNcUHgqPCwuPCh4U10gOFguPCxwLjwsWDkjXFB4LjgsBXg4LjwsWDkjXFB4KjwsLjwoeFNdIDhYLjwscC48LFg5I1xQeC44LC44LHhTXSA4WC48KAAABAAD/sQNaAwsARQAyQC8+NTMiBAIDNCEgGxIREAIBCQACAkcEAQMCA28FAQIAAm8BAQAAZiY6Nxs6OQYFGisBBxc3NhYdARQGKwEiJyY/AScHFxYHBisBIiYnNTQ2HwE3JwcGIyInJj0BNDY7ATIXFg8BFzcnJjc2OwEyFgcVFAcGIyInAszGxlARLBQQ+hcJChFRxsZQEQkKF/oPFAEsEVDGxlALDgcHFhYO+hcKCRFQxsZREQoJF/oPFgEWBwcOCwIkxsZQEhMY+g4WFxURUcbGUREVFxYO+hgTElDGxlALAwkY+g4WFxURUcbGUREVFxYO+hgJAwsAAAABAAD/sQNZAwsADwARQA4AAQABbwAAAGY1MwIFFisBERQGByEiJjURNDY3ITIWA1leQ/3pQ15eQwIXQ14Cav3oQl4BYEECGEJeAWAAAQAA/9UCPAEXAA4AF0AUAAEAAQFHAAEAAW8AAABmJhQCBRYrJRQPAQYiLwEmNDY3ITIWAjsK+gscC/oLFg4B9A4W8w8K+gsL+goeFAEWAAABAAD/ZwKKA1IAHAAhQB4OAQEAAUcAAAIBAgABbQABAW4AAgIMAkkoGyMDBRcrARYHBisBExYGDwEGJi8BBwYjIicmNRE0NzYzMhcCeBIKCRjVcAYMDWMOGgZrrgsOBwcWFgcHDwoBDBEVF/72DRwFKgYMDfyuCwMKFwNHGAkDCwAAAAABAAAAAQAA775IPF8PPPUACwPoAAAAANZOKhUAAAAA1k4qFf/+/2cD6ANSAAAACAACAAAAAAAAAAEAAANS/2oAAAPo//7//wPoAAEAAAAAAAAAAAAAAAAAAAAWA+gAAAPoAAADEQAAAxEAAAOgAAADWQAAA1kAAAOgAAACygAAAsoAAAOgAAADWQAAA1n//gMRAAADoAAAA6D//wOg//8D6AAAA1kAAANZAAACOwAAAsoAAAAAAAAAOACCAMoBDgFUAZoB3gIeAl4C2AM+A6YEagU+BdAGOgbABz4HZAeMB80AAAABAAAAFgBoAAYAAAAAAAIAIAAwAHMAAAB1C3AAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACAA1AAEAAAAAAAIABwA9AAEAAAAAAAMACABEAAEAAAAAAAQACABMAAEAAAAAAAUACwBUAAEAAAAAAAYACABfAAEAAAAAAAoAKwBnAAEAAAAAAAsAEwCSAAMAAQQJAAAAagClAAMAAQQJAAEAEAEPAAMAAQQJAAIADgEfAAMAAQQJAAMAEAEtAAMAAQQJAAQAEAE9AAMAAQQJAAUAFgFNAAMAAQQJAAYAEAFjAAMAAQQJAAoAVgFzAAMAAQQJAAsAJgHJQ29weXJpZ2h0IChDKSAyMDE3IGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21mb250ZWxsb1JlZ3VsYXJmb250ZWxsb2ZvbnRlbGxvVmVyc2lvbiAxLjBmb250ZWxsb0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABDACkAIAAyADAAMQA3ACAAYgB5ACAAbwByAGkAZwBpAG4AYQBsACAAYQB1AHQAaABvAHIAcwAgAEAAIABmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQBmAG8AbgB0AGUAbABsAG8AUgBlAGcAdQBsAGEAcgBmAG8AbgB0AGUAbABsAG8AZgBvAG4AdABlAGwAbABvAFYAZQByAHMAaQBvAG4AIAAxAC4AMABmAG8AbgB0AGUAbABsAG8ARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXAAJvawZjYW5jZWwEcGx1cwhkb3duLWJpZwhsZWZ0LWJpZwlyaWdodC1iaWcGdXAtYmlnCWxlZnQtb3BlbgpyaWdodC1vcGVuBndyZW5jaAtyZXNpemUtZnVsbAJjdwt0cmFzaC1lbXB0eQRmb250B3pvb20taW4Iem9vbS1vdXQEbW92ZQ9yZXNpemUtZnVsbC1hbHQFYmxhbmsJc29ydC1kb3duDW1vdXNlLXBvaW50ZXIAAAAAAQAB//8ADwAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGANS/2cDUv9nsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIGQgsMBQsAQmWrIoAQpDRWNFUltYISMhG4pYILBQUFghsEBZGyCwOFBYIbA4WVkgsQEKQ0VjRWFksChQWCGxAQpDRWNFILAwUFghsDBZGyCwwFBYIGYgiophILAKUFhgGyCwIFBYIbAKYBsgsDZQWCGwNmAbYFlZWRuwAStZWSOwAFBYZVlZLbADLCBFILAEJWFkILAFQ1BYsAUjQrAGI0IbISFZsAFgLbAELCMhIyEgZLEFYkIgsAYjQrEBCkNFY7EBCkOwAWBFY7ADKiEgsAZDIIogirABK7EwBSWwBCZRWGBQG2FSWVgjWSEgsEBTWLABKxshsEBZI7AAUFhlWS2wBSywB0MrsgACAENgQi2wBiywByNCIyCwACNCYbACYmawAWOwAWCwBSotsAcsICBFILALQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAILLIHCwBDRUIqIbIAAQBDYEItsAkssABDI0SyAAEAQ2BCLbAKLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbALLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsAwsILAAI0KyCwoDRVghGyMhWSohLbANLLECAkWwZGFELbAOLLABYCAgsAxDSrAAUFggsAwjQlmwDUNKsABSWCCwDSNCWS2wDywgsBBiZrABYyC4BABjiiNhsA5DYCCKYCCwDiNCIy2wECxLVFixBGREWSSwDWUjeC2wESxLUVhLU1ixBGREWRshWSSwE2UjeC2wEiyxAA9DVVixDw9DsAFhQrAPK1mwAEOwAiVCsQwCJUKxDQIlQrABFiMgsAMlUFixAQBDYLAEJUKKiiCKI2GwDiohI7ABYSCKI2GwDiohG7EBAENgsAIlQrACJWGwDiohWbAMQ0ewDUNHYLACYiCwAFBYsEBgWWawAWMgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLEAABMjRLABQ7AAPrIBAQFDYEItsBMsALEAAkVUWLAPI0IgRbALI0KwCiOwAWBCIGCwAWG1EBABAA4AQkKKYLESBiuwcisbIlktsBQssQATKy2wFSyxARMrLbAWLLECEystsBcssQMTKy2wGCyxBBMrLbAZLLEFEystsBossQYTKy2wGyyxBxMrLbAcLLEIEystsB0ssQkTKy2wHiwAsA0rsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wHyyxAB4rLbAgLLEBHistsCEssQIeKy2wIiyxAx4rLbAjLLEEHistsCQssQUeKy2wJSyxBh4rLbAmLLEHHistsCcssQgeKy2wKCyxCR4rLbApLCA8sAFgLbAqLCBgsBBgIEMjsAFgQ7ACJWGwAWCwKSohLbArLLAqK7AqKi2wLCwgIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgjIIpVWCBHICCwC0NjuAQAYiCwAFBYsEBgWWawAWNgI2E4GyFZLbAtLACxAAJFVFiwARawLCqwARUwGyJZLbAuLACwDSuxAAJFVFiwARawLCqwARUwGyJZLbAvLCA1sAFgLbAwLACwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwC0NjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sS8BFSotsDEsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYTgtsDIsLhc8LbAzLCA8IEcgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2GwAUNjOC2wNCyxAgAWJSAuIEewACNCsAIlSYqKRyNHI2EgWGIbIVmwASNCsjMBARUUKi2wNSywABawBCWwBCVHI0cjYbAJQytlii4jICA8ijgtsDYssAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgsAhDIIojRyNHI2EjRmCwBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2EjICCwBCYjRmE4GyOwCENGsAIlsAhDRyNHI2FgILAEQ7ACYiCwAFBYsEBgWWawAWNgIyCwASsjsARDYLABK7AFJWGwBSWwAmIgsABQWLBAYFlmsAFjsAQmYSCwBCVgZCOwAyVgZFBYIRsjIVkjICCwBCYjRmE4WS2wNyywABYgICCwBSYgLkcjRyNhIzw4LbA4LLAAFiCwCCNCICAgRiNHsAErI2E4LbA5LLAAFrADJbACJUcjRyNhsABUWC4gPCMhG7ACJbACJUcjRyNhILAFJbAEJUcjRyNhsAYlsAUlSbACJWG5CAAIAGNjIyBYYhshWWO4BABiILAAUFiwQGBZZrABY2AjLiMgIDyKOCMhWS2wOiywABYgsAhDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsDssIyAuRrACJUZSWCA8WS6xKwEUKy2wPCwjIC5GsAIlRlBYIDxZLrErARQrLbA9LCMgLkawAiVGUlggPFkjIC5GsAIlRlBYIDxZLrErARQrLbA+LLA1KyMgLkawAiVGUlggPFkusSsBFCstsD8ssDYriiAgPLAEI0KKOCMgLkawAiVGUlggPFkusSsBFCuwBEMusCsrLbBALLAAFrAEJbAEJiAuRyNHI2GwCUMrIyA8IC4jOLErARQrLbBBLLEIBCVCsAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgR7AEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYbACJUZhOCMgPCM4GyEgIEYjR7ABKyNhOCFZsSsBFCstsEIssDUrLrErARQrLbBDLLA2KyEjICA8sAQjQiM4sSsBFCuwBEMusCsrLbBELLAAFSBHsAAjQrIAAQEVFBMusDEqLbBFLLAAFSBHsAAjQrIAAQEVFBMusDEqLbBGLLEAARQTsDIqLbBHLLA0Ki2wSCywABZFIyAuIEaKI2E4sSsBFCstsEkssAgjQrBIKy2wSiyyAABBKy2wSyyyAAFBKy2wTCyyAQBBKy2wTSyyAQFBKy2wTiyyAABCKy2wTyyyAAFCKy2wUCyyAQBCKy2wUSyyAQFCKy2wUiyyAAA+Ky2wUyyyAAE+Ky2wVCyyAQA+Ky2wVSyyAQE+Ky2wViyyAABAKy2wVyyyAAFAKy2wWCyyAQBAKy2wWSyyAQFAKy2wWiyyAABDKy2wWyyyAAFDKy2wXCyyAQBDKy2wXSyyAQFDKy2wXiyyAAA/Ky2wXyyyAAE/Ky2wYCyyAQA/Ky2wYSyyAQE/Ky2wYiywNysusSsBFCstsGMssDcrsDsrLbBkLLA3K7A8Ky2wZSywABawNyuwPSstsGYssDgrLrErARQrLbBnLLA4K7A7Ky2waCywOCuwPCstsGkssDgrsD0rLbBqLLA5Ky6xKwEUKy2wayywOSuwOystsGwssDkrsDwrLbBtLLA5K7A9Ky2wbiywOisusSsBFCstsG8ssDorsDsrLbBwLLA6K7A8Ky2wcSywOiuwPSstsHIsswkEAgNFWCEbIyFZQiuwCGWwAyRQeLABFTAtAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAFQrIAAQAqsQAFQrMKAgEIKrEABUKzDgABCCqxAAZCugLAAAEACSqxAAdCugBAAAEACSqxAwBEsSQBiFFYsECIWLEDZESxJgGIUVi6CIAAAQRAiGNUWLEDAERZWVlZswwCAQwquAH/hbAEjbECAEQAAA=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxtZXRhZGF0YT5Db3B5cmlnaHQgKEMpIDIwMTcgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbTwvbWV0YWRhdGE+CjxkZWZzPgo8Zm9udCBpZD0iZm9udGVsbG8iIGhvcml6LWFkdi14PSIxMDAwIiA+Cjxmb250LWZhY2UgZm9udC1mYW1pbHk9ImZvbnRlbGxvIiBmb250LXdlaWdodD0iNDAwIiBmb250LXN0cmV0Y2g9Im5vcm1hbCIgdW5pdHMtcGVyLWVtPSIxMDAwIiBhc2NlbnQ9Ijg1MCIgZGVzY2VudD0iLTE1MCIgLz4KPG1pc3NpbmctZ2x5cGggaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJvayIgdW5pY29kZT0iJiN4ZTgwMDsiIGQ9Ik05MzMgNTM0cTAtMjItMTYtMzhsLTQwNC00MDQtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtNzYgNzYtMjAyIDIwMnEtMTUgMTYtMTUgMzh0MTUgMzhsNzYgNzZxMTYgMTYgMzggMTZ0MzgtMTZsMTY0LTE2NSAzNjYgMzY3cTE2IDE2IDM4IDE2dDM4LTE2bDc2LTc2cTE2LTE1IDE2LTM4eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2FuY2VsIiB1bmljb2RlPSImI3hlODAxOyIgZD0iTTcyNCAxMTJxMC0yMi0xNS0zOGwtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtMTY0IDE2NS0xNjQtMTY1cS0xNi0xNS0zOC0xNXQtMzggMTVsLTc2IDc2cS0xNiAxNi0xNiAzOHQxNiAzOGwxNjQgMTY0LTE2NCAxNjRxLTE2IDE2LTE2IDM4dDE2IDM4bDc2IDc2cTE2IDE2IDM4IDE2dDM4LTE2bDE2NC0xNjQgMTY0IDE2NHExNiAxNiAzOCAxNnQzOC0xNmw3Ni03NnExNS0xNSAxNS0zOHQtMTUtMzhsLTE2NC0xNjQgMTY0LTE2NHExNS0xNSAxNS0zOHoiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJwbHVzIiB1bmljb2RlPSImI3hlODAyOyIgZD0iTTc4NiA0Mzl2LTEwN3EwLTIyLTE2LTM4dC0zOC0xNWgtMjMydi0yMzNxMC0yMi0xNi0zN3QtMzgtMTZoLTEwN3EtMjIgMC0zOCAxNnQtMTUgMzd2MjMzaC0yMzJxLTIzIDAtMzggMTV0LTE2IDM4djEwN3EwIDIzIDE2IDM4dDM4IDE2aDIzMnYyMzJxMCAyMiAxNSAzOHQzOCAxNmgxMDdxMjMgMCAzOC0xNnQxNi0zOHYtMjMyaDIzMnEyMyAwIDM4LTE2dDE2LTM4eiIgaG9yaXotYWR2LXg9Ijc4NS43IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9ImRvd24tYmlnIiB1bmljb2RlPSImI3hlODAzOyIgZD0iTTg5OSAzODZxMC0zMC0yMS01MGwtMzYzLTM2NHEtMjItMjEtNTEtMjEtMjkgMC01MCAyMWwtMzYzIDM2NHEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWw0MSA0MXEyMiAyMSA1MSAyMSAyOSAwIDUwLTIxbDE2NC0xNjR2MzkzcTAgMjkgMjEgNTB0NTEgMjJoNzFxMjkgMCA1MC0yMnQyMS01MHYtMzkzbDE2NSAxNjRxMjAgMjEgNTAgMjEgMjkgMCA1MS0yMWw0MS00MXEyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNDsiIGQ9Ik04NTcgMzUwdi03MXEwLTMwLTE4LTUxdC00Ny0yMWgtMzkzbDE2NC0xNjRxMjEtMjAgMjEtNTB0LTIxLTUwbC00Mi00M3EtMjEtMjAtNTEtMjAtMjkgMC01MCAyMGwtMzY0IDM2NHEtMjAgMjEtMjAgNTAgMCAyOSAyMCA1MWwzNjQgMzYzcTIxIDIxIDUwIDIxIDI5IDAgNTEtMjFsNDItNDFxMjEtMjIgMjEtNTF0LTIxLTUxbC0xNjQtMTY0aDM5M3EyOSAwIDQ3LTIwdDE4LTUxeiIgaG9yaXotYWR2LXg9Ijg1Ny4xIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9InJpZ2h0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNTsiIGQ9Ik04MjEgMzE0cTAtMzAtMjAtNTBsLTM2My0zNjRxLTIyLTIwLTUxLTIwLTI5IDAtNTAgMjBsLTQyIDQycS0yMiAyMS0yMiA1MXQyMiA1MWwxNjMgMTYzaC0zOTNxLTI5IDAtNDcgMjF0LTE4IDUxdjcxcTAgMzAgMTggNTF0NDcgMjBoMzkzbC0xNjMgMTY1cS0yMiAyMC0yMiA1MHQyMiA1MGw0MiA0MnEyMSAyMSA1MCAyMSAyOSAwIDUxLTIxbDM2My0zNjNxMjAtMjAgMjAtNTF6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idXAtYmlnIiB1bmljb2RlPSImI3hlODA2OyIgZD0iTTg5OSAzMDhxMC0yOC0yMS01MGwtNDEtNDJxLTIyLTIxLTUxLTIxLTMwIDAtNTAgMjFsLTE2NSAxNjR2LTM5M3EwLTI5LTIwLTQ3dC01MS0xOWgtNzFxLTMwIDAtNTEgMTl0LTIxIDQ3djM5M2wtMTY0LTE2NHEtMjAtMjEtNTAtMjF0LTUwIDIxbC00MiA0MnEtMjEgMjEtMjEgNTAgMCAzMCAyMSA1MWwzNjMgMzYzcTIwIDIxIDUwIDIxIDMwIDAgNTEtMjFsMzYzLTM2M3EyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LW9wZW4iIHVuaWNvZGU9IiYjeGU4MDc7IiBkPSJNNjU0IDY4MmwtMjk3LTI5NiAyOTctMjk3cTEwLTEwIDEwLTI1dC0xMC0yNWwtOTMtOTNxLTExLTEwLTI1LTEwdC0yNSAxMGwtNDE0IDQxNXEtMTEgMTAtMTEgMjV0MTEgMjVsNDE0IDQxNHExMCAxMSAyNSAxMXQyNS0xMWw5My05M3ExMC0xMCAxMC0yNXQtMTAtMjV6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmlnaHQtb3BlbiIgdW5pY29kZT0iJiN4ZTgwODsiIGQ9Ik02MTggMzYxbC00MTQtNDE1cS0xMS0xMC0yNS0xMHQtMjUgMTBsLTkzIDkzcS0xMSAxMS0xMSAyNXQxMSAyNWwyOTYgMjk3LTI5NiAyOTZxLTExIDExLTExIDI1dDExIDI1bDkzIDkzcTEwIDExIDI1IDExdDI1LTExbDQxNC00MTRxMTAtMTEgMTAtMjV0LTEwLTI1eiIgaG9yaXotYWR2LXg9IjcxNC4zIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9IndyZW5jaCIgdW5pY29kZT0iJiN4ZTgwOTsiIGQ9Ik0yMTQgMjlxMCAxNC0xMCAyNXQtMjUgMTAtMjUtMTAtMTEtMjUgMTEtMjUgMjUtMTEgMjUgMTEgMTAgMjV6IG0zNjAgMjM0bC0zODEtMzgxcS0yMS0yMC01MC0yMC0yOSAwLTUxIDIwbC01OSA2MXEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWwzODAgMzgwcTIyLTU1IDY0LTk3dDk3LTY0eiBtMzU0IDI0M3EwLTIyLTEzLTU5LTI3LTc1LTkyLTEyMnQtMTQ0LTQ2cS0xMDQgMC0xNzcgNzN0LTczIDE3NyA3MyAxNzYgMTc3IDc0cTMyIDAgNjctMTB0NjAtMjZxOS02IDktMTV0LTktMTZsLTE2My05NHYtMTI1bDEwOC02MHEyIDIgNDQgMjd0NzUgNDUgNDAgMjBxOCAwIDEzLTV0NS0xNHoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJyZXNpemUtZnVsbCIgdW5pY29kZT0iJiN4ZTgwYTsiIGQ9Ik00MjEgMjYxcTAtNy01LTEzbC0xODUtMTg1IDgwLTgxcTEwLTEwIDEwLTI1dC0xMC0yNS0yNS0xMWgtMjUwcS0xNSAwLTI1IDExdC0xMSAyNXYyNTBxMCAxNSAxMSAyNXQyNSAxMSAyNS0xMWw4MC04MCAxODYgMTg1cTUgNiAxMiA2dDEzLTZsNjQtNjNxNS02IDUtMTN6IG00MzYgNDgydi0yNTBxMC0xNS0xMC0yNXQtMjYtMTEtMjUgMTFsLTgwIDgwLTE4NS0xODVxLTYtNi0xMy02dC0xMyA2bC02NCA2NHEtNSA1LTUgMTJ0NSAxM2wxODYgMTg1LTgxIDgxcS0xMCAxMC0xMCAyNXQxMCAyNSAyNSAxMWgyNTBxMTUgMCAyNi0xMXQxMC0yNXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJjdyIgdW5pY29kZT0iJiN4ZTgwYjsiIGQ9Ik04NTcgNzA3di0yNTBxMC0xNC0xMC0yNXQtMjYtMTFoLTI1MHEtMjMgMC0zMiAyMy0xMCAyMiA3IDM4bDc3IDc3cS04MiA3Ny0xOTQgNzctNTggMC0xMTEtMjN0LTkxLTYxLTYxLTkxLTIzLTExMSAyMy0xMTEgNjEtOTEgOTEtNjEgMTExLTIzcTY2IDAgMTI1IDI5dDEwMCA4MnE0IDYgMTMgNyA4IDAgMTQtNWw3Ni03N3E1LTQgNi0xMXQtNS0xM3EtNjAtNzQtMTQ3LTExNHQtMTgyLTQxcS04NyAwLTE2NyAzNHQtMTM2IDkyLTkyIDEzNy0zNCAxNjYgMzQgMTY2IDkyIDEzNyAxMzYgOTIgMTY3IDM0cTgyIDAgMTU4LTMxdDEzNy04OGw3MiA3MnExNyAxOCAzOSA4IDIyLTkgMjItMzN6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idHJhc2gtZW1wdHkiIHVuaWNvZGU9IiYjeGU4MGU7IiBkPSJNMjg2IDQzOXYtMzIxcTAtOC01LTEzdC0xMy01aC0zNnEtOCAwLTEzIDV0LTUgMTN2MzIxcTAgOCA1IDEzdDEzIDVoMzZxOCAwIDEzLTV0NS0xM3ogbTE0MyAwdi0zMjFxMC04LTUtMTN0LTEzLTVoLTM2cS04IDAtMTMgNXQtNSAxM3YzMjFxMCA4IDUgMTN0MTMgNWgzNnE4IDAgMTMtNXQ1LTEzeiBtMTQyIDB2LTMyMXEwLTgtNS0xM3QtMTItNWgtMzZxLTggMC0xMyA1dC01IDEzdjMyMXEwIDggNSAxM3QxMyA1aDM2cTcgMCAxMi01dDUtMTN6IG03Mi00MDR2NTI5aC01MDB2LTUyOXEwLTEyIDQtMjJ0OC0xNSA2LTVoNDY0cTIgMCA2IDV0OCAxNSA0IDIyeiBtLTM3NSA2MDFoMjUwbC0yNyA2NXEtNCA1LTkgNmgtMTc3cS02LTEtMTAtNnogbTUxOC0xOHYtMzZxMC04LTUtMTN0LTEzLTVoLTU0di01MjlxMC00Ni0yNi04MHQtNjMtMzRoLTQ2NHEtMzcgMC02MyAzM3QtMjcgNzl2NTMxaC01M3EtOCAwLTEzIDV0LTUgMTN2MzZxMCA4IDUgMTN0MTMgNWgxNzJsMzkgOTNxOSAyMSAzMSAzNXQ0NCAxNWgxNzhxMjMgMCA0NC0xNXQzMC0zNWwzOS05M2gxNzNxOCAwIDEzLTV0NS0xM3oiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJmb250IiB1bmljb2RlPSImI3hlODBmOyIgZD0iTTQwNSA1MzhsLTk1LTI1MXExOCAwIDc2LTF0ODktMXExMSAwIDMyIDEtNDggMTQxLTEwMiAyNTJ6IG0tNDA1LTYxN2wxIDQ0cTEzIDQgMzEgN3QzMiA2IDI4IDggMjUgMTcgMTcgMjhsMTMyIDM0NCAxNTYgNDA0aDcycTQtOCA2LTEybDExNC0yNjhxMTktNDMgNjAtMTQ0dDYzLTE1M3E5LTE5IDMzLTgwdDQwLTk0cTExLTI2IDE5LTMyIDExLTkgNDktMTd0NDctMTFxNC0yMiA0LTMyIDAtMy0xLTh0MC03cS0zNSAwLTEwNiA1dC0xMDcgNHEtNDIgMC0xMjAtNHQtOTktNHEwIDI0IDIgNDNsNzMgMTZxMSAwIDcgMXQ5IDIgOCAzIDkgNCA2IDQgNSA2IDEgOHEwIDktMTcgNTR0LTQwIDk5LTI0IDU2bC0yNTEgMXEtMTQtMzItNDMtMTA5dC0yOC05MXEwLTEyIDgtMjF0MjQtMTQgMjctNyAzMi01IDIzLTJxMS0xMSAxLTMyIDAtNS0xLTE2LTMzIDAtOTggNnQtOTcgNnEtNSAwLTE1LTN0LTEyLTJxLTQ1LTgtMTA1LTh6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iem9vbS1pbiIgdW5pY29kZT0iJiN4ZTgxMDsiIGQ9Ik01NzEgNDA0di0zNnEwLTctNS0xM3QtMTItNWgtMTI1di0xMjVxMC03LTYtMTN0LTEyLTVoLTM2cS03IDAtMTMgNXQtNSAxM3YxMjVoLTEyNXEtNyAwLTEyIDV0LTYgMTN2MzZxMCA3IDYgMTJ0MTIgNWgxMjV2MTI1cTAgOCA1IDEzdDEzIDVoMzZxNyAwIDEyLTV0Ni0xM3YtMTI1aDEyNXE3IDAgMTItNXQ1LTEyeiBtNzItMThxMCAxMDMtNzMgMTc2dC0xNzcgNzQtMTc3LTc0LTczLTE3NiA3My0xNzcgMTc3LTczIDE3NyA3MyA3MyAxNzd6IG0yODYtNDY1cTAtMjktMjEtNTB0LTUxLTIxcS0zMCAwLTUwIDIxbC0xOTEgMTkxcS0xMDAtNjktMjIzLTY5LTgwIDAtMTUzIDMxdC0xMjUgODQtODQgMTI1LTMxIDE1MyAzMSAxNTIgODQgMTI2IDEyNSA4NCAxNTMgMzEgMTUzLTMxIDEyNS04NCA4NC0xMjYgMzEtMTUycTAtMTIzLTY5LTIyM2wxOTEtMTkxcTIxLTIxIDIxLTUxeiIgaG9yaXotYWR2LXg9IjkyOC42IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Inpvb20tb3V0IiB1bmljb2RlPSImI3hlODExOyIgZD0iTTU3MSA0MDR2LTM2cTAtNy01LTEzdC0xMi01aC0zMjJxLTcgMC0xMiA1dC02IDEzdjM2cTAgNyA2IDEydDEyIDVoMzIycTcgMCAxMi01dDUtMTJ6IG03Mi0xOHEwIDEwMy03MyAxNzZ0LTE3NyA3NC0xNzctNzQtNzMtMTc2IDczLTE3NyAxNzctNzMgMTc3IDczIDczIDE3N3ogbTI4Ni00NjVxMC0yOS0yMS01MHQtNTEtMjFxLTMwIDAtNTAgMjFsLTE5MSAxOTFxLTEwMC02OS0yMjMtNjktODAgMC0xNTMgMzF0LTEyNSA4NC04NCAxMjUtMzEgMTUzIDMxIDE1MiA4NCAxMjYgMTI1IDg0IDE1MyAzMSAxNTMtMzEgMTI1LTg0IDg0LTEyNiAzMS0xNTJxMC0xMjMtNjktMjIzbDE5MS0xOTFxMjEtMjEgMjEtNTF6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0ibW92ZSIgdW5pY29kZT0iJiN4ZjA0NzsiIGQ9Ik0xMDAwIDM1MHEwLTE0LTExLTI1bC0xNDItMTQzcS0xMS0xMS0yNi0xMXQtMjUgMTEtMTAgMjV2NzJoLTIxNXYtMjE1aDcycTE0IDAgMjUtMTB0MTEtMjUtMTEtMjVsLTE0My0xNDNxLTEwLTExLTI1LTExdC0yNSAxMWwtMTQzIDE0M3EtMTEgMTAtMTEgMjV0MTEgMjUgMjUgMTBoNzJ2MjE1aC0yMTV2LTcycTAtMTQtMTAtMjV0LTI1LTExLTI1IDExbC0xNDMgMTQzcS0xMSAxMS0xMSAyNXQxMSAyNWwxNDMgMTQzcTEwIDExIDI1IDExdDI1LTExIDEwLTI1di03MmgyMTV2MjE1aC03MnEtMTQgMC0yNSAxMHQtMTEgMjUgMTEgMjZsMTQzIDE0MnExMSAxMSAyNSAxMXQyNS0xMWwxNDMtMTQycTExLTExIDExLTI2dC0xMS0yNS0yNS0xMGgtNzJ2LTIxNWgyMTV2NzJxMCAxNCAxMCAyNXQyNSAxMSAyNi0xMWwxNDItMTQzcTExLTEwIDExLTI1eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmVzaXplLWZ1bGwtYWx0IiB1bmljb2RlPSImI3hmMGIyOyIgZD0iTTcxNiA1NDhsLTE5OC0xOTggMTk4LTE5OCA4MCA4MHExNyAxOCAzOSA4IDIyLTkgMjItMzN2LTI1MHEwLTE0LTEwLTI1dC0yNi0xMWgtMjUwcS0yMyAwLTMyIDIzLTEwIDIxIDcgMzhsODEgODEtMTk4IDE5OC0xOTgtMTk4IDgwLTgxcTE3LTE3IDgtMzgtMTAtMjMtMzMtMjNoLTI1MHEtMTUgMC0yNSAxMXQtMTEgMjV2MjUwcTAgMjQgMjIgMzMgMjIgMTAgMzktOGw4MC04MCAxOTggMTk4LTE5OCAxOTgtODAtODBxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDktMjIgMzN2MjUwcTAgMTQgMTEgMjV0MjUgMTFoMjUwcTIzIDAgMzMtMjMgOS0yMS04LTM4bC04MC04MSAxOTgtMTk4IDE5OCAxOTgtODEgODFxLTE3IDE3LTcgMzggOSAyMyAzMiAyM2gyNTBxMTUgMCAyNi0xMXQxMC0yNXYtMjUwcTAtMjQtMjItMzMtNy0zLTE0LTMtMTQgMC0yNSAxMXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJibGFuayIgdW5pY29kZT0iJiN4ZjBjODsiIGQ9Ik04NTcgNjE4di01MzZxMC02Ni00Ny0xMTN0LTExNC00OGgtNTM1cS02NyAwLTExNCA0OHQtNDcgMTEzdjUzNnEwIDY2IDQ3IDExM3QxMTQgNDhoNTM1cTY3IDAgMTE0LTQ4dDQ3LTExM3oiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJzb3J0LWRvd24iIHVuaWNvZGU9IiYjeGYwZGQ7IiBkPSJNNTcxIDI0M3EwLTE1LTEwLTI1bC0yNTAtMjUwcS0xMS0xMS0yNS0xMXQtMjUgMTFsLTI1MCAyNTBxLTExIDEwLTExIDI1dDExIDI1IDI1IDExaDUwMHExNCAwIDI1LTExdDEwLTI1eiIgaG9yaXotYWR2LXg9IjU3MS40IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Im1vdXNlLXBvaW50ZXIiIHVuaWNvZGU9IiYjeGYyNDU7IiBkPSJNNjMyIDI2OHExOC0xNyA4LTM4LTktMjMtMzMtMjNoLTIxM2wxMTItMjY2cTYtMTMgMC0yN3QtMTktMTlsLTk5LTQycS0xNC02LTI3IDB0LTE5IDE5bC0xMDcgMjUyLTE3NC0xNzRxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDEwLTIyIDMzdjgzOXEwIDI0IDIyIDMzIDcgMyAxNCAzIDE1IDAgMjUtMTF6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+CjwvZm9udD4KPC9kZWZzPgo8L3N2Zz4="},function(e,t,n){var r=n(330);"string"===typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(12)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(!0),t.push([e.i,".escher-container{font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif!important;background-color:#f3f3f3;text-align:center;position:relative;font-size:14px;color:#333}body.fill-screen,html.fill-screen{height:100%;width:100%}body.fill-screen{margin:0;position:relative;overflow:hidden}.fill-screen-div{margin:0;padding:0;position:fixed;top:0;bottom:0;left:0;right:0}.escher-container .escher-3d-transform-container,.escher-container .escher-zoom-container,.escher-container svg.escher-svg,.full-screen-on{height:100%!important;width:100%!important;overflow:hidden}.escher-container svg text{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.escher-container #status{position:absolute;bottom:10px;left:20px;color:red;background-color:#fff;font-size:16px}.escher-container .search-menu-container{position:absolute;width:100%;top:0;left:0;margin:0;text-align:center;pointer-events:none}.escher-container .search-menu-container-inline{box-sizing:border-box;width:320px;display:inline-block;text-align:left;pointer-events:auto}@media (min-width:550px){.escher-container .search-menu-container-inline{width:410px}}.escher-container #rxn-input{z-index:10;width:200px}.escher-container .input-close-button{position:absolute;right:0;width:18px;bottom:0;padding:0;border-width:0;margin:0;background:none;font-size:20px;font-weight:400;top:-8px}.escher-container .input-close-button:hover{color:#f33;font-weight:700}.escher-container #text-edit-input input{width:500px;border:1px solid #ccc;font-size:22px}.escher-container #quick-jump-menu{position:absolute;right:10px;bottom:10px;width:300px}@media (max-width:550px){.escher-container #quick-jump-menu{display:none}}.escher-container #tooltip-container{-ms-touch-action:none;touch-action:none}.escher-container .btn{color:#fff!important;border:1px solid #2e2f2f;background-image:linear-gradient(#4f5151,#474949 6%,#3f4141);background-color:#fff;cursor:pointer}.escher-container .btn:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}","",{version:3,sources:["/Users/zaking/repos/escher/src/Builder.css"],names:[],mappings:"AAGA,kBACE,0EAAoF,AACpF,yBAA0B,AAC1B,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,UAAe,CAChB,AAQD,kCAHE,YAAa,AACb,UAAY,CAQb,AAND,iBACE,SAAU,AACV,kBAAmB,AACnB,eAAiB,CAGlB,AAKD,iBACE,SAAU,AACV,UAAW,AACX,eAAgB,AAChB,MAAS,AACT,SAAY,AACZ,OAAU,AACV,OAAW,CACZ,AAUD,2IANE,sBAAwB,AACxB,qBAAuB,AACvB,eAAiB,CAUlB,AAGD,2BACE,yBAA0B,AAC1B,sBAAuB,AACvB,qBAAsB,AACtB,gBAAkB,CACnB,AAGD,0BACE,kBAAkB,AAClB,YAAY,AACZ,UAAW,AACX,UAAW,AACX,sBAAwB,AACxB,cAAe,CAChB,AAGD,yCACE,kBAAmB,AACnB,WAAY,AACZ,MAAS,AACT,OAAU,AACV,SAAU,AACV,kBAAmB,AACnB,mBAAqB,CACtB,AACD,gDACE,sBAAuB,AACvB,YAAa,AACb,qBAAsB,AACtB,gBAAiB,AACjB,mBAAqB,CACtB,AACD,yBACE,gDACE,WAAa,CACd,CACF,AAGD,6BACE,WAAY,AACZ,WAAa,CACd,AACD,sCACE,kBAAmB,AACnB,QAAW,AACX,WAAY,AACZ,SAAY,AACZ,UAAa,AACb,eAAkB,AAClB,SAAY,AACZ,gBAAiB,AACjB,eAAgB,AAChB,gBAAoB,AACpB,QAAU,CACX,AACD,4CACE,WAAe,AACf,eAAkB,CACnB,AAGD,yCACE,YAAa,AACb,sBAA0B,AAC1B,cAAgB,CACjB,AAED,mCACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,WAAa,CACd,AACD,yBACE,mCACC,YAAc,CACd,CACF,AAED,qCACE,sBAAuB,AACvB,iBAAmB,CACpB,AAGD,uBACE,qBAAuB,AACvB,yBAA0B,AAC1B,6DAAgE,AAChE,sBAAwB,AACxB,cAAgB,CACjB,AAED,8BACE,4DAAgE,CACjE",file:"Builder.css",sourcesContent:['/* Containers */\n\n/* The top level container for an Escher Builder */\n.escher-container {\n  font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n  background-color: #F3F3F3;\n  text-align: center;\n  position: relative;\n  font-size: 14px;\n  color: #333333;\n}\n\n/* Applied to the body when Escher fills the screen. This stops browser from\nshowing scroll-end animations. */\nhtml.fill-screen {\n  height: 100%;\n  width: 100%;\n}\nbody.fill-screen {\n  margin: 0;\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n\n/* Applied to top level container (generally .escher-container) when Escher\nfills the screen. These make sure Escher completely fills the screen, even after\nresizes. */\n.fill-screen-div {\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\n\n/* Temporarily applied when entering full screen. */\n.full-screen-on {\n  height: 100% !important;\n  width: 100% !important;\n  overflow: hidden;\n}\n\n/* The zoom container classes. */\n.escher-container .escher-zoom-container,\n.escher-container .escher-3d-transform-container,\n.escher-container svg.escher-svg {\n  width: 100% !important;\n  height: 100% !important;\n  overflow: hidden;\n}\n\n/* SVG text should not be selectable */\n.escher-container svg text {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Status */\n.escher-container #status {\n  position:absolute;\n  bottom:10px;\n  left: 20px;\n  color: red;\n  background-color: white;\n  font-size: 16px\n}\n\n/* Search & Menu */\n.escher-container .search-menu-container {\n  position: absolute;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  margin: 0;\n  text-align: center;\n  pointer-events: none;\n}\n.escher-container .search-menu-container-inline {\n  box-sizing: border-box;\n  width: 320px;\n  display: inline-block;\n  text-align: left;\n  pointer-events: auto;\n}\n@media (min-width: 550px) {\n  .escher-container .search-menu-container-inline {\n    width: 410px;\n  }\n}\n\n/* Reaction input */\n.escher-container #rxn-input {\n  z-index: 10;\n  width: 200px;\n}\n.escher-container .input-close-button {\n  position: absolute;\n  right: 0px;\n  width: 18px;\n  bottom: 0px;\n  padding: 0px;\n  border-width: 0px;\n  margin: 0px;\n  background: none;\n  font-size: 20px;\n  font-weight: normal;\n  top: -8px;\n}\n.escher-container .input-close-button:hover {\n  color: #ff3333;\n  font-weight: bold;\n}\n\n/* text edit input */\n.escher-container #text-edit-input input {\n  width: 500px;\n  border: 1px solid #cccccc;\n  font-size: 22px;\n}\n/* quick jump menu */\n.escher-container #quick-jump-menu {\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  width: 300px;\n}\n@media (max-width: 550px) {\n  .escher-container #quick-jump-menu {\n\t  display: none;\n  }\n}\n\n.escher-container #tooltip-container {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n/* Buttons */\n.escher-container .btn {\n  color: white!important;\n  border: 1px solid #2E2F2F;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  cursor: pointer;\n}\n\n.escher-container .btn:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n'],sourceRoot:""}])},function(e,t){e.exports="svg.escher-svg #mouse-node {\n  fill: none;\n}\nsvg.escher-svg #canvas {\n  stroke: #ccc;\n  stroke-width: 7px;\n  fill: white;\n}\nsvg.escher-svg .resize-rect {\n  fill: black;\n  opacity: 0;\n  stroke: none;\n}\nsvg.escher-svg .label {\n  font-family: sans-serif;\n  font-style: italic;\n  font-weight: bold;\n  font-size: 8px;\n  fill: black;\n  stroke: none;\n  text-rendering: optimizelegibility;\n  cursor: default;\n}\nsvg.escher-svg .reaction-label {\n  font-size: 30px;\n  fill: rgb(32, 32, 120);\n  text-rendering: optimizelegibility;\n}\nsvg.escher-svg .node-label {\n  font-size: 20px;\n}\nsvg.escher-svg .gene-label {\n  font-size: 18px;\n  fill: rgb(32, 32, 120);\n  text-rendering: optimizelegibility;\n  cursor: default;\n}\nsvg.escher-svg .text-label .label {\n  font-size: 50px;\n}\nsvg.escher-svg .text-label-input {\n  font-size: 50px;\n}\nsvg.escher-svg .node-circle {\n  stroke-width: 2px;\n}\nsvg.escher-svg .midmarker-circle, svg.escher-svg .multimarker-circle {\n  fill: white;\n  fill-opacity: 0.2;\n  stroke: rgb(50, 50, 50);\n}\nsvg.escher-svg g.selected .node-circle{\n  stroke-width: 6px;\n  stroke: rgb(20, 113, 199);\n}\nsvg.escher-svg g.selected .label {\n  fill: rgb(20, 113, 199);\n}\nsvg.escher-svg .metabolite-circle {\n  stroke: rgb(162, 69, 16);\n  fill: rgb(224, 134, 91);\n}\nsvg.escher-svg g.selected .metabolite-circle {\n  stroke: rgb(5, 2, 0);\n}\nsvg.escher-svg .segment {\n  stroke: #334E75;\n  stroke-width: 10px;\n  fill: none;\n}\nsvg.escher-svg .arrowhead {\n  fill: #334E75;\n}\nsvg.escher-svg .stoichiometry-label-rect {\n  fill: white;\n  opacity: 0.5;\n}\nsvg.escher-svg .stoichiometry-label {\n  fill: #334E75;\n  font-size: 17px;\n}\nsvg.escher-svg .membrane {\n  fill: none;\n  stroke: rgb(255, 187, 0);\n}\nsvg.escher-svg .brush .extent {\n  fill-opacity: 0.1;\n  fill: black;\n  stroke: #fff;\n  shape-rendering: crispEdges;\n}\nsvg.escher-svg #brush-container .background {\n  fill: none;\n}\nsvg.escher-svg .bezier-circle {\n  fill: rgb(255,255,255);\n}\nsvg.escher-svg .bezier-circle.b1 {\n  stroke: red;\n}\nsvg.escher-svg .bezier-circle.b2 {\n  stroke: blue;\n}\nsvg.escher-svg .connect-line{\n  stroke: rgb(200,200,200);\n}\nsvg.escher-svg .direction-arrow {\n  stroke: black;\n  stroke-width: 1px;\n  fill: white;\n  opacity: 0.3;\n}\nsvg.escher-svg .start-reaction-cursor {\n  cursor: pointer;\n}\nsvg.escher-svg .start-reaction-target {\n  stroke: rgb(100,100,100);\n  fill: none;\n  opacity: 0.5;\n}\nsvg.escher-svg .rotation-center-line {\n  stroke: red;\n  stroke-width: 5px;\n}\nsvg.escher-svg .highlight {\n  fill: #D97000;\n  text-decoration: underline;\n}\nsvg.escher-svg .cursor-grab {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\nsvg.escher-svg .cursor-grabbing {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\nsvg.escher-svg .edit-text-cursor {\n  cursor: text;\n}\n"},function(e,t,n){"use strict";var r=n(1),i=n(19).json;e.exports=function(e){function t(e,t,r,i,a){r.node().addEventListener("change",function(){n(e,this.value,a,i)},!1);var l=t[0];o(t,r),n(e,l,a,i)}function n(e,t,n,i){r.load_the_file(e,t,function(e,t){if(e)return console.warn(e);a.data=t,i&&i(t)})}function o(e,t){t.selectAll(".menu-option").data(e).enter().append("option").attr("value",function(e){return e}).text(function(e){return e}),t.node().focus()}var a=r.set_options(e,{selection:null,getdatafiles:null,datafiles:null,update_callback:null,target:null});if(null===a.selection)throw new Error("No selection provided for DataMenu");var l=a.selection.select(".data-menu");l.empty()&&(l=a.selection.append("div").attr("class","data-menu"));var s=l.append("form").append("select").attr("class","dropdown-menu");return a.getdatafiles?(a.datafiles&&console.warn("DataMenu: getdatafiles option overrides datafiles"),i(a.getdatafiles,function(e,n){return e?console.warn(e):(t(a.target,n.data,s,a.update_callback,a.selection),null)})):a.datafiles?t(a.target,a.datafiles,s,a.update_callback,a.selection):console.warn("DataMenu: No datafiles given"),{update:o}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){if(!_)throw Error("@jupyter-widgets/base not installed. You must install it to use the jupyter widget");return{EscherMapView:function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this,t=(0,u.select)(this.el).append("div");this.setHeight(t),f.default.defer(function(){var n=(0,c.default)(e.getMapData(),e.getModelData(),e.model.get("embedded_css"),t,{enable_keys:!1,reaction_data:e.model.get("reaction_data"),metabolite_data:e.model.get("metabolite_data"),gene_data:e.model.get("gene_data"),scroll_behavior:e.model.get("scroll_behavior"),first_load_callback:function(t){t.callback_manager.set("clear_map",function(){e.model.set("_loaded_map_json",null),e.model.save_changes()}),t.callback_manager.set("clear_model",function(){e.model.set("_loaded_model_json",null),e.model.save_changes()}),f.default.mapObject(t.settings.streams,function(t,n){n in e.model.attributes&&t.onValue(function(t){e.model.set(n,t),e.model.save_changes()})})}});e.model.on("change:height",function(){e.setHeight(t)}),e.model.on("change:_loaded_map_json",function(){n.load_map(e.getMapData())}),e.model.on("change:_loaded_model_json",function(){n.load_model(e.getModelData())}),e.model.on("change:reaction_data",function(){n.set_reaction_data(e.model.get("reaction_data"))}),e.model.on("change:metabolite_data",function(){n.set_metabolite_data(e.model.get("metabolite_data"))}),e.model.on("change:gene_data",function(){n.set_gene_data(e.model.get("gene_data"))}),e.model.on("change:scroll_behavior",function(){n.settings.set("scroll_behavior",e.model.get("scroll_behavior"));var t=n.settings.get("scroll_behavior");n.zoom_container.set_scroll_behavior(t)})})},t.prototype.setHeight=function(e){e.style("height",this.model.get("height")+"px")},t.prototype.getMapData=function(){var e=this.model.get("_loaded_map_json");return e?JSON.parse(e):null},t.prototype.getModelData=function(){var e=this.model.get("_loaded_model_json");return e?JSON.parse(e):null},t}(_.DOMWidgetView),EscherMapModel:function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.defaults=function(){return f.default.extend(e.prototype.defaults.call(this),{_model_name:"EscherMapModel",_view_name:"EscherMapView",_model_module:"jupyter-escher",_view_module:"jupyter-escher",_model_module_version:p,_view_module_version:p,height:500,_loaded_map_json:null,_loaded_model_json:null,embedded_css:null,reaction_data:null,metabolite_data:null,gene_data:null,scroll_behavior:"pan"})},t}(_.DOMWidgetModel)}}t.__esModule=!0,t.default=l;var s=n(58),c=r(s),u=n(0),d=n(2),f=r(d),_=void 0;try{_=n(334)}catch(e){}var p="1.7.0-beta.8"},function(t,n){if("undefined"===typeof e){var r=new Error('Cannot find module "@jupyter-widgets/base"');throw r.code="MODULE_NOT_FOUND",r}t.exports=e}])})},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return m=e,g}}function o(e,t){try{return e(t)}catch(e){return m=e,g}}function a(e,t,n){try{e(t,n)}catch(e){return m=e,g}}function l(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&b(e,this)}function s(e,t,n){return new e.constructor(function(i,o){var a=new l(r);a.then(i,o),c(e,new p(t,n,a))})}function c(e,t){for(;3===e._83;)e=e._18;if(l._47&&l._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);u(e,t)}function u(e,t){h(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?d(t.promise,e._18):f(t.promise,e._18));var r=o(n,e._18);r===g?f(t.promise,m):d(t.promise,r)})}function d(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===g)return f(e,m);if(n===e.then&&t instanceof l)return e._83=3,e._18=t,void _(e);if("function"===typeof n)return void b(n.bind(t),e)}e._83=1,e._18=t,_(e)}function f(e,t){e._83=2,e._18=t,l._71&&l._71(e,t),_(e)}function _(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function p(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function b(e,t){var n=!1,r=a(e,function(e){n||(n=!0,d(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==g||(n=!0,f(t,m))}var h=n(14),m=null,g={};e.exports=l,l._47=null,l._71=null,l._44=r,l.prototype.then=function(e,t){if(this.constructor!==l)return s(this,e,t);var n=new l(r);return c(this,new p(e,t,n)),n}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,s=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(s[u]=n[u]);if(i){l=i(n);for(var d=0;d<l.length;d++)a.call(n,l[d])&&(s[l[d]]=n[l[d]])}}return s}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;var r=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=function(e){var t=e.className,n=e.included,o=e.vertical,a=e.offset,l=e.length,s=e.style,c=o?{bottom:a+"%",height:l+"%"}:{left:a+"%",width:l+"%"},u=r({visibility:n?"visible":"hidden"},s,c);return(0,i.h)("div",{className:t,style:u})};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}function c(e){var t,n;return n=t=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));return r.onMouseDown=function(e){if(0===e.button){var t=r.props.vertical,n=w.getMousePosition(t,e);if(w.isEventFromHandle(e,r.handlesRefs)){var i=w.getHandleCenterPosition(t,e.target);r.dragOffset=n-i,n=i}else r.dragOffset=0;r.onStart(n),r.addDocumentMouseEvents(),w.pauseEvent(e)}},r.onTouchStart=function(e){if(!w.isNotTouchEvent(e)){var t=r.props.vertical,n=w.getTouchPosition(t,e);if(w.isEventFromHandle(e,r.handlesRefs)){var i=w.getHandleCenterPosition(t,e.target);r.dragOffset=n-i,n=i}else r.dragOffset=0;r.onStart(n),r.addDocumentTouchEvents(),w.pauseEvent(e)}},r.onFocus=function(e){var t=r.props.vertical;if(w.isEventFromHandle(e,r.handlesRefs)){var n=w.getHandleCenterPosition(t,e.target);r.dragOffset=0,r.onStart(n),w.pauseEvent(e)}},r.onBlur=function(e){r.onEnd(e)},r.onMouseMove=function(e){if(!r.sliderRef)return void r.onEnd();var t=w.getMousePosition(r.props.vertical,e);r.onMove(e,t-r.dragOffset)},r.onTouchMove=function(e){if(w.isNotTouchEvent(e)||!r.sliderRef)return void r.onEnd();var t=w.getTouchPosition(r.props.vertical,e);r.onMove(e,t-r.dragOffset)},r.onKeyDown=function(e){r.sliderRef&&w.isEventFromHandle(e,r.handlesRefs)&&r.onKeyboard(e)},r.saveSlider=function(e){r.sliderRef=e},r.handlesRefs={},r}return l(t,e),t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount&&e.prototype.componentWillUnmount.call(this),this.removeDocumentEvents()},t.prototype.addDocumentTouchEvents=function(){this.onTouchMoveListener=(0,_.default)(document,"touchmove",this.onTouchMove),this.onTouchUpListener=(0,_.default)(document,"touchend",this.onEnd)},t.prototype.addDocumentMouseEvents=function(){this.onMouseMoveListener=(0,_.default)(document,"mousemove",this.onMouseMove),this.onMouseUpListener=(0,_.default)(document,"mouseup",this.onEnd)},t.prototype.removeDocumentEvents=function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},t.prototype.getSliderStart=function(){var e=this.sliderRef,t=e.getBoundingClientRect();return this.props.vertical?t.top:t.left},t.prototype.getSliderLength=function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width},t.prototype.calcValue=function(e){var t=this.props,n=t.vertical,r=t.min,i=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(i-r)+r:o*(i-r)+r},t.prototype.calcValueByPos=function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))},t.prototype.calcOffset=function(e){var t=this.props,n=t.min;return(e-n)/(t.max-n)*100},t.prototype.saveHandle=function(e,t){this.handlesRefs[e]=t},t.prototype.render=function(){var t,n=this.props,r=n.prefixCls,i=n.className,o=n.marks,a=n.dots,l=n.step,c=n.included,f=n.disabled,_=n.vertical,p=n.min,h=n.max,g=n.children,y=n.maximumTrackStyle,v=n.style,x=n.railStyle,w=n.dotStyle,k=n.activeDotStyle,C=e.prototype.render.call(this),B=C.tracks,E=C.handles,M=(0,b.default)(r,(t={},t[r+"-with-marks"]=Object.keys(o).length,t[r+"-disabled"]=f,t[r+"-vertical"]=_,t[i]=i,t));return(0,d.h)("div",{ref:this.saveSlider,className:M,onTouchStart:f?s:this.onTouchStart,onMouseDown:f?s:this.onMouseDown,onKeyDown:f?s:this.onKeyDown,onFocus:f?s:this.onFocus,onBlur:f?s:this.onBlur,style:v},(0,d.h)("div",{className:r+"-rail",style:u({},y,x)}),B,(0,d.h)(m.default,{prefixCls:r,vertical:_,marks:o,dots:a,step:l,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:h,min:p,dotStyle:w,activeDotStyle:k}),E,(0,d.h)(A.default,{className:r+"-mark",vertical:_,marks:o,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:h,min:p}),g)},t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.defaultProps=u({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=(e.index,i(e,["index"]));return delete t.dragging,(0,d.h)(v.default,t)},onBeforeChange:s,onChange:s,onAfterChange:s,included:!0,disabled:!1,dots:!1,vertical:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var d=n(0),f=n(33),_=r(f),p=n(1),b=r(p),h=n(36),m=r(h),g=n(37),A=r(g),y=n(38),v=r(y),x=n(2),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(x)},function(e,t,n){"use strict";function r(){return Object(i.h)("div",null,Object(i.h)("h2",null,"Escher-FBA Instructions"),Object(i.h)("p",null,"Try it out by mousing over a reaction label and using the buttons within the tooltip! The upper and lower bounds can also be changed by adjusting the slider bars or by entering values in the Upper Bound and Lower Bound fields. Please note that while you can set any number of reactions to be maximized or minimized, at least one needs to be set."),Object(i.h)("br",null),Object(i.h)("p",null,"The ",Object(i.h)("button",{className:"demoButton"},"Knockout")," button sets both the upper and lower bounds of the reaction to zero, simulating a knockout of the targeted gene."),Object(i.h)("p",null,"The ",Object(i.h)("button",{className:"demoButton"},"Reset")," button resets the upper and lower bounds of the reaction to their original values in the loaded model."),Object(i.h)("p",null,"The ",Object(i.h)("button",{className:"demoButton"},"Maximize")," button tells the problem solver to set the objective function to maximize the amount of flux through the target reaction."),Object(i.h)("p",null,"The opposite of the maximize button, the ",Object(i.h)("button",{className:"demoButton"},"Minimize")," button sets the objective function to minimize the amount of flux through the target reaction."),Object(i.h)("p",null,"Toggle the ",Object(i.h)("button",{className:"demoButton"},"Compound Objectives"),"button on to allow for multiple maximize and minimize objectives to be set."),Object(i.h)("h2",null,"About Escher"),Object(i.h)("p",null,"The rest of the functionality in Escher-FBA is provided by the Escher pathway visualization software. To learn more about Escher, visit the ",Object(i.h)("a",{href:"https://escher.github.io/"},"Escher homepage")," or check out the ",Object(i.h)("a",{href:"https://escher.readthedocs.io"},"Documentation"),"."),Object(i.h)("h2",null,"How do I cite Escher-FBA?"),Object(i.h)("p",null,"You can support Escher-FBA by citing our preprint. This really, really helps!"),Object(i.h)("p",null,"EG Rowe, BO Palsson, ZA King (2018) Escher-FBA: a web application for interactive flux balance analysis. ",Object(i.h)("i",null,"BMC Sys Bio")," 12:84 ",Object(i.h)("a",{href:"https://doi.org/10.1186/s12918-018-0607-5"},"https://doi.org/10.1186/s12918-018-0607-5")),Object(i.h)("h2",null,"How can I report bugs and give feedback?"),Object(i.h)("p",null,"A bug tracker and development roadmap can be found at the following site. Please feel free to contribute! ",Object(i.h)("a",{href:"https://github.com/SBRG/escher-fba-feedback"},"https://github.com/SBRG/escher-fba-feedback")))}t.a=r;var i=n(0)},function(e,t,n){n(12),e.exports=n(18)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(13).enable(),window.Promise=n(16)),n(17),Object.assign=n(5)},function(e,t,n){"use strict";function r(){c=!1,l._47=null,l._71=null}function i(e){function t(t){(e.allRejections||a(d[t].error,e.whitelist||s))&&(d[t].displayId=u++,e.onUnhandled?(d[t].logged=!0,e.onUnhandled(d[t].displayId,d[t].error)):(d[t].logged=!0,o(d[t].displayId,d[t].error)))}function n(t){d[t].logged&&(e.onHandled?e.onHandled(d[t].displayId,d[t].error):d[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+d[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+d[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,u=0,d={};l._47=function(e){2===e._83&&d[e._56]&&(d[e._56].logged?n(e._56):clearTimeout(d[e._56].timeout),delete d[e._56])},l._71=function(e,n){0===e._75&&(e._56=i++,d[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,s)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var l=n(4),s=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),l=!0),a[a.length]=e}function r(){for(;s<a.length;){var e=s;if(s+=1,a[e].call(),s>c){for(var t=0,n=a.length-s;t<n;t++)a[t]=a[t+s];a.length-=s,s=0}}a.length=0,s=0,l=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],l=!1,s=0,c=1024,u="undefined"!==typeof t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;o="function"===typeof d?function(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(15))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(4);e.exports=i;var o=r(!0),a=r(!1),l=r(null),s=r(void 0),c=r(0),u=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return l;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return a;if(0===e)return c;if(""===e)return u;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,l){if(l&&("object"===typeof l||"function"===typeof l)){if(l instanceof i&&l.then===i.prototype.then){for(;3===l._83;)l=l._18;return 1===l._83?r(a,l._18):(2===l._83&&n(l._18),void l.then(function(e){r(a,e)},n))}var s=l.then;if("function"===typeof s){return void new i(s.bind(l)).then(function(e){r(a,e)},n)}}t[a]=l,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&A(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!y(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function _(e,t){t=t||{};var n=t.body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function b(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function h(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],A=function(e){return e&&DataView.prototype.isPrototypeOf(e)},y=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},d.call(_.prototype),d.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];h.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=_,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,r){var i=new _(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new h(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(19),o=n(20),a=n.n(o),l=n(27),s=n(49),c=n(57),u=n(58),d=(n.n(u),function(){return Object(r.h)(i.a,{history:a()()},Object(r.h)(f,{path:"/"}),Object(r.h)(_,{path:"/app"}))}),f=function(){return Object(r.h)(s.a,null)},_=function(){return Object(r.h)(l.a,null)};Object(r.render)(Object(r.h)(d,null),document.getElementById("root")),Object(c.a)()},function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,o=e.match(i),a={};if(o&&o[1])for(var s=o[1].split("&"),c=0;c<s.length;c++){var u=s[c].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=l(e.replace(i,"")),t=l(t||"");for(var d=Math.max(e.length,t.length),f=0;f<d;f++)if(t[f]&&":"===t[f].charAt(0)){var _=t[f].replace(/(^\:|[+*?]+$)/g,""),p=(t[f].match(/[+*?]+$/)||w)[0]||"",b=~p.indexOf("+"),h=~p.indexOf("*"),m=e[f]||"";if(!m&&!h&&(p.indexOf("?")<0||b)){r=!1;break}if(a[_]=decodeURIComponent(m),b||h){a[_]=e.slice(f).map(decodeURIComponent).join("/");break}}else if(t[f]!==e[f]){r=!1;break}return(!0===n.default||!1!==r)&&a}function o(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function a(e,t){return e.index=t,e.rank=u(e),e.attributes}function l(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function s(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}function c(e){return l(e).map(s).join("")}function u(e){return e.attributes.default?0:c(e.attributes.path)}function d(e){return null!=e.__preactattr_||"undefined"!==typeof Symbol&&null!=e[Symbol.for("preactattr")]}function f(e,t){void 0===t&&(t="push"),k&&k[t]?k[t](e):"undefined"!==typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}function _(){var e;return e=k&&k.location?k.location:k&&k.getCurrentLocation?k.getCurrentLocation():"undefined"!==typeof location?location:E,""+(e.pathname||"")+(e.search||"")}function p(e,t){return void 0===t&&(t=!1),"string"!==typeof e&&e.url&&(t=e.replace,e=e.url),b(e)&&f(e,t?"replace":"push"),h(e)}function b(e){for(var t=C.length;t--;)if(C[t].canRoute(e))return!0;return!1}function h(e){for(var t=!1,n=0;n<C.length;n++)!0===C[n].routeTo(e)&&(t=!0);for(var r=B.length;r--;)B[r](e);return t}function m(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return p(t)}}function g(e){if(0==e.button)return m(e.currentTarget||e.target||this),A(e)}function A(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function y(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")&&d(t)){if(t.hasAttribute("native"))return;if(m(t))return A(e)}}while(t=t.parentNode)}}function v(){M||("function"===typeof addEventListener&&(k||addEventListener("popstate",function(){h(_())}),addEventListener("click",y)),M=!0)}var x=n(0),w={},k=null,C=[],B=[],E={},M=!1,j=function(e){function t(t){e.call(this,t),t.history&&(k=t.history),this.state={url:t.url||_()},v()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){return this.getMatchingChildren(this.props.children,e,!1).length>0},t.prototype.routeTo=function(e){return this._didRoute=!1,this.setState({url:e}),this.updating?this.canRoute(e):(this.forceUpdate(),this._didRoute)},t.prototype.componentWillMount=function(){C.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;k&&(this.unlisten=k.listen(function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))})),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"===typeof this.unlisten&&this.unlisten(),C.splice(C.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(a).sort(o).map(function(e){var o=i(t,e.attributes.path,e.attributes);if(o){if(!1!==n){var a={url:t,matches:o};return r(a,o),delete a.ref,delete a.key,Object(x.cloneElement)(e,a)}return e}}).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,r=e.onChange,i=t.url,o=this.getMatchingChildren(n,i,!0),a=o[0]||null;this._didRoute=!!a;var l=this.previousUrl;return i!==l&&(this.previousUrl=i,"function"===typeof r&&r({router:this,url:i,previous:l,active:o,current:a})),a},t}(x.Component),O=function(e){return Object(x.h)("a",r({onClick:g},e))},I=function(e){return Object(x.h)(e.component,e)};j.subscribers=B,j.getCurrentUrl=_,j.route=p,j.Router=j,j.Route=I,j.Link=O,t.a=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(6),a=r(o),l=n(21),s=r(l),c=n(22),u=n(7),d=n(25),f=r(d),_=n(26),p={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,u.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u.stripLeadingSlash,decodePath:u.addLeadingSlash},slash:{encodePath:u.addLeadingSlash,decodePath:u.addLeadingSlash}},b=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},h=function(e){return window.location.hash=e},m=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(_.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,_.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,o=void 0===r?_.getConfirmation:r,l=e.hashType,d=void 0===l?"slash":l,g=e.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(e.basename)):"",A=p[d],y=A.encodePath,v=A.decodePath,x=function(){var e=v(b());return(0,a.default)(!g||(0,u.hasBasename)(e,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+g+'".'),g&&(e=(0,u.stripBasename)(e,g)),(0,c.createLocation)(e)},w=(0,f.default)(),k=function(e){i(H,e),H.length=t.length,w.notifyListeners(H.location,H.action)},C=!1,B=null,E=function(){var e=b(),t=y(e);if(e!==t)m(t);else{var n=x(),r=H.location;if(!C&&(0,c.locationsAreEqual)(r,n))return;if(B===(0,u.createPath)(n))return;B=null,M(n)}},M=function(e){if(C)C=!1,k();else{w.confirmTransitionTo(e,"POP",o,function(t){t?k({action:"POP",location:e}):j(e)})}},j=function(e){var t=H.location,n=N.lastIndexOf((0,u.createPath)(t));-1===n&&(n=0);var r=N.lastIndexOf((0,u.createPath)(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,z(i))},O=b(),I=y(O);O!==I&&m(I);var D=x(),N=[(0,u.createPath)(D)],S=function(e){return"#"+y(g+(0,u.createPath)(e))},L=function(e,t){(0,a.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,c.createLocation)(e,void 0,void 0,H.location);w.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=(0,u.createPath)(n),r=y(g+t);if(b()!==r){B=t,h(r);var i=N.lastIndexOf((0,u.createPath)(H.location)),o=N.slice(0,-1===i?0:i+1);o.push(t),N=o,k({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),k()}})},T=function(e,t){(0,a.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,c.createLocation)(e,void 0,void 0,H.location);w.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=(0,u.createPath)(n),r=y(g+t);b()!==r&&(B=t,m(r));var i=N.indexOf((0,u.createPath)(H.location));-1!==i&&(N[i]=t),k({action:"REPLACE",location:n})}})},z=function(e){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},P=function(){return z(-1)},F=function(){return z(1)},Q=0,U=function(e){Q+=e,1===Q?(0,_.addEventListener)(window,"hashchange",E):0===Q&&(0,_.removeEventListener)(window,"hashchange",E)},R=!1,G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=w.setPrompt(e);return R||(U(1),R=!0),function(){return R&&(R=!1,U(-1)),t()}},Y=function(e){var t=w.appendListener(e);return U(1),function(){U(-1),t()}},H={length:t.length,action:"POP",location:D,createHref:S,push:L,replace:T,go:z,goBack:P,goForward:F,block:G,listen:Y};return H};t.default=g},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,l],u=0;s=new Error(t.replace(/%s/g,function(){return c[u++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(23),a=r(o),l=n(24),s=r(l),c=n(7);t.createLocation=function(e,t,n,r){var o=void 0;"string"===typeof e?(o=(0,c.parsePath)(e),o.state=t):(o=i({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,s.default)(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),l=t&&r(t),s=a||l;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var u=o[o.length-1];c="."===u||".."===u||""===u}else c=!1;for(var d=0,f=o.length;f>=0;f--){var _=o[f];"."===_?i(o,f):".."===_?(i(o,f),d++):d&&(i(o,f),d--)}if(!s)for(;d--;d)o.unshift("..");!s||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});var n="undefined"===typeof e?"undefined":i(e);if(n!==("undefined"===typeof t?"undefined":i(t)))return!1;if("object"===n){var o=e.valueOf(),a=t.valueOf();if(o!==e||a!==t)return r(o,a);var l=Object.keys(e),s=Object.keys(t);return l.length===s.length&&l.every(function(n){return r(e[n],t[n])})}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){var e=null,t=function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,o){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.default=o},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),s=n(28),c=(n.n(s),n(29)),u=n(10),d=n(44),f=n(3),_=(n.n(f),n(46)),p=n.n(_),b=n(47),h=n.n(b),m=n(48),g=n.n(m),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=f.libs.underscore,v=new g.a,x=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modelData:p.a,model:null,reactionData:null,objectiveFlux:0,helpOverlay:!1,objectives:{},compoundObjectives:!1},n.runThrottledOptimization=y.throttle(n.runOptimization,200),n}return a(t,e),A(t,[{key:"componentWillMount",value:function(){this.setState({model:d.a(this.state.modelData),oldModel:d.a(this.state.modelData)})}},{key:"componentDidMount",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.state.model.reactions[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;0!==o.objective_coefficient&&this.setObjective(o.id,o.objective_coefficient)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.runThrottledOptimization()}},{key:"loadModel",value:function(e){null===e&&this.setState({modelData:null,model:null,oldModel:null,reactionData:null,objectiveFlux:null});var t=d.a(e),n=d.a(e),r={};t.reactions.map(function(e){0!==e.objective_coefficient&&(r[e.id]=e.objective_coefficient)}),this.setState({modelData:e,model:t,oldModel:n,objectives:r,compoundObjectives:Object.keys(r).length>1}),this.runThrottledOptimization()}},{key:"runOptimization",value:function(){var e=this,t=null,n="Infeasible solution/Dead cell";v.postMessage(this.state.model),v.onmessage=function(r){var i=r.data;null!==i.objectiveValue&&(t=i.fluxes,n=i.objectiveValue.toFixed(3)),e.setState({reactionData:t,objectiveFlux:n})}}},{key:"sliderChange",value:function(e,t){for(var n=[].concat(r(this.state.model.reactions)),i=0;i<n.length;i++)if(n[i].id===t){n[i].lower_bound=e[0],n[i].upper_bound=e[1],this.setState(function(e){return{model:Object.assign({},e.model,{reactions:n})}});break}this.runThrottledOptimization()}},{key:"resetMap",value:function(){for(var e=d.a(this.state.modelData),t=e.reactions,n={},r=0;r<t.length;r++){var i=t[r];i.objective_coefficient&&(n[i.id]=i.objective_coefficient)}this.setState({model:e,objectives:n,compoundObjectives:Object.keys(n).length>1}),this.runThrottledOptimization()}},{key:"setObjective",value:function(e,t){var n=[].concat(r(this.state.model.reactions)),i=n.findIndex(function(t){return t.id===e}),o={};if(this.state.compoundObjectives)o=Object.assign({},this.state.objectives),o[n[i].id]===t&&Object.keys(o).length>1?(n[i].objective_coefficient=0,delete o[e]):(n[i].objective_coefficient=t,o[e]=t);else{var a=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d.id===e?(d.objective_coefficient=t,o[e]=t):d.objective_coefficient=0}}catch(e){l=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw s}}}this.setState(function(e){return{model:Object.assign({},e.model,{reactions:n}),objectives:o}}),this.runThrottledOptimization()}},{key:"toggleCompoundObjectives",value:function(){if(this.setState({compoundObjectives:!this.state.compoundObjectives}),!this.state.compoundObjectives){var e=d.a(this.state.modelData);if(!e)return;var t=!0,n=!1,r=void 0;try{for(var i,o=e.reactions[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(0!==a.objective_coefficient){this.setObjective(a.id,a.objective_coefficient);break}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"render",value:function(){var e=this;return Object(l.h)("div",{className:"App"},Object(l.h)(c.a,{model:this.state.model,oldModel:this.state.oldModel,map:h.a,reactionData:this.state.reactionData,objectives:this.state.objectives,sliderChange:function(t,n){return e.sliderChange(t,n)},resetReaction:function(t){return e.resetReaction(t)},setObjective:function(t,n){return e.setObjective(t,n)},loadModel:function(t){return e.loadModel(t)},lowerRange:-25,upperRange:25,step:.01}),Object(l.h)("div",{className:"bottomPanel"},Object(l.h)("div",{className:"statusBar"},"Current Flux: ",Object.keys(this.state.objectives).join(", "),Object(l.h)("br",null),"Flux Through Objective: ",this.state.objectiveFlux),Object(l.h)("div",null,Object(l.h)("button",{className:this.state.compoundObjectives?"appButton active":"appButton",id:"compound",onClick:function(){return e.toggleCompoundObjectives()}},"Compound Objectives"),Object(l.h)("button",{className:"appButton",id:"reset",onClick:function(){return e.resetMap()}},"Reset Map"),Object(l.h)("button",{className:"appButton",id:"help",onClick:function(){return e.setState({helpOverlay:!0})}},"Help"),Object(l.h)("a",{href:"/",className:"appButton",id:"home"},"Home"))),Object(l.h)("div",{className:"helpOverlay",style:this.state.helpOverlay?{display:"block"}:{display:"none"}},Object(l.h)("div",{className:"helpBox"},Object(l.h)("div",{className:"helpContainer"},Object(l.h)(u.a,null)),Object(l.h)("button",{className:"appButton",id:"close",onClick:function(){return e.setState({helpOverlay:!1})}},"Close"))))}}]),t}(l.Component);t.a=x},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),l=n(30),s=n(3),c=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={builder:null},n}return o(t,e),c(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){this.state.builder&&(this.state.builder.tooltip_container.passProps(e),e.reactionData!==this.props.reactionData&&this.state.builder.set_reaction_data(e.reactionData))}},{key:"kosAddGroup",value:function(e){var t=e.selection.select(".zoom-g").append("g").attr("id","ko-markers");this.setState({koMarkersSel:t})}},{key:"koDrawRectanges",value:function(e){if(null===this.state.koMarkersSel)return void console.warn("this.state.koMarkersSel is not defined");var t=this.state.koMarkersSel.selectAll(".ko").data(["GAPD"]),n=t.enter().append("g");n.append("rect").style("fill","red"),n.append("rect").style("fill","red")}},{key:"componentDidMount",value:function(){var e=this;new s.Builder(this.props.map,this.props.model,null,this.base,{fill_screen:!0,enable_keys:!0,reaction_scale:[{type:"min",color:"#c8c8c8",size:12},{type:"value",value:.01,color:"#9696ff",size:16},{type:"value",value:20,color:"#209123",size:20},{type:"max",color:"#ff0000",size:25}],tooltip_component:l.a,enable_keys_with_tooltip:!1,reaction_styles:["color","size","text","abs"],disabled_buttons:["Load reaction data","Load gene data"],reaction_scale_preset:"GaBuGeRd",metabolite_scale_preset:"GaBuGeRd",never_ask_before_quit:!0,first_load_callback:function(t){e.setState({builder:t}),t.callback_manager.set("load_model",function(t){e.props.loadModel(t)}),t.callback_manager.set("load_map",function(t){e.state.builder.tooltip_container.passProps(e.props)})}})}},{key:"render",value:function(){return Object(a.h)("div",{className:"EscherContainer"})}}]),t}(a.Component);t.a=u},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),s=n(31),c=(n.n(s),n(42)),u=(n.n(c),n(43)),d=(n.n(u),n(3)),f=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),_={display:"-webkit-flex",flexDirection:"column",boxSizing:"border-box",width:"320px",height:"175px",borderRadius:"2px",border:"1px solid #b58787",padding:"1.5%",backgroundColor:"rgba(255, 255, 255, 1)",textAlign:"left",fontSize:"16px",fontFamily:"sans-serif",color:"#111",boxShadow:"4px 6px 20px 0px rgba(0, 0, 0, 0.4)",position:"relative",zIndex:"3"},p={alignSelf:"center",color:"black",fontSize:"12px",fontWeight:"bold",visibility:"visible"},b={marginTop:"0.5%",display:"-webkit-flex",flexDirection:"column",alignSelf:"center",width:"14px",height:"14px",visibility:"visible"},h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={lowerBound:0,upperBound:0,lowerBoundOld:0,upperBoundOld:0,currentFlux:0,coefficient:0,lowerBoundString:"",upperBoundString:"",type:"reaction",name:"",reactionInModel:!0,indicatorStyle:b,fluxDisplayStyle:p,tooltipStyle:_},n.initState(e,{}),n}return a(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){this.initState(e,this.props)}},{key:"initState",value:function(e,t){var n=!1;if("reaction"===e.type&&void 0!==e.model&&null!==e.model){var r={};if(e.biggId!==t.biggId||e.model!==t.model){for(var i=0,o=e.model.reactions.length;i<o;i++)if(e.model.reactions[i].id===e.biggId){n=!0,r.lowerBound=e.model.reactions[i].lower_bound,r.upperBound=e.model.reactions[i].upper_bound,r.lowerBoundString=e.model.reactions[i].lower_bound.toString(),r.upperBoundString=e.model.reactions[i].upper_bound.toString(),r.lowerBoundOld=e.oldModel.reactions[i].lower_bound,r.upperBoundOld=e.oldModel.reactions[i].upper_bound,r.name=e.model.reactions[i].name,r.coefficient=e.model.reactions[i].objective_coefficient,null!==e.reactionData?r.currentFlux=e.reactionData[e.biggId]:r.currentFlux=null;break}}else{n=!0;for(var a=0,l=e.model.reactions.length;a<l;a++)if(e.model.reactions[a].id===e.biggId){null!==e.reactionData&&(r.currentFlux=e.reactionData[e.biggId]);break}}var s={},c={};null!==e.reactionData?(c=Math.abs(r.currentFlux)>e.upperRange?{marginLeft:r.currentFlux/Math.abs(r.currentFlux)*100+"%"}:{marginLeft:r.currentFlux/(e.upperRange+1)*100+"%"},s=r.currentFlux>.65*e.upperRange?{alignSelf:"flex-end"}:r.currentFlux<.65*e.lowerRange?{alignSelf:"flex-start"}:{marginLeft:r.currentFlux/(e.upperRange+1)*100+"%"}):(s={visibility:"hidden"},c={visibility:"hidden"}),this.setState(Object.assign({},r,{reactionInModel:n,fluxDisplayStyle:Object.assign({},p,s),indicatorStyle:Object.assign({},b,c),type:e.type}))}else this.setState({type:e.type,reactionInModel:!1})}},{key:"getSize",value:function(){return{width:320,height:175}}},{key:"fluxConverter",value:function(e){return e<this.props.lowerRange?-1e3:e>this.props.upperRange?1e3:e+this.props.upperRange+1}},{key:"tipConverter",value:function(e){var t=0;return this.props.step<1&&(t=Math.ceil(-Math.log10(this.props.step))),e<1?-1e3:e>2*this.props.upperRange+1?1e3:parseFloat((e-(this.props.upperRange+1)).toFixed(t))}},{key:"boundConverter",value:function(e){return e.map(this.tipConverter.bind(this))}},{key:"onTouchStart",value:function(){var e=Object.assign({},this.state.tooltipStyle,{backgroundColor:"rgba(255, 255, 255, 0.8)"});this.setState({tooltipStyle:e})}},{key:"handleMarkerPosition",value:function(e){return null!==this.props.reactionData?e<this.props.lowerRange?0:e>this.props.upperRange?2*(this.props.upperRange+1):e+this.props.upperRange+1:this.props.upperRange+1}},{key:"handleKeyUp",value:function(e,t){this.setState({lowerBoundString:t[0],upperBoundString:t[1]}),parseFloat(t[0])===this.state.lowerBound&&parseFloat(t[1])===this.state.upperBound||(isNaN(parseFloat(e.target.value))?console.error("Invalid Bounds"):this.sliderChange([parseFloat(this.state.lowerBoundString),parseFloat(this.state.upperBoundString)]))}},{key:"sliderChange",value:function(e){e[0]!==parseFloat(this.state.lowerBoundString)||e[1]!==parseFloat(this.state.upperBoundString)?this.setState({lowerBound:e[0],upperBound:e[1],lowerBoundString:e[0].toString(),upperBoundString:e[1].toString()}):this.setState({lowerBound:e[0],upperBound:e[1]}),this.props.sliderChange(e,this.props.biggId)}},{key:"onTouchEnd",value:function(e){this.sliderChange(e),this.setState({tooltipStyle:_})}},{key:"resetReaction",value:function(){this.sliderChange([this.state.lowerBoundOld,this.state.upperBoundOld],this.props.biggId)}},{key:"decompartmentalizeCheck",value:function(e,t){return"metabolite"===t?d.utils.decompartmentalize(e)[0]:e}},{key:"openBigg",value:function(){var e=this.props.type,t=this.props.biggId,n="http://bigg.ucsd.edu/",r="gene"===e?n+"search?query="+t:n+"universal/"+e+"s/"+this.decompartmentalizeCheck(t,e);window.open(r)}},{key:"render",value:function(){var e=this;if("reaction"===this.state.type&&this.state.reactionInModel){var t=-1===this.props.objectives[this.props.biggId],n=1===Object.keys(this.props.objectives).length&&t,i=1===this.props.objectives[this.props.biggId],o=1===Object.keys(this.props.objectives).length&&i;return Object(l.h)("div",{className:"Tooltip",style:Object.assign({},this.state.tooltipStyle,{touchAction:"none"})},Object(l.h)("div",{className:"biggId"},this.props.biggId),Object(l.h)("div",{className:"name"},this.props.name),Object(l.h)("div",{className:"slider",style:{width:"298px"}},Object(l.h)(s.Range,{onBeforeChange:function(){return e.onTouchStart()},style:{alignSelf:"center"},min:0,max:2*(this.props.upperRange+1),step:this.props.step,value:[this.fluxConverter(this.state.lowerBound),this.fluxConverter(this.state.upperBound)],marks:r({},this.fluxConverter(this.state.currentFlux),""),tipFormatter:function(){return null},allowCross:!1,pushable:0,onChange:function(t){return e.sliderChange(e.boundConverter(t))},onAfterChange:function(t){return e.onTouchEnd(e.boundConverter(t))}}),Object(l.h)("div",{className:"indicator",style:this.state.indicatorStyle},Object(l.h)("svg",{viewBox:"0 0 100 100",height:"100%",width:"100%"},Object(l.h)("defs",null,Object(l.h)("marker",{id:"markerArrow1",viewBox:"0 0 6 6",refX:"4",refY:"3",orient:"auto"},Object(l.h)("path",{d:"M5,3 L3,5 L3,1 Z",fill:"black",stroke:"black"}))),Object(l.h)("line",{x1:"50",y1:"75",x2:"50",y2:"20","stroke-width":"25",stroke:"black","marker-end":"url(#markerArrow1)"}))),Object(l.h)("div",{className:"fluxDisplay",style:this.state.fluxDisplayStyle},"Current Flux: ",null===this.state.currentFlux?"":this.state.currentFlux.toFixed(2))),Object(l.h)("div",{className:"interfacePanel"},Object(l.h)("div",{className:"labels"},Object(l.h)("div",{style:{fontSize:"12px"}},"Lower bound"),Object(l.h)("div",{style:{fontSize:"12px"}},"Upper bound")),Object(l.h)("div",{className:"inputPanel"},Object(l.h)("input",{type:"text",className:"input",value:this.state.lowerBoundString,onFocus:function(e){return e.target.select()},onKeyUp:function(t){return e.handleKeyUp(t,[t.target.value,e.state.upperBoundString])}}),Object(l.h)("input",{type:"text",className:"input",value:this.state.upperBoundString,onFocus:function(e){return e.target.select()},onKeyUp:function(t){return e.handleKeyUp(t,[e.state.lowerBound,t.target.value])}})),Object(l.h)("div",{className:"buttonBar"},Object(l.h)("button",{className:"button",onClick:function(){return e.sliderChange([0,0])}},"Knockout"),Object(l.h)("button",{className:"button",onClick:function(){return e.resetReaction()}},"Reset"),Object(l.h)("button",{className:i?"active":"",onClick:function(){return e.props.setObjective(e.props.biggId,1)},disabled:o},"Maximize"),Object(l.h)("button",{className:t?"active":"",onClick:function(){return e.props.setObjective(e.props.biggId,-1)},disabled:n},"Minimize"))))}if("reaction"!==this.state.type||this.state.reactionInModel){var a=this.decompartmentalizeCheck(this.props.biggId,this.props.type);return Object(l.h)("div",{className:"Tooltip",style:Object.assign({},this.state.tooltipStyle,{touchAction:"none",height:"fit-content",width:"250px"})},Object(l.h)("div",{className:"biggId"},this.props.biggId),Object(l.h)("div",{className:"name"},this.props.name),Object(l.h)("button",{className:"button",style:{width:"fit-content",marginTop:"10px"},onClick:function(){return e.openBigg()}},"Open ",a," in BiGG Models"))}return Object(l.h)("div",{className:"Tooltip",style:Object.assign({},_,{height:"50px",width:"400px"})},Object(l.h)("div",{className:"biggId"},this.props.biggId," is not in the model"))}}]),t}(l.Component);t.a=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(32);Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return r(i).default}});var o=n(40);Object.defineProperty(t,"Range",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),c=n(8),u=r(c),d=n(9),f=r(d),_=n(2),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(_),b=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));r.onEnd=function(){r.setState({dragging:!1}),r.removeDocumentEvents(),r.props.onAfterChange(r.getValue())};var a=void 0!==n.defaultValue?n.defaultValue:n.min,l=void 0!==n.value?n.value:a;return r.state={value:r.trimAlignValue(l),dragging:!1},r}return a(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,n=void 0!==e.value?e.value:t,r=this.trimAlignValue(n,e);r!==t&&(this.setState({value:r}),p.isValueOutOfRange(n,e)&&this.props.onChange(r))}},t.prototype.onChange=function(e){var t=this.props;!("value"in t)&&this.setState(e);var n=e.value;t.onChange(n)},t.prototype.onStart=function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&this.onChange({value:r})},t.prototype.onMove=function(e,t){p.pauseEvent(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})},t.prototype.onKeyboard=function(e){var t=p.getKeyboardValueMutator(e);if(t){p.pauseEvent(e);var n=this.state,r=n.value,i=t(r,this.props),o=this.trimAlignValue(i);if(o===r)return;this.onChange({value:o})}},t.prototype.getValue=function(){return this.state.value},t.prototype.getLowerBound=function(){return this.props.min},t.prototype.getUpperBound=function(){return this.state.value},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l({},this.props,t),r=p.ensureValueInRange(e,n);return p.ensureValuePrecision(r,n)},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,i=t.included,o=t.disabled,a=t.minimumTrackStyle,c=t.trackStyle,d=t.handleStyle,f=t.min,_=t.max,p=t.handle,b=this.state,h=b.value,m=b.dragging,g=this.calcOffset(h),A=p({className:n+"-handle",vertical:r,offset:g,value:h,dragging:m,disabled:o,min:f,max:_,style:d[0]||d,ref:function(t){return e.saveHandle(0,t)}}),y=c[0]||c;return{tracks:(0,s.h)(u.default,{className:n+"-track",vertical:r,included:i,offset:0,length:g,style:l({},a,y)}),handles:A}},t}(s.Component);t.default=(0,f.default)(b)},function(e,t,n){"use strict";function r(e,t,n){function r(t){var r=new o.default(t);n.call(e,r)}return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(34),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null===e||void 0===e}function o(){return f}function a(){return _}function l(e){var t=e.type,n="function"===typeof e.stopPropagation||"boolean"===typeof e.cancelBubble;c.default.call(this),this.nativeEvent=e;var r=a;"defaultPrevented"in e?r=e.defaultPrevented?o:a:"getPreventDefault"in e?r=e.getPreventDefault()?o:a:"returnValue"in e&&(r=e.returnValue===_?o:a),this.isDefaultPrevented=r;var i=[],l=void 0,s=void 0,u=p.concat();for(b.forEach(function(e){t.match(e.reg)&&(u=u.concat(e.props),e.fix&&i.push(e.fix))}),l=u.length;l;)s=u[--l],this[s]=e[s];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),l=i.length;l;)(0,i[--l])(this,e);this.timeStamp=e.timeStamp||Date.now()}Object.defineProperty(t,"__esModule",{value:!0});var s=n(35),c=r(s),u=n(5),d=r(u),f=!0,_=!1,p=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"],b=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){i(e.which)&&(e.which=i(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=t.wheelDelta,a=t.axis,l=t.wheelDeltaY,s=t.wheelDeltaX,c=t.detail;o&&(i=o/120),c&&(i=0-(c%3===0?c/3:c)),void 0!==a&&(a===e.HORIZONTAL_AXIS?(r=0,n=0-i):a===e.VERTICAL_AXIS&&(n=0,r=i)),void 0!==l&&(r=l/120),void 0!==s&&(n=-1*s/120),n||r||(r=i),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==i&&(e.delta=i)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,o=void 0,a=e.target,l=t.button;return a&&i(e.pageX)&&!i(t.clientX)&&(n=a.ownerDocument||document,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===l||(e.which=1&l?1:2&l?3:4&l?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===a?e.toElement:e.fromElement),e}}],h=c.default.prototype;(0,d.default)(l.prototype,h,{constructor:l,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=_,h.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=f,h.stopPropagation.call(this)}}),t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(){return!1}function i(){return!0}function o(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype={isEventObject:1,constructor:o,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=i},stopPropagation:function(){this.isPropagationStopped=i},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e,t,n,r,i,o){var a=Object.keys(t).map(parseFloat);if(n)for(var l=i;l<=o;l+=r)a.indexOf(l)>=0||a.push(l);return a},s=function(e){var t=e.prefixCls,n=e.vertical,o=e.marks,s=e.dots,c=e.step,u=e.included,d=e.lowerBound,f=e.upperBound,_=e.max,p=e.min,b=e.dotStyle,h=e.activeDotStyle,m=_-p,g=l(0,o,s,c,p,_).map(function(e){var o,l=Math.abs(e-p)/m*100+"%",s=!u&&e===f||u&&e<=f&&e>=d,c=n?r({bottom:l},b):r({left:l},b);s&&(c=r({},c,h));var _=(0,a.default)((o={},o[t+"-dot"]=!0,o[t+"-dot-active"]=s,o));return(0,i.h)("span",{className:_,style:c,key:e})});return(0,i.h)("div",{className:t+"-step"},g)};t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),a=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(e){var t=e.className,n=e.vertical,a=e.marks,s=e.included,c=e.upperBound,u=e.lowerBound,d=e.max,f=e.min,_=Object.keys(a),p=_.length,b=p>1?100/(p-1):100,h=.9*b,m=d-f,g=_.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var d,_=!s&&e===c||s&&e<=c&&e>=u,p=(0,l.default)((d={},d[t+"-text"]=!0,d[t+"-text-active"]=_,d)),b={marginBottom:"-50%",bottom:(e-f)/m*100+"%"},g={width:h+"%",marginLeft:-h/2+"%",left:(e-f)/m*100+"%"},A=n?b:g,y=a[e],v="object"===("undefined"===typeof y?"undefined":i(y)),x=v?y.label:y,w=v?r({},A,y.style):A;return(0,o.h)("span",{className:p,style:w,key:e},x)});return(0,o.h)("div",{className:t},g)};t.default=s},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),c=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.vertical,i=e.offset,o=e.style,a=e.disabled,c=e.min,u=e.max,d=e.value,f=r(e,["className","vertical","offset","style","disabled","min","max","value"]),_=n?{bottom:i+"%"}:{left:i+"%"},p=l({},o,_),b={};return void 0!==d&&(b=l({},b,{"aria-valuemin":c,"aria-valuemax":u,"aria-valuenow":d,"aria-disabled":!!a})),(0,s.h)("div",l({role:"slider","aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,tabIndex:"0"},b,f,{className:t,style:p}))},t}(s.Component);t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};r.isTextModifyingKeyEvent=function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F13)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},r.isCharacterKey=function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigation.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),c=n(1),u=r(c),d=n(41),f=r(d),_=n(8),p=r(_),b=n(9),h=r(b),m=n(2),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),A=function(e){function t(n){i(this,t);var r=o(this,e.call(this,n));r.onEnd=function(){r.setState({handle:null}),r.removeDocumentEvents(),r.props.onAfterChange(r.getValue())};var a=n.count,l=n.min,s=n.max,c=Array.apply(null,Array(a+1)).map(function(){return l}),u="defaultValue"in n?n.defaultValue:c,d=void 0!==n.value?n.value:u,f=d.map(function(e){return r.trimAlignValue(e)}),_=f[0]===s?0:f.length-1;return r.state={handle:null,recent:_,bounds:f},r}return a(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!(0,f.default)(this.props.value,e.value))){var n=this.state.bounds,r=e.value||n,i=r.map(function(n){return t.trimAlignValue(n,e)});i.length===n.length&&i.every(function(e,t){return e===n[t]})||(this.setState({bounds:i}),n.some(function(t){return g.isValueOutOfRange(t,e)})&&this.props.onChange(i))}},t.prototype.onChange=function(e){var t=this.props;"value"in t?void 0!==e.handle&&this.setState({handle:e.handle}):this.setState(e);var n=l({},this.state,e),r=n.bounds;t.onChange(r)},t.prototype.onStart=function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var o=this.getClosestBound(i),a=this.getBoundNeedMoving(i,o);if(this.setState({handle:a,recent:a}),i!==r[a]){var l=[].concat(n.bounds);l[a]=i,this.onChange({bounds:l})}},t.prototype.onMove=function(e,t){g.pauseEvent(e);var n=this.props,r=this.state,i=this.calcValueByPos(t);if(i!==r.bounds[r.handle]){var o=[].concat(r.bounds);o[r.handle]=i;var a=r.handle;if(!1!==n.pushable){var l=r.bounds[a];this.pushSurroundingHandles(o,a,l)}else n.allowCross&&(o.sort(function(e,t){return e-t}),a=o.indexOf(i));this.onChange({handle:a,bounds:o})}},t.prototype.onKeyboard=function(e){var t=this,n=g.getKeyboardValueMutator(e);if(n){var r=Object.keys(this.handlesRefs).reduce(function(e,n,r){return null!==e?e:t.handlesRefs[n].base===document.activeElement?r:e},null);if(null===r)return void console.log("No handle ref");g.pauseEvent(e);var i=this.state.bounds[r],o=n(i,this.props),a=this.trimAlignValue(o);if(a===i)return;var l=[].concat(this.state.bounds);l[r]=a;var s=r;if(!1!==this.props.pushable){var c=this.state.bounds[s];this.pushSurroundingHandles(l,s,c)}else this.props.allowCross&&(l.sort(function(e,t){return e-t}),s=l.indexOf(a));this.onChange({handle:s,bounds:l})}},t.prototype.getValue=function(){return this.state.bounds},t.prototype.getClosestBound=function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;++r)e>t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n},t.prototype.getBoundNeedMoving=function(e,t){var n=this.state,r=n.bounds,i=n.recent,o=t,a=r[t+1]===r[t];return a&&(o=i),a&&e!==r[t+1]&&(o=e<r[t+1]?t:t+1),o},t.prototype.getLowerBound=function(){return this.state.bounds[0]},t.prototype.getUpperBound=function(){var e=this.state.bounds;return e[e.length-1]},t.prototype.getPoints=function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var a=l({},t);if(null!==n)for(var s=r;s<=i;s+=n)a[s]=s;var c=Object.keys(a).map(parseFloat);c.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:c}}return this._getPointsCache.points},t.prototype.pushSurroundingHandles=function(e,t,n){var r=this.props.pushable,i=e[t],o=0;if(e[t+1]-i<r&&(o=1),i-e[t-1]<r&&(o=-1),0!==o){var a=t+o,l=o*(e[a]-i);this.pushHandle(e,a,o,r-l)||(e[t]=n)}},t.prototype.pushHandle=function(e,t,n,r){for(var i=e[t],o=e[t];n*(o-i)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;o=e[t]}return!0},t.prototype.pushHandleOnePoint=function(e,t,n){var r=this.getPoints(),i=r.indexOf(e[t]),o=i+n;if(o>=r.length||o<0)return!1;var a=t+n,l=r[o],s=this.props.pushable,c=n*(e[a]-l);return!!this.pushHandle(e,a,n,s-c)&&(e[t]=l,!0)},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l({},this.props,t),r=g.ensureValueInRange(e,n),i=this.ensureValueNotConflict(r,n);return g.ensureValuePrecision(i,n)},t.prototype.ensureValueNotConflict=function(e,t){var n=t.allowCross,r=this.state||{},i=r.handle,o=r.bounds;if(!n&&null!=i){if(i>0&&e<=o[i-1])return o[i-1];if(i<o.length-1&&e>=o[i+1])return o[i+1]}return e},t.prototype.render=function(){var e=this,t=this.state,n=t.handle,r=t.bounds,i=this.props,o=i.prefixCls,a=i.vertical,l=i.included,c=i.disabled,d=i.min,f=i.max,_=i.handle,b=i.trackStyle,h=i.handleStyle,m=r.map(function(t){return e.calcOffset(t)}),g=o+"-handle",A=r.map(function(t,r){var i;return _({className:(0,u.default)((i={},i[g]=!0,i[g+"-"+(r+1)]=!0,i)),vertical:a,offset:m[r],value:t,dragging:n===r,index:r,min:d,max:f,disabled:c,style:h[r],ref:function(t){return e.saveHandle(r,t)}})});return{tracks:r.slice(0,-1).map(function(e,t){var n,r=t+1,i=(0,u.default)((n={},n[o+"-track"]=!0,n[o+"-track-"+r]=!0,n));return(0,s.h)(p.default,{className:i,vertical:a,included:l,offset:m[r-1],length:m[r]-m[r-1],style:b[t],key:r})}),handles:A}},t}(s.Component);A.defaultProps={count:1,allowCross:!0,pushable:!1},t.default=(0,h.default)(A)},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),s=0;s<o.length;s++){var c=o[s];if(!l(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){if(null===e)return null;var t=new l;return t.reactions=e.reactions.map(function(e){var t=0;return e.objective_coefficient&&0!==e.objective_coefficient&&(t=e.objective_coefficient<0?-1:1),Object.assign({},e,{objective_coefficient:t})}),t.metabolites=e.metabolites.map(function(e){return Object.assign({},e)}),t.genes=e.genes.map(function(e){return Object.assign({},e)}),t.id=e.id,t.notes=e.notes,t.description=e.description,t}t.a=i;var o=n(45),a=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function(){function e(){r(this,e)}return a(e,[{key:"buildGlpkProblem",value:function(){var e=this.metabolites.length,t=this.reactions.length,n=[],r=[],i=[],a={},l=Object(o.glp_create_prob)();Object(o.glp_set_prob_name)(l,"knockout FBA"),Object(o.glp_set_obj_dir)(l,o.GLP_MAX),Object(o.glp_add_rows)(l,e),Object(o.glp_add_cols)(l,t),this.metabolites.forEach(function(e,t){var n=t+1;Object(o.glp_set_row_name)(l,n,e.id),Object(o.glp_set_row_bnds)(l,n,o.GLP_FX,0,0),a[e.id]=n});var s=1;return this.reactions.forEach(function(e,t){var c=t+1;Object(o.glp_set_col_name)(l,c,e.id),e.lower_bound===e.upper_bound?Object(o.glp_set_col_bnds)(l,c,o.GLP_FX,e.lower_bound,e.upper_bound):Object(o.glp_set_col_bnds)(l,c,o.GLP_DB,e.lower_bound,e.upper_bound),"objective_coefficient"in e&&Object(o.glp_set_obj_coef)(l,c,e.objective_coefficient);for(var u in e.metabolites)n[s]=a[u],r[s]=c,i[s]=e.metabolites[u],s++}),Object(o.glp_load_matrix)(l,n.length-1,n,r,i),l}},{key:"optimize",value:function(){var e=this.buildGlpkProblem(),t=new o.SMCP({presolve:o.GLP_ON}),n=Object(o.glp_simplex)(e,t),r=null,i=null;if(0===n){r=Object(o.glp_get_obj_val)(e),i={};for(var a=1;a<=Object(o.glp_get_num_cols)(e);a++)i[Object(o.glp_get_col_name)(e,a)]=Object(o.glp_get_col_prim)(e,a)}else console.error("Invalid Solution");return new s(r,i)}}]),e}(),s=function e(t,n){r(this,e),this.objectiveValue=t,this.fluxes=n}},function(e,t){!function(e){function t(e){if(!e)throw new Error("assert")}function n(e){throw new Error(e)}function r(e,t){for(var n in t)e[n]=t[n]}function i(e,t,n,r,i){for(;i>0;t++,r++,i--)e[t]=n[r]}function o(e,t,n,r){for(;r>0;t++,r--)e[t]=n}function a(e,t,n){for(;n>0;t++,n--)e[t]={}}function l(){return(new Date).getTime()}function s(e,t){return(e-t)/1e3}function c(e,t,n,r){var o=new Array(n);i(o,0,e,t,n),o.sort(r),i(e,t,o,0,n)}function u(){return Xl}function d(e){return" \t\n\v\f\r".indexOf(e)>=0}function f(e){var t="string"==typeof e?e.charCodeAt(0):-1;return t>=0&&t<=31||127==t}function _(e){var t="string"==typeof e?e.charCodeAt(0):-1;return t>=65&&t<=90||t>=97&&t<=122}function p(e){var t="string"==typeof e?e.charCodeAt(0):-1;return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function b(e){var t="string"==typeof e?e.charCodeAt(0):-1;return t>=48&&t<=57}function h(e,t){return e.indexOf(t)}function m(e){return e.toLowerCase()}function g(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],i=function(e,t,n,r){n||(n=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e},o=function(e,t,n,r,o,a){var l=r-e.length;return l>0&&(e=n||!o?i(e,r,a,n):e.slice(0,t.length)+i("",l,"0",!0)+e.slice(t.length)),e},a=function(e,t,n,r,a,l,s){var c=e>>>0;return n=n&&c&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+i(c.toString(t),l||0,"0",!1),o(e,n,r,a,s)},l=function(e,t,n,r,i,a){return null!=r&&(e=e.slice(0,r)),o(e,"",t,n,i,a)},s=function(e,r,s,c,u,d,f){var _,p,b,h,m;if("%%"==e)return"%";for(var g=!1,A="",y=!1,v=!1,x=" ",w=s.length,k=0;s&&k<w;k++)switch(s.charAt(k)){case" ":A=" ";break;case"+":A="+";break;case"-":g=!0;break;case"'":x=s.charAt(k+1);break;case"0":y=!0;break;case"#":v=!0}if(c=c?"*"==c?+t[n++]:"*"==c.charAt(0)?+t[c.slice(1,-1)]:+c:0,c<0&&(c=-c,g=!0),!isFinite(c))throw new Error("sprintf: (minimum-)width must be finite");switch(d=d?"*"==d?+t[n++]:"*"==d.charAt(0)?+t[d.slice(1,-1)]:+d:"fFeE".indexOf(f)>-1?6:"d"==f?0:void 0,m=r?t[r.slice(0,-1)]:t[n++],f){case"s":return l(String(m),g,c,d,y,x);case"c":return l(String.fromCharCode(+m),g,c,d,y);case"b":return a(m,2,v,g,c,d,y);case"o":return a(m,8,v,g,c,d,y);case"x":return a(m,16,v,g,c,d,y);case"X":return a(m,16,v,g,c,d,y).toUpperCase();case"u":return a(m,10,v,g,c,d,y);case"i":case"d":return _=+m||0,_=Math.round(_-_%1),p=_<0?"-":A,m=p+i(String(Math.abs(_)),d,"0",!1),o(m,p,g,c,y);case"e":case"E":case"f":case"F":case"g":case"G":return _=+m,p=_<0?"-":A,b=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],m=p+Math.abs(_)[b](d),o(m,p,g,c,y)[h]();default:return e}};return r.replace(e,s)}function A(e){e.magic=$l,e.parms=null,e.tree=null,e.name=null,e.obj=null,e.dir=Hc,e.c0=0,e.m_max=100,e.n_max=200,e.m=e.n=0,e.nnz=0,e.row=new Array(1+e.m_max),e.col=new Array(1+e.n_max),e.r_tree={},e.c_tree={},e.valid=0,e.head=new Int32Array(1+e.m_max),e.bfcp=null,e.bfd=null,e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.it_cnt=0,e.some=0,e.ipt_stat=pu,e.ipt_obj=0,e.mip_stat=pu,e.mip_obj=0}function y(e){e.magic=1061109567,e.parms=null,t(null==e.tree),e.row=null,e.col=null,e.r_tree=null,e.c_tree=null,e.head=null,e.bfcp=null,e.bfd=null}function v(e){var t={};dc(e,t),S(e.bfd,t)}function x(e,r,i,o,a,l,s,c){var u,d,f,_,p,b,h,m,g,A=0;for(e.pbs_stat==pu&&n("glp_analyze_row: primal basic solution components are undefined"),e.dbs_stat!=bu&&n("glp_analyze_row: basic solution is not dual feasible"),0<=r&&r<=e.n||n("glp_analyze_row: len = "+r+"; invalid row length"),h=0,u=1;u<=r;u++)d=i[u],1<=d&&d<=e.m+e.n||n("glp_analyze_row: ind["+u+"] = "+d+"; row/column index out of range"),d<=e.m?(e.row[d].stat==tu&&n("glp_analyze_row: ind["+u+"] = "+d+"; basic auxiliary variable is not allowed"),p=e.row[d].prim):(e.col[d-e.m].stat==tu&&n("glp_analyze_row: ind["+u+"] = "+d+"; basic structural variable is not allowed"),p=e.col[d-e.m].prim),h+=o[u]*p;if(a==Xc){if(h>=l)return A=1;f=1}else if(a==Jc){if(h<=l)return A=1;f=-1}else n("glp_analyze_row: type = "+a+"; invalid parameter");return m=l-h,0==(_=xc(e,r,i,o,f,s))?A=2:(d=i[_],t(1<=d&&d<=e.m+e.n),p=d<=e.m?e.row[d].prim:e.col[d-e.m].prim,t(0!=o[_]),b=m/o[_],g=d<=e.m?e.row[d].dual*b:e.col[d-e.m].dual*b,c(_,p,b,h,m,g),A)}function w(e){return e.reason!=id&&n("glp_ios_pool_size: operation not allowed"),t(null!=e.local),e.local.size}function k(e,r,i,o,a,l,s,c,u){return e.reason!=id&&n("glp_ios_add_row: operation not allowed"),t(null!=e.local),se(e,e.local,r,i,o,a,l,s,c,u)}function C(e,t){return 1<=t&&t<=e.mip.n||n("glp_ios_can_branch: j = "+t+"; column number out of range"),e.non_int[t]}function B(e,n){var r,i,o,a=e.mip,l=e.orig_m,s=e.n;for(t(a.m>=l),t(a.n==s),o=a.c0,i=1;i<=s;i++){var c=a.col[i];if(c.kind==qc&&n[i]!=Math.floor(n[i]))return 1;o+=c.coef*n[i]}if(a.mip_stat==bu)switch(a.dir){case Hc:if(o>=e.mip.mip_obj)return 1;break;case Wc:if(o<=e.mip.mip_obj)return 1;break;default:t(a!=a)}for(e.parm.msg_lev>=Cu&&Zl("Solution found by heuristic: "+o),a.mip_stat=bu,a.mip_obj=o,i=1;i<=s;i++)a.col[i].mipx=n[i];for(r=1;r<=l;r++){var u,d=a.row[r];for(d.mipx=0,u=d.ptr;null!=u;u=u.r_next)d.mipx+=u.val*u.col.mipx}return 0}function E(e,t){var n={};return n.root=null,n.fcmp=e,n.info=t,n.size=0,n.height=0,n}function M(e,t){var n,r,i,o;for(n=null,r=e.root;null!=r;)n=r,e.fcmp(e.info,t,n.key)<=0?(o=0,r=n.left,n.rank++):(o=1,r=n.right);for(i={},i.key=t,i.type=0,i.link=null,i.rank=1,i.up=n,i.flag=null==n?0:o,i.bal=0,i.left=null,i.right=null,e.size++,null==n?e.root=i:0==o?n.left=i:n.right=i;null!=n;)if(0==o){if(n.bal>0){n.bal=0;break}if(n.bal<0){D(e,n);break}n.bal=-1,o=n.flag,n=n.up}else{if(n.bal<0){n.bal=0;break}if(n.bal>0){D(e,n);break}n.bal=1,o=n.flag,n=n.up}return null==n&&e.height++,i}function j(e,t){e.link=t}function O(e,t){var n,r;for(n=e.root;null!=n&&0!=(r=e.fcmp(e.info,t,n.key));)n=r<0?n.left:n.right;return n}function I(e){return e.link}function D(e,n){var r,i,o,a,l,s;return t(null!=n),i=n,i.bal<0?(r=i.up,o=i.left,a=o.right,o.bal<=0?(null==r?e.root=o:0==i.flag?r.left=o:r.right=o,i.rank-=o.rank,o.up=r,o.flag=i.flag,o.bal++,o.right=i,i.up=o,i.flag=1,i.bal=-o.bal,i.left=a,null!=a&&(a.up=i,a.flag=0),n=o):(l=a.left,s=a.right,null==r?e.root=a:0==i.flag?r.left=a:r.right=a,i.rank-=o.rank+a.rank,a.rank+=o.rank,i.bal=a.bal>=0?0:1,o.bal=a.bal<=0?0:-1,a.up=r,a.flag=i.flag,a.bal=0,a.left=o,a.right=i,i.up=a,i.flag=1,i.left=s,o.up=a,o.flag=0,o.right=l,null!=l&&(l.up=o,l.flag=1),null!=s&&(s.up=i,s.flag=0),n=a)):(r=i.up,o=i.right,a=o.left,o.bal>=0?(null==r?e.root=o:0==i.flag?r.left=o:r.right=o,o.rank+=i.rank,o.up=r,o.flag=i.flag,o.bal--,o.left=i,i.up=o,i.flag=0,i.bal=-o.bal,i.right=a,null!=a&&(a.up=i,a.flag=1),n=o):(l=a.left,s=a.right,null==r?e.root=a:0==i.flag?r.left=a:r.right=a,o.rank-=a.rank,a.rank+=i.rank,i.bal=a.bal<=0?0:-1,o.bal=a.bal>=0?0:1,a.up=r,a.flag=i.flag,a.bal=0,a.left=i,a.right=o,i.up=a,i.flag=0,i.right=l,o.up=a,o.flag=1,o.left=s,null!=l&&(l.up=i,l.flag=1),null!=s&&(s.up=o,s.flag=0),n=a)),n}function N(){var e={};return e.valid=0,e.type=yu,e.fhv=null,e.lpf=null,e.lu_size=0,e.piv_tol=.1,e.piv_lim=4,e.suhl=1,e.eps_tol=1e-15,e.max_gro=1e10,e.nfs_max=100,e.upd_tol=1e-6,e.nrs_max=100,e.rs_size=1e3,e.upd_lim=-1,e.upd_cnt=0,e}function S(e,n){t(null!=e),e.type=n.type,e.lu_size=n.lu_size,e.piv_tol=n.piv_tol,e.piv_lim=n.piv_lim,e.suhl=n.suhl,e.eps_tol=n.eps_tol,e.max_gro=n.max_gro,e.nfs_max=n.nfs_max,e.upd_tol=n.upd_tol,e.nrs_max=n.nrs_max,e.rs_size=n.rs_size}function L(e,n,r,i,o){var a,l;switch(t(null!=e),t(1<=n&&n<=Vl),e.valid=0,l=0,e.type){case yu:e.lpf=null,null==e.fhv&&(e.fhv=U(),l=1);break;case vu:case xu:e.fhv=null,null==e.lpf&&(e.lpf=Ze(),l=1);break;default:t(e!=e)}if(null!=e.fhv?a=e.fhv.luf:null!=e.lpf?a=e.lpf.luf:t(e!=e),l&&(a.new_sva=e.lu_size),a.piv_tol=e.piv_tol,a.piv_lim=e.piv_lim,a.suhl=e.suhl,a.eps_tol=e.eps_tol,a.max_gro=e.max_gro,null!=e.fhv&&(l&&(e.fhv.hh_max=e.nfs_max),e.fhv.upd_tol=e.upd_tol),null!=e.lpf&&(l&&(e.lpf.n_max=e.nrs_max),l&&(e.lpf.v_size=e.rs_size)),null!=e.fhv)switch(R(e.fhv,n,i,o)){case 0:break;case Dc:return Cc;case Nc:return Bc;default:t(e!=e)}else if(null!=e.lpf)switch(Xe(e.lpf,n,r,i,o)){case 0:switch(e.type){case vu:e.lpf.scf.t_opt=Lh;break;case xu:e.lpf.scf.t_opt=Th;break;default:t(e!=e)}break;case Cd:return Cc;case LPF_ECOND:return Bc;default:t(e!=e)}else t(e!=e);return e.valid=1,e.upd_cnt=0,0}function T(e,n){t(null!=e),t(e.valid),null!=e.fhv?Y(e.fhv,n):null!=e.lpf?rt(e.lpf,n):t(e!=e)}function z(e,n){t(null!=e),t(e.valid),null!=e.fhv?H(e.fhv,n):null!=e.lpf?it(e.lpf,n):t(e!=e)}function P(e,n,r,i,o,a,l){if(t(null!=e),t(e.valid),null!=e.fhv)switch(W(e.fhv,n,i,o,a,l)){case 0:break;case Dc:return e.valid=0,Cc;case Sc:return e.valid=0,Ec;case Lc:return e.valid=0,Mc;case Tc:return e.valid=0,jc;default:t(e!=e)}else if(null!=e.lpf)switch(at(e.lpf,n,r,i,o,a,l)){case 0:break;case Cd:return e.valid=0,Cc;case LPF_ELIMIT:return e.valid=0,Mc;default:t(e!=e)}else t(e!=e);return e.upd_cnt++,0}function F(e){return t(null!=e),t(e.valid),e.upd_cnt}function Q(e,n){t(null!=e),t(null!=n)}function U(){var e;return e={},e.m_max=e.m=0,e.valid=0,e.luf=It(),e.hh_max=50,e.hh_nfs=0,e.hh_ind=e.hh_ptr=e.hh_len=null,e.p0_row=e.p0_col=null,e.cc_ind=null,e.cc_val=null,e.upd_tol=1e-6,e.nnz_h=0,e}function R(e,r,o,a){switch(r<1&&n("fhv_factorize: m = "+r+"; invalid parameter"),r>Vl&&n("fhv_factorize: m = "+r+"; matrix too big"),e.m=r,e.valid=0,null==e.hh_ind&&(e.hh_ind=new Int32Array(1+e.hh_max)),null==e.hh_ptr&&(e.hh_ptr=new Int32Array(1+e.hh_max)),null==e.hh_len&&(e.hh_len=new Int32Array(1+e.hh_max)),e.m_max<r&&(e.m_max=r+100,e.p0_row=new Int32Array(1+e.m_max),e.p0_col=new Int32Array(1+e.m_max),e.cc_ind=new Int32Array(1+e.m_max),e.cc_val=new Float64Array(1+e.m_max)),Ut(e.luf,r,o,a)){case 0:break;case Lf:return Dc;case Tf:return Nc;default:t(e!=e)}return e.valid=1,e.hh_nfs=0,i(e.p0_row,1,e.luf.pp_row,1,r),i(e.p0_col,1,e.luf.pp_col,1,r),e.nnz_h=0,0}function G(e,t,r){var i,o,a,l,s,c,u=e.hh_nfs,d=e.hh_ind,f=e.hh_ptr,_=e.hh_len,p=e.luf.sv_ind,b=e.luf.sv_val;if(e.valid||n("fhv_h_solve: the factorization is not valid"),t){for(o=u;o>=1;o--)if(i=d[o],0!=(c=r[i]))for(a=f[o],l=a+_[o]-1,s=a;s<=l;s++)r[p[s]]-=b[s]*c}else for(o=1;o<=u;o++){for(i=d[o],c=r[i],a=f[o],l=a+_[o]-1,s=a;s<=l;s++)c-=b[s]*r[p[s]];r[i]=c}}function Y(e,t){var r=e.luf.pp_row,i=e.luf.pp_col,o=e.p0_row,a=e.p0_col;e.valid||n("fhv_ftran: the factorization is not valid"),e.luf.pp_row=o,e.luf.pp_col=a,Rt(e.luf,0,t),e.luf.pp_row=r,e.luf.pp_col=i,G(e,0,t),Gt(e.luf,0,t)}function H(e,t){var r=e.luf.pp_row,i=e.luf.pp_col,o=e.p0_row,a=e.p0_col;e.valid||n("fhv_btran: the factorization is not valid"),Gt(e.luf,1,t),G(e,1,t),e.luf.pp_row=o,e.luf.pp_col=a,Rt(e.luf,1,t),e.luf.pp_row=r,e.luf.pp_col=i}function W(e,r,o,a,l,s){var c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k,C,B,E=e.m,M=e.luf,j=M.vr_ptr,O=M.vr_len,I=M.vr_cap,D=M.vr_piv,N=M.vc_ptr,S=M.vc_len,L=M.vc_cap,T=M.pp_row,z=M.pp_col,P=M.qq_row,F=M.qq_col,Q=M.sv_ind,U=M.sv_val,R=M.work,Y=M.eps_tol,H=e.hh_ind,W=e.hh_ptr,V=e.hh_len,q=e.p0_row,K=e.p0_col,Z=e.cc_ind,X=e.cc_val,J=e.upd_tol;if(e.valid||n("fhv_update_it: the factorization is not valid"),1<=r&&r<=E||n("fhv_update_it: j = "+r+"; column number out of range"),e.hh_nfs==e.hh_max)return e.valid=0,Lc;for(c=1;c<=E;c++)X[c]=0;for(h=1;h<=o;h++)c=a[l+h],1<=c&&c<=E||n("fhv_update_it: ind["+h+"] = "+c+"; row number out of range"),0!=X[c]&&n("fhv_update_it: ind["+h+"] = "+c+"; duplicate row index not allowed"),0==s[h]&&n("fhv_update_it: val["+h+"] = "+s[h]+"; zero element not allowed"),X[c]=s[h];for(e.luf.pp_row=q,e.luf.pp_col=K,Rt(e.luf,0,X),e.luf.pp_row=T,e.luf.pp_col=z,G(e,0,X),o=0,c=1;c<=E;c++)0==(B=X[c])||Math.abs(B)<Y||(o++,Z[o]=c,X[o]=B);for(_=N[r],p=_+S[r]-1,b=_;b<=p;b++){for(c=Q[b],u=j[c],d=u+O[c]-1,f=u;Q[f]!=r;f++);t(f<=d),Q[f]=Q[d],U[f]=U[d],O[c]--}for(M.nnz_v-=S[r],S[r]=0,m=P[r],g=0,k=1;k<=o;k++){if(c=Z[k],O[c]+1>I[c]&&Nt(M,c,O[c]+10))return e.valid=0,M.new_sva=M.sv_size+M.sv_size,t(M.new_sva>M.sv_size),Tc;f=j[c]+O[c],Q[f]=r,U[f]=X[k],O[c]++,g<z[c]&&(g=z[c])}if(L[r]<o&&St(M,r,o))return e.valid=0,M.new_sva=M.sv_size+M.sv_size,t(M.new_sva>M.sv_size),Tc;if(b=N[r],i(Q,b,Z,1,o),i(U,b,X,1,o),S[r]=o,M.nnz_v+=o,m>g)return e.valid=0,Dc;for(c=T[m],r=F[m],h=m;h<g;h++)T[h]=T[h+1],z[T[h]]=h,F[h]=F[h+1],P[F[h]]=h;for(T[g]=c,z[c]=g,F[g]=r,P[r]=g,r=1;r<=E;r++)R[r]=0;for(u=j[c],d=u+O[c]-1,f=u;f<=d;f++){for(r=Q[f],R[r]=U[f],_=N[r],p=_+S[r]-1,b=_;Q[b]!=c;b++);t(b<=p),Q[b]=Q[p],U[b]=U[p],S[r]--}if(M.nnz_v-=O[c],O[c]=0,e.hh_nfs++,H[e.hh_nfs]=c,V[e.hh_nfs]=0,M.sv_end-M.sv_beg<g-m&&(Dt(M),M.sv_end-M.sv_beg<g-m))return e.valid=M.valid=0,M.new_sva=M.sv_size+M.sv_size,t(M.new_sva>M.sv_size),Tc;for(h=m;h<g;h++)if(A=T[h],y=F[h],0!=R[y]){for(C=R[y]/D[A],v=j[A],x=v+O[A]-1,w=v;w<=x;w++)R[Q[w]]-=C*U[w];M.sv_end--,Q[M.sv_end]=A,U[M.sv_end]=C,V[e.hh_nfs]++}for(0==V[e.hh_nfs]?e.hh_nfs--:(W[e.hh_nfs]=M.sv_end,e.nnz_h+=V[e.hh_nfs]),D[c]=R[F[g]],o=0,h=g+1;h<=E;h++)if(r=F[h],B=R[r],!(Math.abs(B)<Y)){if(S[r]+1>L[r]&&St(M,r,S[r]+10))return e.valid=0,M.new_sva=M.sv_size+M.sv_size,t(M.new_sva>M.sv_size),Tc;b=N[r]+S[r],Q[b]=c,U[b]=B,S[r]++,o++,Z[o]=r,X[o]=B}if(I[c]<o&&Nt(M,c,o))return e.valid=0,M.new_sva=M.sv_size+M.sv_size,t(M.new_sva>M.sv_size),Tc;for(f=j[c],i(Q,f,Z,1,o),i(U,f,X,1,o),O[c]=o,M.nnz_v+=o,B=0,c=T[g],u=j[c],d=u+O[c]-1,f=u;f<=d;f++)B<Math.abs(U[f])&&(B=Math.abs(U[f]));for(r=F[g],_=N[r],p=_+S[r]-1,b=_;b<=p;b++)B<Math.abs(U[b])&&(B=Math.abs(U[b]));return Math.abs(D[c])<J*B?(e.valid=0,Sc):0}function V(e,r){function i(e,r,i,o,a,l){var s,c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k,C,B,E=0;for(e>0&&r>0||n("triang: m = "+e+"; n = "+r+"; invalid dimension"),s=new Int32Array(1+(e>=r?e:r)),c=new Int32Array(1+e),u=new Int32Array(1+r),d=new Int32Array(1+e),f=new Int32Array(1+e),p=new Int32Array(1+r),b=new Int32Array(1+r),k=c,m=1;m<=r;m++)x=o(i,-m,s),t(0<=x&&x<=e),p[m]=k[x],k[x]=m;for(_=0,x=0;x<=e;x++)for(m=k[x];0!=m;m=p[m])b[m]=_,_=m;for(A=0,m=_;0!=m;m=b[m])p[m]=A,A=m;for(h=1;h<=e;h++)c[h]=x=o(i,+h,s),t(0<=x&&x<=r),d[h]=0,f[h]=u[x],0!=f[h]&&(d[f[h]]=h),u[x]=h;for(h=1;h<=e;h++)a[h]=0;for(m=1;m<=r;m++)l[m]=0;for(y=1,v=r;y<=v;){if(0!=(h=u[1])){for(t(1==c[h]),m=0,w=o(i,+h,s),t(0<=w&&w<=r);w>=1;w--)A=s[w],t(1<=A&&A<=r),0==l[A]&&(t(0==m),m=A);t(0!=m),a[h]=l[m]=y,y++,E++}else m=_,t(0!=m),l[m]=v,v--;for(0==p[m]?_=b[m]:b[p[m]]=b[m],0!=b[m]&&(p[b[m]]=p[m]),w=o(i,-m,s),t(0<=w&&w<=e);w>=1;w--)h=s[w],t(1<=h&&h<=e),x=c[h],t(x>=1),0==d[h]?u[x]=f[h]:f[d[h]]=f[h],0!=f[h]&&(d[f[h]]=d[h]),c[h]=--x,d[h]=0,f[h]=u[x],0!=f[h]&&(d[f[h]]=h),u[x]=h}for(h=1;h<=e;h++)0==a[h]&&(a[h]=y++);for(m=1;m<=r;m++)t(0!=l[m]);for(C=c,g=1;g<=e;g++)C[g]=0;for(h=1;h<=e;h++)g=a[h],t(1<=g&&g<=e),t(0==C[g]),C[g]=h;for(B=u,A=1;A<=r;A++)B[A]=0;for(m=1;m<=r;m++)A=l[m],t(1<=A&&A<=r),t(0==B[A]),B[A]=m;for(g=1;g<=E;g++){var M=0;for(h=C[g],w=o(i,+h,s),t(0<=w&&w<=r);w>=1;w--)m=s[w],t(1<=m&&m<=r),A=l[m],A<=E&&t(A<=g),A==g&&(t(!M),M=1);t(M)}return E}function o(e,n,r){function i(t){t!=Id&&(a<=s?r[++u]=a:u=gt(e,a-s,r,null))}var o,a,l,s=lt(e),c=st(e),u=0;if(n>0){for(o=+n,t(1<=o&&o<=s),l=mt(e,o,r,null),n=1;n<=l;n++)ht(e,r[n],function(e){e!=Id&&(r[++u]=s+r[n])});ft(e,o,function(e){e!=Id&&(r[++u]=o)})}else a=-n,t(1<=a&&a<=s+c),a<=s?ft(e,a,i):ht(e,a-s,i);return u}0!=r&&n("glp_adv_basis: flags = "+r+"; invalid flags"),0==e.m||0==e.n?Rs(e):function(e){function n(e,n,r){switch(e){case Ed:h[s]=Ld;break;case Md:h[s]=Nd;break;case jd:h[s]=Sd;break;case Od:h[s]=Math.abs(n)<=Math.abs(r)?Nd:Sd;break;case Id:h[s]=Td;break;default:t(e!=e)}}var r,a,l,s,c,u,d,f,_,p=lt(e),b=st(e),h=new Int32Array(1+p+b);if(Zl("Constructing initial basis..."),0==p||0==b)return void Rs(e);for(u=new Int32Array(1+p),d=new Int32Array(1+p+b),c=i(p,p+b,e,o,u,d),jt(e,Jd)>=3&&Zl("Size of triangular part = "+c),f=new Int32Array(1+p),_=new Int32Array(1+p+b),r=1;r<=p;r++)f[u[r]]=r;for(a=1;a<=p+b;a++)_[d[a]]=a;for(s=1;s<=p+b;s++)h[s]=-1;for(l=1;l<=c;l++)a=_[l],h[a]=Dd;for(l=c+1;l<=p;l++)r=f[l],t(1<=r&&r<=p),t(d[r]>c),h[r]=Dd;for(s=1;s<=p+b;s++)h[s]!=Dd&&(s<=p?ft(e,s,n):ht(e,s-p,n));for(s=1;s<=p+b;s++)s<=p?At(e,s,h[s]):yt(e,s-p,h[s])}(e)}function q(e,n){var r=K(e),i={};return e.slot[r].node=i,i.p=r,i.up=n,i.level=null==n?0:n.level+1,i.count=0,i.b_ptr=null,i.s_ptr=null,i.r_ptr=null,i.solved=0,i.lp_obj=null==n?e.mip.dir==Hc?-Ul:+Ul:n.lp_obj,i.bound=null==n?e.mip.dir==Hc?-Ul:+Ul:n.bound,i.br_var=0,i.br_val=0,i.ii_cnt=0,i.ii_sum=0,i.changed=0,0==e.parm.cb_size?i.data=null:i.data={},i.temp=null,i.prev=e.tail,i.next=null,null==e.head?e.head=i:e.tail.next=i,e.tail=i,e.a_cnt++,e.n_cnt++,e.t_cnt++,null==n?t(1==r):n.count++,i}function K(e){var n;if(0==e.avail){var r=e.nslots,o=e.slot;for(0==r?e.nslots=20:(e.nslots=r+r,t(e.nslots>r)),e.slot=new Array(1+e.nslots),a(e.slot,0,1+e.nslots),null!=o&&i(e.slot,1,o,1,r),n=e.nslots;n>r;n--)e.slot[n].node=null,e.slot[n].next=e.avail,e.avail=n}return n=e.avail,e.avail=e.slot[n].next,t(null==e.slot[n].node),e.slot[n].next=0,n}function Z(e,n){var r,i,o,a=e.m,s=e.n;for(t(null==e.tree),e.tree=r={},r.n=s,r.orig_m=a,r.orig_type=new Int8Array(1+a+s),r.orig_lb=new Float64Array(1+a+s),r.orig_ub=new Float64Array(1+a+s),r.orig_stat=new Int8Array(1+a+s),r.orig_prim=new Float64Array(1+a+s),r.orig_dual=new Float64Array(1+a+s),i=1;i<=a;i++){var c=e.row[i];r.orig_type[i]=c.type,r.orig_lb[i]=c.lb,r.orig_ub[i]=c.ub,r.orig_stat[i]=c.stat,r.orig_prim[i]=c.prim,r.orig_dual[i]=c.dual}for(o=1;o<=s;o++){var u=e.col[o];r.orig_type[a+o]=u.type,r.orig_lb[a+o]=u.lb,r.orig_ub[a+o]=u.ub,r.orig_stat[a+o]=u.stat,r.orig_prim[a+o]=u.prim,r.orig_dual[a+o]=u.dual}return r.orig_obj=e.obj_val,r.nslots=0,r.avail=0,r.slot=null,r.head=r.tail=null,r.a_cnt=r.n_cnt=r.t_cnt=0,r.root_m=0,r.root_type=null,r.root_lb=r.root_ub=null,r.root_stat=null,r.curr=null,r.mip=e,r.non_int=new Int8Array(1+s),r.pred_m=r.pred_max=0,r.pred_type=null,r.pred_lb=r.pred_ub=null,r.pred_stat=null,r.local=le(r),r.mir_gen=null,r.clq_gen=null,r.pcost=null,r.iwrk=new Int32Array(1+s),r.dwrk=new Float64Array(1+s),r.parm=n,r.tm_beg=l(),r.tm_lag=0,r.sol_cnt=0,r.reason=0,r.reopt=0,r.reinv=0,r.br_var=0,r.br_sel=0,r.child=0,r.next_p=0,r.stop=0,q(r,null),r}function X(e,n){var r,i,o,a,l,s,c=e.mip;if(t(1<=n&&n<=e.nslots),r=e.slot[n].node,t(null!=r),t(0==r.count),t(null==e.curr),e.curr=r,i=e.slot[1].node,t(null!=i),r!=i){for(t(c.m==e.root_m),r.temp=null;null!=r;r=r.up)null==r.up?t(r==i):r.up.temp=r;for(r=i;null!=r;r=r.temp){var u=c.m,d=c.n;if(null==r.temp){var f,_;if(e.pred_m=u,e.pred_max<u+d){var p=u+d+100;e.pred_max=p,e.pred_type=new Int8Array(1+p),e.pred_lb=new Float64Array(1+p),e.pred_ub=new Float64Array(1+p),e.pred_stat=new Int8Array(1+p)}for(f=1;f<=u;f++){var b=c.row[f];e.pred_type[f]=b.type,e.pred_lb[f]=b.lb,e.pred_ub[f]=b.ub,e.pred_stat[f]=b.stat}for(_=1;_<=d;_++){var h=c.col[_];e.pred_type[c.m+_]=h.type,e.pred_lb[c.m+_]=h.lb,e.pred_ub[c.m+_]=h.ub,e.pred_stat[c.m+_]=h.stat}}for(o=r.b_ptr;null!=o;o=o.next)o.k<=u?ss(c,o.k,o.type,o.lb,o.ub):cs(c,o.k-u,o.type,o.lb,o.ub);for(l=r.s_ptr;null!=l;l=l.next)l.k<=u?Qs(c,l.k,l.stat):Us(c,l.k-u,l.stat);if(null!=r.r_ptr){var m,g,A;for(g=new Int32Array(1+d),A=new Float64Array(1+d),a=r.r_ptr;null!=a;a=a.next){for(f=is(c,1),as(c,f,a.name),t(0==c.row[f].level),c.row[f].level=r.level,c.row[f].origin=a.origin,c.row[f].klass=a.klass,ss(c,f,a.type,a.lb,a.ub),m=0,s=a.ptr;null!=s;s=s.next)m++,g[m]=s.j,A[m]=s.val;ds(c,f,m,g,A),Ls(c,f,a.rii),Qs(c,f,a.stat)}}}for(r=e.curr;null!=r.b_ptr;)o=r.b_ptr,r.b_ptr=o.next;for(;null!=r.s_ptr;)l=r.s_ptr,r.s_ptr=l.next;for(;null!=r.r_ptr;)for(a=r.r_ptr,r.r_ptr=a.next,t(null==a.name);null!=a.ptr;)s=a.ptr,a.ptr=s.next}}function J(e){var n=e.mip,r=n.m,i=n.n,o=e.curr;t(null!=o);var a,l,s,c;if(null==o.up)for(t(1==o.p),t(0==e.root_m),t(null==e.root_type),t(null==e.root_lb),t(null==e.root_ub),t(null==e.root_stat),e.root_m=r,e.root_type=new Int8Array(1+r+i),e.root_lb=new Float64Array(1+r+i),e.root_ub=new Float64Array(1+r+i),e.root_stat=new Int8Array(1+r+i),a=1;a<=r+i;a++)a<=r?(s=n.row[a],e.root_type[a]=s.type,e.root_lb[a]=s.lb,e.root_ub[a]=s.ub,e.root_stat[a]=s.stat):(c=n.col[a-r],e.root_type[a]=c.type,e.root_lb[a]=c.lb,e.root_ub[a]=c.ub,e.root_stat[a]=c.stat);else{var u,d=e.root_m,f=e.pred_m;for(t(f<=r),t(null==o.b_ptr),t(null==o.s_ptr),a=1;a<=f+i;a++){var _,p,b,h,m,g,A,y;if(_=e.pred_type[a],m=e.pred_lb[a],g=e.pred_ub[a],p=e.pred_stat[a],a<=f?(s=n.row[a],b=s.type,A=s.lb,y=s.ub,h=s.stat):(c=n.col[a-f],b=c.type,A=c.lb,y=c.ub,h=c.stat),_!=b||m!=A||g!=y){var v={};v.k=a,v.type=b,v.lb=A,v.ub=y,v.next=o.b_ptr,o.b_ptr=v}if(p!=h){var x={};x.k=a,x.stat=h,x.next=o.s_ptr,o.s_ptr=x}}if(t(null==o.r_ptr),f<r){var w,k,C;for(k=new Int32Array(1+i),C=new Float64Array(1+i),l=r;l>f;l--){s=n.row[l];var B={},E=vs(n,l);for(B.name=null==E?null:E,B.type=s.type,B.lb=s.lb,B.ub=s.ub,B.ptr=null,w=js(n,l,k,C),a=1;a<=w;a++){var M={};M.j=k[a],M.val=C[a],M.next=B.ptr,B.ptr=M}B.rii=s.rii,B.stat=s.stat,B.next=o.r_ptr,o.r_ptr=B}}if(r!=d){var j=r-d;t(j>0);var O=new Int32Array(1+j);for(l=1;l<=j;l++)O[l]=d+l;ps(n,j,O)}for(r=n.m,t(r==d),l=1;l<=r;l++)ss(n,l,e.root_type[l],e.root_lb[l],e.root_ub[l]),Qs(n,l,e.root_stat[l]);for(u=1;u<=i;u++)cs(n,u,e.root_type[r+u],e.root_lb[r+u],e.root_ub[r+u]),Us(n,u,e.root_stat[r+u])}e.curr=null}function $(e,n,r,i){var o,a;for(t(1<=n&&n<=e.nslots),o=e.slot[n].node,t(null!=o),t(0==o.count),t(e.curr!=o),null==o.prev?e.head=o.next:o.prev.next=o.next,null==o.next?e.tail=o.prev:o.next.prev=o.prev,o.prev=o.next=null,e.a_cnt--,t(r>0),a=1;a<=r;a++)i[a]=q(e,o).p}function ee(e,n){var r,i;for(t(1<=n&&n<=e.nslots),r=e.slot[n].node,t(null!=r),t(0==r.count),t(e.curr!=r),null==r.prev?e.head=r.next:r.prev.next=r.next,null==r.next?e.tail=r.prev:r.next.prev=r.prev,r.prev=r.next=null,e.a_cnt--;;){for(var o;null!=r.b_ptr;)o=r.b_ptr,r.b_ptr=o.next;for(var a;null!=r.s_ptr;)a=r.s_ptr,r.s_ptr=a.next;for(;null!=r.r_ptr;){var l;for(l=r.r_ptr,l.name=null;null!=l.ptr;){var s;s=l.ptr,l.ptr=s.next}r.r_ptr=l.next}if(0==e.parm.cb_size&&t(null==r.data),n=r.p,t(e.slot[n].node==r),e.slot[n].node=null,e.slot[n].next=e.avail,e.avail=n,i=r.up,e.n_cnt--,null==(r=i)||(t(r.count>0),0!=--r.count))break}}function te(e){var n,r,i=e.mip,o=i.m,a=i.n;if(t(i.tree==e),o!=e.orig_m){var l,s;for(l=o-e.orig_m,t(l>0),s=new Int32Array(1+l),n=1;n<=l;n++)s[n]=e.orig_m+n;ps(i,l,s)}for(o=e.orig_m,t(o==e.orig_m),t(a==e.n),n=1;n<=o;n++)ss(i,n,e.orig_type[n],e.orig_lb[n],e.orig_ub[n]),Qs(i,n,e.orig_stat[n]),i.row[n].prim=e.orig_prim[n],i.row[n].dual=e.orig_dual[n];for(r=1;r<=a;r++)cs(i,r,e.orig_type[o+r],e.orig_lb[o+r],e.orig_ub[o+r]),Us(i,r,e.orig_stat[o+r]),i.col[r].prim=e.orig_prim[o+r],i.col[r].dual=e.orig_dual[o+r];i.pbs_stat=i.dbs_stat=bu,i.obj_val=e.orig_obj,t(null!=e.local),ue(e.local),t(null==e.mir_gen),t(null==e.clq_gen),i.tree=null}function ne(e,n,r){var i,o,a,l,s,c,u,d,f,_,p,b,h=e.mip,m=h.m,g=h.n,A=e.iwrk,y=e.dwrk;for(t(Hs(h)==gu),t(cc(h)),t(1<=n&&n<=g),u=h.col[n].prim,i=kt(h,m+n,A,y),o=-1;o<=1;o+=2)if(0!=(a=Ct(h,i,A,y,o,1e-9))){for(t(1<=a&&a<=m+g),l=1;l<=i&&A[l]!=a;l++);t(1<=l&&l<=i),c=y[l],a<=m?(s=h.row[a].stat,d=h.row[a].dual):(s=h.col[a-m].stat,d=h.col[a-m].dual),t(s==nu||s==ru||s==iu),h.dir==Hc?(s==nu&&d<0||s==ru&&d>0||s==iu)&&(d=0):h.dir==Wc?(s==nu&&d>0||s==ru&&d<0||s==iu)&&(d=0):t(h!=h),f=(o<0?Math.floor(u):Math.ceil(u))-u,f/=c,_=d*f,t(h.dir==Hc?_>=0:h.dir==Wc?_<=0:h!=h),o<0?p=h.obj_val+_:b=h.obj_val+_}else h.dir==Hc?o<0?p=+Ul:b=+Ul:h.dir==Wc?o<0?p=-Ul:b=-Ul:t(h!=h);r(p,b)}function re(e,n){var r,i,o,a,l,s=e.mip,c=s.n,u=e.iwrk;for(o=0,a=s.c0,r=0,i=1;i<=c;i++){var d=s.col[i];if(0!=d.coef)if(d.type==eu)a+=d.coef*d.prim;else{if(d.kind!=qc)return n;if(d.coef!=Math.floor(d.coef))return n;Math.abs(d.coef)<=Yl?u[++o]=0|Math.abs(d.coef):r=1}}if(0==r){if(0==o)return n;r=Ye(o,u)}return t(r>0),s.dir==Hc?n!=+Ul&&(l=(n-a)/r)>=Math.floor(l)+.001&&(l=Math.ceil(l),n=r*l+a):s.dir==Wc?n!=-Ul&&(l=(n-a)/r)<=Math.ceil(l)-.001&&(l=Math.floor(l),n=r*l+a):t(s!=s),n}function ie(e,n){var r,i=e.mip,o=1;if(i.mip_stat==bu)switch(r=e.parm.tol_obj*(1+Math.abs(i.mip_obj)),i.dir){case Hc:n>=i.mip_obj-r&&(o=0);break;case Wc:n<=i.mip_obj+r&&(o=0);break;default:t(i!=i)}else switch(i.dir){case Hc:n==+Ul&&(o=0);break;case Wc:n==-Ul&&(o=0);break;default:t(i!=i)}return o}function oe(e){var n,r=null;switch(e.mip.dir){case Hc:for(n=e.head;null!=n;n=n.next)(null==r||r.bound>n.bound)&&(r=n);break;case Wc:for(n=e.head;null!=n;n=n.next)(null==r||r.bound<n.bound)&&(r=n);break;default:t(e!=e)}return null==r?0:r.p}function ae(e){var n,r=e.mip;t(null!=e.curr);var i=new Ys;switch(e.parm.msg_lev){case wu:i.msg_lev=wu;break;case ku:i.msg_lev=ku;break;case Cu:case Bu:i.msg_lev=Cu;break;case Eu:i.msg_lev=Bu;break;default:t(e!=e)}if(i.meth=ju,e.parm.msg_lev<Eu?i.out_dly=e.parm.out_dly:i.out_dly=0,r.mip_stat==bu)switch(e.mip.dir){case Hc:i.obj_ul=r.mip_obj;break;case Wc:i.obj_ll=r.mip_obj;break;default:t(r!=r)}return n=Gs(r,i),e.curr.solved++,n}function le(e){t(e==e);var n={};return n.size=0,n.head=n.tail=null,n.ord=0,n.curr=null,n}function se(e,r,i,o,a,l,s,c,u,d){var f,_,p;for(t(null!=r),f={},null==i||"\0"==i[0]?f.name=null:f.name=i,0<=o&&o<=255||n("glp_ios_add_row: klass = "+o+"; invalid cut class"),f.klass=o,0!=a&&n("glp_ios_add_row: flags = "+a+"; invalid cut flags"),f.ptr=null,0<=l&&l<=e.n||n("glp_ios_add_row: len = "+l+"; invalid cut length"),p=1;p<=l;p++)_={},1<=s[p]&&s[p]<=e.n||n("glp_ios_add_row: ind["+p+"] = "+s[p]+"; column index out of range"),_.j=s[p],_.val=c[p],_.next=f.ptr,f.ptr=_;return u!=Xc&&u!=Jc&&u!=eu&&n("glp_ios_add_row: type = "+u+"; invalid cut type"),f.type=u,f.rhs=d,f.prev=r.tail,f.next=null,null==f.prev?r.head=f:f.prev.next=f,r.tail=f,++r.size}function ce(e){for(t(null!=e);null!=e.head;){var n=e.head;for(e.head=n.next;null!=n.ptr;){var r=n.ptr;n.ptr=r.next}}e.size=0,e.head=e.tail=null,e.ord=0,e.curr=null}function ue(e){t(null!=e),ce(e)}function de(e,n){function r(e,n,r,i,o){var a,l,s,c,u;for(t(e>=0),c=0,l=0,a=1;a<=e;a++)if(n[a]>0)if(r[a]==-Ul){if(0!=l){c=-Ul,l=0;break}l=a}else c+=n[a]*r[a];else if(n[a]<0)if(i[a]==+Ul){if(0!=l){c=-Ul,l=0;break}l=a}else c+=n[a]*i[a];else t(n!=n);for(o.f_min=c,o.j_min=l,u=0,s=0,a=1;a<=e;a++)if(n[a]>0)if(i[a]==+Ul){if(0!=s){u=+Ul,s=0;break}s=a}else u+=n[a]*i[a];else if(n[a]<0)if(r[a]==-Ul){if(0!=s){u=+Ul,s=0;break}s=a}else u+=n[a]*r[a];else t(n!=n);o.f_max=u,o.j_max=s}function i(e,t){t(0==e.j_min?e.f_min:-Ul,0==e.j_max?e.f_max:+Ul)}function o(e,n,r,i,o,a,l,s,c){var u,d,f,_;t(n>=0),t(1<=s&&s<=n),i==-Ul||e.f_max==+Ul?u=-Ul:0==e.j_max?r[s]>0?(t(l[s]!=+Ul),u=i-(e.f_max-r[s]*l[s])):r[s]<0?(t(a[s]!=-Ul),u=i-(e.f_max-r[s]*a[s])):t(r!=r):u=e.j_max==s?i-e.f_max:-Ul,o==+Ul||e.f_min==-Ul?d=+Ul:0==e.j_min?r[s]>0?(t(a[s]!=-Ul),d=o-(e.f_min-r[s]*a[s])):r[s]<0?(t(l[s]!=+Ul),d=o-(e.f_min-r[s]*l[s])):t(r!=r):d=e.j_min==s?o-e.f_min:+Ul,Math.abs(r[s])<1e-6?(f=-Ul,_=+Ul):r[s]>0?(f=u==-Ul?-Ul:u/r[s],_=d==+Ul?+Ul:d/r[s]):r[s]<0?(f=d==+Ul?-Ul:d/r[s],_=u==-Ul?+Ul:u/r[s]):t(r!=r),c(f,_)}function a(e,t,n,r,o){var a,l=0,s=t[n],c=r[o],u=null,d=null;return i(e,function(e,t){u=e,d=t}),s!=-Ul&&(a=.001*(1+Math.abs(s)),d<s-a)?l=1:c!=+Ul&&(a=.001*(1+Math.abs(c)),u>c+a)?l=1:(s!=-Ul&&(a=1e-12*(1+Math.abs(s)),u>s-a&&(t[n]=-Ul)),c!=+Ul&&(a=1e-12*(1+Math.abs(c)),d<c+a&&(r[o]=+Ul)),l)}function l(e,n,r,i,a,l,s,c,u,d){var f,_,p,b=0,h=null,m=null;if(t(n>=0),t(1<=u&&u<=n),_=l[u],p=s[u],o(e,n,r,i,a,l,s,u,function(e,t){h=e,m=t}),c&&(h!=-Ul&&(h=h-Math.floor(h)<.001?Math.floor(h):Math.ceil(h)),m!=+Ul&&(m=Math.ceil(m)-m<.001?Math.ceil(m):Math.floor(m))),_!=-Ul&&(f=.001*(1+Math.abs(_)),m<_-f))return b=1;if(p!=+Ul&&(f=.001*(1+Math.abs(p)),h>p+f))return b=1;if(h!=-Ul&&(f=.001*(1+Math.abs(h)),_<h-f&&(_=h)),m!=+Ul&&(f=.001*(1+Math.abs(m)),p>m+f&&(p=m)),_!=-Ul&&p!=+Ul){var g=Math.abs(_),A=Math.abs(p);f=1e-10*(1+(g<=A?g:A)),_>p-f&&(_==l[u]?p=_:p==s[u]?_=p:g<=A?p=_:_=p)}return d(_,p),b}function s(e,t,n,r,i){var o,a=0;return t<r&&(e||t==-Ul?a++:(o=n==+Ul?1+Math.abs(t):n-t+1,r-t>=.25*o&&a++)),n>i&&(e||n==+Ul?a++:(o=t==-Ul?1+Math.abs(n):n-t+1,n-i>=.25*o&&a++)),a}var c,u,d,f,_,p,b,h,m=e.mip,g=m.m,A=m.n,y=0;switch(t(null!=e.curr),_=new Float64Array(1+g),p=new Float64Array(1+g),m.mip_stat){case pu:_[0]=-Ul,p[0]=+Ul;break;case bu:switch(m.dir){case Hc:_[0]=-Ul,p[0]=m.mip_obj-m.c0;break;case Wc:_[0]=m.mip_obj-m.c0,p[0]=+Ul;break;default:t(m!=m)}break;default:t(m!=m)}for(c=1;c<=g;c++)_[c]=ks(m,c),p[c]=Cs(m,c);for(b=new Float64Array(1+A),h=new Float64Array(1+A),u=1;u<=A;u++)b[u]=Es(m,u),h[u]=Ms(m,u);for(d=g+1,f=new Int32Array(1+d),c=1;c<=d;c++)f[c]=c-1;if(function(e,n,i,o,c,u,d,f){var _,p,b,h,m,g,A,y,v,x,w,k,C,B,E=e.m,M=e.n,j={},O=0;for(t(0<=u&&u<=E+1),t(f>0),g=new Int32Array(1+M),A=new Int32Array(1+E+1),y=new Int32Array(1+E+1),v=new Int32Array(1+E+1),x=new Float64Array(1+M),w=new Float64Array(1+M),k=new Float64Array(1+M),m=0,b=1;b<=u;b++)_=d[b],t(0<=_&&_<=E),t(!y[_]),A[++m]=_,y[_]=1;for(t(m==u);m>0;)if(_=A[m--],y[_]=0,v[_]++,n[_]!=-Ul||i[_]!=+Ul){if(h=0,0==_)for(p=1;p<=M;p++)B=e.col[p],0!=B.coef&&(h++,g[h]=p,x[h]=B.coef);else{var I=e.row[_];for(C=I.ptr;null!=C;C=C.r_next)h++,g[h]=C.col.j,x[h]=C.val}for(b=1;b<=h;b++)p=g[b],w[b]=o[p],k[b]=c[p];if(r(h,x,w,k,j),a(j,n,_,i,_))return O=1;if(n[_]!=-Ul||i[_]!=+Ul)for(b=1;b<=h;b++){var D,N,S=null,L=null;if(p=g[b],B=e.col[p],D=B.kind!=Vc,l(j,h,x,n[_],i[_],w,k,D,b,function(e,t){S=e,L=t}))return O=1;if(N=s(D,o[p],c[p],S,L),o[p]=S,c[p]=L,N>0)for(C=B.ptr;null!=C;C=C.c_next){var T=C.row.i;v[T]>=f||(n[T]==-Ul&&i[T]==+Ul||0==y[T]&&(t(m<=E),A[++m]=T,y[T]=1))}}}return O}(m,_,p,b,h,d,f,n))return y=1;for(c=1;c<=g;c++)Ks(m,c)==tu&&(_[c]==-Ul&&p[c]==+Ul?ss(m,c,Zc,0,0):p[c]==+Ul?ss(m,c,Xc,_[c],0):_[c]==-Ul&&ss(m,c,Jc,0,p[c]));for(u=1;u<=A;u++){var v;v=b[u]==-Ul&&h[u]==+Ul?Zc:h[u]==+Ul?Xc:b[u]==-Ul?Jc:b[u]!=h[u]?$c:eu,cs(m,u,v,b[u],h[u])}return y}function fe(e){function n(e,n){var r,i,o,a,s,c;o=e.mip.mip_stat==bu?String(e.mip.mip_obj):"not found yet",r=oe(e),0==r?a="tree is empty":(i=e.slot[r].node.bound,a=i==-Ul?"-inf":i==+Ul?"+inf":i),e.mip.dir==Hc?s=">=":e.mip.dir==Wc?s="<=":t(e!=e),i=zc(e),c=0==i?"  0.0%":i<.001?" < 0.1%":i<=9.999?"  "+Number(100*i).toFixed(1)+"%":"",Zl("+"+e.mip.it_cnt+": "+(n?">>>>>":"mip =")+" "+o+" "+s+" "+a+" "+c+" ("+e.a_cnt+"; "+(e.t_cnt-e.n_cnt)+")"),e.tm_lag=l()}function r(e,n){return t(1<=n&&n<=e.nslots),t(null!=e.slot[n].node),ie(e,e.slot[n].node.bound)}function i(e){var n,r=e.mip,i=0,o=0,a=0,l=0,s=0;for(n=r.m;n>0;n--){var c=r.row[n];c.origin==qu&&(c.klass==Ku?i++:c.klass==Zu?o++:c.klass==Xu?a++:c.klass==Ju?l++:s++)}t(null!=e.curr),i+o+a+l+s>0&&(Zl("Cuts on level "+e.curr.level+":"),i>0&&Zl(" gmi = "+i+";"),o>0&&Zl(" mir = "+o+";"),a>0&&Zl(" cov = "+a+";"),l>0&&Zl(" clq = "+l+";"),s>0&&Zl(" app = "+s+";"),Zl(""))}for(var o,a,c,u,d,f=0,_=e.tm_beg,p=0;;){var b=null;switch(p){case 0:if(t(null==e.curr),null==e.head){e.parm.msg_lev>=Eu&&Zl("Active list is empty!"),d=0,b=3;break}if(t(0==e.next_p),null!=e.parm.cb_func&&(t(0==e.reason),e.reason=ad,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){d=wd,b=3;break}0!=e.next_p||(1==e.a_cnt?(t(null==e.head.next),e.next_p=e.head.p):0!=e.child?e.next_p=e.child:e.next_p=Re(e)),X(e,e.next_p),e.next_p=e.child=0,null!=e.curr.up&&e.curr.up.p!=f&&(f=0),o=e.curr.p,e.parm.msg_lev>=Eu&&(Zl("------------------------------------------------------------------------"),Zl("Processing node "+o+" at level "+e.curr.level)),1==o&&(e.parm.gmi_cuts==$u&&e.parm.msg_lev>=Bu&&Zl("Gomory's cuts enabled"),e.parm.mir_cuts==$u&&(e.parm.msg_lev>=Bu&&Zl("MIR cuts enabled"),t(null==e.mir_gen),e.mir_gen=xe(e)),e.parm.cov_cuts==$u&&e.parm.msg_lev>=Bu&&Zl("Cover cuts enabled"),e.parm.clq_cuts==$u&&(t(null==e.clq_gen),e.parm.msg_lev>=Bu&&Zl("Clique cuts enabled"),e.clq_gen=Oe(e)));case 1:if((e.parm.msg_lev>=Eu||e.parm.msg_lev>=Cu&&e.parm.out_frq-1<=1e3*s(l(),e.tm_lag))&&n(e,0),e.parm.msg_lev>=Bu&&s(l(),_)>=60&&(Zl("Time used: "+s(l(),e.tm_beg)+" secs"),_=l()),e.parm.mip_gap>0&&zc(e)<=e.parm.mip_gap){e.parm.msg_lev>=Eu&&Zl("Relative gap tolerance reached; search terminated "),d=kd,b=3;break}if(e.parm.tm_lim<Yl&&e.parm.tm_lim-1<=1e3*s(l(),e.tm_beg)){e.parm.msg_lev>=Eu&&Zl("Time limit exhausted; search terminated"),d=Ad,b=3;break}if(null!=e.parm.cb_func&&(t(0==e.reason),e.reason=ld,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){d=wd,b=3;break}if(e.parm.pp_tech==Yu);else if(e.parm.pp_tech==Hu){if(0==e.curr.level&&de(e,100)){b=2;break}}else if(e.parm.pp_tech==Wu){if(de(e,0==e.curr.level?100:10)){b=2;break}}else t(e!=e);if(!r(e,o)){Zl("*** not tested yet ***"),b=2;break}if(e.parm.msg_lev>=Eu&&Zl("Solving LP relaxation..."),0!=(d=ae(e))&&d!=hd&&d!=md){e.parm.msg_lev>=ku&&Zl("ios_driver: unable to solve current LP relaxation; glp_simplex returned "+d),d=bd,b=3;break}if(c=e.mip.pbs_stat,u=e.mip.dbs_stat,c==bu&&u==bu)e.parm.msg_lev>=Eu&&Zl("Found optimal solution to LP relaxation");else{if(u==mu){e.parm.msg_lev>=ku&&Zl("ios_driver: current LP relaxation has no dual feasible solution"),d=bd,b=3;break}if(c==hu&&u==bu){t(e.mip.mip_stat==bu),e.parm.msg_lev>=Eu&&Zl("LP relaxation has no solution better than incumbent objective value"),b=2;break}if(c==mu){e.parm.msg_lev>=Eu&&Zl("LP relaxation has no feasible solution"),b=2;break}t(e.mip!=e.mip)}t(c==bu&&u==bu),t(null!=e.curr),e.curr.lp_obj=e.mip.obj_val;var h=e.mip.obj_val;if(h=re(e,h),e.mip.dir==Hc?e.curr.bound<h&&(e.curr.bound=h):e.mip.dir==Wc?e.curr.bound>h&&(e.curr.bound=h):t(e.mip!=e.mip),e.parm.msg_lev>=Eu&&Zl("Local bound is "+h),!r(e,o)){e.parm.msg_lev>=Eu&&Zl("Current branch is hopeless and can be pruned"),b=2;break}if(t(0==e.reopt),t(0==e.reinv),null!=e.parm.cb_func){if(t(0==e.reason),e.reason=td,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop){d=wd,b=3;break}if(e.reopt){e.reopt=e.reinv=0,b=1;break}e.reinv&&(e.reinv=0,t(0==uc(e.mip)))}if(function(e){var n,r,i,o,a,l,s,c=e.mip,u=0,d=0;for(n=1;n<=c.n;n++){var f=c.col[n];if(e.non_int[n]=0,f.kind==qc&&f.stat==tu){if(r=f.type,i=f.lb,o=f.ub,a=f.prim,r==Xc||r==$c||r==eu){if(l=i-e.parm.tol_int,s=i+e.parm.tol_int,l<=a&&a<=s)continue;if(a<i)continue}if(r==Jc||r==$c||r==eu){if(l=o-e.parm.tol_int,s=o+e.parm.tol_int,l<=a&&a<=s)continue;if(a>o)continue}l=Math.floor(a+.5)-e.parm.tol_int,s=Math.floor(a+.5)+e.parm.tol_int,l<=a&&a<=s||(e.non_int[n]=1,u++,l=a-Math.floor(a),s=Math.ceil(a)-a,t(l>0&&s>0),d+=l<=s?l:s)}}t(null!=e.curr),e.curr.ii_cnt=u,e.curr.ii_sum=d,e.parm.msg_lev>=Eu&&Zl(0==u?"There are no fractional columns":1==u?"There is one fractional column, integer infeasibility is "+d:"There are "+u+" fractional columns, integer infeasibility is "+d)}(e),0==e.curr.ii_cnt){if(e.parm.msg_lev>=Eu&&Zl("New integer feasible solution found"),e.parm.msg_lev>=Bu&&i(e),function(e){var n,r,i=e.mip;for(i.mip_stat=bu,i.mip_obj=i.obj_val,n=1;n<=i.m;n++){var o=i.row[n];o.mipx=o.prim}for(r=1;r<=i.n;r++){var a=i.col[r];a.kind==Vc?a.mipx=a.prim:a.kind==qc?a.mipx=Math.floor(a.prim+.5):t(a!=a)}e.sol_cnt++}(e),e.parm.msg_lev>=Cu&&n(e,1),null!=e.parm.cb_func&&(t(0==e.reason),e.reason=nd,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){d=wd,b=3;break}b=2;break}if(e.mip.mip_stat==bu&&function(e){var n,r,i,o,a,l,s=e.mip,c=0;for(t(e.mip.mip_stat==bu),t(s.pbs_stat==bu&&s.dbs_stat==bu),i=s.obj_val,n=1;n<=s.n;n++){var u=s.col[n];if(u.kind==qc)switch(o=u.lb,a=u.ub,r=u.stat,l=u.dual,s.dir){case Hc:r==nu?(l<0&&(l=0),i+l>=s.mip_obj&&(cs(s,n,eu,o,o),c++)):r==ru&&(l>0&&(l=0),i-l>=s.mip_obj&&(cs(s,n,eu,a,a),c++));break;case Wc:r==nu?(l>0&&(l=0),i+l<=s.mip_obj&&(cs(s,n,eu,o,o),c++)):r==ru&&(l<0&&(l=0),i-l<=s.mip_obj&&(cs(s,n,eu,a,a),c++));break;default:t(e!=e)}}e.parm.msg_lev>=Eu&&(0==c||Zl(1==c?"One column has been fixed by reduced cost":c+" columns have been fixed by reduced costs")),t(s.pbs_stat==bu&&s.dbs_stat==bu)}(e),null!=e.parm.cb_func){if(t(0==e.reason),e.reason=rd,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop){d=wd,b=3;break}if(!r(e,o)){e.parm.msg_lev>=Eu&&Zl("Current branch became hopeless and can be pruned"),b=2;break}}if(e.parm.fp_heur&&(t(0==e.reason),e.reason=rd,Qe(e),e.reason=0,!r(e,o))){e.parm.msg_lev>=Eu&&Zl("Current branch became hopeless and can be pruned"),b=2;break}if(t(null!=e.local),t(0==e.local.size),null!=e.parm.cb_func&&(t(0==e.reason),e.reason=id,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){d=wd,b=3;break}if(0!=e.curr.level&&0!=f||(t(0==e.reason),e.reason=id,function(e){if(e.parm.mir_cuts==$u||e.parm.gmi_cuts==$u||e.parm.cov_cuts==$u||e.parm.clq_cuts==$u){var n,r,i;for(r=e.n,r<1e3&&(r=1e3),i=0,n=e.orig_m+1;n<=e.mip.m;n++)e.mip.row[n].origin==qu&&i++;i>=r||(e.parm.gmi_cuts==$u&&e.curr.changed<5&&ve(e),e.parm.mir_cuts==$u&&(t(null!=e.mir_gen),we(e,e.mir_gen)),e.parm.cov_cuts==$u&&Be(e),e.parm.clq_cuts==$u&&null!=e.clq_gen&&(0==e.curr.level&&e.curr.changed<50||e.curr.level>0&&e.curr.changed<5)&&Ie(e,e.clq_gen))}}(e),e.reason=0),e.local.size>0&&(t(0==e.reason),e.reason=id,Ue(e),e.reason=0),ce(e.local),e.reopt){e.reopt=0,e.curr.changed++,b=1;break}if(function(e){var n,r=0,i=null;for(t(null!=e.curr),n=e.orig_m+1;n<=e.mip.m;n++)e.mip.row[n].origin==qu&&e.mip.row[n].level==e.curr.level&&e.mip.row[n].stat==tu&&(null==i&&(i=new Int32Array(1+e.mip.m)),i[++r]=n);r>0&&(ps(e.mip,r,i),t(0==uc(e.mip)))}(e),e.parm.msg_lev>=Bu&&0==e.curr.level&&i(e),null!=e.pcost&&Pe(e),t(0==e.br_var),t(0==e.br_sel),null!=e.parm.cb_func&&(t(0==e.reason),t(0==e.br_var),t(0==e.br_sel),e.reason=od,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){d=wd,b=3;break}if(0==e.br_var&&(e.br_var=De(e,function(t){e.br_sel=t})),a=e.curr.p,d=function(e,n,r){var i,o,a,l,s,c,u,d,f,_,p,b,h,m,g=e.mip,A=g.m,y=g.n,v=new Array(3),x=null,w=null;switch(t(1<=n&&n<=y),o=g.col[n].type,d=g.col[n].lb,f=g.col[n].ub,_=g.col[n].prim,p=Math.floor(_),b=Math.ceil(_),o){case Zc:a=Jc,l=Xc;break;case Xc:t(d<=p),a=d==p?eu:$c,t(d+1<=b),l=Xc;break;case Jc:t(p<=f-1),a=Jc,t(b<=f),l=b==f?eu:$c;break;case $c:t(d<=p&&p<=f-1),a=d==p?eu:$c,t(d+1<=b&&b<=f),l=b==f?eu:$c;break;default:t(o!=o)}return ne(e,n,function(e,t){x=e,w=t}),h=re(e,x),m=re(e,w),s=!ie(e,h),c=!ie(e,m),s&&c?(e.parm.msg_lev>=Eu&&Zl("Both down- and up-branches are hopeless"),2):c?(e.parm.msg_lev>=Eu&&Zl("Up-branch is hopeless"),cs(g,n,a,d,p),e.curr.lp_obj=x,g.dir==Hc?e.curr.bound<h&&(e.curr.bound=h):g.dir==Wc?e.curr.bound>h&&(e.curr.bound=h):t(g!=g),1):s?(e.parm.msg_lev>=Eu&&Zl("Down-branch is hopeless"),cs(g,n,l,b,f),e.curr.lp_obj=w,g.dir==Hc?e.curr.bound<m&&(e.curr.bound=m):g.dir==Wc?e.curr.bound>m&&(e.curr.bound=m):t(g!=g),1):(e.parm.msg_lev>=Eu&&Zl("Branching on column "+n+", primal value is "+_),t(null!=e.curr),u=e.curr.p,e.curr.br_var=n,e.curr.br_val=_,J(e),$(e,u,2,v),e.parm.msg_lev>=Eu&&Zl("Node "+v[1]+" begins down branch, node "+v[2]+" begins up branch "),i=e.slot[v[1]].node,t(null!=i),t(null!=i.up),t(null==i.b_ptr),i.b_ptr={},i.b_ptr.k=A+n,i.b_ptr.type=a,i.b_ptr.lb=d,i.b_ptr.ub=p,i.b_ptr.next=null,i.lp_obj=x,g.dir==Hc?i.bound<h&&(i.bound=h):g.dir==Wc?i.bound>h&&(i.bound=h):t(g!=g),i=e.slot[v[2]].node,t(null!=i),t(null!=i.up),t(null==i.b_ptr),i.b_ptr={},i.b_ptr.k=A+n,i.b_ptr.type=l,i.b_ptr.lb=b,i.b_ptr.ub=f,i.b_ptr.next=null,i.lp_obj=w,g.dir==Hc?i.bound<m&&(i.bound=m):g.dir==Wc?i.bound>m&&(i.bound=m):t(g!=g),t(0==e.child),r==sd?e.child=0:r==cd?e.child=v[1]:r==ud?e.child=v[2]:t(r!=r),0)}(e,e.br_var,e.br_sel),e.br_var=e.br_sel=0,0==d){f=a,b=0;break}if(1==d){e.curr.solved=e.curr.changed=0,b=1;break}if(2==d){b=2;break}t(d!=d);case 2:e.parm.msg_lev>=Eu&&Zl("Node "+o+" fathomed"),J(e),ee(e,o),e.mip.mip_stat==bu&&function(e){var n,i,o=0;for(t(e.mip.mip_stat==bu),n=e.head;null!=n;n=i)i=n.next,r(e,n.p)||(ee(e,n.p),o++);e.parm.msg_lev>=Eu&&(1==o?Zl("One hopeless branch has been pruned"):o>1&&Zl(o+" hopeless branches have been pruned"))}(e),f=0,b=0;break;case 3:return e.parm.msg_lev>=Cu&&n(e,0),e.mir_gen=null,e.clq_gen=null,d}if(null==b)break;p=b}}function _e(e){var n;return t(e>=0),n={},n.n=e,n.nnz=0,n.pos=new Int32Array(1+e),n.ind=new Int32Array(1+e),n.val=new Float64Array(1+e),n}function pe(e){var n,r,i;for(t(e.n>=0),i=0,n=e.n;n>=1;n--)r=e.pos[n],t(0<=r&&r<=e.nnz),0!=r&&(t(e.ind[r]==n),i++);t(e.nnz==i)}function be(e,n){var r;return t(1<=n&&n<=e.n),r=e.pos[n],t(0<=r&&r<=e.nnz),0==r?0:e.val[r]}function he(e,n,r){t(1<=n&&n<=e.n);var i=e.pos[n];0==r?0!=i&&(e.pos[n]=0,i<e.nnz&&(e.pos[e.ind[e.nnz]]=i,e.ind[i]=e.ind[e.nnz],e.val[i]=e.val[e.nnz]),e.nnz--):(0==i&&(i=++e.nnz,e.pos[n]=i,e.ind[i]=n),e.val[i]=r)}function me(e){for(var t=1;t<=e.nnz;t++)e.pos[e.ind[t]]=0;e.nnz=0}function ge(e,t){for(var n=0,r=1;r<=e.nnz;r++)0==Math.abs(e.val[r])||Math.abs(e.val[r])<t?e.pos[e.ind[r]]=0:(n++,e.pos[e.ind[r]]=n,e.ind[n]=e.ind[r],e.val[n]=e.val[r]);e.nnz=n}function Ae(e,n){t(e!=n),t(e.n==n.n),me(e),e.nnz=n.nnz,i(e.ind,1,n.ind,1,e.nnz),i(e.val,1,n.val,1,e.nnz);for(var r=1;r<=e.nnz;r++)e.pos[e.ind[r]]=r}function ye(e,n,r){var i,o,a;t(e!=r),t(e.n==r.n);for(var l=1;l<=r.nnz;l++)i=r.ind[l],o=be(e,i),a=r.val[l],he(e,i,o+n*a)}function ve(e){function n(e){return e-Math.floor(e)}var r,i,o,a,l,s=e.mip,u=s.m,d=s.n,f={};for(r=new Array(1+d),f.ind=new Int32Array(1+d),f.val=new Float64Array(1+d),f.phi=new Float64Array(1+u+d),o=0,a=1;a<=d;a++){var _,p=s.col[a];p.kind==qc&&(p.type!=eu&&p.stat==tu&&.05<=(_=n(p.prim))&&_<=.95&&(o++,r[o].j=a,r[o].f=_))}for(c(r,1,o,function(e,t){return e.f>t.f?-1:e.f<t.f?1:0}),l=w(e),i=1;i<=o&&!(w(e)-l>=50);i++)!function(e,r,i){var o,a,l,s,c,u,d,f,_,p,b,h,m,g,A=e.mip,y=A.m,v=A.n,x=r.ind,w=r.val,C=r.phi;for(l=gc(A,y+i,x,w),_=A.col[i].prim,a=1;a<=y+v;a++)C[a]=0;for(h=n(_),i=1;i<=l;i++){if(a=x[i],t(1<=a&&a<=y+v),a<=y?(m=A.row[a],s=Vc,u=m.lb,d=m.ub,c=m.stat):(g=A.col[a-y],s=g.kind,u=g.lb,d=g.ub,c=g.stat),t(c!=tu),p=w[i],Math.abs(p)>1e5)return;if(!(Math.abs(p)<1e-10)){switch(c){case iu:return;case nu:f=-p;break;case ru:f=+p;break;case ou:continue;default:t(c!=c)}switch(s){case qc:if(Math.abs(f-Math.floor(f+.5))<1e-10)continue;b=n(f)<=n(_)?n(f):n(_)/(1-n(_))*(1-n(f));break;case Vc:b=f>=0?+f:n(_)/(1-n(_))*-f;break;default:t(s!=s)}switch(c){case nu:C[a]=+b,h+=b*u;break;case ru:C[a]=-b,h-=b*d;break;default:t(c!=c)}}}for(o=1;o<=y;o++){var B;if(!(Math.abs(C[o])<1e-10))for(m=A.row[o],t(m.type!=eu),B=m.ptr;null!=B;B=B.r_next)C[y+B.col.j]+=C[o]*B.val}for(l=0,i=1;i<=v;i++)Math.abs(C[y+i])<1e-10||(g=A.col[i],g.type==eu?h-=C[y+i]*g.lb:(l++,x[l]=i,w[l]=C[y+i]));for(Math.abs(h)<1e-12&&(h=0),a=1;a<=l;a++){if(Math.abs(w[a])<.001)return;if(Math.abs(w[a])>1e3)return}k(e,null,Ku,0,l,x,w,Xc,h)}(e,f,r[i].j)}function xe(e){var n,r=e.mip,i=r.m,o=r.n;return Pc&&Zl("ios_mir_init: warning: debug mode enabled"),n={},n.m=i,n.n=o,n.skip=new Int8Array(1+i),n.isint=new Int8Array(1+i+o),n.lb=new Float64Array(1+i+o),n.vlb=new Int32Array(1+i+o),n.ub=new Float64Array(1+i+o),n.vub=new Int32Array(1+i+o),n.x=new Float64Array(1+i+o),n.agg_row=new Int32Array(1+Fc),n.agg_vec=_e(i+o),n.subst=new Int8Array(1+i+o),n.mod_vec=_e(i+o),n.cut_vec=_e(i+o),function(e,n){var r,i=e.mip,o=n.m;for(r=1;r<=o;r++){var a=i.row[r];switch(n.skip[r]=0,n.isint[r]=0,a.type){case Zc:n.lb[r]=-Ul,n.ub[r]=+Ul;break;case Xc:n.lb[r]=a.lb,n.ub[r]=+Ul;break;case Jc:n.lb[r]=-Ul,n.ub[r]=a.ub;break;case $c:n.lb[r]=a.lb,n.ub[r]=a.ub;break;case eu:n.lb[r]=n.ub[r]=a.lb;break;default:t(a!=a)}n.vlb[r]=n.vub[r]=0}}(e,n),function(e,n){var r,i=e.mip,o=n.m,a=n.n;for(r=o+1;r<=o+a;r++){var l=i.col[r-o];switch(l.kind){case Vc:n.isint[r]=0;break;case qc:n.isint[r]=1;break;default:t(l!=l)}switch(l.type){case Zc:n.lb[r]=-Ul,n.ub[r]=+Ul;break;case Xc:n.lb[r]=l.lb,n.ub[r]=+Ul;break;case Jc:n.lb[r]=-Ul,n.ub[r]=l.ub;break;case $c:n.lb[r]=l.lb,n.ub[r]=l.ub;break;case eu:n.lb[r]=n.ub[r]=l.lb;break;default:t(l!=l)}n.vlb[r]=n.vub[r]=0}}(e,n),function(e,t){var n,r,i,o,a,l,s=e.mip,c=t.m;for(r=1;r<=c;r++)if((0==t.lb[r]&&t.ub[r]==+Ul||t.lb[r]==-Ul&&0==t.ub[r])&&null!=(n=s.row[r].ptr)&&(i=c+n.col.j,a=n.val,null!=(n=n.r_next)&&(o=c+n.col.j,l=n.val,null==n.r_next))){if(!t.isint[i]&&t.isint[o]);else{if(!t.isint[i]||t.isint[o])continue;o=i,l=a,i=c+n.col.j,a=n.val}t.lb[o]!=-Ul&&t.ub[o]!=+Ul&&t.lb[o]!=t.ub[o]&&(0==t.ub[r]&&(a=-a,l=-l),a>0?0==t.vlb[i]&&(t.lb[i]=-l/a,t.vlb[i]=o,t.skip[r]=1):0==t.vub[i]&&(t.ub[i]=-l/a,t.vub[i]=o,t.skip[r]=1))}}(e,n),function(e,t){var n,r,i,o,a=e.mip,l=t.m;for(r=1;r<=l;r++)if(t.lb[r]!=-Ul||t.ub[r]!=+Ul){for(o=0,n=a.row[r].ptr;null!=n;n=n.r_next){if(i=l+n.col.j,t.lb[i]==-Ul&&t.ub[i]==+Ul){t.skip[r]=1;break}if(t.isint[i]&&t.lb[i]==-Ul||t.isint[i]&&t.ub[i]==+Ul){t.skip[r]=1;break}0==t.vlb[i]&&0==t.vub[i]&&t.lb[i]==t.ub[i]||o++}0==o&&(t.skip[r]=1)}else t.skip[r]=1}(e,n),n}function we(e,n){function r(e,n,r,i,o,a,u){function d(e,t){return e.v<t.v?-1:e.v>t.v?1:0}function f(e,t,n,r,i,o,a){var c,u,d;for(u=a,d=n,c=1;c<=e;c++)u[c]=t[c]/o,i[c]&&(u[c]=-u[c]),d-=t[c]*r[c];if(d/=o,function(e,t,n,r){var i,o,a;if(Math.abs(n-Math.floor(n+.5))<.01)return 1;for(o=n-Math.floor(n),i=1;i<=e;i++)a=t[i]-Math.floor(t[i])-o,r[i]=a<=0?Math.floor(t[i]):Math.floor(t[i])+a/(1-o);return l=Math.floor(n),s=1/(1-o),0}(e,u,d,a))return 1;for(c=1;c<=e;c++)i[c]&&(a[c]=-a[c],l+=a[c]*r[c]);return s/=o,0}var _,p,b,h,m,g,A,y,v,x,w,k=new Array(4);for(x=new Int8Array(1+e),w=new Array(1+e),p=1;p<=e;p++)x[p]=o[p]>=.5*i[p];for(v=g=0,p=1;p<=e;p++)if(t(0!=n[p]),A=1e-9*(1+Math.abs(i[p])),!(o[p]<A||o[p]>i[p]-A)&&!(_=f(e,n,r,i,x,Math.abs(n[p]),u))){for(y=-l-s*a,b=1;b<=e;b++)y+=u[b]*o[b];v<y&&(v=y,g=Math.abs(n[p]))}if(v<.001&&(v=0),0==v)return v;for(t(g>0),k[1]=g/2,k[2]=g/4,k[3]=g/8,p=1;p<=3;p++)if(!(_=f(e,n,r,i,x,k[p],u))){for(y=-l-s*a,b=1;b<=e;b++)y+=u[b]*o[b];v<y&&(v=y,g=k[p])}for(h=0,p=1;p<=e;p++)A=1e-9*(1+Math.abs(i[p])),o[p]<A||o[p]>i[p]-A||(h++,w[h].j=p,w[h].v=Math.abs(o[p]-.5*i[p]));for(c(w,1,h,d),m=1;m<=h;m++)if(p=w[m].j,x[p]=!x[p],_=f(e,n,r,i,x,g,u),x[p]=!x[p],!_){for(y=-l-s*a,b=1;b<=e;b++)y+=u[b]*o[b];v<y&&(v=y,x[p]=!x[p])}return _=f(e,n,r,i,x,g,u),t(!_),v}function i(e){var n,r,i,o,a=e.m,l=e.n;for(i=0,o=1,n=1;n<=e.agg_vec.nnz;n++)r=e.agg_vec.ind[n],t(1<=r&&r<=a+l),i+=e.agg_vec.val[n]*e.x[r],o<Math.abs(e.agg_vec.val[n])&&(o=Math.abs(e.agg_vec.val[n]));i-=e.agg_rhs,o<Math.abs(e.agg_rhs)&&(o=Math.abs(e.agg_rhs)),t(Math.abs(i)<=1e-6*o)}function a(e,n){var r,i,o,a,l=e.m,s=e.n;for(o=0,a=1,r=1;r<=e.cut_vec.nnz;r++)i=e.cut_vec.ind[r],t(1<=i&&i<=l+s),o+=e.cut_vec.val[r]*e.x[i],a<Math.abs(e.cut_vec.val[r])&&(a=Math.abs(e.cut_vec.val[r]));o-=e.cut_rhs,a<Math.abs(e.cut_rhs)&&(a=Math.abs(e.cut_rhs)),t(Math.abs(o-n)<=1e-6*a)}var l,s,u,d,f,_=e.mip,p=n.m,b=n.n;for(t(_.m>=p),t(_.n==b),function(e,t){var n,r=e.mip,i=t.m,o=t.n;for(n=1;n<=i;n++)t.x[n]=r.row[n].prim;for(n=i+1;n<=i+o;n++)t.x[n]=r.col[n-i].prim}(e,n),Pc&&function(e){var n,r,i,o,a,l=e.m,s=e.n;for(n=1;n<=l+s;n++)i=e.lb[n],r=e.vlb[n],0!=r&&(t(i!=-Ul),t(!e.isint[n]),t(e.isint[r]),i*=e.x[r]),i!=-Ul&&(a=1e-6*(1+Math.abs(i)),t(e.x[n]>=i-a)),o=e.ub[n],r=e.vub[n],0!=r&&(t(o!=+Ul),t(!e.isint[n]),t(e.isint[r]),o*=e.x[r]),o!=+Ul&&(a=1e-6*(1+Math.abs(o)),t(e.x[n]<=o+a))}(n),o(n.subst,1,Qc,p+b),u=1;u<=p;u++)if(!n.skip[u]){for(function(e,n,r){var i,o=e.mip,a=n.m;for(t(1<=r&&r<=a),t(!n.skip[r]),n.skip[r]=2,n.agg_cnt=1,n.agg_row[1]=r,me(n.agg_vec),he(n.agg_vec,r,1),i=o.row[r].ptr;null!=i;i=i.r_next)he(n.agg_vec,a+i.col.j,-i.val);n.agg_rhs=0,Pc&&pe(n.agg_vec)}(e,n,u);;){if(Pc&&i(n),function(e){var n,r,i=e.m,o=e.n;for(n=1;n<=e.agg_vec.nnz;n++)r=e.agg_vec.ind[n],t(1<=r&&r<=i+o),0==e.vlb[r]&&0==e.vub[r]&&e.lb[r]==e.ub[r]&&(e.agg_rhs-=e.agg_vec.val[n]*e.lb[r],e.agg_vec.val[n]=0);ge(e.agg_vec,Hl),Pc&&pe(e.agg_vec)}(n),Pc)for(i(n),d=1;d<=p+b;d++)t(n.subst[d]==Qc);!function(e){var n,r,i,o,a,l=e.m,s=e.n;for(n=1;n<=e.agg_vec.nnz;n++)r=e.agg_vec.ind[n],t(1<=r&&r<=l+s),e.isint[r]||(i=e.vlb[r],0==i?o=e.lb[r]==-Ul?Ul:e.x[r]-e.lb[r]:(t(1<=i&&i<=l+s),t(e.isint[i]),t(e.lb[r]!=-Ul),o=e.x[r]-e.lb[r]*e.x[i]),i=e.vub[r],0==i?a=e.vub[r]==+Ul?Ul:e.ub[r]-e.x[r]:(t(1<=i&&i<=l+s),t(e.isint[i]),t(e.ub[r]!=+Ul),a=e.ub[r]*e.x[i]-e.x[r]),t(o!=Ul||a!=Ul),t(e.subst[r]==Qc),e.subst[r]=o<=a?Uc:Rc)}(n),function(e){var n,r,i,o,a=e.m,l=e.n;for(Ae(e.mod_vec,e.agg_vec),e.mod_rhs=e.agg_rhs,Pc&&pe(e.mod_vec),n=e.mod_vec.nnz;n>=1;n--)i=e.mod_vec.ind[n],t(1<=i&&i<=a+l),e.isint[i]||(e.subst[i]==Uc?(t(e.lb[i]!=-Ul),o=e.vlb[i],0==o?e.mod_rhs-=e.mod_vec.val[n]*e.lb[i]:(t(e.isint[o]),r=e.mod_vec.pos[o],0==r&&(he(e.mod_vec,o,1),r=e.mod_vec.pos[o],e.mod_vec.val[r]=0),e.mod_vec.val[r]+=e.mod_vec.val[n]*e.lb[i])):e.subst[i]==Rc?(t(e.ub[i]!=+Ul),o=e.vub[i],0==o?e.mod_rhs-=e.mod_vec.val[n]*e.ub[i]:(t(e.isint[o]),r=e.mod_vec.pos[o],0==r&&(he(e.mod_vec,o,1),r=e.mod_vec.pos[o],e.mod_vec.val[r]=0),e.mod_vec.val[r]+=e.mod_vec.val[n]*e.ub[i]),e.mod_vec.val[n]=-e.mod_vec.val[n]):t(i!=i));for(Pc&&pe(e.mod_vec),n=1;n<=e.mod_vec.nnz;n++)i=e.mod_vec.ind[n],t(1<=i&&i<=a+l),e.isint[i]&&(t(e.subst[i]==Qc),t(0==e.vlb[i]&&0==e.vub[i]),t(e.lb[i]!=-Ul&&e.ub[i]!=+Ul),Math.abs(e.lb[i])<=Math.abs(e.ub[i])?(e.subst[i]=Uc,e.mod_rhs-=e.mod_vec.val[n]*e.lb[i]):(e.subst[i]=Rc,e.mod_rhs-=e.mod_vec.val[n]*e.ub[i],e.mod_vec.val[n]=-e.mod_vec.val[n]));Pc&&pe(e.mod_vec)}(n),Pc&&function(e){var n,r,i,o,a,l,s=e.m,c=e.n;for(o=0,a=1,n=1;n<=e.mod_vec.nnz;n++)r=e.mod_vec.ind[n],t(1<=r&&r<=s+c),e.subst[r]==Uc?(t(e.lb[r]!=-Ul),i=e.vlb[r],l=0==i?e.x[r]-e.lb[r]:e.x[r]-e.lb[r]*e.x[i]):e.subst[r]==Rc?(t(e.ub[r]!=+Ul),i=e.vub[r],l=0==i?e.ub[r]-e.x[r]:e.ub[r]*e.x[i]-e.x[r]):t(r!=r),o+=e.mod_vec.val[n]*l,a<Math.abs(e.mod_vec.val[n])&&(a=Math.abs(e.mod_vec.val[n]));o-=e.mod_rhs,a<Math.abs(e.mod_rhs)&&(a=Math.abs(e.mod_rhs)),t(Math.abs(o)<=1e-6*a)}(n),f=function(e){var n,i,o,a,l,s,c,u,d,f=e.m,_=e.n,p=0;for(Ae(e.cut_vec,e.mod_vec),e.cut_rhs=e.mod_rhs,ge(e.cut_vec,Hl),Pc&&pe(e.cut_vec),n=1;n<=e.cut_vec.nnz;n++)i=e.cut_vec.ind[n],t(1<=i&&i<=f+_),!e.isint[i]&&e.cut_vec.val[n]>0&&(e.cut_vec.val[n]=0);for(ge(e.cut_vec,0),Pc&&pe(e.cut_vec),a=0,n=1;n<=e.cut_vec.nnz;n++)if(i=e.cut_vec.ind[n],t(1<=i&&i<=f+_),e.isint[i]){var b;a++,o=e.cut_vec.ind[a],e.cut_vec.pos[i]=a,e.cut_vec.pos[o]=n,e.cut_vec.ind[a]=i,e.cut_vec.ind[n]=o,b=e.cut_vec.val[a],e.cut_vec.val[a]=e.cut_vec.val[n],e.cut_vec.val[n]=b}if(Pc&&pe(e.cut_vec),0==a)return p;for(s=new Float64Array(1+a),c=new Float64Array(1+a),u=new Float64Array(1+a),n=1;n<=a;n++)i=e.cut_vec.ind[n],t(f+1<=i&&i<=f+_),t(e.isint[i]),s[n]=e.ub[i]-e.lb[i],t(s[n]>=1),e.subst[i]==Uc?c[n]=e.x[i]-e.lb[i]:e.subst[i]==Rc?c[n]=e.ub[i]-e.x[i]:t(i!=i),t(c[n]>=-.001),c[n]<0&&(c[n]=0);for(l=0,n=a+1;n<=e.cut_vec.nnz;n++)i=e.cut_vec.ind[n],t(1<=i&&i<=f+_),t(!e.isint[i]),e.subst[i]==Uc?(t(e.lb[i]!=-Ul),o=e.vlb[i],c=0==o?e.x[i]-e.lb[i]:e.x[i]-e.lb[i]*e.x[o]):e.subst[i]==Rc?(t(e.ub[i]!=+Ul),o=e.vub[i],c=0==o?e.ub[i]-e.x[i]:e.ub[i]*e.x[o]-e.x[i]):t(i!=i),t(c>=-.001),c<0&&(c=0),l-=e.cut_vec.val[n]*c;if(t(l>=0),d=e.cut_rhs,0==(p=r(a,e.cut_vec.val,d,s,c,l,u)))return p;for(t(p>0),n=1;n<=a;n++)e.cut_vec.val[n]=u[n];for(n=a+1;n<=e.cut_vec.nnz;n++)(i=e.cut_vec.ind[n])<=f+_&&(e.cut_vec.val[n]*=null);return e.cut_rhs=null,Pc&&pe(e.cut_vec),p}(n),f>0&&(Pc&&function(e,n){var r,i,o,a,l,s,c=e.m,u=e.n;for(a=0,l=1,r=1;r<=e.cut_vec.nnz;r++)i=e.cut_vec.ind[r],t(1<=i&&i<=c+u),e.subst[i]==Uc?(t(e.lb[i]!=-Ul),o=e.vlb[i],s=0==o?e.x[i]-e.lb[i]:e.x[i]-e.lb[i]*e.x[o]):e.subst[i]==Rc?(t(e.ub[i]!=+Ul),o=e.vub[i],s=0==o?e.ub[i]-e.x[i]:e.ub[i]*e.x[o]-e.x[i]):t(i!=i),a+=e.cut_vec.val[r]*s,l<Math.abs(e.cut_vec.val[r])&&(l=Math.abs(e.cut_vec.val[r]));a-=e.cut_rhs,l<Math.abs(e.cut_rhs)&&(l=Math.abs(e.cut_rhs)),t(Math.abs(a-n)<=1e-6*l)}(n,f),function(e){var n,r,i,o,a=e.m,l=e.n;for(n=1;n<=e.cut_vec.nnz;n++)i=e.cut_vec.ind[n],t(1<=i&&i<=a+l),e.isint[i]&&(e.subst[i]==Uc?(t(e.lb[i]!=-Ul),t(0==e.vlb[i]),e.cut_rhs+=e.cut_vec.val[n]*e.lb[i]):e.subst[i]==Rc?(t(e.ub[i]!=+Ul),t(0==e.vub[i]),e.cut_rhs-=e.cut_vec.val[n]*e.ub[i],e.cut_vec.val[n]=-e.cut_vec.val[n]):t(i!=i));for(n=1;n<=e.cut_vec.nnz;n++)i=e.cut_vec.ind[n],t(1<=i&&i<=a+l),e.isint[i]||(e.subst[i]==Uc?(t(e.lb[i]!=-Ul),o=e.vlb[i],0==o?e.cut_rhs+=e.cut_vec.val[n]*e.lb[i]:(r=e.cut_vec.pos[o],0==r&&(he(e.cut_vec,o,1),r=e.cut_vec.pos[o],t(0!=r),e.cut_vec.val[r]=0),e.cut_vec.val[r]-=e.cut_vec.val[n]*e.lb[i])):e.subst[i]==Rc?(t(e.ub[i]!=+Ul),o=e.vub[i],0==o?e.cut_rhs-=e.cut_vec.val[n]*e.ub[i]:(r=e.cut_vec.pos[o],0==r&&(he(e.cut_vec,o,1),r=e.cut_vec.pos[o],t(0!=r),e.cut_vec.val[r]=0),e.cut_vec.val[r]+=e.cut_vec.val[n]*e.ub[i]),e.cut_vec.val[n]=-e.cut_vec.val[n]):t(i!=i));Pc&&pe(e.cut_vec)}(n),Pc&&a(n,f),function(e,n){var r,i,o,a,l,s=e.mip,c=n.m,u=n.n;for(i=n.cut_vec.nnz;i>=1;i--)if(o=n.cut_vec.ind[i],t(1<=o&&o<=c+u),!(o>c)){for(r=s.row[o].ptr;null!=r;r=r.r_next)a=c+r.col.j,l=n.cut_vec.pos[a],0==l&&(he(n.cut_vec,a,1),l=n.cut_vec.pos[a],n.cut_vec.val[l]=0),n.cut_vec.val[l]+=n.cut_vec.val[i]*r.val;n.cut_vec.val[i]=0}ge(n.cut_vec,0)}(e,n),Pc&&a(n,f),function(e,n){var r,i,o,a=n.m,l=n.n,s=new Int32Array(1+l),c=new Float64Array(1+l);for(o=0,r=n.cut_vec.nnz;r>=1;r--)i=n.cut_vec.ind[r],t(a+1<=i&&i<=a+l),o++,s[o]=i-a,c[o]=n.cut_vec.val[r];k(e,null,Zu,0,o,s,c,Jc,n.cut_rhs)}(e,n));for(var h=1;h<=n.mod_vec.nnz;h++)d=n.mod_vec.ind[h],t(1<=d&&d<=p+b),t(n.subst[d]!=Qc),n.subst[d]=Qc;if(!(0==f&&n.agg_cnt<Fc&&0==function(e,n){var r,i,o,a,l,s,c,u,d,f,_=e.mip,p=n.m,b=n.n,h=0,m=0,g=0;for(a=1;a<=n.agg_vec.nnz;a++)s=n.agg_vec.ind[a],t(1<=s&&s<=p+b),s<=p||n.isint[s]||Math.abs(n.agg_vec.val[a])<.001||(c=n.vlb[s],0==c?u=n.lb[s]==-Ul?Ul:n.x[s]-n.lb[s]:(t(1<=c&&c<=p+b),t(n.isint[c]),t(n.lb[s]!=-Ul),u=n.x[s]-n.lb[s]*n.x[c]),c=n.vub[s],0==c?d=n.vub[s]==+Ul?Ul:n.ub[s]-n.x[s]:(t(1<=c&&c<=p+b),t(n.isint[c]),t(n.ub[s]!=+Ul),d=n.ub[s]*n.x[c]-n.x[s]),t(u!=Ul||d!=Ul),f=u<=d?u:d,t(f!=Ul),f<.001||g<f&&(g=f,h=s));if(0==h)return m=1;for(t(p+1<=h&&h<=p+b),t(!n.isint[h]),o=1;o<=p;o++)if(!n.skip[o]){for(r=_.row[o].ptr;null!=r&&r.col.j!=h-p;r=r.r_next);if(null!=r&&Math.abs(r.val)>=.001)break}if(o>p)return m=2;for(n.agg_cnt++,t(n.agg_cnt<=Fc),n.agg_row[n.agg_cnt]=o,n.skip[o]=2,i=_e(p+b),he(i,o,1),r=_.row[o].ptr;null!=r;r=r.r_next)he(i,p+r.col.j,-r.val);return Pc&&pe(i),a=n.agg_vec.pos[h],t(0!=a),l=i.pos[h],t(0!=l),ye(n.agg_vec,-n.agg_vec.val[a]/i.val[l],i),he(n.agg_vec,h,0),Pc&&pe(n.agg_vec),m}(e,n)))break}var m;for(d=1;d<=n.agg_cnt;d++)m=n.agg_row[d],t(1<=m&&m<=p),t(2==n.skip[m]),n.skip[m]=0}}function ke(e,n,r,i,o){function a(e,t,n,r,i,o,a){var l,s,c,u,d=0,f=0,_=.001;for(c=.001*(1+Math.abs(n)),l=1;l<=e;l++)for(s=l+1;s<=e;s++){if(++d>y)return f;t[l]+t[s]+o>n+c&&(u=t[l]+t[s]-n,g=1/(u+r),A=2-g*u,u=i[l]+i[s]+g*o-A,_<u&&(_=u,a[1]=l,a[2]=s,f=1))}return f}function l(e,t,n,r,i,o,a){var l,s,c,u,d,f=0,_=0,p=.001;for(u=.001*(1+Math.abs(n)),l=1;l<=e;l++)for(s=l+1;s<=e;s++)for(c=s+1;c<=e;c++){if(++f>y)return _;t[l]+t[s]+t[c]+o>n+u&&(d=t[l]+t[s]+t[c]-n,g=1/(d+r),A=3-g*d,d=i[l]+i[s]+i[c]+g*o-A,p<d&&(p=d,a[1]=l,a[2]=s,a[3]=c,_=1))}return _}function s(e,t,n,r,i,o,a){var l,s,c,u,d,f,_=0,p=0,b=.001;for(d=.001*(1+Math.abs(n)),l=1;l<=e;l++)for(s=l+1;s<=e;s++)for(c=s+1;c<=e;c++)for(u=c+1;u<=e;u++){if(++_>y)return p;t[l]+t[s]+t[c]+t[u]+o>n+d&&(f=t[l]+t[s]+t[c]+t[u]-n,g=1/(f+r),A=4-g*f,f=i[l]+i[s]+i[c]+i[u]+g*o-A,b<f&&(b=f,a[1]=l,a[2]=s,a[3]=c,a[4]=u,p=1))}return p}var c,u,d,f,_,p,b,h,m,g=null,A=null,y=1e3,v=new Array(5);for(f=0,u=1;u<=n;u++)c=r[u],_t(e,c)==Id?i[0]-=i[u]*pt(e,c):(f++,r[f]=r[u],i[f]=i[u]);for(n=f,d=0,u=1;u<=n;u++)if(c=r[u],Bt(e,c)==Pd&&_t(e,c)==Od&&0==pt(e,c)&&1==bt(e,c)){var x,w;d++,x=r[d],w=i[d],r[d]=r[u],i[d]=i[u],r[u]=x,i[u]=w}if(d<2)return 0;for(p=b=0,u=d+1;u<=n;u++){if(c=r[u],_t(e,c)!=Od)return 0;i[u]>0?(p+=i[u]*pt(e,c),b+=i[u]*bt(e,c)):(p+=i[u]*bt(e,c),b+=i[u]*pt(e,c))}for(h=b-p,m=0,u=d+1;u<=n;u++)c=r[u],m+=i[u]*wt(e,c);for(m-=p,m<0&&(m=0),m>h&&(m=h),i[0]-=p,u=1;u<=d;u++)c=r[u],o[u]=wt(e,c),o[u]<0&&(o[u]=0),o[u]>1&&(o[u]=1);for(u=1;u<=d;u++)i[u]<0&&(r[u]=-r[u],i[u]=-i[u],i[0]+=i[u],o[u]=1-o[u]);if(0==(_=function(e,n,r,i,o,c,u){var d;for(t(e>=2),d=1;d<=e;d++)t(n[d]>0);for(t(r>-1e-5),t(i>=0),d=1;d<=e;d++)t(0<=o[d]&&o[d]<=1);return t(0<=c&&c<=i),a(e,n,r,i,o,c,u)?2:l(e,n,r,i,o,c,u)?3:s(e,n,r,i,o,c,u)?4:0}(d,i,i[0],h,o,m,v)))return 0;for(t(2<=_&&_<=4),r[0]=0,i[0]=A,c=1;c<=_;c++)v[c]=r[v[c]];for(t(_<=d),u=1;u<=_;u++)v[u]>0?(r[u]=+v[u],i[u]=1):(r[u]=-v[u],i[u]=-1,i[0]-=1);for(u=d+1;u<=n;u++)_++,r[_]=r[u],i[_]=g*i[u];return i[0]+=g*p,t(_<=n),n=_}function Ce(e,t,r,i){var o,a,l=st(e),s=0;for(t<0&&n("lpx_eval_row: len = "+t+"; invalid row length"),a=1;a<=t;a++)o=r[a],1<=o&&o<=l||n("lpx_eval_row: j = "+o+"; column number out of range"),s+=i[a]*wt(e,o);return s}function Be(e){var n,r,i,o,a,l,s,c,u=e.mip,d=lt(u),f=st(u);for(t(vt(u)==Fd),l=new Int32Array(1+f),s=new Float64Array(1+f),c=new Float64Array(1+f),n=1;n<=d;n++)for(o=1;o<=2;o++){if(i=ct(u,n),1==o){if(i!=jd&&i!=Od)continue;a=mt(u,n,l,s),s[0]=dt(u,n)}else{if(i!=Md&&i!=Od)continue;for(a=mt(u,n,l,s),r=1;r<=a;r++)s[r]=-s[r];s[0]=-ut(u,n)}a=ke(u,a,l,s,c),0!=a&&(Ce(u,a,l,s)-s[0]<.001||k(e,null,Xu,0,a,l,s,Jc,s[0]))}}function Ee(e){function n(e,n){var r;switch(ct(e,n)){case Ed:case jd:r=-Ul;break;case Md:case Od:case Id:r=ut(e,n);break;default:t(e!=e)}return r}function r(e,n){var r;switch(ct(e,n)){case Ed:case Md:r=+Ul;break;case jd:case Od:case Id:r=dt(e,n);break;default:t(e!=e)}return r}function i(e,n){var r;switch(_t(e,n)){case Ed:case jd:r=-Ul;break;case Md:case Od:case Id:r=pt(e,n);break;default:t(e!=e)}return r}function o(e,n){var r;switch(_t(e,n)){case Ed:case Md:r=+Ul;break;case jd:case Od:case Id:r=bt(e,n);break;default:t(e!=e)}return r}function a(e,t){return Bt(e,t)==Pd&&_t(e,t)==Od&&0==pt(e,t)&&1==bt(e,t)}function l(e,n,r,a){var l,s,c,u,d;for(d=0,s=1;s<=n;s++)if(l=r[s],a[s]>0){if((c=i(e,l))==-Ul){d=-Ul;break}d+=a[s]*c}else if(a[s]<0){if((u=o(e,l))==+Ul){d=-Ul;break}d+=a[s]*u}else t(a!=a);return d}function s(e,n,r,a){var l,s,c,u,d;for(d=0,s=1;s<=n;s++)if(l=r[s],a[s]>0){if((u=o(e,l))==+Ul){d=+Ul;break}d+=a[s]*u}else if(a[s]<0){if((c=i(e,l))==-Ul){d=+Ul;break}d+=a[s]*c}else t(a!=a);return d}function c(e,n,r,i,o,a,l,s,c){var u;return t(1<=l&&l<c&&c<=e),r!=-Ul&&s&&(r-=n[l]),i!=+Ul&&s&&(i-=n[l]),o!=-Ul&&(n[l]<0&&(o-=n[l]),n[c]<0&&(o-=n[c])),a!=+Ul&&(n[l]>0&&(a-=n[l]),n[c]>0&&(a-=n[c])),(u=n[c]>0?r==-Ul||a==+Ul?-Ul:(r-a)/n[c]:i==+Ul||o==-Ul?-Ul:(i-o)/n[c])>.001?2:(u=n[c]>0?i==+Ul||o==-Ul?+Ul:(i-o)/n[c]:r==-Ul||a==+Ul?+Ul:(r-a)/n[c],u<.999?1:0)}var u,d,f,_,p,b,h,m,g,A,y,v,x,w,k,C,B=null;for(Zl("Creating the conflict graph..."),u=lt(e),d=st(e),f=0,A=new Int32Array(1+d),y=new Int32Array(1+d),g=new Int32Array(1+d),C=new Float64Array(1+d),_=1;_<=u;_++)if(v=n(e,_),x=r(e,_),(v!=-Ul||x!=+Ul)&&!((m=mt(e,_,g,C))>500))for(w=l(e,m,g,C),k=s(e,m,g,C),b=1;b<=m;b++)if(a(e,g[b]))for(h=b+1;h<=m;h++)a(e,g[h])&&(c(m,C,v,x,w,k,b,0,h)||c(m,C,v,x,w,k,b,1,h))&&(p=g[b],0==A[p]&&(f++,A[p]=f,y[f]=p),p=g[h],0==A[p]&&(f++,A[p]=f,y[f]=p));if(0==f||f>4e3)return Zl("The conflict graph is either empty or too big"),B;for(B={},B.n=d,B.nb=f,B.ne=0,B.vert=A,B.orig=y,m=f+f,m=m*(m-1)/2,m=(m+(Wl-1))/Wl,B.a=new Array(m),p=1;p<=f;p++)Me(B,+y[p],-y[p]);for(_=1;_<=u;_++)if(v=n(e,_),x=r(e,_),(v!=-Ul||x!=+Ul)&&!((m=mt(e,_,g,C))>500))for(w=l(e,m,g,C),k=s(e,m,g,C),b=1;b<=m;b++)if(a(e,g[b]))for(h=b+1;h<=m;h++)if(a(e,g[h])){switch(c(m,C,v,x,w,k,b,0,h)){case 0:break;case 1:Me(B,-g[b],+g[h]);break;case 2:Me(B,-g[b],-g[h]);break;default:t(e!=e)}switch(c(m,C,v,x,w,k,b,1,h)){case 0:break;case 1:Me(B,+g[b],+g[h]);break;case 2:Me(B,+g[b],-g[h]);break;default:t(e!=e)}}return Zl("The conflict graph has 2*"+B.nb+" vertices and "+B.ne+" edges"),B}function Me(e,n,r){var i;t(n!=r),n>0?(t(1<=n&&n<=e.n),n=e.vert[n],t(0!=n)):(n=-n,t(1<=n&&n<=e.n),n=e.vert[n],t(0!=n),n+=e.nb),r>0?(t(1<=r&&r<=e.n),r=e.vert[r],t(0!=r)):(r=-r,t(1<=r&&r<=e.n),r=e.vert[r],t(0!=r),r+=e.nb),n<r&&(i=n,n=r,r=i),i=(n-1)*(n-2)/2+(r-1),e.a[i/Wl]|=1<<Wl-1-i%Wl,e.ne++}function je(e,n,r,i){function o(e,t,n){return t==n?0:t>n?a(e,t,n):a(e,n,t)}function a(e,t,n){return c(e,t*(t-1)/2+n)}function c(e,t){return e.a[t/Wl]&1<<Wl-1-t%Wl}function u(e,t,n,r,i,a){var l,s,c,d,f,_,p,b;if(b=new Int32Array(e.n),t<=0){if(0==t&&(e.set[r++]=n[0],i+=a),i>e.record)for(e.record=i,e.rec_level=r,l=0;l<r;l++)e.rec[l+1]=e.set[l]}else for(l=t;l>=0;l--){if(0==r&&l<t)return;if(c=n[l],r>0&&e.clique[c]<=e.record-i)return;if(e.set[r]=c,d=i+e.wt[c+1],(a-=e.wt[c+1])<=e.record-d)return;for(_=0,p=0,f=0;p<n+l;)s=n[p],p++,o(e,s,c)&&(b[_]=s,_++,f+=e.wt[s+1]);f<=e.record-d||u(e,_-1,b,r+1,d,f)}}var d,f,_,p,b,h,m,g,A,y,v,x=st(e),w=0;for(h=new Int32Array(1+2*n.nb),m=new Int32Array(1+2*n.nb),v=new Float64Array(1+x),f=1;f<=n.nb;f++)d=n.orig[f],g=wt(e,d),b=100*g+.5|0,b<0&&(b=0),b>100&&(b=100),h[f]=b,h[n.nb+f]=100-b;for(p=function(e,t,n,r){var i,a,c,d,f,_,p,b,h,m,g={};for(g.n=e,g.wt=t,g.a=n,g.record=0,g.rec_level=0,g.rec=r,g.clique=new Int32Array(g.n),g.set=new Int32Array(g.n),p=new Int32Array(g.n),b=new Int32Array(g.n),h=new Int32Array(g.n),m=l(),i=0;i<g.n;i++)for(b[i]=0,a=0;a<g.n;a++)o(g,i,a)&&(b[i]+=g.wt[a+1]);for(i=0;i<g.n;i++)p[i]=0;for(i=g.n-1;i>=0;i--){for(d=-1,f=-1,a=0;a<g.n;a++)!p[a]&&(g.wt[a+1]>d||g.wt[a+1]==d&&b[a]>f)&&(d=g.wt[a+1],f=b[a],c=a);for(h[i]=c,p[c]=1,a=0;a<g.n;a++)!p[a]&&a!=c&&o(g,c,a)&&(b[a]-=g.wt[c+1])}for(_=0,i=0;i<g.n;i++)_+=g.wt[h[i]+1],u(g,i,h,0,0,_),g.clique[h[i]]=g.record,s(l(),m)>=4.999&&(Zl("level = "+i+"1 ("+g.n+"); best = "+g.record),m=l());for(i=1;i<=g.rec_level;i++)r[i]++;return g.rec_level}(2*n.nb,h,n.a,m),A=0,f=1;f<=p;f++)_=m[f],t(1<=_&&_<=2*n.nb),_<=n.nb?(d=n.orig[_],g=wt(e,d),A+=g):(d=n.orig[_-n.nb],g=wt(e,d),A+=1-g);if(A>=1.01){for(y=1,f=1;f<=p;f++)_=m[f],_<=n.nb?(d=n.orig[_],t(1<=d&&d<=x),v[d]+=1):(d=n.orig[_-n.nb],t(1<=d&&d<=x),v[d]-=1,y-=1);for(t(0==w),d=1;d<=x;d++)0!=v[d]&&(w++,r[w]=d,i[w]=v[d]);r[0]=0,i[0]=y}return w}function Oe(e){var n=e.mip;return t(null!=n),Ee(n)}function Ie(e,n){var r,i,o,a=st(e.mip);t(null!=n),i=new Int32Array(1+a),o=new Float64Array(1+a),(r=je(e.mip,n,i,o))>0&&k(e,null,Ju,0,r,i,o,Jc,o[0])}function De(e,n){var r;return e.parm.br_tech==Lu?r=Ne(e,n):e.parm.br_tech==Tu?r=Se(e,n):e.parm.br_tech==zu?r=Le(e,n):e.parm.br_tech==Pu?r=Te(e,n):e.parm.br_tech==Fu?r=Fe(e,n):t(e!=e),r}function Ne(e,n){var r,i,o;for(r=1;r<=e.n&&!e.non_int[r];r++);return t(1<=r&&r<=e.n),o=$s(e.mip,r),i=o-Math.floor(o)<Math.ceil(o)-o?cd:ud,n(i),r}function Se(e,n){var r,i,o;for(r=e.n;r>=1&&!e.non_int[r];r--);return t(1<=r&&r<=e.n),o=$s(e.mip,r),i=o-Math.floor(o)<Math.ceil(o)-o?cd:ud,n(i),r}function Le(e,t){var n,r,i,o,a,l;for(r=0,a=Ul,n=1;n<=e.n;n++)e.non_int[n]&&(o=$s(e.mip,n),l=Math.floor(o)+.5,a>Math.abs(o-l)&&(r=n,a=Math.abs(o-l),i=o<l?cd:ud));return t(i),r}function Te(e,n){var r,i,o,a,l,s,c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k=e.mip,C=k.m,B=k.n,E=e.non_int;for(t(Hs(k)==gu),d=new Int32Array(1+B),w=new Float64Array(1+B),i=0,x=-1,r=1;r<=B;r++)if(E[r]){for(f=$s(k,r),c=gc(k,C+r,d,w),s=-1;s<=1;s+=2){if(o=xc(k,c,d,w,s,1e-9),0!=o&&(o=d[o]),0==o)m=e.mip.dir==Hc?+Ul:-Ul;else{for(a=1;a<=c&&d[a]!=o;a++);switch(t(1<=a&&a<=c),p=w[a],b=(s<0?Math.floor(f):Math.ceil(f))-f,h=b/p,o>C&&nc(k,o-C)!=Vc&&Math.abs(h-Math.floor(h+.5))>.001&&(h=h>0?Math.ceil(h):Math.floor(h)),o<=C?(u=Ks(k,o),_=Xs(k,o)):(u=Js(k,o-C),_=ec(k,o-C)),e.mip.dir){case Hc:(u==nu&&_<0||u==ru&&_>0||u==iu)&&(_=0);break;case Wc:(u==nu&&_>0||u==ru&&_<0||u==iu)&&(_=0);break;default:t(e!=e)}m=_*h}switch(e.mip.dir){case Hc:t(m>=0);break;case Wc:t(m<=0);break;default:t(e!=e)}s<0?g=m:A=m}if((x<Math.abs(g)||x<Math.abs(A))&&(i=r,Math.abs(g)<Math.abs(A)?(l=cd,x=Math.abs(A)):(l=ud,x=Math.abs(g)),y=g,v=A,x==Ul))break}return t(1<=i&&i<=B),x<1e-6*(1+.001*Math.abs(k.obj_val))?i=Le(e,n):(e.parm.msg_lev>=Eu&&(Zl("branch_drtom: column "+i+" chosen to branch on"),Zl(Math.abs(y)==Ul?"branch_drtom: down-branch is infeasible":"branch_drtom: down-branch bound is "+(xt(k)+y)),Zl(Math.abs(v)==Ul?"branch_drtom: up-branch   is infeasible":"branch_drtom: up-branch   bound is "+(xt(k)+v))),n(l),i)}function ze(e){var t,n=e.n,r={};for(r.dn_cnt=new Int32Array(1+n),r.dn_sum=new Float64Array(1+n),r.up_cnt=new Int32Array(1+n),r.up_sum=new Float64Array(1+n),t=1;t<=n;t++)r.dn_cnt[t]=r.up_cnt[t]=0,r.dn_sum[t]=r.up_sum[t]=0;return r}function Pe(e){var n,r,i,o,a=e.pcost;t(null!=a),t(null!=e.curr),null!=e.curr.up&&(n=e.curr.up.br_var,t(1<=n&&n<=e.n),r=e.mip.col[n].prim-e.curr.up.br_val,t(0!=r),i=e.mip.obj_val-e.curr.up.lp_obj,o=Math.abs(i/r),r<0?(a.dn_cnt[n]++,a.dn_sum[n]+=o):(a.up_cnt[n]++,a.up_sum[n]+=o))}function Fe(e,n){function r(e,n,r){var i,o,a;t(Hs(e)==gu),i=es(),bs(i,e,0),cs(i,n,eu,r,r);var l=new Ys;return l.msg_lev=wu,l.meth=Ou,l.it_lim=30,l.out_dly=1e3,l.meth=Ou,o=Gs(i,l),0==o||o==gd?Ws(i)==mu?a=Ul:Vs(i)==bu?(e.dir==Hc?a=i.obj_val-e.obj_val:e.dir==Wc?a=e.obj_val-i.obj_val:t(e!=e),a<1e-6*(1+.001*Math.abs(e.obj_val))&&(a=0)):a=0:a=0,a}function i(e,n,i){var o,a,l,s=e.pcost;if(t(null!=s),t(1<=n&&n<=e.n),i==cd){if(0==s.dn_cnt[n]){if(o=e.mip.col[n].prim,(a=r(e.mip,n,Math.floor(o)))==Ul)return l=Ul;s.dn_cnt[n]=1,s.dn_sum[n]=a/(o-Math.floor(o))}l=s.dn_sum[n]/s.dn_cnt[n]}else if(i==ud){if(0==s.up_cnt[n]){if(o=e.mip.col[n].prim,(a=r(e.mip,n,Math.ceil(o)))==Ul)return l=Ul;s.up_cnt[n]=1,s.up_sum[n]=a/(Math.ceil(o)-o)}l=s.up_sum[n]/s.up_cnt[n]}else t(i!=i);return l}var o,a,c,u,d,f,_,p,b,h=l();for(null==e.pcost&&(e.pcost=ze(e)),a=0,b=-1,o=1;o<=e.n;o++)if(C(e,o)){if(u=e.mip.col[o].prim,(d=i(e,o,cd))==Ul)return a=o,c=cd,n(c),a;if(f=d*(u-Math.floor(u)),(d=i(e,o,ud))==Ul)return a=o,c=ud,n(c),a;_=d*(Math.ceil(u)-u),p=f>_?f:_,b<p&&(b=p,a=o,c=f<=_?cd:ud),e.parm.msg_lev>=$u&&s(l(),h)>=10&&(!function(e){var t,n=e.pcost,r=0,i=0;for(t=1;t<=e.n;t++)C(e,t)&&(r++,n.dn_cnt[t]>0&&n.up_cnt[t]>0&&i++);Zl("Pseudocosts initialized for "+i+" of "+r+" variables")}(e),h=l())}return 0==b?a=Le(e,n):(n(c),a)}function Qe(e){for(var n,r,i,o,u,d,f,_,p,b,h,m,g=e.mip,A=g.n,y=null,v=null,x=null,w=0;;){var k=null;switch(w){case 0:if(t(Hs(g)==gu),0!=e.curr.level||1!=e.curr.solved){k=5;break}for(_=0,i=1;i<=A;i++)if(n=g.col[i],n.kind!=Vc&&n.type!=eu){if(t(n.kind==qc),n.type!=$c||0!=n.lb||1!=n.ub){e.parm.msg_lev>=Bu&&Zl("FPUMP heuristic cannot be applied due to general integer variables"),k=5;break}_++}if(null!=k)break;if(0==_){k=5;break}for(e.parm.msg_lev>=Bu&&Zl("Applying FPUMP heuristic..."),v=new Array(1+_),a(v,1,_),o=0,i=1;i<=A;i++)n=g.col[i],n.kind==qc&&n.type==$c&&(v[++o].j=i);t(o==_),y=es();case 1:if(bs(y,g,ed),g.mip_stat==bu){var C,E,M;for(is(y,1),C=new Int32Array(1+A),E=new Float64Array(1+A),i=1;i<=A;i++)C[i]=i,E[i]=g.col[i].coef;ds(y,y.m,A,C,E),M=.1*g.obj_val+.9*g.mip_obj,g.dir==Hc?ss(y,y.m,Jc,0,M-g.c0):g.dir==Wc?ss(y,y.m,Xc,M-g.c0,0):t(g!=g)}for(f=0,o=1;o<=_;o++)v[o].x=-1;case 2:if(f++,e.parm.msg_lev>=Bu&&Zl("Pass "+f),h=Ul,d=0,f>1){var j;for(null==x&&(x=Al()),o=1;o<=_;o++)i=v[o].j,n=y.col[i],j=kl(x,-.3,.7),j<0&&(j=0),Math.abs(v[o].x-n.prim)+j>.5&&(v[o].x=1-v[o].x);k=4;break}case 3:for(b=1,o=1;o<=_;o++)n=y.col[v[o].j],u=n.prim<.5?0:1,v[o].x!=u&&(b=0,v[o].x=u);if(b){for(o=1;o<=_;o++)n=y.col[v[o].j],v[o].d=Math.abs(n.prim-v[o].x);for(c(v,1,_,function(e,t){return e.d>t.d?-1:e.d<t.d?1:0}),o=1;o<=_&&!(o>=5&&v[o].d<.35||o>=10);o++)v[o].x=1-v[o].x}case 4:if(e.parm.tm_lim<Yl&&e.parm.tm_lim-1<=1e3*s(l(),e.tm_beg)){k=5;break}for(y.dir=Hc,y.c0=0,i=1;i<=A;i++)y.col[i].coef=0;for(o=1;o<=_;o++)i=v[o].j,0==v[o].x?y.col[i].coef=1:(y.col[i].coef=-1,y.c0+=1);if(r=new Ys,e.parm.msg_lev<=ku?r.msg_lev=e.parm.msg_lev:e.parm.msg_lev<=Bu&&(r.msg_lev=Cu,r.out_dly=1e4),0!=(p=Gs(y,r))){e.parm.msg_lev>=ku&&Zl("Warning: glp_simplex returned "+p),k=5;break}if((p=Hs(y))!=gu){e.parm.msg_lev>=ku&&Zl("Warning: glp_get_status returned "+p),k=5;break}for(e.parm.msg_lev>=Eu&&Zl("delta = "+y.obj_val),m=.3*e.parm.tol_int,o=1;o<=_&&(n=y.col[v[o].j],!(m<n.prim&&n.prim<1-m));o++);if(o>_){var O=new Float64Array(1+A);for(i=1;i<=A;i++)O[i]=y.col[i].prim,g.col[i].kind==qc&&(O[i]=Math.floor(O[i]+.5));for(y.c0=g.c0,y.dir=g.dir,o=1;o<=_;o++)y.col[v[o].j].lb=O[v[o].j],y.col[v[o].j].ub=O[v[o].j],y.col[v[o].j].type=eu;for(i=1;i<=A;i++)y.col[i].coef=g.col[i].coef;if(0!=(p=Gs(y,r))){e.parm.msg_lev>=ku&&Zl("Warning: glp_simplex returned "+p),k=5;break}if((p=Hs(y))!=gu){e.parm.msg_lev>=ku&&Zl("Warning: glp_get_status returned "+p),k=5;break}for(i=1;i<=A;i++)g.col[i].kind!=qc&&(O[i]=y.col[i].prim);if(0==(p=B(e,O))){if(ie(e,e.curr.bound)){k=1;break}k=5;break}}if(h==Ul||y.obj_val<=h-1e-6*(1+h)?(d=0,h=y.obj_val):d++,d<3){k=3;break}if(f<5){k=2;break}}if(null==k)break;w=k}}function Ue(e){var n,r,i,o,a,l,s,u,d,f,_,p;for(t(null!=e.curr),n=e.local,t(null!=n),t(n.size>0),o=new Array(1+n.size),f=new Int32Array(1+e.n),_=new Float64Array(1+e.n),p=new Float64Array(1+e.n),a=0,r=n.head;null!=r;r=r.next)a++,o[a].cut=r,o[a].flag=0;for(t(a==n.size),a=1;a<=n.size;a++){var b,h=null,m=null;for(r=o[a].cut,u=0,b=0,i=r.ptr;null!=i;i=i.next)t(1<=i.j&&i.j<=e.n),u++,f[u]=i.j,_[u]=i.val,b+=i.val*i.val;b<Hl*Hl&&(b=Hl),u=yc(e.mip,u,f,_),d=x(e.mip,u,f,_,r.type,r.rhs,1e-9,function(e,t,n,r,i,o){h=i,m=o}),0==d?(o[a].eff=Math.abs(h)/Math.sqrt(b),e.mip.dir==Hc?(m<0&&(m=0),o[a].deg=+m):(m>0&&(m=0),o[a].deg=-m)):1==d?o[a].eff=o[a].deg=0:2==d?(o[a].eff=1,o[a].deg=Ul):t(d!=d),o[a].deg<.01&&(o[a].deg=0)}for(c(o,1,n.size,function(e,t){if(0==e.deg&&0==t.deg){if(e.eff>t.eff)return-1;if(e.eff<t.eff)return 1}else{if(e.deg>t.deg)return-1;if(e.deg<t.deg)return 1}return 0}),s=0==e.curr.level?90:10,s>n.size&&(s=n.size),a=1;a<=s;a++){var g;if(!(o[a].deg<.01&&o[a].eff<.01)){for(l=1;l<a&&!(o[l].flag&&function(e,t,n){var r,i,o=0,a=0,l=0;for(r=e.ptr;null!=r;r=r.next)n[r.j]=r.val,a+=r.val*r.val;for(r=t.ptr;null!=r;r=r.next)o+=n[r.j]*r.val,l+=r.val*r.val;for(r=e.ptr;null!=r;r=r.next)n[r.j]=0;return i=Math.sqrt(a)*Math.sqrt(l),i<Hl*Hl&&(i=Hl),o/i}(o[a].cut,o[l].cut,p)>.9);l++);if(!(l<a)){for(r=o[a].cut,o[a].flag=1,g=is(e.mip,1),null!=r.name&&as(e.mip,g,r.name),t(e.mip.row[g].origin==qu),e.mip.row[g].klass=r.klass,u=0,i=r.ptr;null!=i;i=i.next)u++,f[u]=i.j,_[u]=i.val;ds(e.mip,g,u,f,_),t(r.type==Xc||r.type==Jc),ss(e.mip,g,r.type,r.rhs,r.rhs)}}}}function Re(e){var n;return e.parm.bt_tech==Qu?(t(null!=e.tail),n=e.tail.p):e.parm.bt_tech==Uu?(t(null!=e.head),n=e.head.p):e.parm.bt_tech==Ru?n=function(e){var n,r,i,o=null;switch(e.mip.dir){case Hc:for(r=+Ul,n=e.head;null!=n;n=n.next)r>n.bound&&(r=n.bound);for(t(r!=+Ul),i=.001*(1+Math.abs(r)),n=e.head;null!=n;n=n.next)n.bound<=r+i&&(t(null!=n.up),(null==o||o.up.ii_sum>n.up.ii_sum)&&(o=n));break;case Wc:for(r=-Ul,n=e.head;null!=n;n=n.next)r<n.bound&&(r=n.bound);for(t(r!=-Ul),i=.001*(1+Math.abs(r)),n=e.head;null!=n;n=n.next)n.bound>=r-i&&(t(null!=n.up),(null==o||o.lp_obj<n.lp_obj)&&(o=n));break;default:t(e!=e)}return t(null!=o),o.p}(e):e.parm.bt_tech==Gu?n=e.mip.mip_stat==pu?function(e){var n,r,i;for(r=0,i=Ul,n=e.head;null!=n;n=n.next)t(null!=n.up),i>n.up.ii_sum&&(r=n.p,i=n.up.ii_sum);return r}(e):function(e){var n,r,i,o,a,l;for(t(e.mip.mip_stat==bu),n=e.slot[1].node,t(null!=n),t(n.ii_sum>0),a=(e.mip.mip_obj-n.bound)/n.ii_sum,i=0,o=Ul,r=e.head;null!=r;r=r.next)t(null!=r.up),l=r.up.bound+a*r.up.ii_sum,e.mip.dir==Wc&&(l=-l),o>l&&(i=r.p,o=l);return i}(e):t(e!=e),n}function Ge(e,n){var r;for(t(e>0&&n>0);n>0;)r=e%n,e=n,n=r;return e}function Ye(e,n){var r,i=0;for(t(e>0),r=1;r<=e&&(t(n[r]>0),1!=(i=1==r?n[1]:Ge(i,n[r])));r++);return i}function He(e){t(e>0);var n=Math.floor(Math.log(e)/Math.log(2))+1,r=e/Math.pow(2,n);return Math.pow(2,r<=.75?n-1:n)}function We(e,t){var n=Number(e);if(isNaN(n))return 2;switch(n){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return t(n),0}}function Ve(e,t){var n=Number(e);if(isNaN(n))return 2;switch(n){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return n%1==0?(t(n),0):2}}function qe(e,t,n){var r,i,o,a;return 1<=e&&e<=31&&1<=t&&t<=12&&1<=n&&n<=4e3?(t>=3?t-=3:(t+=9,n--),r=n/100|0,i=n-100*r,o=146097*r/4|0,o+=1461*i/4|0,o+=(153*t+2)/5|0,o+=e+1721119,Ke(o,function(e){a=e}),e!=a&&(o=-1),o):-1}function Ke(e,t){var n,r,i;return 1721426<=e&&e<=3182395?(e-=1721119,i=(4*e-1)/146097|0,e=(4*e-1)%146097,n=e/4|0,e=(4*n+3)/1461|0,n=(4*n+3)%1461,n=(n+4)/4|0,r=(5*n-3)/153|0,n=(5*n-3)%153,n=(n+5)/5|0,i=100*i+e,r<=9?r+=3:(r-=9,i++),t(n,r,i),0):1}function Ze(){var e;return Bd&&Zl("lpf_create_it: warning: debug mode enabled"),e={},e.valid=0,e.m0_max=e.m0=0,e.luf=It(),e.m=0,e.B=null,e.n_max=50,e.n=0,e.R_ptr=e.R_len=null,e.S_ptr=e.S_len=null,e.scf=null,e.P_row=e.P_col=null,e.Q_row=e.Q_col=null,e.v_size=1e3,e.v_ptr=0,e.v_ind=null,e.v_val=null,e.work1=e.work2=null,e}function Xe(e,r,i,o,a){var l;if(Bd)var s,c,u,d,f,_;switch(t(i==i),r<1&&n("lpf_factorize: m = "+r+"; invalid parameter"),r>Vl&&n("lpf_factorize: m = "+r+"; matrix too big"),e.m0=e.m=r,e.valid=0,null==e.R_ptr&&(e.R_ptr=new Int32Array(1+e.n_max)),null==e.R_len&&(e.R_len=new Int32Array(1+e.n_max)),null==e.S_ptr&&(e.S_ptr=new Int32Array(1+e.n_max)),null==e.S_len&&(e.S_len=new Int32Array(1+e.n_max)),null==e.scf&&(e.scf=Cl(e.n_max)),null==e.v_ind&&(e.v_ind=new Int32Array(1+e.v_size)),null==e.v_val&&(e.v_val=new Float64Array(1+e.v_size)),e.m0_max<r&&(e.m0_max=r+100,e.P_row=new Int32Array(1+e.m0_max+e.n_max),e.P_col=new Int32Array(1+e.m0_max+e.n_max),e.Q_row=new Int32Array(1+e.m0_max+e.n_max),e.Q_col=new Int32Array(1+e.m0_max+e.n_max),e.work1=new Float64Array(1+e.m0_max+e.n_max),e.work2=new Float64Array(1+e.m0_max+e.n_max)),Ut(e.luf,r,o,a)){case 0:break;case Lf:return Cd;case Tf:return LPF_ECOND;default:t(e!=e)}if(e.valid=1,Bd){for(t(r<=32767),e.B=f=new Float64Array(1+r*r),d=new Int32Array(1+r),_=new Float64Array(1+r),l=1;l<=r*r;l++)f[l]=0;for(c=1;c<=r;c++)for(u=o(a,c,d,_),t(0<=u&&u<=r),l=1;l<=u;l++)s=d[l],t(1<=s&&s<=r),t(0==f[(s-1)*r+c]),t(0!=_[l]),f[(s-1)*r+c]=_[l]}for(e.n=0,zl(e.scf),l=1;l<=r;l++)e.P_row[l]=e.P_col[l]=l,e.Q_row[l]=e.Q_col[l]=l;return e.v_ptr=1,0}function Je(e,t,n,r,i){var o,a,l,s,c,u=e.n,d=e.R_ptr,f=e.R_len,_=e.v_ind,p=e.v_val;for(o=1;o<=u;o++)if(0!=r[o+i])for(c=n*r[o+i],a=d[o],l=a+f[o],s=a;s<l;s++)t[_[s]]+=c*p[s]}function $e(e,t,n,r,i){var o,a,l,s,c,u=e.n,d=e.R_ptr,f=e.R_len,_=e.v_ind,p=e.v_val;for(o=1;o<=u;o++){for(c=0,a=d[o],l=a+f[o],s=a;s<l;s++)c+=p[s]*i[_[s]];t[o+n]+=r*c}}function et(e,t,n,r,i){var o,a,l,s,c,u=e.n,d=e.S_ptr,f=e.S_len,_=e.v_ind,p=e.v_val;for(o=1;o<=u;o++){for(c=0,a=d[o],l=a+f[o],s=a;s<l;s++)c+=p[s]*i[_[s]];t[o+n]+=r*c}}function tt(e,t,n,r,i){var o,a,l,s,c,u=e.n,d=e.S_ptr,f=e.S_len,_=e.v_ind,p=e.v_val;for(o=1;o<=u;o++)if(0!=r[o+i])for(c=n*r[o+i],a=d[o],l=a+f[o],s=a;s<l;s++)t[_[s]]+=c*p[s]}function nt(e,t,n,r){var i,o,a,l,s,c,u=e.m,d=e.B,f=0;for(i=1;i<=u;i++){for(l=0,c=1,o=1;o<=u;o++)s=t?d[u*(o-1)+i]*n[o]:d[u*(i-1)+o]*n[o],c<Math.abs(s)&&(c=Math.abs(s)),l+=s;a=Math.abs(l-r[i])/c,f<a&&(f=a)}f>1e-8&&Zl((t?"lpf_btran":"lpf_ftran")+": dmax = "+f+"; relative error too large")}function rt(e,r){var i,o,a=e.m0,l=e.m,s=e.n,c=e.P_col,u=e.Q_col,d=e.work1,f=d,_=d;if(Bd)var p;if(e.valid||n("lpf_ftran: the factorization is not valid"),t(0<=l&&l<=a+s),Bd)for(p=new Float64Array(1+l),i=1;i<=l;i++)p[i]=r[i];for(i=1;i<=a+s;i++)d[i]=(o=c[i])<=l?r[o]:0;for(Rt(e.luf,0,f),et(e,_,a,-1,f),Tl(e.scf,0,_,a),Je(e,f,-1,_,a),Gt(e.luf,0,f),i=1;i<=l;i++)r[i]=d[u[i]];Bd&&nt(e,0,r,p)}function it(e,r){var i,o,a=e.m0,l=e.m,s=e.n,c=e.P_row,u=e.Q_row,d=e.work1,f=d,_=d;if(Bd)var p;if(e.valid||n("lpf_btran: the factorization is not valid"),t(0<=l&&l<=a+s),Bd)for(p=new Float64Array(1+l),i=1;i<=l;i++)p[i]=r[i];for(i=1;i<=a+s;i++)d[i]=(o=u[i])<=l?r[o]:0;for(Gt(e.luf,1,f),$e(e,_,a,-1,f),Tl(e.scf,1,_,a),tt(e,f,-1,_,a),Rt(e.luf,1,f),i=1;i<=l;i++)r[i]=d[c[i]];Bd&&nt(e,1,r,p)}function ot(e,n){var r=e.v_size,o=e.v_ptr-1,a=e.v_ind,l=e.v_val;for(t(r<n);r<n;)r+=r;e.v_size=r,e.v_ind=new Int32Array(1+r),e.v_val=new Float64Array(1+r),t(o>=0),i(e.v_ind,1,a,1,o),i(e.v_val,1,l,1,o)}function at(e,r,i,o,a,l,s){var c=e.m0,u=e.m;if(Bd)var d=e.B;var f,_,p,b,h=e.n,m=e.R_ptr,g=e.R_len,A=e.S_ptr,y=e.S_len,v=e.P_row,x=e.P_col,w=e.Q_row,k=e.Q_col,C=e.v_ptr,B=e.v_ind,E=e.v_val,M=e.work2,j=e.work1,O=j,I=j,D=e.work2,N=D,S=D,L=I,T=S;if(t(i==i),e.valid||n("lpf_update_it: the factorization is not valid"),1<=r&&r<=u||n("lpf_update_it: j = "+r+"; column number out of range"),t(0<=u&&u<=c+h),h==e.n_max)return e.valid=0,LPF_ELIMIT;for(_=1;_<=u;_++)M[_]=0;for(b=1;b<=o;b++)_=a[l+b],1<=_&&_<=u||n("lpf_update_it: ind["+b+"] = "+_+"; row number out of range"),0!=M[_]&&n("lpf_update_it: ind["+b+"] = "+_+"; duplicate row index not allowed"),0==s[b]&&n("lpf_update_it: val["+b+"] = "+s[b]+"; zero element not allowed"),M[_]=s[b];if(Bd)for(_=1;_<=u;_++)d[(_-1)*u+r]=M[_];for(_=1;_<=c+h;_++)j[_]=(p=x[_])<=u?M[p]:0;for(_=1;_<=c+h;_++)D[_]=0;for(D[k[r]]=1,Rt(e.luf,0,O),Gt(e.luf,1,N),e.v_size<C+c+c&&(ot(e,C+c+c),B=e.v_ind,E=e.v_val),m[h+1]=C,_=1;_<=c;_++)0!=O[_]&&(B[C]=_,E[C]=O[_],C++);for(g[h+1]=C-e.v_ptr,e.v_ptr=C,A[h+1]=C,_=1;_<=c;_++)0!=N[_]&&(B[C]=_,E[C]=N[_],C++);for(y[h+1]=C-e.v_ptr,e.v_ptr=C,et(e,L,0,-1,O),$e(e,T,0,-1,N),f=0,_=1;_<=c;_++)f-=N[_]*O[_];switch(Nl(e.scf,L,c,T,c,f)){case 0:break;case zh:return e.valid=0,Cd;case Ph:t(e!=e);default:t(e!=e)}return v[c+h+1]=x[c+h+1]=c+h+1,w[c+h+1]=k[c+h+1]=c+h+1,_=k[r],p=k[c+h+1],w[_]=c+h+1,k[c+h+1]=_,w[p]=r,k[r]=p,e.n++,t(e.n<=e.n_max),0}function lt(e){return As(e)}function st(e){return ys(e)}function ct(e,t){return ws(e,t)-Zc+Ed}function ut(e,t){var n=ks(e,t);return n==-Ul&&(n=0),n}function dt(e,t){var n=Cs(e,t);return n==+Ul&&(n=0),n}function ft(e,t,n){n(ct(e,t),ut(e,t),dt(e,t))}function _t(e,t){return Bs(e,t)-Zc+Ed}function pt(e,t){var n=Es(e,t);return n==-Ul&&(n=0),n}function bt(e,t){var n=Ms(e,t);return n==+Ul&&(n=0),n}function ht(e,t,n){n(_t(e,t),pt(e,t),bt(e,t))}function mt(e,t,n,r){return js(e,t,n,r)}function gt(e,t,n,r){return Os(e,t,n,r)}function At(e,t,n){Qs(e,t,n-Dd+tu)}function yt(e,t,n){Us(e,t,n-Dd+tu)}function vt(e){var n;switch(Hs(e)){case gu:n=Fd;break;case bu:n=Qd;break;case hu:n=Ud;break;case mu:n=Rd;break;case Au:n=Gd;break;case pu:n=Yd;break;default:t(e!=e)}return n}function xt(e){return qs(e)}function wt(e,t){return $s(e,t)}function kt(e,t,n,r){return gc(e,t,n,r)}function Ct(e,n,r,i,o,a){var l=xc(e,n,r,i,o,a);return t(0<=l&&l<=n),0==l?0:r[l]}function Bt(e,t){return nc(e,t)==Vc?zd:Pd}function Et(e){var n=e.parms;t(null!=n),n.msg_lev=3,n.scale=1,n.dual=0,n.price=1,n.relax=.07,n.tol_bnd=1e-7,n.tol_dj=1e-7,n.tol_piv=1e-9,n.round=0,n.obj_ll=-Ul,n.obj_ul=+Ul,n.it_lim=-1,n.tm_lim=-1,n.out_frq=200,n.out_dly=0,n.branch=2,n.btrack=3,n.tol_int=1e-5,n.tol_obj=1e-7,n.mps_info=1,n.mps_obj=2,n.mps_orig=0,n.mps_wide=1,n.mps_free=0,n.mps_skip=0,n.lpt_orig=0,n.presol=0,n.binarize=0,n.use_cuts=0,n.mip_gap=0}function Mt(e){return null==e.parms&&(e.parms={},Et(e)),e.parms}function jt(e,r){var i=Mt(e),o=0;switch(r){case Jd:o=i.msg_lev;break;case $d:o=i.scale;break;case ef:o=i.dual;break;case tf:o=i.price;break;case lf:o=i.round;break;case uf:o=i.it_lim;break;case df:o=e.it_cnt;break;case _f:o=i.out_frq;break;case bf:o=i.branch;break;case hf:o=i.btrack;break;case Af:o=i.mps_info;break;case yf:o=i.mps_obj;break;case vf:o=i.mps_orig;break;case xf:o=i.mps_wide;break;case wf:o=i.mps_free;break;case kf:o=i.mps_skip;break;case Cf:o=i.lpt_orig;break;case Bf:o=i.presol;break;case Ef:o=i.binarize;break;case Mf:o=i.use_cuts;break;case jf:switch(r={},dc(e,r),r.type){case yu:o=1;break;case vu:o=2;break;case xu:o=3;break;default:t(e!=e)}break;default:n("lpx_get_int_parm: parm = "+r+"; invalid parameter")}return o}function Ot(e,t){var r=Mt(e),i=0;switch(t){case nf:i=r.relax;break;case rf:i=r.tol_bnd;break;case of:i=r.tol_dj;break;case af:i=r.tol_piv;break;case sf:i=r.obj_ll;break;case cf:i=r.obj_ul;break;case ff:i=r.tm_lim;break;case pf:i=r.out_dly;break;case mf:i=r.tol_int;break;case gf:i=r.tol_obj;break;case Of:i=r.mip_gap;break;default:n("lpx_get_real_parm: parm = "+t+"; invalid parameter")}return i}function It(){var e={};return e.n_max=e.n=0,e.valid=0,e.fr_ptr=e.fr_len=null,e.fc_ptr=e.fc_len=null,e.vr_ptr=e.vr_len=e.vr_cap=null,e.vr_piv=null,e.vc_ptr=e.vc_len=e.vc_cap=null,e.pp_row=e.pp_col=null,e.qq_row=e.qq_col=null,e.sv_size=0,e.sv_beg=e.sv_end=0,e.sv_ind=null,e.sv_val=null,e.sv_head=e.sv_tail=0,e.sv_prev=e.sv_next=null,e.vr_max=null,e.rs_head=e.rs_prev=e.rs_next=null,e.cs_head=e.cs_prev=e.cs_next=null,e.flag=null,e.work=null,e.new_sva=0,e.piv_tol=.1,e.piv_lim=4,e.suhl=1,e.eps_tol=1e-15,e.max_gro=1e10,e.nnz_a=e.nnz_f=e.nnz_v=0,e.max_a=e.big_v=0,e.rank=0,e}function Dt(e){var t,n,r,o=e.n,a=e.vr_ptr,l=e.vr_len,s=e.vr_cap,c=e.vc_ptr,u=e.vc_len,d=e.vc_cap,f=e.sv_ind,_=e.sv_val,p=e.sv_next,b=1;for(r=e.sv_head;0!=r;r=p[r])if(r<=o){if(t=r,a[t]!=b)break;s[t]=l[t],b+=s[t]}else{if(n=r-o,c[n]!=b)break;d[n]=u[n],b+=d[n]}for(;0!=r;r=p[r])r<=o?(t=r,i(f,b,f,a[t],l[t]),i(_,b,_,a[t],l[t]),a[t]=b,s[t]=l[t],b+=s[t]):(n=r-o,i(f,b,f,c[n],u[n]),i(_,b,_,c[n],u[n]),c[n]=b,d[n]=u[n],b+=d[n]);e.sv_beg=b}function Nt(e,n,r){var o,a,l,s=e.n,c=e.vr_ptr,u=e.vr_len,d=e.vr_cap,f=e.vc_cap,_=e.sv_ind,p=e.sv_val,b=e.sv_prev,h=e.sv_next,m=0;return t(1<=n&&n<=s),t(d[n]<r),e.sv_end-e.sv_beg<r&&(Dt(e),e.sv_end-e.sv_beg<r)?m=1:(o=d[n],i(_,e.sv_beg,_,c[n],u[n]),i(p,e.sv_beg,p,c[n],u[n]),c[n]=e.sv_beg,d[n]=r,e.sv_beg+=r,a=n,0==b[a]?e.sv_head=h[a]:(l=b[a],l<=s?d[l]+=o:f[l-s]+=o,h[b[a]]=h[a]),0==h[a]?e.sv_tail=b[a]:b[h[a]]=b[a],b[a]=e.sv_tail,h[a]=0,0==b[a]?e.sv_head=a:h[b[a]]=a,e.sv_tail=a,m)}function St(e,n,r){var o,a,l,s=e.n,c=e.vr_cap,u=e.vc_ptr,d=e.vc_len,f=e.vc_cap,_=e.sv_ind,p=e.sv_val,b=e.sv_prev,h=e.sv_next,m=0;return t(1<=n&&n<=s),t(f[n]<r),e.sv_end-e.sv_beg<r&&(Dt(e),e.sv_end-e.sv_beg<r)?m=1:(o=f[n],i(_,e.sv_beg,_,u[n],d[n]),i(p,e.sv_beg,p,u[n],d[n]),u[n]=e.sv_beg,f[n]=r,e.sv_beg+=r,a=s+n,0==b[a]?e.sv_head=h[a]:(l=b[a],l<=s?c[l]+=o:f[l-s]+=o,h[b[a]]=h[a]),0==h[a]?e.sv_tail=b[a]:b[h[a]]=b[a],b[a]=e.sv_tail,h[a]=0,0==b[a]?e.sv_head=a:h[b[a]]=a,e.sv_tail=a,m)}function Lt(e,t){var n=e.n_max;e.n=t,t<=n||(e.n_max=n=t+100,e.fr_ptr=new Int32Array(1+n),e.fr_len=new Int32Array(1+n),e.fc_ptr=new Int32Array(1+n),e.fc_len=new Int32Array(1+n),e.vr_ptr=new Int32Array(1+n),e.vr_len=new Int32Array(1+n),e.vr_cap=new Int32Array(1+n),e.vr_piv=new Float64Array(1+n),e.vc_ptr=new Int32Array(1+n),e.vc_len=new Int32Array(1+n),e.vc_cap=new Int32Array(1+n),e.pp_row=new Int32Array(1+n),e.pp_col=new Int32Array(1+n),e.qq_row=new Int32Array(1+n),e.qq_col=new Int32Array(1+n),e.sv_prev=new Int32Array(1+n+n),e.sv_next=new Int32Array(1+n+n),e.vr_max=new Float64Array(1+n),e.rs_head=new Int32Array(1+n),e.rs_prev=new Int32Array(1+n),e.rs_next=new Int32Array(1+n),e.cs_head=new Int32Array(1+n),e.cs_prev=new Int32Array(1+n),e.cs_next=new Int32Array(1+n),e.flag=new Int32Array(1+n),e.work=new Float64Array(1+n))}function Tt(e,t,r){var i,o,a,l,s,c,u,d,f,_,p,b,h,m=e.n,g=e.fc_ptr,A=e.fc_len,y=e.vr_ptr,v=e.vr_len,x=e.vr_cap,w=e.vc_ptr,k=e.vc_len,C=e.vc_cap,B=e.pp_row,E=e.pp_col,M=e.qq_row,j=e.qq_col,O=e.sv_ind,I=e.sv_val,D=e.sv_prev,N=e.sv_next,S=e.vr_max,L=e.rs_head,T=e.rs_prev,z=e.rs_next,P=e.cs_head,F=e.cs_prev,Q=e.cs_next,U=e.flag,R=e.work,G=0;for(f=1,_=e.sv_size+1,a=1;a<=m;a++)g[a]=_,A[a]=0;for(i=1;i<=m;i++)v[i]=x[i]=0,U[i]=0;for(d=0,b=0,a=1;a<=m;a++){var Y=B,H=R;if(u=t(r,a,Y,H),0<=u&&u<=m||n("luf_factorize: j = "+a+"; len = "+u+"; invalid column length"),_-f<u)return G=1;for(w[a]=f,k[a]=C[a]=u,d+=u,p=1;p<=u;p++)i=Y[p],h=H[p],1<=i&&i<=m||n("luf_factorize: i = "+i+"; j = "+a+"; invalid row index"),U[i]&&n("luf_factorize: i = "+i+"; j = "+a+"; duplicate element not allowed"),0==h&&n("luf_factorize: i = "+i+"; j = "+a+"; zero element not allowed"),O[f]=i,I[f]=h,f++,h<0&&(h=-h),b<h&&(b=h),U[i]=1,x[i]++;for(p=1;p<=u;p++)U[Y[p]]=0}for(i=1;i<=m;i++){if(u=x[i],_-f<u)return G=1;y[i]=f,f+=u}for(a=1;a<=m;a++)for(l=w[a],s=l+k[a]-1,c=l;c<=s;c++)i=O[c],h=I[c],o=y[i]+v[i],O[o]=a,I[o]=h,v[i]++;for(c=1;c<=m;c++)B[c]=E[c]=M[c]=j[c]=c;for(e.sv_beg=f,e.sv_end=_,e.sv_head=m+1,e.sv_tail=m,i=1;i<=m;i++)D[i]=i-1,N[i]=i+1;for(D[1]=m+m,N[m]=0,a=1;a<=m;a++)D[m+a]=m+a-1,N[m+a]=m+a+1;for(D[m+1]=0,N[m+m]=1,c=1;c<=m;c++)U[c]=0,R[c]=0;for(e.nnz_a=d,e.nnz_f=0,e.nnz_v=d,e.max_a=b,e.big_v=b,e.rank=-1,i=1;i<=m;i++)S[i]=-1;for(u=0;u<=m;u++)L[u]=0;for(i=1;i<=m;i++)u=v[i],T[i]=0,z[i]=L[u],0!=z[i]&&(T[z[i]]=i),L[u]=i;for(u=0;u<=m;u++)P[u]=0;for(a=1;a<=m;a++)u=k[a],F[a]=0,Q[a]=P[u],0!=Q[a]&&(F[Q[a]]=a),P[u]=a;return G}function zt(e,n){function r(){return n(i,o),0==i}var i,o,a,l,s,c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k=e.n,C=e.vr_ptr,B=e.vr_len,E=e.vc_ptr,M=e.vc_len,j=e.sv_ind,O=e.sv_val,I=e.vr_max,D=e.rs_head,N=e.rs_next,S=e.cs_head,L=e.cs_prev,T=e.cs_next,z=e.piv_tol,P=e.piv_lim,F=e.suhl;if(i=o=0,y=Ul,b=0,0!=(d=S[1]))return t(1==M[d]),i=j[E[d]],o=d,r();if(0!=(l=D[1]))return t(1==B[l]),i=l,o=j[C[l]],r();for(a=2;a<=k;a++){for(d=S[a];0!=d;d=h){for(f=E[d],_=f+M[d]-1,h=T[d],m=g=0,A=Yl,p=f;p<=_;p++)if(l=j[p],s=C[l],c=s+B[l]-1,!(B[l]>=A)){if((x=I[l])<0){for(u=s;u<=c;u++)w=O[u],w<0&&(w=-w),x<w&&(x=w);I[l]=x}for(u=C[l];j[u]!=d;u++);if(t(u<=c),w=O[u],w<0&&(w=-w),!(w<z*x)&&(m=l,g=d,(A=B[l])<=a))return i=m,o=g,r()}if(0!=m){if(b++,v=(A-1)*(a-1),v<y&&(i=m,o=g,y=v),b==P)return r()}else F&&(0==L[d]?S[a]=T[d]:T[L[d]]=T[d],0==T[d]||(L[T[d]]=L[d]),L[d]=T[d]=d)}for(l=D[a];0!=l;l=N[l]){if(s=C[l],c=s+B[l]-1,(x=I[l])<0){for(u=s;u<=c;u++)w=O[u],w<0&&(w=-w),x<w&&(x=w);I[l]=x}for(m=g=0,A=Yl,u=s;u<=c;u++)if(d=j[u],!(M[d]>=A)&&(w=O[u],w<0&&(w=-w),!(w<z*x)&&(m=l,g=d,(A=M[d])<=a)))return i=m,o=g,r();if(0!=m){if(b++,v=(a-1)*(A-1),v<y&&(i=m,o=g,y=v),b==P)return r()}else t(m!=m)}}return r()}function Pt(e,n,r){var i,o,a,l,s,c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k,C=e.n,B=e.fc_ptr,E=e.fc_len,M=e.vr_ptr,j=e.vr_len,O=e.vr_cap,I=e.vr_piv,D=e.vc_ptr,N=e.vc_len,S=e.vc_cap,L=e.sv_ind,T=e.sv_val,z=e.sv_prev,P=e.sv_next,F=e.vr_max,Q=e.rs_head,U=e.rs_prev,R=e.rs_next,G=e.cs_head,Y=e.cs_prev,H=e.cs_next,W=e.flag,V=e.work,q=e.eps_tol,K=e.fr_len,Z=0;for(t(1<=n&&n<=C),t(1<=r&&r<=C),0==U[n]?Q[j[n]]=R[n]:R[U[n]]=R[n],0==R[n]||(U[R[n]]=U[n]),0==Y[r]?G[N[r]]=H[r]:H[Y[r]]=H[r],0==H[r]||(Y[H[r]]=Y[r]),b=M[n],h=b+j[n]-1,m=b;L[m]!=r;m++);for(t(m<=h),w=I[n]=T[m],L[m]=L[h],T[m]=T[h],j[n]--,h--,g=D[r],A=g+N[r]-1,y=g;L[y]!=n;y++);for(t(y<=A),L[y]=L[A],N[r]--,A--,m=b;m<=h;m++){for(u=L[m],W[u]=1,V[u]=T[m],0==Y[u]?G[N[u]]=H[u]:H[Y[u]]=H[u],0==H[u]||(Y[H[u]]=Y[u]),d=D[u],f=d+N[u]-1,_=d;L[_]!=n;_++);t(_<=f),L[_]=L[f],N[u]--}for(;g<=A;){for(a=L[g],0==U[a]?Q[j[a]]=R[a]:R[U[a]]=R[a],0==R[a]||(U[R[a]]=U[a]),l=M[a],s=l+j[a]-1,c=l;L[c]!=r;c++);for(t(c<=s),v=T[c]/w,L[c]=L[s],T[c]=T[s],j[a]--,s--,L[g]=L[A],N[r]--,A--,o=j[n],c=l;c<=s;c++)if(u=L[c],W[u])if(k=T[c]-=v*V[u],k<0&&(k=-k),W[u]=0,o--,0==k||k<q){for(L[c]=L[s],T[c]=T[s],j[a]--,c--,s--,d=D[u],f=d+N[u]-1,_=d;L[_]!=a;_++);t(_<=f),L[_]=L[f],N[u]--}else e.big_v<k&&(e.big_v=k);if(j[a]+o>O[a]){if(Nt(e,a,j[a]+o))return Z=1;b=M[n],h=b+j[n]-1,g=D[r],A=g+N[r]-1}for(i=0,m=b;m<=h;m++)u=L[m],W[u]?(k=x=-v*V[u],k<0&&(k=-k),0==k||k<q||(c=M[a]+j[a],L[c]=u,T[c]=x,j[a]++,K[++i]=u,e.big_v<k&&(e.big_v=k))):W[u]=1;for(p=1;p<=i;p++){if(u=K[p],N[u]+1>S[u]){if(St(e,u,N[u]+10))return Z=1;b=M[n],h=b+j[n]-1,g=D[r],A=g+N[r]-1}_=D[u]+N[u],L[_]=a,N[u]++}if(U[a]=0,R[a]=Q[j[a]],0!=R[a]&&(U[R[a]]=a),Q[j[a]]=a,F[a]=-1,e.sv_end-e.sv_beg<1){if(Dt(e),e.sv_end-e.sv_beg<1)return Z=1;b=M[n],h=b+j[n]-1,g=D[r],A=g+N[r]-1}e.sv_end--,L[e.sv_end]=a,T[e.sv_end]=v,E[n]++}for(t(0==N[r]),S[r]=0,p=C+r,0==z[p]?e.sv_head=P[p]:P[z[p]]=P[p],0==P[p]?e.sv_tail=z[p]:z[P[p]]=z[p],B[n]=e.sv_end,m=b;m<=h;m++)u=L[m],W[u]=0,V[u]=0,1!=N[u]&&Y[u]==u&&H[u]==u||(Y[u]=0,H[u]=G[N[u]],0!=H[u]&&(Y[H[u]]=u),G[N[u]]=u);return Z}function Ft(e){var t,n,r,i,o,a,l,s,c=e.n,u=e.vr_ptr,d=e.vr_len,f=e.vc_ptr,_=e.vc_len,p=e.vc_cap,b=e.sv_ind,h=e.sv_val,m=e.sv_prev,g=e.sv_next,A=0;for(s=0,t=1;t<=c;t++){for(n=u[t],r=n+d[t]-1,i=n;i<=r;i++)p[b[i]]++;s+=d[t]}if(e.nnz_v=s,e.sv_end-e.sv_beg<s)return A=1;for(o=1;o<=c;o++)f[o]=e.sv_beg,e.sv_beg+=p[o];for(t=1;t<=c;t++)for(n=u[t],r=n+d[t]-1,i=n;i<=r;i++)o=b[i],a=f[o]+_[o],b[a]=t,h[a]=h[i],_[o]++;for(l=c+1;l<=c+c;l++)m[l]=l-1,g[l]=l+1;return m[c+1]=e.sv_tail,g[e.sv_tail]=c+1,g[c+c]=0,e.sv_tail=c+c,A}function Qt(e){var t,n,r,i,o,a,l,s=e.n,c=e.fr_ptr,u=e.fr_len,d=e.fc_ptr,f=e.fc_len,_=e.sv_ind,p=e.sv_val,b=0;for(t=1;t<=s;t++)u[t]=0;for(l=0,n=1;n<=s;n++){for(r=d[n],i=r+f[n]-1,o=r;o<=i;o++)u[_[o]]++;l+=f[n]}if(e.nnz_f=l,e.sv_end-e.sv_beg<l)return b=1;for(t=1;t<=s;t++)c[t]=e.sv_end,e.sv_end-=u[t];for(n=1;n<=s;n++)for(r=d[n],i=r+f[n]-1,o=r;o<=i;o++)t=_[o],a=--c[t],_[a]=n,p[a]=p[o];return b}function Ut(e,r,i,o){var a,l,s,c,u,d,f,_,p,b,h=e.max_gro,m=null;for(r<1&&n("luf_factorize: n = "+r+"; invalid parameter"),r>ql&&n("luf_factorize: n = "+r+"; matrix too big"),e.valid=0,Lt(e,r),a=e.pp_row,l=e.pp_col,s=e.qq_row,c=e.qq_col,0==e.sv_size&&0==e.new_sva&&(e.new_sva=5*(r+10));function(){if(e.new_sva>0&&(e.sv_size=e.new_sva,e.sv_ind=new Int32Array(1+e.sv_size),e.sv_val=new Float64Array(1+e.sv_size),e.new_sva=0),Tt(e,i,o))return e.new_sva=e.sv_size+e.sv_size,t(e.new_sva>e.sv_size),!0;for(f=1;f<=r;f++){if(zt(e,function(e,t){_=e,p=t}))return e.rank=f-1,m=Lf,!1;if(u=l[_],d=s[p],t(f<=u&&u<=r&&f<=d&&d<=r),b=a[f],a[u]=b,l[b]=u,a[f]=_,l[_]=f,b=c[f],c[d]=b,s[b]=d,c[f]=p,s[p]=f,Pt(e,_,p))return e.new_sva=e.sv_size+e.sv_size,t(e.new_sva>e.sv_size),!0;if(e.big_v>h*e.max_a)return e.rank=f-1,m=Tf,!1}return Dt(e),Ft(e)?(e.new_sva=e.sv_size+e.sv_size,t(e.new_sva>e.sv_size),!0):!!Qt(e)&&(e.new_sva=e.sv_size+e.sv_size,t(e.new_sva>e.sv_size),!0)}(););if(null!=m)return m;if(e.valid=1,e.rank=r,m=0,b=3*(r+e.nnz_v)+2*e.nnz_f,e.sv_size<b)for(e.new_sva=e.sv_size;e.new_sva<b;)f=e.new_sva,e.new_sva=f+f,t(e.new_sva>f);return m}function Rt(e,t,r){var i,o,a,l,s,c,u,d=e.n,f=e.fr_ptr,_=e.fr_len,p=e.fc_ptr,b=e.fc_len,h=e.pp_row,m=e.sv_ind,g=e.sv_val;if(e.valid||n("luf_f_solve: LU-factorization is not valid"),t){for(i=d;i>=1;i--)if(a=h[i],0!=(u=r[a]))for(l=f[a],s=l+_[a]-1,c=l;c<=s;c++)r[m[c]]-=g[c]*u}else for(o=1;o<=d;o++)if(a=h[o],0!=(u=r[a]))for(l=p[a],s=l+b[a]-1,c=l;c<=s;c++)r[m[c]]-=g[c]*u}function Gt(e,t,r){var i,o,a,l,s,c,u,d=e.n,f=e.vr_ptr,_=e.vr_len,p=e.vr_piv,b=e.vc_ptr,h=e.vc_len,m=e.pp_row,g=e.qq_col,A=e.sv_ind,y=e.sv_val,v=e.work;for(e.valid||n("luf_v_solve: LU-factorization is not valid"),a=1;a<=d;a++)v[a]=r[a],r[a]=0;if(t){for(a=1;a<=d;a++)if(i=m[a],o=g[a],0!=(u=v[o]))for(r[i]=u/=p[i],l=f[i],s=l+_[i]-1,c=l;c<=s;c++)v[A[c]]-=y[c]*u}else for(a=d;a>=1;a--)if(i=m[a],o=g[a],0!=(u=v[i]))for(r[o]=u/=p[i],l=b[o],s=l+h[o]-1,c=l;c<=s;c++)v[A[c]]-=y[c]*u}function Yt(){return{index:{},par:{},set:{},var_:{},con:{},arg:{},loop:{}}}function Ht(e){var n;n=e.token==__?"_|_":e.token==m_?"'...'":e.image,t(0<=e.c_ptr&&e.c_ptr<d_),e.context[e.c_ptr++]=" ",e.c_ptr==d_&&(e.c_ptr=0);for(var r=0;r<n.length;r++)e.context[e.c_ptr++]=n[r],e.c_ptr==d_&&(e.c_ptr=0)}function Wt(e){for(var t;e.c_ptr>0;)e.c_ptr--,t=e.context[0],i(e.context,0,e.context,1,d_-1),e.context[d_-1]=t;Zl("Context: "+e.line+" > "+(" "==e.context[0]?"":"...")+e.context.join("").trim())}function Vt(e){var t;e.c!=zf&&("\n"==e.c&&(e.line++,e.column=0),t=Ko(e),e.column++,t==zf?"\n"==e.c?e.line--:na(e,"final NL missing before end of file"):"\n"==t||(d(t)?t=" ":f(t)&&(Ht(e),ta(e,"control character "+t+" not allowed"))),e.c=t)}function qt(e){t(0<=e.imlen),e.image+=e.c,e.imlen++,Vt(e)}function Kt(e){function n(){Ht(e),ta(e,"keyword s.t. incomplete")}function r(){Ht(e),ta(e,"cannot convert numeric literal "+e.image+" to floating-point number")}function i(){if("e"==e.c||"E"==e.c)for(qt(e),"+"!=e.c&&"-"!=e.c||qt(e),b(e.c)||(Ht(e),ta(e,"numeric literal "+e.image+" incomplete"));b(e.c);)qt(e);(_(e.c)||"_"==e.c)&&(Ht(e),ta(e,"symbol "+e.image+e.c+"... should be enclosed in quotes"))}function o(){for(;;){if(("\n"==e.c&&!s||e.c==zf)&&(Ht(e),ta(e,"unexpected end of line; string literal incomplete")),e.c==l)if(Vt(e),e.c==l){if(s){if(Vt(e),e.c==l){Vt(e);break}e.image+='""',e.imlen+=2}}else{if(!s)break;e.image+='"',e.imlen++}qt(e)}}if(e.b_token=e.token,e.b_imlen=e.imlen,e.b_image=e.image,e.b_value=e.value,e.f_scan)return e.f_scan=0,e.token=e.f_token,e.imlen=e.f_imlen,e.image=e.f_image,void(e.value=e.f_value);for(;;){for(e.token=0,e.imlen=0,e.image="",e.value=0;" "==e.c||"\n"==e.c;)Vt(e);if(e.c==zf)e.token=__;else{if("#"==e.c){for(;"\n"!=e.c&&e.c!=zf;)Vt(e);continue}if(e.flag_d||!_(e.c)&&"_"!=e.c)if(!e.flag_d&&b(e.c)){for(e.token=h_;b(e.c);)qt(e);var a=!1;if("."==e.c)if(qt(e),"."==e.c)e.imlen--,e.image=e.image.substr(0,e.image.length-1),e.f_dots=1,a=!0;else for(;b(e.c);)qt(e);a||i(),We(e.image,function(t){e.value=t})&&r()}else if("'"==e.c||'"'==e.c){var l=e.c,s=!1;e.token=m_,Vt(e),e.c==l?(Vt(e),e.c==l&&(s=!0,Vt(e),o())):o()}else if(e.flag_d||"+"!=e.c)if(e.flag_d||"-"!=e.c){if("*"==e.c)e.token=F_,qt(e),"*"==e.c&&(e.token=U_,qt(e));else if("/"==e.c){if(e.token=Q_,qt(e),"*"==e.c){for(Vt(e);;)if(e.c==zf)ta(e,"unexpected end of file; comment sequence incomplete");else if("*"==e.c){if(Vt(e),"/"==e.c)break}else Vt(e);Vt(e);continue}}else if("^"==e.c)e.token=U_,qt(e);else if("<"==e.c)e.token=R_,qt(e),"="==e.c?(e.token=G_,qt(e)):">"==e.c?(e.token=V_,qt(e)):"-"==e.c&&(e.token=up,qt(e));else if("="==e.c)e.token=Y_,qt(e),"="==e.c&&qt(e);else if(">"==e.c)e.token=W_,qt(e),"="==e.c?(e.token=H_,qt(e)):">"==e.c&&(e.token=sp,qt(e));else if("!"==e.c)e.token=O_,qt(e),"="==e.c&&(e.token=V_,qt(e));else if("&"==e.c)e.token=q_,qt(e),"&"==e.c&&(e.token=g_,qt(e));else if("|"==e.c)e.token=K_,qt(e),"|"==e.c&&(e.token=I_,qt(e));else if(e.flag_d||"."!=e.c)if(","==e.c)e.token=X_,qt(e);else if(":"==e.c)e.token=J_,qt(e),"="==e.c&&(e.token=ep,qt(e));else if(";"==e.c)e.token=$_,qt(e);else if("("==e.c)e.token=np,qt(e);else if(")"==e.c)e.token=rp,qt(e);else if("["==e.c)e.token=ip,qt(e);else if("]"==e.c)e.token=op,qt(e);else if("{"==e.c)e.token=ap,qt(e);else if("}"==e.c)e.token=lp,qt(e);else if("~"==e.c)e.token=cp,qt(e);else if(p(e.c)||h("+-._",e.c)>=0){for(t(e.flag_d),e.token=b_;p(e.c)||h("+-._",e.c)>=0;)qt(e);switch(We(e.image,function(t){e.value=t})){case 0:e.token=h_;break;case 1:r();break;case 2:break;default:t(e!=e)}}else Ht(e),ta(e,"character "+e.c+" not allowed");else if(e.token=Z_,qt(e),e.f_dots)e.token=tp,e.imlen=2,e.image="..",e.f_dots=0;else if("."==e.c)e.token=tp,qt(e);else if(b(e.c)){for(e.token=h_,qt(e);b(e.c);)qt(e);i(),We(e.image,function(t){e.value=t})&&r()}}else e.token=P_,qt(e);else e.token=z_,qt(e);else{for(e.token=p_;p(e.c)||"_"==e.c;)qt(e);"and"==e.image?e.token=g_:"by"==e.image?e.token=A_:"cross"==e.image?e.token=y_:"diff"==e.image?e.token=v_:"div"==e.image?e.token=x_:"else"==e.image?e.token=w_:"if"==e.image?e.token=k_:"in"==e.image?e.token=C_:"Infinity"==e.image?e.token=B_:"inter"==e.image?e.token=E_:"less"==e.image?e.token=M_:"mod"==e.image?e.token=j_:"not"==e.image?e.token=O_:"or"==e.image?e.token=I_:"s"==e.image&&"."==e.c?(e.token=D_,qt(e),"t"!=e.c&&n(),qt(e),"."!=e.c&&n(),qt(e)):"symdiff"==e.image?e.token=N_:"then"==e.image?e.token=S_:"union"==e.image?e.token=L_:"within"==e.image&&(e.token=T_)}}break}Ht(e),e.flag_x=0}function Zt(e){t(!e.f_scan),e.f_scan=1,e.f_token=e.token,e.f_imlen=e.imlen,e.f_image=e.image,e.f_value=e.value,e.token=e.b_token,e.imlen=e.b_imlen,e.image=e.b_image,e.value=e.b_value}function Xt(e,t){return e.token==p_&&e.image==t}function Jt(e){return e.token==g_&&"a"==e.image[0]||e.token==A_||e.token==y_||e.token==v_||e.token==x_||e.token==w_||e.token==k_||e.token==C_||e.token==E_||e.token==M_||e.token==j_||e.token==O_&&"n"==e.image[0]||e.token==I_&&"o"==e.image[0]||e.token==N_||e.token==S_||e.token==L_||e.token==T_}function $t(e,n,r,i,o){var a,l,s,c={};switch(c.op=n,c.vflag=0,c.arg=Yt(),c.value={},n){case mp:c.arg.num=r.num;break;case gp:c.arg.str=r.str;break;case Ap:c.arg.index.slot=r.index.slot,c.arg.index.next=r.index.next;break;case yp:case vp:for(s=r.par.list;null!=s;s=s.next)t(null!=s.x),t(null==s.x.up),s.x.up=c,c.vflag|=s.x.vflag;c.arg.par.par=r.par.par,c.arg.par.list=r.par.list;break;case xp:for(s=r.set.list;null!=s;s=s.next)t(null!=s.x),t(null==s.x.up),s.x.up=c,c.vflag|=s.x.vflag;c.arg.set.set=r.set.set,c.arg.set.list=r.set.list;break;case wp:for(s=r.var_.list;null!=s;s=s.next)t(null!=s.x),t(null==s.x.up),s.x.up=c,c.vflag|=s.x.vflag;c.arg.var_.var_=r.var_.var_,c.arg.var_.list=r.var_.list,c.arg.var_.suff=r.var_.suff;break;case kp:for(s=r.con.list;null!=s;s=s.next)t(null!=s.x),t(null==s.x.up),s.x.up=c,c.vflag|=s.x.vflag;c.arg.con.con=r.con.con,c.arg.con.list=r.con.list,c.arg.con.suff=r.con.suff;break;case Cp:case Bp:for(s=r.list;null!=s;s=s.next)t(null!=s.x),t(null==s.x.up),s.x.up=c,c.vflag|=s.x.vflag;c.arg.list=r.list;break;case Ep:t(null!=r.slice),c.arg.slice=r.slice;break;case Mp:case jp:case Op:case Ip:c.vflag=1;break;case Dp:case Np:case Sp:case Lp:case Tp:case zp:case Pp:case Fp:case Qp:case Up:case Rp:case Gp:case Yp:case Hp:case Wp:case Vp:case qp:case Kp:case Zp:case Xp:case Jp:case $p:t(null!=r.arg.x),t(null==r.arg.x.up),r.arg.x.up=c,c.vflag|=r.arg.x.vflag,c.arg.arg.x=r.arg.x;break;case eb:case tb:case nb:case rb:case ib:case ob:case ab:case lb:case sb:case cb:case ub:case db:n==db&&(c.vflag=1);case fb:n==fb&&(c.vflag=1);case _b:case pb:case bb:case hb:case mb:case gb:case Ab:case yb:case vb:case xb:case wb:case kb:case Cb:case Bb:case Eb:case Mb:case jb:case Ob:case Ib:case Db:case Nb:t(null!=r.arg.x),t(null==r.arg.x.up),r.arg.x.up=c,c.vflag|=r.arg.x.vflag,t(null!=r.arg.y),t(null==r.arg.y.up),r.arg.y.up=c,c.vflag|=r.arg.y.vflag,c.arg.arg.x=r.arg.x,c.arg.arg.y=r.arg.y;break;case Sb:case Lb:case Tb:t(null!=r.arg.x),t(null==r.arg.x.up),r.arg.x.up=c,c.vflag|=r.arg.x.vflag,t(null!=r.arg.y),t(null==r.arg.y.up),r.arg.y.up=c,c.vflag|=r.arg.y.vflag,null!=r.arg.z&&(t(null==r.arg.z.up),r.arg.z.up=c,c.vflag|=r.arg.z.vflag),c.arg.arg.x=r.arg.x,c.arg.arg.y=r.arg.y,c.arg.arg.z=r.arg.z;break;case zb:case Pb:for(s=r.list;null!=s;s=s.next)t(null!=s.x),t(null==s.x.up),s.x.up=c,c.vflag|=s.x.vflag;c.arg.list=r.list;break;case Fb:case Qb:case Ub:case Rb:case Gb:case Yb:case Hb:case Wb:for(a=r.loop.domain,t(null!=a),null!=a.code&&(t(null==a.code.up),a.code.up=c,c.vflag|=a.code.vflag),l=a.list;null!=l;l=l.next)t(null!=l.code),t(null==l.code.up),l.code.up=c,c.vflag|=l.code.vflag;null!=r.loop.x&&(t(null==r.loop.x.up),r.loop.x.up=c,c.vflag|=r.loop.x.vflag),c.arg.loop.domain=r.loop.domain,c.arg.loop.x=r.loop.x;break;default:t(n!=n)}return c.type=i,c.dim=o,c.up=null,c.valid=0,c.value={},c}function en(e,n,r,i,o){var a=Yt();return t(null!=r),a.arg.x=r,$t(e,n,a,i,o)}function tn(e,n,r,i,o,a){var l=Yt();return t(null!=r),t(null!=i),l.arg.x=r,l.arg.y=i,$t(e,n,l,o,a)}function nn(e,n,r,i,o,a,l){var s=Yt();return t(null!=r),t(null!=i),s.arg.x=r,s.arg.y=i,s.arg.z=o,$t(e,n,s,a,l)}function rn(e){var n,r=Yt();return t(e.token==h_),r.num=e.value,n=$t(e,mp,r,t_,0),Kt(e),n}function on(e){var n,r=Yt();return t(e.token==m_),r.str=e.image,n=$t(e,gp,r,l_,0),Kt(e),n}function an(e,n,r){var i,o={};if(t(null!=r),o.x=r,o.next=null,null==n)n=o;else{for(i=n;null!=i.next;i=i.next);i.next=o}return n}function ln(e,t){var n,r;for(r=0,n=t;null!=n;n=n.next)r++;return r}function sn(e){for(var n,r=null;;)if(n=Sn(e),n.type==t_&&(n=en(e,Np,n,l_,0)),n.type!=l_&&ta(e,"subscript expression has invalid type"),t(0==n.dim),r=an(e,r,n),e.token==X_)Kt(e);else{if(e.token==op)break;ta(e,"syntax error in subscript list")}return r}function cn(e){var n,r,i,o,a,l,s,c,u,d,f=Yt();t(e.token==p_);var _=e.tree[e.image];switch(null==_&&ta(e,e.image+" not defined"),_.type){case qf:n=_.link,c=n.name,u=0;break;case o_:r=_.link,c=r.name,u=r.dim,0==r.dimen&&(r.dimen=1);break;case r_:i=_.link,c=i.name,u=i.dim;break;case u_:o=_.link,c=o.name,u=o.dim;break;case Qf:a=_.link,c=a.name,u=a.dim;break;default:t(_!=_)}switch(Kt(e),e.token==ip?(0==u&&ta(e,c+" cannot be subscripted"),Kt(e),l=sn(e),u!=ln(e,l)&&ta(e,c+" must have "+u+" subscript"+(1==u?"":"s")+" rather than "+ln(e,l)),t(e.token==op),Kt(e)):(0!=u&&ta(e,c+" must be subscripted"),l=null),d=e.flag_s||_.type!=u_?bp:dp,e.token==Z_&&(Kt(e),e.token!=p_&&ta(e,"invalid use of period"),_.type!=u_&&_.type!=Qf&&ta(e,c+" cannot have a suffix"),"lb"==e.image?d=fp:"ub"==e.image?d=_p:"status"==e.image?d=pp:"val"==e.image?d=bp:"dual"==e.image?d=hp:ta(e,"suffix ."+e.image+" invalid"),Kt(e)),_.type){case qf:f.index.slot=n,f.index.next=n.list,s=$t(e,Ap,f,l_,0),n.list=s;break;case o_:f.set.set=r,f.set.list=l,s=$t(e,xp,f,Gf,r.dimen);break;case r_:f.par.par=i,f.par.list=l,s=i.type==l_?$t(e,vp,f,l_,0):$t(e,yp,f,t_,0);break;case u_:e.flag_s||d!=pp&&d!=bp&&d!=hp||ta(e,"invalid reference to status, primal value, or dual value of variable "+o.name+" above solve statement"),f.var_.var_=o,f.var_.list=l,f.var_.suff=d,s=$t(e,wp,f,d==dp?Vf:t_,0);break;case Qf:e.flag_s||d!=pp&&d!=bp&&d!=hp||ta(e,"invalid reference to status, primal value, or dual value of "+(a.type==Qf?"constraint":"objective")+" "+a.name+" above solve statement"),f.con.con=a,f.con.list=l,f.con.suff=d,s=$t(e,kp,f,t_,0);break;default:t(_!=_)}return s}function un(e,n){var r=Sn(e);return r.type==l_&&(r=en(e,Dp,r,t_,0)),r.type!=t_&&ta(e,"argument for "+n+" has invalid type"),t(0==r.dim),r}function dn(e,n){var r=Sn(e);return r.type==t_&&(r=en(e,Np,r,l_,0)),r.type!=l_&&ta(e,"argument for "+n+" has invalid type"),t(0==r.dim),r}function fn(e,n){var r=Pn(e);return r.type!=Gf&&ta(e,"argument for "+n+" has invalid type"),t(r.dim>0),r}function _n(e){var n,r,i,o=Yt();if(t(e.token==p_),"abs"==e.image?r=Qp:"ceil"==e.image?r=Up:"floor"==e.image?r=Rp:"exp"==e.image?r=Gp:"log"==e.image?r=Yp:"log10"==e.image?r=Hp:"sqrt"==e.image?r=Wp:"sin"==e.image?r=Vp:"cos"==e.image?r=qp:"atan"==e.image?r=Kp:"min"==e.image?r=zb:"max"==e.image?r=Pb:"round"==e.image?r=Zp:"trunc"==e.image?r=Xp:"Irand224"==e.image?r=Mp:"Uniform01"==e.image?r=jp:"Uniform"==e.image?r=db:"Normal01"==e.image?r=Op:"Normal"==e.image?r=fb:"card"==e.image?r=Jp:"length"==e.image?r=$p:"substr"==e.image?r=Ib:"str2time"==e.image?r=Db:"time2str"==e.image?r=Nb:"gmtime"==e.image?r=Ip:ta(e,"function "+e.image+" unknown"),i=e.image,t(i.length<16),Kt(e),t(e.token==np),Kt(e),r==zb||r==Pb)for(o.list=null;;)if(o.list=an(e,o.list,un(e,i)),e.token==X_)Kt(e);else{if(e.token==rp)break;ta(e,"syntax error in argument list for "+i)}else if(r==Mp||r==jp||r==Op||r==Ip)e.token!=rp&&ta(e,i+" needs no arguments");else if(r==db||r==fb)o.arg.x=un(e,i),e.token==X_||(e.token==rp?ta(e,i+" needs two arguments"):ta(e,"syntax error in argument for "+i)),Kt(e),o.arg.y=un(e,i),e.token==X_?ta(e,i+" needs two argument"):e.token==rp||ta(e,"syntax error in argument for "+i);else if(r==Kp||r==Zp||r==Xp){if(o.arg.x=un(e,i),e.token==X_){switch(r){case Kp:r=sb;break;case Zp:r=cb;break;case Xp:r=ub;break;default:t(r!=r)}Kt(e),o.arg.y=un(e,i)}e.token==X_?ta(e,i+" needs one or two arguments"):e.token==rp||ta(e,"syntax error in argument for "+i)}else r==Ib?(o.arg.x=dn(e,i),e.token==X_||(e.token==rp?ta(e,i+" needs two or three arguments"):ta(e,"syntax error in argument for "+i)),Kt(e),o.arg.y=un(e,i),e.token==X_&&(r=Tb,Kt(e),o.arg.z=un(e,i)),e.token==X_?ta(e,i+" needs two or three arguments"):e.token==rp||ta(e,"syntax error in argument for "+i)):r==Db?(o.arg.x=dn(e,i),e.token==X_||(e.token==rp?ta(e,i+" needs two arguments"):ta(e,"syntax error in argument for "+i)),Kt(e),o.arg.y=dn(e,i),e.token==X_?ta(e,i+" needs two argument"):e.token==rp||ta(e,"syntax error in argument for "+i)):r==Nb?(o.arg.x=un(e,i),e.token==X_||(e.token==rp?ta(e,i+" needs two arguments"):ta(e,"syntax error in argument for "+i)),Kt(e),o.arg.y=dn(e,i),e.token==X_?ta(e,i+" needs two argument"):e.token==rp||ta(e,"syntax error in argument for "+i)):(o.arg.x=r==Jp?fn(e,i):r==$p?dn(e,i):un(e,i),e.token==X_?ta(e,i+" needs one argument"):e.token==rp||ta(e,"syntax error in argument for "+i));return n=r==Ib||r==Tb||r==Nb?$t(e,r,o,l_,0):$t(e,r,o,t_,0),t(e.token==rp),Kt(e),n}function pn(e,n,r){var i;if(t(null!=n),t(null!=r),t(null==r.next),null==n.list)n.list=r;else{for(i=n.list;null!=i.next;i=i.next);i.next=r}}function bn(e,n,r,i){var o,a={};if(t(null!=n),a.name=r,a.code=i,a.value=null,a.list=null,a.next=null,null==n.list)n.list=a;else{for(o=n.list;null!=o.next;o=o.next);o.next=a}return a}function hn(e){function n(){r=Rn(e),(e.token==X_||c>1)&&(r.type==t_&&(r=en(e,Np,r,l_,0)),r.type!=l_&&ta(e,"component expression has invalid type"),t(0==r.dim)),o[c].name=null,o[c].code=r}var r,i=Yt(),o=new Array(21);a(o,0,21);var l,s,c,u,d=0;for(t(e.token==np),l=e.flag_x,Kt(e),c=1;;c++){if(c>20&&ta(e,"too many components within parentheses"),e.token==p_)if(Kt(e),s=e.token,Zt(e),!l||s!=X_&&s!=rp||null!=e.tree[e.image])n();else{for(u=1;u<c;u++)null!=o[u].name&&o[u].name==e.image&&ta(e,"duplicate dummy index "+e.image+" not allowed");o[c].name=e.image,o[c].code=null,Kt(e),d=1,1==c&&e.token==rp&&ta(e,o[c].name+" not defined")}else n();if(e.token==X_)Kt(e);else{if(e.token==rp)break;ta(e,"right parenthesis missing where expected")}}if(1!=c||d)if(d){for(i.slice={},u=1;u<=c;u++)bn(e,i.slice,o[u].name,o[u].code);r=$t(e,Ep,i,c_,c)}else{for(i.list=null,u=1;u<=c;u++)i.list=an(e,i.list,o[u].code);r=$t(e,Cp,i,c_,c)}else r=o[1].code;return Kt(e),d&&e.token!=C_&&ta(e,"keyword in missing where expected"),l&&e.token==C_&&!d&&(1==c?ta(e,"syntax error in indexing expression"):ta(e,"0-ary slice not allowed")),r}function mn(e,n){var r,i=Yt();for(t(null!=n),i.list=null,r=1;;r++){if(n.type==t_&&(n=en(e,Np,n,l_,0)),n.type==l_&&(n=en(e,Lp,n,c_,1)),n.type!=c_&&ta(e,"member expression has invalid type"),null!=i.list&&i.list.x.dim!=n.dim&&ta(e,"member "+(r-1)+" has "+i.list.x.dim+" component"+(1==i.list.x.dim?"":"s")+" while member "+r+" has "+n.dim+" component"+(1==n.dim?"":"s")),i.list=an(e,i.list,n),e.token==X_)Kt(e);else{if(e.token==lp)break;ta(e,"syntax error in literal set")}n=Sn(e)}return n=$t(e,Bp,i,Gf,i.list.x.dim)}function gn(e){var n,r,i,o;for(t(e.token==ap),Kt(e),e.token==lp&&ta(e,"empty indexing expression not allowed"),n={};;){if(r=null,o=null,e.token==p_){var a,l;Kt(e),a=e.token,Zt(e),a==C_&&null==e.tree[e.image]&&(r={},l=e.image,bn(e,r,l,null),Kt(e),t(e.token==C_),Kt(e))}else e.token==np&&(e.flag_x=1,o=Pn(e),o.op==Ep&&(r=o.arg.slice,o=null,t(e.token==C_),Kt(e)));if(null==o&&(o=Pn(e)),o.type!=Gf&&(null!=r&&ta(e,"domain expression has invalid type"),o=mn(e,o)),t(null!=o),t(o.type==Gf),t(o.dim>0),null==r){var s;for(r={},s=1;s<=o.dim;s++)bn(e,r,null,null)}var c=0;for(i=r.list;null!=i;i=i.next)c++;for(c!=o.dim&&ta(e,c+" "+(1==c?"index":"indices")+" specified for set of dimension "+o.dim),t(null==r.code),r.code=o,pn(e,n,r),i=r.list;null!=i;i=i.next)if(null!=i.name){t(null==e.tree[i.name]),e.tree[i.name]={type:qf,link:i}}if(e.token==X_)Kt(e);else{if(e.token==J_||e.token==lp)break;ta(e,"syntax error in indexing expression")}}return e.token==J_&&(Kt(e),o=Rn(e),o.type==l_&&(o=en(e,Dp,o,t_,0)),o.type==t_&&(o=en(e,Sp,o,Xf,0)),o.type!=Xf&&ta(e,"expression following colon has invalid type"),t(0==o.dim),n.code=o,e.token!=lp&&ta(e,"syntax error in indexing expression")),Kt(e),n}function An(e,n){var r,i,o;for(t(null!=n),r=n.list;null!=r;r=r.next)for(i=r.list;null!=i;i=i.next)null!=i.name&&(o=e.tree[i.name],t(null!=o),t(o.type==qf),delete e.tree[i.name])}function yn(e){var n,r;for(n=e.arg.loop.domain.list;null!=n;n=n.next)for(r=n.list;null!=r;r=r.next)null!=r.code&&(t(null==r.code.up),r.code.up=e)}function vn(e){function n(){ta(e,"integrand following "+o+"{...} has invalid type")}var r,i,o,a=Yt();switch(t(e.token==p_),"sum"==e.image?i=Fb:"prod"==e.image?i=Qb:"min"==e.image?i=Ub:"max"==e.image?i=Rb:"forall"==e.image?i=Gb:"exists"==e.image?i=Yb:"setof"==e.image?i=Hb:ta(e,"operator "+e.image+" unknown"),o=e.image,t(o.length<8),Kt(e),t(e.token==ap),a.loop.domain=gn(e),i){case Fb:case Qb:case Ub:case Rb:a.loop.x=Dn(e),a.loop.x.type==l_&&(a.loop.x=en(e,Dp,a.loop.x,t_,0)),a.loop.x.type==t_||i==Fb&&a.loop.x.type==Vf||n(),t(0==a.loop.x.dim),r=$t(e,i,a,a.loop.x.type,0);break;case Gb:case Yb:a.loop.x=Un(e),a.loop.x.type==l_&&(a.loop.x=en(e,Dp,a.loop.x,t_,0)),a.loop.x.type==t_&&(a.loop.x=en(e,Sp,a.loop.x,Xf,0)),a.loop.x.type!=Xf&&n(),t(0==a.loop.x.dim),r=$t(e,i,a,Xf,0);break;case Hb:a.loop.x=Sn(e),a.loop.x.type==t_&&(a.loop.x=en(e,Np,a.loop.x,l_,0)),a.loop.x.type==l_&&(a.loop.x=en(e,Lp,a.loop.x,c_,1)),a.loop.x.type!=c_&&n(),t(a.loop.x.dim>0),r=$t(e,i,a,Gf,a.loop.x.dim);break;default:t(i!=i)}return An(e,a.loop.domain),yn(r),r}function xn(e,t){for(var n=0,r=t.list;null!=r;r=r.next)for(var i=r.list;null!=i;i=i.next)null==i.code&&n++;return n}function wn(e){var n,r=Yt();return t(e.token==ap),Kt(e),e.token==lp?(r.list=null,n=$t(e,Bp,r,Gf,1),Kt(e)):(Zt(e),r.loop.domain=gn(e),r.loop.x=null,An(e,r.loop.domain),n=$t(e,Wb,r,Gf,xn(e,r.loop.domain)),yn(n)),n}function kn(e){var n,r,i;return t(e.token==k_),Kt(e),n=Rn(e),n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type==t_&&(n=en(e,Sp,n,Xf,0)),n.type!=Xf&&ta(e,"expression following if has invalid type"),t(0==n.dim),e.token!=S_&&ta(e,"keyword then missing where expected"),Kt(e),r=Pn(e),r.type!=t_&&r.type!=l_&&r.type!=Gf&&r.type!=Vf&&ta(e,"expression following then has invalid type"),e.token!=w_?(r.type==Gf&&ta(e,"keyword else missing where expected"),i=null):(Kt(e),i=Pn(e),i.type!=t_&&i.type!=l_&&i.type!=Gf&&i.type!=Vf&&ta(e,"expression following else has invalid type"),r.type!=Vf&&i.type!=Vf||(r.type==l_&&(r=en(e,Dp,r,t_,0)),r.type==t_&&(r=en(e,Tp,r,Vf,0)),i.type==l_&&(i=en(e,Dp,i,t_,0)),i.type==t_&&(i=en(e,Tp,i,Vf,0))),r.type!=l_&&i.type!=l_||(r.type==t_&&(r=en(e,Np,r,l_,0)),i.type==t_&&(i=en(e,Np,i,l_,0))),r.type!=i.type&&ta(e,"expressions following then and else have incompatible types"),r.dim!=i.dim&&ta(e,"expressions following then and else have different dimensions "+r.dim+" and "+i.dim+", respectively")),nn(e,Lb,n,r,i,r.type,r.dim)}function Cn(e){var t;if(e.token==h_)t=rn(e);else if(e.token==B_){var n=Yt();n.num=Ul,t=$t(e,mp,n,t_,0),Kt(e)}else if(e.token==m_)t=on(e);else if(e.token==p_){var r;switch(Kt(e),r=e.token,Zt(e),r){case ip:t=cn(e);break;case np:t=_n(e);break;case ap:t=vn(e);break;default:t=cn(e)}}else e.token==np?t=hn(e):e.token==ap?t=wn(e):e.token==k_?t=kn(e):Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"syntax error in expression");return t}function Bn(e,t){ta(e,"operand preceding "+t+" has invalid type")}function En(e,t){ta(e,"operand following "+t+" has invalid type")}function Mn(e,t,n,r){ta(e,"operands preceding and following "+t+" have different dimensions "+n+" and "+r+", respectively")}function jn(e){return Cn(e)}function On(e){var n,r=jn(e);if(e.token==U_){var i=e.image;t(i.length<8),r.type==l_&&(r=en(e,Dp,r,t_,0)),r.type!=t_&&Bn(e,i),Kt(e),n=e.token==z_||e.token==P_?In(e):On(e),n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&En(e,i),r=tn(e,lb,r,n,t_,0)}return r}function In(e){var t;return e.token==z_?(Kt(e),t=On(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&t.type!=Vf&&En(e,"+"),t=en(e,zp,t,t.type,0)):e.token==P_?(Kt(e),t=On(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&t.type!=Vf&&En(e,"-"),t=en(e,Pp,t,t.type,0)):t=On(e),t}function Dn(e){for(var t,n=In(e);;)if(e.token==F_)n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&n.type!=Vf&&Bn(e,"*"),Kt(e),t=In(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&t.type!=Vf&&En(e,"*"),n.type==Vf&&t.type==Vf&&ta(e,"multiplication of linear forms not allowed"),n=n.type==t_&&t.type==t_?tn(e,rb,n,t,t_,0):tn(e,rb,n,t,Vf,0);else if(e.token==Q_)n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&n.type!=Vf&&Bn(e,"/"),Kt(e),t=In(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&En(e,"/"),n=n.type==t_?tn(e,ib,n,t,t_,0):tn(e,ib,n,t,Vf,0);else if(e.token==x_)n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&Bn(e,"div"),Kt(e),t=In(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&En(e,"div"),n=tn(e,ob,n,t,t_,0);else{if(e.token!=j_)break;n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&Bn(e,"mod"),Kt(e),t=In(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&En(e,"mod"),n=tn(e,ab,n,t,t_,0)}return n}function Nn(e){for(var t,n=Dn(e);;)if(e.token==z_)n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&n.type!=Vf&&Bn(e,"+"),Kt(e),t=Dn(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&t.type!=Vf&&En(e,"+"),n.type==t_&&t.type==Vf&&(n=en(e,Tp,n,Vf,0)),n.type==Vf&&t.type==t_&&(t=en(e,Tp,t,Vf,0)),n=tn(e,eb,n,t,n.type,0);else if(e.token==P_)n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&n.type!=Vf&&Bn(e,"-"),Kt(e),t=Dn(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&t.type!=Vf&&En(e,"-"),n.type==t_&&t.type==Vf&&(n=en(e,Tp,n,Vf,0)),n.type==Vf&&t.type==t_&&(t=en(e,Tp,t,Vf,0)),n=tn(e,tb,n,t,n.type,0);else{if(e.token!=M_)break;n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&Bn(e,"less"),Kt(e),t=Dn(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&En(e,"less"),n=tn(e,nb,n,t,t_,0)}return n}function Sn(e){for(var t,n=Nn(e);e.token==q_;)n.type==t_&&(n=en(e,Np,n,l_,0)),n.type!=l_&&Bn(e,"&"),Kt(e),t=Nn(e),t.type==t_&&(t=en(e,Np,t,l_,0)),t.type!=l_&&En(e,"&"),n=tn(e,_b,n,t,l_,0);return n}function Ln(e){var t,n,r=Sn(e);return e.token==tp&&(r.type==l_&&(r=en(e,Dp,r,t_,0)),r.type!=t_&&Bn(e,".."),Kt(e),t=Sn(e),t.type==l_&&(t=en(e,Dp,t,t_,0)),t.type!=t_&&En(e,".."),e.token==A_?(Kt(e),n=Sn(e),n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type!=t_&&En(e,"by")):n=null,r=nn(e,Sb,r,t,n,Gf,1)),r}function Tn(e){for(var t,n=Ln(e);e.token==y_;)n.type!=Gf&&Bn(e,"cross"),Kt(e),t=Ln(e),t.type!=Gf&&En(e,"cross"),n=tn(e,Bb,n,t,Gf,n.dim+t.dim);return n}function zn(e){for(var t,n=Tn(e);e.token==E_;)n.type!=Gf&&Bn(e,"inter"),Kt(e),t=Tn(e),t.type!=Gf&&En(e,"inter"),n.dim!=t.dim&&Mn(e,"inter",n.dim,t.dim),n=tn(e,Cb,n,t,Gf,n.dim);return n}function Pn(e){for(var t,n=zn(e);;)if(e.token==L_)n.type!=Gf&&Bn(e,"union"),Kt(e),t=zn(e),t.type!=Gf&&En(e,"union"),n.dim!=t.dim&&Mn(e,"union",n.dim,t.dim),n=tn(e,xb,n,t,Gf,n.dim);else if(e.token==v_)n.type!=Gf&&Bn(e,"diff"),Kt(e),t=zn(e),t.type!=Gf&&En(e,"diff"),n.dim!=t.dim&&Mn(e,"diff",n.dim,t.dim),n=tn(e,wb,n,t,Gf,n.dim);else{if(e.token!=N_)break;n.type!=Gf&&Bn(e,"symdiff"),Kt(e),t=zn(e),t.type!=Gf&&En(e,"symdiff"),n.dim!=t.dim&&Mn(e,"symdiff",n.dim,t.dim),n=tn(e,kb,n,t,Gf,n.dim)}return n}function Fn(e){var n,r=-1,i="",o=Pn(e);switch(e.token){case R_:r=pb;break;case G_:r=bb;break;case Y_:r=hb;break;case H_:r=mb;break;case W_:r=gb;break;case V_:r=Ab;break;case C_:r=Eb;break;case T_:r=jb;break;case O_:i=e.image,Kt(e),e.token==C_?r=Mb:e.token==T_?r=Ob:ta(e,"invalid use of "+i),i+=" ";break;default:return o}switch(i+=e.image,t(i.length<16),r){case hb:case Ab:case pb:case bb:case gb:case mb:o.type!=t_&&o.type!=l_&&Bn(e,i),Kt(e),n=Pn(e),n.type!=t_&&n.type!=l_&&En(e,i),o.type==t_&&n.type==l_&&(o=en(e,Np,o,l_,0)),o.type==l_&&n.type==t_&&(n=en(e,Np,n,l_,0)),o=tn(e,r,o,n,Xf,0);break;case Eb:case Mb:o.type==t_&&(o=en(e,Np,o,l_,0)),o.type==l_&&(o=en(e,Lp,o,c_,1)),o.type!=c_&&Bn(e,i),Kt(e),n=Pn(e),n.type!=Gf&&En(e,i),o.dim!=n.dim&&Mn(e,i,o.dim,n.dim),o=tn(e,r,o,n,Xf,0);break;case jb:case Ob:o.type!=Gf&&Bn(e,i),Kt(e),n=Pn(e),n.type!=Gf&&En(e,i),o.dim!=n.dim&&Mn(e,i,o.dim,n.dim),o=tn(e,r,o,n,Xf,0);break;default:t(r!=r)}return o}function Qn(e){var n,r;return e.token==O_?(r=e.image,t(r.length<8),Kt(e),n=Fn(e),n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type==t_&&(n=en(e,Sp,n,Xf,0)),n.type!=Xf&&En(e,r),n=en(e,Fp,n,Xf,0)):n=Fn(e),n}function Un(e){for(var n,r="",i=Qn(e);e.token==g_;)r=e.image,t(r.length<8),i.type==l_&&(i=en(e,Dp,i,t_,0)),i.type==t_&&(i=en(e,Sp,i,Xf,0)),i.type!=Xf&&Bn(e,r),Kt(e),n=Qn(e),n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type==t_&&(n=en(e,Sp,n,Xf,0)),n.type!=Xf&&En(e,r),i=tn(e,yb,i,n,Xf,0);return i}function Rn(e){for(var n,r=Un(e);e.token==I_;){var i=e.image;t(i.length<8),r.type==l_&&(r=en(e,Dp,r,t_,0)),r.type==t_&&(r=en(e,Sp,r,Xf,0)),r.type!=Xf&&Bn(e,i),Kt(e),n=Un(e),n.type==l_&&(n=en(e,Dp,n,t_,0)),n.type==t_&&(n=en(e,Sp,n,Xf,0)),n.type!=Xf&&En(e,i),r=tn(e,vb,r,n,Xf,0)}return r}function Gn(e){function n(){ta(e,"at most one := or default/data allowed")}function r(){ta(e,e.image+" not a plain set")}function i(){ta(e,"dimension of "+e.image+" too small")}function o(){ta(e,"component number must be integer between 1 and "+s.set.dimen)}var a,l,s,c=0;for(t(Xt(e,"set")),Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&ta(e,e.image+" multiply declared"),a={},a.name=e.image,a.alias=null,a.dim=0,a.domain=null,a.dimen=0,a.within=null,a.assign=null,a.option=null,a.gadget=null,a.data=0,a.array=null,Kt(e),e.token==m_&&(a.alias=e.image,Kt(e)),e.token==ap&&(a.domain=gn(e),a.dim=xn(e,a.domain)),l=e.tree[a.name]={},l.type=o_,l.link=a;;){if(e.token==X_)Kt(e);else if(e.token==$_)break;if(Xt(e,"dimen")){var u;Kt(e),e.token==h_&&1<=e.value&&e.value<=20&&Math.floor(e.value)==e.value||ta(e,"dimension must be integer between 1 and 20"),u=e.value+.5|0,c&&ta(e,"at most one dimension attribute allowed"),a.dimen>0&&ta(e,"dimension "+u+" conflicts with dimension "+a.dimen+" already determined"),a.dimen=u,c=1,Kt(e)}else if(e.token==T_||e.token==C_){var d,f;if(e.token!=C_||e.as_within||(na(e,"keyword in understood as within"),e.as_within=1),Kt(e),d={},d.code=null,d.next=null,null==a.within)a.within=d;else{for(f=a.within;null!=f.next;f=f.next);f.next=d}d.code=Pn(e),d.code.type!=Gf&&ta(e,"expression following within has invalid type"),t(d.code.dim>0),0==a.dimen&&(a.dimen=d.code.dim),a.dimen!=d.code.dim&&ta(e,"set expression following within must have dimension "+a.dimen+" rather than "+d.code.dim)}else if(e.token==ep)null==a.assign&&null==a.option&&null==a.gadget||n(),Kt(e),a.assign=Pn(e),a.assign.type!=Gf&&ta(e,"expression following := has invalid type"),t(a.assign.dim>0),0==a.dimen&&(a.dimen=a.assign.dim),a.dimen!=a.assign.dim&&ta(e,"set expression following := must have dimension "+a.dimen+" rather than "+a.assign.dim);else if(Xt(e,"default"))null==a.assign&&null==a.option||n(),Kt(e),a.option=Pn(e),a.option.type!=Gf&&ta(e,"expression following default has invalid type"),t(a.option.dim>0),0==a.dimen&&(a.dimen=a.option.dim),a.dimen!=a.option.dim&&ta(e,"set expression following default must have dimension "+a.dimen+" rather than "+a.option.dim);else if(Xt(e,"data")){var _,p=0,b=new Array(20);for(null==a.assign&&null==a.gadget||n(),Kt(e),a.gadget=s={},e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"set name missing where expected")),l=e.tree[e.image],null==l&&ta(e,e.image+" not defined"),l.type!=o_&&r(),s.set=l.link,0!=s.set.dim&&r(),s.set==a&&ta(e,"set cannot be initialized by itself"),a.dim>=s.set.dimen&&i(),0==a.dimen&&(a.dimen=s.set.dimen-a.dim),a.dim+a.dimen>s.set.dimen?i():a.dim+a.dimen<s.set.dimen&&ta(e,"dimension of "+e.image+" too big"),Kt(e),e.token==np?Kt(e):ta(e,"left parenthesis missing where expected"),_=0;_<s.set.dimen;_++)b[_]=0;for(_=0;;)if(e.token!=h_&&ta(e,"component number missing where expected"),0!=Ve(e.image,function(e){p=e})&&o(),1<=p&&p<=s.set.dimen||o(),0!=b[p-1]&&ta(e,"component "+p+" multiply specified"),s.ind[_++]=p,b[p-1]=1,t(_<=s.set.dimen),Kt(e),e.token==X_)Kt(e);else{if(e.token==rp)break;ta(e,"syntax error in data attribute")}_<s.set.dimen&&ta(e,"there are must be "+s.set.dimen+" components rather than "+_),Kt(e)}else ta(e,"syntax error in set statement")}return null!=a.domain&&An(e,a.domain),0==a.dimen&&(a.dimen=1),t(e.token==$_),Kt(e),a}function Yn(e){function n(){l&&ta(e,"at most one binary allowed"),i.type==l_&&ta(e,"symbolic parameter cannot be binary"),i.type=Pf,l=1,Kt(e)}function r(){ta(e,"at most one := or default allowed")}var i,o,a=0,l=0,s=0;t(Xt(e,"param")),Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&ta(e,e.image+" multiply declared"),i={},i.name=e.image,i.alias=null,i.dim=0,i.domain=null,i.type=t_,i.cond=null,i.in_=null,i.assign=null,i.option=null,i.data=0,i.defval=null,i.array=null,Kt(e),e.token==m_&&(i.alias=e.image,Kt(e)),e.token==ap&&(i.domain=gn(e),i.dim=xn(e,i.domain));var c=e.tree[i.name]={};for(c.type=r_,c.link=i;;){if(e.token==X_)Kt(e);else if(e.token==$_)break;if(Xt(e,"integer"))a&&ta(e,"at most one integer allowed"),i.type==l_&&ta(e,"symbolic parameter cannot be integer"),i.type!=Pf&&(i.type=Zf),a=1,Kt(e);else if(Xt(e,"binary"))n();else if(Xt(e,"logical"))e.as_binary||(na(e,"keyword logical understood as binary"),e.as_binary=1),n();else if(Xt(e,"symbolic"))s&&ta(e,"at most one symbolic allowed"),i.type!=t_&&ta(e,"integer or binary parameter cannot be symbolic"),null==i.cond&&null==i.in_&&null==i.assign&&null==i.option||ta(e,"keyword symbolic must precede any other parameter attributes"),i.type=l_,s=1,Kt(e);else if(e.token==R_||e.token==G_||e.token==Y_||e.token==H_||e.token==W_||e.token==V_){var u,d={};switch(e.token){case R_:d.rho=pb,u=e.image;break;case G_:d.rho=bb,u=e.image;break;case Y_:d.rho=hb,u=e.image;break;case H_:d.rho=mb,u=e.image;break;case W_:d.rho=gb,u=e.image;break;case V_:d.rho=Ab,u=e.image;break;default:t(e.token!=e.token)}if(t(u.length<8),d.code=null,d.next=null,null==i.cond)i.cond=d;else{for(o=i.cond;null!=o.next;o=o.next);o.next=d}Kt(e),d.code=Sn(e),d.code.type!=t_&&d.code.type!=l_&&ta(e,"expression following "+u+" has invalid type"),t(0==d.code.dim),i.type!=l_&&d.code.type==l_&&(d.code=en(e,Dp,d.code,t_,0)),i.type==l_&&d.code.type!=l_&&(d.code=en(e,Np,d.code,l_,0))}else if(e.token==C_||e.token==T_){var f;if(e.token!=T_||e.as_in||(na(e,"keyword within understood as in"),e.as_in=1),Kt(e),f={},f.code=null,f.next=null,null==i.in_)i.in_=f;else{for(o=i.in_;null!=o.next;o=o.next);o.next=f}f.code=Pn(e),f.code.type!=Gf&&ta(e,"expression following in has invalid type"),t(f.code.dim>0),1!=f.code.dim&&ta(e,"set expression following in must have dimension 1 rather than "+f.code.dim)}else e.token==ep?(null==i.assign&&null==i.option||r(),Kt(e),i.assign=Sn(e),i.assign.type!=t_&&i.assign.type!=l_&&ta(e,"expression following := has invalid type"),t(0==i.assign.dim),i.type!=l_&&i.assign.type==l_&&(i.assign=en(e,Dp,i.assign,t_,0)),i.type==l_&&i.assign.type!=l_&&(i.assign=en(e,Np,i.assign,l_,0))):Xt(e,"default")?(null==i.assign&&null==i.option||r(),Kt(e),i.option=Sn(e),i.option.type!=t_&&i.option.type!=l_&&ta(e,"expression following default has invalid type"),t(0==i.option.dim),i.type!=l_&&i.option.type==l_&&(i.option=en(e,Dp,i.option,t_,0)),i.type==l_&&i.option.type!=l_&&(i.option=en(e,Np,i.option,l_,0))):ta(e,"syntax error in parameter statement")}return null!=i.domain&&An(e,i.domain),t(e.token==$_),Kt(e),i}function Hn(e){function n(){i&&ta(e,"at most one binary allowed"),o.type=Pf,i=1,Kt(e)}var r=0,i=0;t(Xt(e,"var")),e.flag_s&&ta(e,"variable statement must precede solve statement"),Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&ta(e,e.image+" multiply declared");var o={};o.name=e.image,o.alias=null,o.dim=0,o.domain=null,o.type=t_,o.lbnd=null,o.ubnd=null,o.array=null,Kt(e),e.token==m_&&(o.alias=e.image,Kt(e)),e.token==ap&&(o.domain=gn(e),o.dim=xn(e,o.domain));var a=e.tree[o.name]={};for(a.type=u_,a.link=o;;){if(e.token==X_)Kt(e);else if(e.token==$_)break;if(Xt(e,"integer"))r&&ta(e,"at most one integer allowed"),o.type!=Pf&&(o.type=Zf),r=1,Kt(e);else if(Xt(e,"binary"))n();else if(Xt(e,"logical"))e.as_binary||(na(e,"keyword logical understood as binary"),e.as_binary=1),n();else if(Xt(e,"symbolic"))ta(e,"variable cannot be symbolic");else if(e.token==H_)null!=o.lbnd&&(o.lbnd==o.ubnd?ta(e,"both fixed value and lower bound not allowed"):ta(e,"at most one lower bound allowed")),Kt(e),o.lbnd=Sn(e),o.lbnd.type==l_&&(o.lbnd=en(e,Dp,o.lbnd,t_,0)),o.lbnd.type!=t_&&ta(e,"expression following >= has invalid type"),t(0==o.lbnd.dim);else if(e.token==G_)null!=o.ubnd&&(o.ubnd==o.lbnd?ta(e,"both fixed value and upper bound not allowed"):ta(e,"at most one upper bound allowed")),Kt(e),o.ubnd=Sn(e),o.ubnd.type==l_&&(o.ubnd=en(e,Dp,o.ubnd,t_,0)),o.ubnd.type!=t_&&ta(e,"expression following <= has invalid type"),t(0==o.ubnd.dim);else if(e.token==Y_){var l;null==o.lbnd&&null==o.ubnd||(o.lbnd==o.ubnd?ta(e,"at most one fixed value allowed"):null!=o.lbnd?ta(e,"both lower bound and fixed value not allowed"):ta(e,"both upper bound and fixed value not allowed")),l=e.image,t(l.length<8),Kt(e),o.lbnd=Sn(e),o.lbnd.type==l_&&(o.lbnd=en(e,Dp,o.lbnd,t_,0)),o.lbnd.type!=t_&&ta(e,"expression following "+l+" has invalid type"),t(0==o.lbnd.dim),o.ubnd=o.lbnd}else e.token==R_||e.token==W_||e.token==V_?ta(e,"strict bound not allowed"):ta(e,"syntax error in variable statement")}return null!=o.domain&&An(e,o.domain),t(e.token==$_),Kt(e),o}function Wn(e){function n(){ta(e,"syntax error in constraint statement")}var r,i,o,a,l;e.flag_s&&ta(e,"constraint statement must precede solve statement"),Xt(e,"subject")?(Kt(e),Xt(e,"to")||ta(e,"keyword subject to incomplete"),Kt(e)):Xt(e,"subj")?(Kt(e),Xt(e,"to")||ta(e,"keyword subj to incomplete"),Kt(e)):e.token==D_&&Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&ta(e,e.image+" multiply declared");var s={};s.name=e.image,s.alias=null,s.dim=0,s.domain=null,s.type=Qf,s.code=null,s.lbnd=null,s.ubnd=null,s.array=null,Kt(e),e.token==m_&&(s.alias=e.image,Kt(e)),e.token==ap&&(s.domain=gn(e),s.dim=xn(e,s.domain));var c=e.tree[s.name]={};switch(c.type=Qf,c.link=s,e.token!=J_&&ta(e,"colon missing where expected"),Kt(e),r=Sn(e),r.type==l_&&(r=en(e,Dp,r,t_,0)),r.type!=t_&&r.type!=Vf&&ta(e,"expression following colon has invalid type"),t(0==r.dim),e.token==X_&&Kt(e),e.token){case G_:case H_:case Y_:break;case R_:case W_:case V_:ta(e,"strict inequality not allowed");break;case $_:ta(e,"constraint must be equality or inequality");break;default:n()}if(a=e.token,l=e.image,t(l.length<8),Kt(e),i=Sn(e),i.type==l_&&(i=en(e,Dp,i,t_,0)),i.type!=t_&&i.type!=Vf&&ta(e,"expression following "+l+" has invalid type"),t(0==i.dim),e.token==X_&&(Kt(e),e.token==$_&&n()),e.token==R_||e.token==G_||e.token==Y_||e.token==H_||e.token==W_||e.token==V_?(a!=Y_&&e.token==a||ta(e,"double inequality must be ... <= ... <= ... or ... >= ... >= ..."),r.type==Vf&&ta(e,"leftmost expression in double inequality cannot be linear form"),Kt(e),o=Sn(e),o.type==l_&&(o=en(e,Dp,i,t_,0)),o.type!=t_&&o.type!=Vf&&ta(e,"rightmost expression in double inequality constraint has invalid type"),t(0==o.dim),o.type==Vf&&ta(e,"rightmost expression in double inequality cannot be linear form")):o=null,null!=s.domain&&An(e,s.domain),r.type!=Vf&&(r=en(e,Tp,r,Vf,0)),i.type!=Vf&&(i=en(e,Tp,i,Vf,0)),null!=o&&(o=en(e,Tp,o,Vf,0)),null==o)switch(a){case G_:s.code=r,s.lbnd=null,s.ubnd=i;break;case H_:s.code=r,s.lbnd=i,s.ubnd=null;break;case Y_:s.code=r,s.lbnd=i,s.ubnd=i;break;default:t(a!=a)}else switch(a){case G_:s.code=i,s.lbnd=r,s.ubnd=o;break;case H_:s.code=i,s.lbnd=o,s.ubnd=r;break;default:t(a!=a)}return e.token!=$_&&n(),Kt(e),s}function Vn(e){var n,r;Xt(e,"minimize")?r=$f:Xt(e,"maximize")?r=Jf:t(e!=e),e.flag_s&&ta(e,"objective statement must precede solve statement"),Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&ta(e,e.image+" multiply declared"),n={},n.name=e.image,n.alias=null,n.dim=0,n.domain=null,n.type=r,n.code=null,n.lbnd=null,n.ubnd=null,n.array=null,Kt(e),e.token==m_&&(n.alias=e.image,Kt(e)),e.token==ap&&(n.domain=gn(e),n.dim=xn(e,n.domain));var i=e.tree[n.name]={};return i.type=Qf,i.link=n,e.token!=J_&&ta(e,"colon missing where expected"),Kt(e),n.code=Sn(e),n.code.type==l_&&(n.code=en(e,Dp,n.code,t_,0)),n.code.type==t_&&(n.code=en(e,Tp,n.code,Vf,0)),n.code.type!=Vf&&ta(e,"expression following colon has invalid type"),t(0==n.code.dim),null!=n.domain&&An(e,n.domain),e.token!=$_&&ta(e,"syntax error in objective statement"),Kt(e),n}function qn(e){var n,r,i,o,a,l,s,c,u,d,f;t(Xt(e,"table")),Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&ta(e,e.image+" multiply declared");var _={u:{in_:{},out:{}}};for(_.name=e.image,Kt(e),e.token==m_?(_.alias=e.image,Kt(e)):_.alias=null,e.token==ap?(_.type=n_,_.u.out.domain=gn(e),Xt(e,"OUT")||ta(e,"keyword OUT missing where expected"),Kt(e)):(_.type=Kf,Xt(e,"IN")||ta(e,"keyword IN missing where expected"),Kt(e)),_.arg=n=null;;)if(r={},e.token!=X_&&e.token!=J_&&e.token!=$_||ta(e,"argument expression missing where expected"),r.code=Sn(e),r.code.type==t_&&(r.code=en(e,Np,r.code,l_,0)),r.code.type!=l_&&ta(e,"argument expression has invalid type"),r.next=null,null==n?_.arg=r:n.next=r,n=r,e.token==X_)Kt(e);else if(e.token==J_||e.token==$_)break;switch(t(null!=_.arg),e.token==J_?Kt(e):ta(e,"colon missing where expected"),_.type){case Kf:for(e.token==p_?(u=e.tree[e.image],null==u&&ta(e,e.image+" not defined"),u.type!=o_&&ta(e,e.image+" not a set"),_.u.in_.set=u.link,null!=_.u.in_.set.assign&&ta(e,e.image+" needs no data"),0!=_.u.in_.set.dim&&ta(e,e.image+" must be a simple set"),Kt(e),e.token==up?Kt(e):ta(e,"delimiter <- missing where expected")):Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):_.u.in_.set=null,_.u.in_.fld=i=null,d=0,e.token==ip?Kt(e):ta(e,"field list missing where expected");;)if(o={},e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"field name missing where expected")),o.name=e.image,Kt(e),o.next=null,null==i?_.u.in_.fld=o:i.next=o,i=o,d++,e.token==X_)Kt(e);else{if(e.token==op)break;ta(e,"syntax error in field list")}for(null!=_.u.in_.set&&_.u.in_.set.dimen!=d&&ta(e,"there must be "+_.u.in_.set.dimen+" field"+(1==_.u.in_.set.dimen?"":"s")+" rather than "+d),Kt(e),_.u.in_.list=a=null;e.token==X_;)Kt(e),l={},e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"parameter name missing where expected")),u=e.tree[e.image],null==u&&ta(e,e.image+" not defined"),u.type!=r_&&ta(e,e.image+" not a parameter"),l.par=u.link,l.par.dim!=d&&ta(e,e.image+" must have "+d+" subscript"+(1==d?"":"s")+" rather than "+l.par.dim),null!=l.par.assign&&ta(e,e.image+" needs no data"),Kt(e),e.token==cp?(Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"field name missing where expected")),f=e.image,Kt(e)):f=l.par.name,l.name=f,l.next=null,null==a?_.u.in_.list=l:a.next=l,a=l;break;case n_:for(_.u.out.list=s=null;;)if(c={},e.token!=X_&&e.token!=$_||ta(e,"expression missing where expected"),f=e.token==p_?e.image:"",c.code=Sn(e),e.token==cp&&(Kt(e),e.token==p_||(Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"field name missing where expected")),f=e.image,Kt(e)),""==f&&ta(e,"field name required"),c.name=f,c.next=null,null==s?_.u.out.list=c:s.next=c,s=c,e.token==X_)Kt(e);else{if(e.token==$_)break;ta(e,"syntax error in output list")}An(e,_.u.out.domain);break;default:t(_!=_)}return e.token!=$_&&ta(e,"syntax error in table statement"),Kt(e),_}function Kn(e){return t(Xt(e,"solve")),e.flag_s&&ta(e,"at most one solve statement allowed"),e.flag_s=1,Kt(e),e.token!=$_&&ta(e,"syntax error in solve statement"),Kt(e),null}function Zn(e){t(Xt(e,"check"));var n={};return n.domain=null,n.code=null,Kt(e),e.token==ap&&(n.domain=gn(e)),e.token==J_&&Kt(e),n.code=Rn(e),n.code.type!=Xf&&ta(e,"expression has invalid type"),t(0==n.code.dim),null!=n.domain&&An(e,n.domain),e.token!=$_&&ta(e,"syntax error in check statement"),Kt(e),n}function Xn(e){function n(){o.type=Hf,o.u.code=Rn(e)}var r;t(Xt(e,"display"));var i={};for(i.domain=null,i.list=r=null,Kt(e),e.token==ap&&(i.domain=gn(e)),e.token==J_&&Kt(e);;){var o={u:{}};if(o.type=0,o.next=null,null==i.list?i.list=o:r.next=o,r=o,e.token==p_){var a,l;if(Kt(e),l=e.token,Zt(e),l!=X_&&l!=$_)n();else{switch(a=e.tree[e.image],null==a&&ta(e,e.image+" not defined"),o.type=a.type,a.type){case qf:o.u.slot=a.link;break;case o_:o.u.set=a.link;break;case r_:o.u.par=a.link;break;case u_:o.u.var_=a.link,e.flag_s||ta(e,"invalid reference to variable "+o.u.var_.name+" above solve statement");break;case Qf:o.u.con=a.link,e.flag_s||ta(e,"invalid reference to "+(o.u.con.type==Qf?"constraint":"objective")+" "+o.u.con.name+" above solve statement");break;default:t(a!=a)}Kt(e)}}else n();if(e.token!=X_)break;Kt(e)}return null!=i.domain&&An(e,i.domain),e.token!=$_&&ta(e,"syntax error in display statement"),Kt(e),i}function Jn(e){var n,r;t(Xt(e,"printf"));var i={};for(i.domain=null,i.fmt=null,i.list=r=null,Kt(e),e.token==ap&&(i.domain=gn(e)),e.token==J_&&Kt(e),i.fmt=Sn(e),i.fmt.type==t_&&(i.fmt=en(e,Np,i.fmt,l_,0)),i.fmt.type!=l_&&ta(e,"format expression has invalid type");e.token==X_;)Kt(e),n={},n.code=null,n.next=null,null==i.list?i.list=n:r.next=n,r=n,n.code=Pn(e),n.code.type!=t_&&n.code.type!=l_&&n.code.type!=Xf&&ta(e,"only numeric, symbolic, or logical expression allowed");return null!=i.domain&&An(e,i.domain),i.fname=null,i.app=0,e.token!=W_&&e.token!=sp||(i.app=e.token==sp,Kt(e),i.fname=Sn(e),i.fname.type==t_&&(i.fname=en(e,Np,i.fname,l_,0)),i.fname.type!=l_&&ta(e,"file name expression has invalid type")),e.token!=$_&&ta(e,"syntax error in printf statement"),Kt(e),i}function $n(e){var n,r;t(Xt(e,"for"));var i={};if(i.domain=null,i.list=r=null,Kt(e),e.token!=ap&&ta(e,"indexing expression missing where expected"),i.domain=gn(e),e.token==J_&&Kt(e),e.token!=ap)i.list=tr(e,1);else{for(Kt(e);e.token!=lp;)n=tr(e,1),null==r?i.list=n:r.next=n,r=n;Kt(e)}return t(null!=i.domain),An(e,i.domain),i}function er(e){!e.flag_d&&Xt(e,"end")||e.flag_d&&ur(e,"end")?(Kt(e),e.token==$_?Kt(e):na(e,"no semicolon following end statement; missing semicolon inserted")):na(e,"unexpected end of file; missing end statement inserted"),e.token!=__&&na(e,"some text detected beyond end statement; text ignored")}function tr(e,t){var n={u:{}};return n.line=e.line,n.column=e.column,n.next=null,Xt(e,"set")?(t&&ta(e,"set statement not allowed here"),n.type=o_,n.u.set=Gn(e)):Xt(e,"param")?(t&&ta(e,"parameter statement not allowed here"),n.type=r_,n.u.par=Yn(e)):Xt(e,"var")?(t&&ta(e,"variable statement not allowed here"),n.type=u_,n.u.var_=Hn(e)):Xt(e,"subject")||Xt(e,"subj")||e.token==D_?(t&&ta(e,"constraint statement not allowed here"),n.type=Qf,n.u.con=Wn(e)):Xt(e,"minimize")||Xt(e,"maximize")?(t&&ta(e,"objective statement not allowed here"),n.type=Qf,n.u.con=Vn(e)):Xt(e,"table")?(t&&ta(e,"table statement not allowed here"),n.type=s_,n.u.tab=qn(e)):Xt(e,"solve")?(t&&ta(e,"solve statement not allowed here"),n.type=a_,n.u.slv=Kn(e)):Xt(e,"check")?(n.type=Ff,n.u.chk=Zn(e)):Xt(e,"display")?(n.type=Uf,n.u.dpy=Xn(e)):Xt(e,"printf")?(n.type=i_,n.u.prt=Jn(e)):Xt(e,"for")?(n.type=Wf,n.u.fur=$n(e)):e.token==p_?(t&&ta(e,"constraint statement not allowed here"),n.type=Qf,n.u.con=Wn(e)):Jt(e)?ta(e,"invalid use of reserved keyword "+e.image):ta(e,"syntax error in model section"),n}function nr(e){var n,r;for(t(null==e.model),r=null;e.token!=__&&!Xt(e,"data")&&!Xt(e,"end");)n=tr(e,0),null==r?e.model=n:r.next=n,r=n}function rr(e,t,n){var r,i={};if(i.sym=n,i.next=null,null==t)t=i;else{for(r=t;null!=r.next;r=r.next);r.next=i}return t}function ir(e,t){var n,r=0;for(n=t;null!=n;n=n.next)r++;return r}function or(e,t){var n,r=0;for(n=t;null!=n;n=n.next)null==n.sym&&r++;return r}function ar(e,t){for(var n=null;t-- >0;)n=rr(e,n,null);return n}function lr(e,t){for(var n;null!=t;)n=t,t=n.next}function sr(e){return e.token==h_}function cr(e){return e.token==h_||e.token==b_||e.token==m_}function ur(e,t){return cr(e)&&e.image==t}function dr(e){t(sr(e));var n=e.value;return Kt(e),n}function fr(e){var n;return t(cr(e)),n=sr(e)?Zr(e,e.value):Xr(e,e.image),Kt(e),n}function _r(e,n,r){var i,o;switch(t(null!=n),e.token){case ip:o=op;break;case np:t(r>0),o=rp;break;default:t(e!=e)}for(0==r&&ta(e,n+" cannot be subscripted"),Kt(e),i=null;;)if(cr(e)?i=rr(e,i,fr(e)):e.token==F_?(i=rr(e,i,null),Kt(e)):ta(e,"number, symbol, or asterisk missing where expected"),e.token==X_)Kt(e);else{if(e.token==o)break;ta(e,"syntax error in slice")}if(ir(e,i)!=r)switch(o){case op:ta(e,n+" must have "+r+" subscript"+(1==r?"":"s")+", not "+ir(e,i));break;case rp:ta(e,n+" has dimension "+r+", not "+ir(e,i));break;default:t(o!=o)}return Kt(e),i}function pr(e,n){var r,i;return t(null!=n),i=e.tree[n],null!=i&&i.type==o_||ta(e,n+" not a set"),r=i.link,null==r.assign&&null==r.gadget||ta(e,n+" needs no data"),r.data=1,r}function br(e,n,r,i){var o,a,l,s=null;for(t(null!=n),t(null!=r),t(null!=i),t(n.dimen==ir(e,i)),t(r.value.set.dim==n.dimen),or(e,i)>0&&t(cr(e)),o=null,a=i;null!=a;a=a.next){if(null==a.sym){if(!cr(e)){var c=or(e,a);t(null!=s),1==c?ta(e,"one item missing in data group beginning with "+ei(e,s)):ta(e,c+" items missing in data group beginning with "+ei(e,s))}l=fr(e),null==s&&(s=l)}else l=Jr(e,a.sym);o=ni(e,o,l),null!=a.next&&e.token==X_&&Kt(e)}di(e,r.value.set,o)}function hr(e,n,r,i,o){var a,l,s,c,u;for(t(null!=n),t(null!=r),t(null!=i),t(n.dimen==ir(e,i)),t(r.value.set.dim==n.dimen),t(2==or(e,i)),a=null;e.token!=ep;)cr(e)||ta(e,"number, symbol, or := missing where expected"),a=rr(e,a,fr(e));for(Kt(e);cr(e);)for(u=fr(e),l=a;null!=l;l=l.next){var d=0;if(ur(e,"+"));else{if(ur(e,"-")){Kt(e);continue}var f=ir(e,l);1==f?ta(e,"one item missing in data group beginning with "+ei(e,u)):ta(e,f+" items missing in data group beginning with "+ei(e,u))}for(c=null,s=i;null!=s;s=s.next)if(null==s.sym)switch(++d){case 1:c=ni(e,c,Jr(e,o?l.sym:u));break;case 2:c=ni(e,c,Jr(e,o?u:l.sym));break;default:t(d!=d)}else c=ni(e,c,Jr(e,s.sym));t(2==d),di(e,r.value.set,c),Kt(e)}lr(e,a)}function mr(e){function n(){ta(e,"slice currently used must specify 2 asterisks, not "+or(e,s))}function r(){ta(e,"transpose indicator (tr) incomplete")}function i(){Kt(e),ur(e,"tr")||r(),2!=or(e,s)&&n(),Kt(e),e.token!=rp&&r(),Kt(e),e.token==J_&&Kt(e),c=1,hr(e,o,l,s,c)}var o,a,l,s,c=0;if(t(ur(e,"set")),Kt(e),cr(e)||ta(e,"set name missing where expected"),o=pr(e,e.image),Kt(e),a=null,e.token==ip){for(0==o.dim&&ta(e,o.name+" cannot be subscripted"),Kt(e);;)if(cr(e)||ta(e,"number or symbol missing where expected"),a=ni(e,a,fr(e)),e.token==X_)Kt(e);else{if(e.token==op)break;ta(e,"syntax error in subscript list")}o.dim!=ri(e,a)&&ta(e,o.name+" must have "+o.dim+" subscript"+(1==o.dim?"":"s")+" rather than "+ri(e,a)),Kt(e)}else 0!=o.dim&&ta(e,o.name+" must be subscripted");for(null!=Oi(e,o.array,a)&&ta(e,o.name+li(e,"[",a)+" already defined"),l=Ii(e,o.array,a),l.value.set=si(e,o.dimen),s=ar(e,o.dimen);;)if(e.token==X_&&Kt(e),e.token==ep)Kt(e);else if(e.token==np){var u;Kt(e),u=ur(e,"tr"),Zt(e),u?i():(lr(e,s),s=_r(e,o.name,o.dimen),c=0,0==or(e,s)&&br(e,o,l,s))}else if(cr(e))br(e,o,l,s);else if(e.token==J_)2!=or(e,s)&&n(),Kt(e),hr(e,o,l,s,c);else if(e.token==np)i();else{if(e.token==$_){Kt(e);break}ta(e,"syntax error in set data block")}lr(e,s)}function gr(e,n){var r,i;return t(null!=n),i=e.tree[n],null!=i&&i.type==r_||ta(e,n+" not a parameter"),r=i.link,null!=r.assign&&ta(e,n+" needs no data"),r.data&&ta(e,n+" already provided with data"),r.data=1,r}function Ar(e,n,r){t(null!=n),t(null!=r),null!=n.option&&ta(e,"default value for "+n.name+" already specified in model section"),t(null==n.defval),n.defval=r}function yr(e,n,r){var i;switch(t(null!=n),t(cr(e)),null!=Oi(e,n.array,r)&&ta(e,n.name+li(e,"[",r)+" already defined"),i=Ii(e,n.array,r),n.type){case t_:case Zf:case Pf:sr(e)||ta(e,n.name+" requires numeric data"),i.value.num=dr(e);break;case l_:i.value.sym=fr(e);break;default:t(n!=n)}return i}function vr(e,n,r){var i,o,a,l=null;for(t(null!=n),t(n.dim==ir(e,r)),t(cr(e)),i=null,o=r;null!=o;o=o.next){if(null==o.sym){if(!cr(e)){var s=or(e,o)+1;t(null!=l),t(s>1),ta(e,s+" items missing in data group beginning with "+ei(e,l))}a=fr(e),null==l&&(l=a)}else a=Jr(e,o.sym);i=ni(e,i,a),e.token==X_&&Kt(e)}cr(e)||(t(null!=l),ta(e,"one item missing in data group beginning with "+ei(e,l))),yr(e,n,i)}function xr(e,n,r,i){var o,a,l,s,c;for(t(null!=n),t(n.dim==ir(e,r)),t(2==or(e,r)),o=null;e.token!=ep;)cr(e)||ta(e,"number, symbol, or := missing where expected"),o=rr(e,o,fr(e));for(Kt(e);cr(e);)for(c=fr(e),a=o;null!=a;a=a.next){var u=0;if(ur(e,"."))Kt(e);else{for(s=null,l=r;null!=l;l=l.next)if(null==l.sym)switch(++u){case 1:s=ni(e,s,Jr(e,i?a.sym:c));break;case 2:s=ni(e,s,Jr(e,i?c:a.sym));break;default:t(u!=u)}else s=ni(e,s,Jr(e,l.sym));if(t(2==u),!cr(e)){var d=ir(e,a);1==d?ta(e,"one item missing in data group beginning with "+ei(e,c)):ta(e,d+" items missing in data group beginning with "+ei(e,c))}yr(e,n,s)}}lr(e,o)}function wr(e,n){var r,i,o,a,l,s,c=null,u=0,d=null;for(cr(e)&&(Kt(e),l=e.token,Zt(e),l==J_&&(c=pr(e,e.image),0!=c.dim&&ta(e,c.name+" must be a simple set"),null!=c.array.head&&ta(e,c.name+" already defined"),Ii(e,c.array,null).value.set=si(e,c.dimen),d=c.name,u=c.dimen,Kt(e),t(e.token==J_),Kt(e))),i=null;e.token!=ep;)cr(e)||ta(e,"parameter name or := missing where expected"),r=gr(e,e.image),0==r.dim&&ta(e,e.image+" not a subscripted parameter"),0!=u&&r.dim!=u&&(t(null!=d),ta(e,d+" has dimension "+u+" while "+r.name+" has dimension "+r.dim)),null!=n&&Ar(e,r,Jr(e,n)),i=rr(e,i,r),d=r.name,u=r.dim,Kt(e),e.token==X_&&Kt(e);for(0==ir(e,i)&&ta(e,"at least one parameter name required"),Kt(e),e.token==X_&&Kt(e);cr(e);){var f;for(a=null,s=1;s<=u;s++)cr(e)||(f=ir(e,i)+u-s+1,t(null!=a),t(f>1),ta(e,f+" items missing in data group beginning with "+ei(e,a.sym))),a=ni(e,a,fr(e)),s<u&&e.token==X_&&Kt(e);for(null!=c&&di(e,c.array.head.value.set,ii(e,a)),e.token==X_&&Kt(e),o=i;null!=o;o=o.next)ur(e,".")?Kt(e):(cr(e)||(f=ir(e,o),t(null!=a),1==f?ta(e,"one item missing in data group beginning with "+ei(e,a.sym)):ta(e,f+" items missing in data group beginning with "+ei(e,a.sym))),yr(e,o.sym,ii(e,a)),null!=o.next&&e.token==X_&&Kt(e));e.token==X_&&(Kt(e),cr(e)||Zt(e))}for(o=i;null!=o;o=o.next)o.sym=null;lr(e,i)}function kr(e){function n(){ta(e,o.name+" not a subscripted parameter")}function r(){ta(e,"slice currently used must specify 2 asterisks, not "+or(e,a))}function i(){ta(e,"transpose indicator (tr) incomplete")}var o,a,l=null,s=0;if(t(ur(e,"param")),Kt(e),ur(e,"default")&&(Kt(e),cr(e)||ta(e,"default value missing where expected"),l=fr(e),e.token!=J_&&ta(e,"colon missing where expected")),e.token==J_)return Kt(e),e.token==X_&&Kt(e),wr(e,l),e.token!=$_&&ta(e,"symbol, number, or semicolon missing where expected"),void Kt(e);for(cr(e)||ta(e,"parameter name missing where expected"),o=gr(e,e.image),Kt(e),ur(e,"default")&&(Kt(e),cr(e)||ta(e,"default value missing where expected"),l=fr(e),Ar(e,o,l)),a=ar(e,o.dim);;)if(e.token==X_&&Kt(e),e.token==ep)Kt(e);else if(e.token==ip)lr(e,a),a=_r(e,o.name,o.dim),s=0;else if(cr(e))vr(e,o,a);else if(e.token==J_)0==o.dim&&n(),2!=or(e,a)&&r(),Kt(e),xr(e,o,a,s);else if(e.token==np)Kt(e),ur(e,"tr")||i(),0==o.dim&&n(),2!=or(e,a)&&r(),Kt(e),e.token!=rp&&i(),Kt(e),e.token==J_&&Kt(e),s=1,xr(e,o,a,s);else{if(e.token==$_){Kt(e);break}ta(e,"syntax error in parameter data block")}lr(e,a)}function Cr(e){for(;e.token!=__&&!ur(e,"end");)ur(e,"set")?mr(e):ur(e,"param")?kr(e):ta(e,"syntax error in data section")}function Br(e,t,n){return(t>0&&n>0&&t>.999*Ul-n||t<0&&n<0&&t<-.999*Ul-n)&&ta(e,t+" + "+n+"; floating-point overflow"),t+n}function Er(e,t,n){return(t>0&&n<0&&t>.999*Ul+n||t<0&&n>0&&t<-.999*Ul+n)&&ta(e,t+" - "+n+"; floating-point overflow"),t-n}function Mr(e,t,n){return t<n?0:(t>0&&n<0&&t>.999*Ul+n&&ta(e,t+" less "+n+"; floating-point overflow"),t-n)}function jr(e,t,n){return Math.abs(n)>1&&Math.abs(t)>.999*Ul/Math.abs(n)&&ta(e,t+" * "+n+"; floating-point overflow"),t*n}function Or(e,t,n){return Math.abs(n)<Rl&&ta(e,t+" / "+n+"; floating-point zero divide"),Math.abs(n)<1&&Math.abs(t)>.999*Ul*Math.abs(n)&&ta(e,t+" / "+n+"; floating-point overflow"),t/n}function Ir(e,t,n){return Math.abs(n)<Rl&&ta(e,t+" div "+n+"; floating-point zero divide"),Math.abs(n)<1&&Math.abs(t)>.999*Ul*Math.abs(n)&&ta(e,t+" div "+n+"; floating-point overflow"),t/=n,t>0?Math.floor(t):t<0?Math.ceil(t):0}function Dr(e,t,n){var r;return 0==t?r=0:0==n?r=t:0!=(r=Math.abs(t)%Math.abs(n))&&(t<0&&(r=-r),(t>0&&n<0||t<0&&n>0)&&(r+=n)),r}function Nr(e,t,n){var r;return(0==t&&n<=0||t<0&&n!=Math.floor(n))&&ta(e,t+" ** "+n+"; result undefined"),0==t?r=Math.pow(t,n):((Math.abs(t)>1&&n>1&&+Math.log(Math.abs(t))>.999*Math.log(Ul)/n||Math.abs(t)<1&&n<-1&&+Math.log(Math.abs(t))<.999*Math.log(Ul)/n)&&ta(e,t+" ** "+n+"; floating-point overflow"),r=Math.abs(t)>1&&n<-1&&-Math.log(Math.abs(t))<.999*Math.log(Ul)/n||Math.abs(t)<1&&n>1&&-Math.log(Math.abs(t))>.999*Math.log(Ul)/n?0:Math.pow(t,n)),r}function Sr(e,t){return t>.999*Math.log(Ul)&&ta(e,"exp("+t+"); floating-point overflow"),Math.exp(t)}function Lr(e,t){return t<=0&&ta(e,"log("+t+"); non-positive argument"),Math.log(t)}function Tr(e,t){return t<=0&&ta(e,"log10("+t+"); non-positive argument"),Math.log(t)/Math.LN10}function zr(e,t){return t<0&&ta(e,"sqrt("+t+"); negative argument"),Math.sqrt(t)}function Pr(e,t){return-1e6<=t&&t<=1e6||ta(e,"sin("+t+"); argument too large"),Math.sin(t)}function Fr(e,t){return-1e6<=t&&t<=1e6||ta(e,"cos("+t+"); argument too large"),Math.cos(t)}function Qr(e,t){return Math.atan(t)}function Ur(e,t,n){return Math.atan2(t,n)}function Rr(e,t,n){var r;return n!=Math.floor(n)&&ta(e,"round("+t+", "+n+"); non-integer second argument"),n<=Gl+2&&(r=Math.pow(10,n),Math.abs(t)<.999*Ul/r&&0!=(t=Math.floor(t*r+.5))&&(t/=r)),t}function Gr(e,t,n){var r;return n!=Math.floor(n)&&ta(e,"trunc("+t+", "+n+"); non-integer second argument"),n<=Gl+2&&(r=Math.pow(10,n),Math.abs(t)<.999*Ul/r&&0!=(t=t>=0?Math.floor(t*r):Math.ceil(t*r))&&(t/=r)),t}function Yr(e){return xl(e.rand,16777216)}function Hr(e){return vl(e.rand)/2147483648}function Wr(e,t,n){var r;return t>=n&&ta(e,"Uniform("+t+", "+n+"); invalid range"),r=Hr(e),r=Br(e,t*(1-r),n*r)}function Vr(e){var t,n,r;do{t=2*Hr(e)-1,n=2*Hr(e)-1,r=t*t+n*n}while(r>1||0==r);return n*Math.sqrt(-2*Math.log(r)/r)}function qr(e,t,n){return Br(e,t,jr(e,n,Vr(e)))}function Kr(e,t,n){return t==n?0:t>n?1:-1}function Zr(e,t){var n={};return n.num=t,n.str=null,n}function Xr(e,n){t(null!=n);var r={};return r.num=0,r.str=n,r}function Jr(e,n){t(null!=n);var r={};return null==n.str?(r.num=n.num,r.str=null):(r.num=0,r.str=n.str),r}function $r(e,n,r){return t(null!=n),t(null!=r),null==n.str&&null==r.str?n.num<r.num?-1:n.num>r.num?1:0:null==n.str?-1:null==r.str?1:Kr(e,n.str,r.str)}function ei(e,n){function r(e){l<255&&(i+=e,l++)}t(null!=n);var i;if(null==n.str)i=String(n.num);else{var o,a,l,s=n.str;if(_(s[0])||"_"==s[0]){for(o=!1,a=1;a<s.length;a++)if(!(p(s[a])||h("+-._",s[a])>=0)){o=!0;break}}else o=!0;for(i="",l=0,o&&r("'"),a=0;a<s.length;a++)o&&"'"==s[a]&&r("'"),r(s[a]);o&&r("'"),255==l&&(i=i.slice(0,252)+"...")}return t(i.length<=255),i}function ti(e,t,n){var r,i;return r=null==t.str?String(t.num):t.str,i=null==n.str?String(n.num):n.str,Xr(e,r+i)}function ni(e,n,r){var i;t(null!=r);var o={};if(o.sym=r,o.next=null,null==n)n=o;else{for(i=n;null!=i.next;i=i.next);i.next=o}return n}function ri(e,t){for(var n=0,r=t;null!=r;r=r.next)n++;return n}function ii(e,n){var r,i;if(null==n)r=null;else{for(r=i={};null!=n;n=n.next)t(null!=n.sym),i.sym=Jr(e,n.sym),null!=n.next&&(i=i.next={});i.next=null}return r}function oi(e,n,r){var i,o,a;for(i=n,o=r;null!=i;i=i.next,o=o.next)if(t(null!=o),t(null!=i.sym),t(null!=o.sym),0!=(a=$r(e,i.sym,o.sym)))return a;return t(null==o),0}function ai(e,n,r){for(var i=null,o=1,a=n;o<=r;o++,a=a.next)t(null!=a),i=ni(e,i,Jr(e,a.sym));return i}function li(e,n,r){function i(e){l<255&&(s+=e),l++}var o,a,l=0,s="",c="",u=ri(e,r);for("["==n&&u>0&&i("["),"("==n&&u>1&&i("("),o=r;null!=o;o=o.next)for(o!=r&&i(","),t(null!=o.sym),c=ei(e,o.sym),t(c.length<=255),a=0;a<c.length;a++)i(c[a]);return"["==n&&u>0&&i("]"),"("==n&&u>1&&i(")"),255==l&&(s=s.slice(0,252)+"..."),t(s.length<=255),s}function si(e,n){return t(n>0),Mi(e,e_,n)}function ci(e,n,r){return t(null!=n),t(n.type==e_),t(n.dim==ri(e,r)),Oi(e,n,r)}function ui(e,n,r){var i;return t(null!=n),t(n.type==e_),t(n.dim==ri(e,r)),i=Ii(e,n,r),i.value.none=null,i}function di(e,t,n){return null!=ci(e,t,n)&&ta(e,"duplicate tuple "+li(e,"(",n)+" detected"),ui(e,t,n)}function fi(e,n){var r,i;for(t(null!=n),t(n.type==e_),t(n.dim>0),r=si(e,n.dim),i=n.head;null!=i;i=i.next)ui(e,r,ii(e,i.tuple));return r}function _i(e,n,r,i){var o;return 0==i&&ta(e,n+" .. "+r+" by "+i+"; zero stride not allowed"),o=r>0&&n<0&&r>.999*Ul+n?+Ul:r<0&&n>0&&r<-.999*Ul+n?-Ul:r-n,Math.abs(i)<1&&Math.abs(o)>.999*Ul*Math.abs(i)?o=o>0&&i>0||o<0&&i<0?+Ul:0:(o=Math.floor(o/i)+1)<0&&(o=0),t(o>=0),o>Yl-1&&ta(e,n+" .. "+r+" by "+i+"; set too large"),o+.5|0}function pi(e,n,r,i,o){return t(1<=o&&o<=_i(e,n,r,i)),n+(o-1)*i}function bi(e,t,n,r){for(var i=si(e,1),o=_i(e,t,n,r),a=1;a<=o;a++)ui(e,i,ni(e,null,Zr(e,pi(e,t,n,r,a))));return i}function hi(e,n,r){t(null!=n),t(n.type==e_),t(n.dim>0),t(null!=r),t(r.type==e_),t(r.dim>0),t(n.dim==r.dim);for(var i=r.head;null!=i;i=i.next)null==ci(e,n,i.tuple)&&ui(e,n,ii(e,i.tuple));return n}function mi(e,n,r){t(null!=n),t(n.type==e_),t(n.dim>0),t(null!=r),t(r.type==e_),t(r.dim>0),t(n.dim==r.dim);for(var i=si(e,n.dim),o=n.head;null!=o;o=o.next)null==ci(e,r,o.tuple)&&ui(e,i,ii(e,o.tuple));return i}function gi(e,n,r){var i;t(null!=n),t(n.type==e_),t(n.dim>0),t(null!=r),t(r.type==e_),t(r.dim>0),t(n.dim==r.dim);var o=si(e,n.dim);for(i=n.head;null!=i;i=i.next)null==ci(e,r,i.tuple)&&ui(e,o,ii(e,i.tuple));for(i=r.head;null!=i;i=i.next)null==ci(e,n,i.tuple)&&ui(e,o,ii(e,i.tuple));return o}function Ai(e,n,r){t(null!=n),t(n.type==e_),t(n.dim>0),t(null!=r),t(r.type==e_),t(r.dim>0),t(n.dim==r.dim);for(var i=si(e,n.dim),o=n.head;null!=o;o=o.next)null!=ci(e,r,o.tuple)&&ui(e,i,ii(e,o.tuple));return i}function yi(e,n,r){var i,o,a,l;t(null!=n),t(n.type==e_),t(n.dim>0),t(null!=r),t(r.type==e_),t(r.dim>0);var s=si(e,n.dim+r.dim);for(i=n.head;null!=i;i=i.next)for(o=r.head;null!=o;o=o.next){for(a=ii(e,i.tuple),l=o.tuple;null!=l;l=l.next)a=ni(e,a,Jr(e,l.sym));ui(e,s,a)}return s}function vi(e,t){var n;return 0==t?n=null:(n={},n.coef=t,n.var_=null,n.next=null),n}function xi(e,n){t(null!=n);var r={};return r.coef=1,r.var_=n,r.next=null,r}function wi(e,t){var n,r;if(null==t)n=null;else{for(n=r={};null!=t;t=t.next)r.coef=t.coef,r.var_=t.var_,null!=t.next&&(r=r.next={});r.next=null}return n}function ki(e,t,n,r,i){var o,a,l=null,s=0;for(o=n;null!=o;o=o.next)null==o.var_?s=Br(e,s,jr(e,t,o.coef)):o.var_.temp=Br(e,o.var_.temp,jr(e,t,o.coef));for(o=i;null!=o;o=o.next)null==o.var_?s=Br(e,s,jr(e,r,o.coef)):o.var_.temp=Br(e,o.var_.temp,jr(e,r,o.coef));for(o=n;null!=o;o=o.next)null!=o.var_&&0!=o.var_.temp&&(a={},a.coef=o.var_.temp,a.var_=o.var_,a.next=l,l=a,o.var_.temp=0);for(o=i;null!=o;o=o.next)null!=o.var_&&0!=o.var_.temp&&(a={},a.coef=o.var_.temp,a.var_=o.var_,a.next=l,l=a,o.var_.temp=0);return 0!=s&&(a={},a.coef=s,a.var_=null,a.next=l,l=a),l}function Ci(e,t,n){for(var r,i=null,o=0;null!=t;)r=t,t=t.next,null==r.var_?o=Br(e,o,r.coef):(r.next=i,i=r);return n(o),i}function Bi(e,t){var n,r,i=0;for(n=t;null!=n;n=n.next)null==n.var_?i=Br(e,i,n.coef):n.var_.temp=Br(e,n.var_.temp,n.coef);for(r=t,t=null,n=r;null!=n;n=r)r=n.next,null==n.var_&&0!=i?(n.coef=i,i=0,n.next=t,t=n):null!=n.var_&&0!=n.var_.temp&&(n.coef=n.var_.temp,n.var_.temp=0,n.next=t,t=n);return t}function Ei(e,n,r){switch(t(null!=r),n){case e_:r.none=null;break;case t_:r.num=0;break;case l_:r.sym=null;break;case Xf:r.bit=0;break;case c_:r.tuple=null;break;case Gf:r.set=null;break;case Yf:r.var_=null;break;case Vf:r.form=null;break;case Rf:r.con=null;break;default:t(n!=n)}}function Mi(e,n,r){t(n==e_||n==t_||n==l_||n==Gf||n==Yf||n==Rf),t(r>=0);var i={};return i.type=n,i.dim=r,i.size=0,i.head=null,i.tail=null,i.tree=!1,i.prev=null,i.next=e.a_list,null!=i.next&&(i.next.prev=i),e.a_list=i,i}function ji(e,t,n){return oi(e,t,n)}function Oi(e,n,r){var i;if(t(null!=n),t(ri(e,r)==n.dim),n.size>30&&!n.tree)for(n.tree=E(ji,e),i=n.head;null!=i;i=i.next)j(M(n.tree,i.tuple),i);if(i=null,n.tree){var o=O(n.tree,r);i=null==o?null:I(o)}else for(i=n.head;null!=i&&0!=oi(e,i.tuple,r);i=i.next);return i}function Ii(e,n,r){t(null!=n),t(ri(e,r)==n.dim);var i={};return i.tuple=r,i.next=null,i.value={},n.size++,null==n.head?n.head=i:n.tail.next=i,n.tail=i,null!=n.tree&&j(M(n.tree,i.tuple),i),i}function Di(e,n,r){var i,o;if(t(null!=n),t(null!=r),null!=n.value){if(0==$r(e,n.value,r))return;n.value=null}for(i=n.list;null!=i;i=i.arg.index.next)for(t(i.op==Ap),o=i;null!=o;o=o.up)o.valid&&(o.valid=0,Ei(e,o.type,o.value));n.value=Jr(e,r)}function Ni(e,n){var r,i;if(null!=n.backup)for(r=n.list,i=n.backup;null!=r;r=r.next,i=i.next)t(null!=i),t(null!=i.sym),Di(e,r,i.sym)}function Si(e,n,r,i,o){var a,l=0;return t(null!=n.code),xo(e,n.code,r)?(a=n.backup,n.backup=r,Ni(e,n),o(e,i),n.backup=a,Ni(e,n),l):l=1}function Li(e,n){if(null!=n.block){var r,i,o=null,a=null;for(r=n.block,n.block=r.next,i=r.list;null!=i;i=i.next)null==o?o=a={}:a=a.next={},null==i.code?(t(null!=n.tuple),a.sym=n.tuple.sym,t(null!=a.sym),n.tuple=n.tuple.next):a.sym=bo(e,i.code);for(a.next=null,Si(e,r,o,n,Li)&&(n.failure=1),i=r.list;null!=i;i=i.next)t(null!=o),a=o,o=o.next}else t(null==n.tuple),null==n.domain.code||mo(e,n.domain.code)?n.func(e,n.info):n.failure=2}function Ti(e,n,r,i,o){var a={};return null==n?(t(null==r),o(e,i),a.failure=0):(t(null!=r),a.domain=n,a.block=n.list,a.tuple=r,a.info=i,a.func=o,a.failure=0,Li(e,a)),a.failure}function zi(e,n){if(null!=n.block){var r,i,o;for(r=n.block,n.block=r.next,o=null,i=r.list;null!=i;i=i.next)null!=i.code&&(o=ni(e,o,bo(e,i.code)));if(t(null!=r.code),r.code.op==Sb){var a,l,s,c,u,d;for(c=po(e,r.code.arg.arg.x),u=po(e,r.code.arg.arg.y),d=null==r.code.arg.arg.z?1:po(e,r.code.arg.arg.z),l=_i(e,c,u,d),a=ni(e,null,Zr(e,0)),t(null==o),s=1;s<=l&&n.looping;s++)a.sym.num=pi(e,c,u,d,s),Si(e,r,a,n,zi)}else{var f,_,p,b;for(f=yo(e,r.code),_=f.head;null!=_&&n.looping;_=_.next){p=_.tuple,b=o;var h=!1;for(i=r.list;null!=i;i=i.next){if(t(null!=p),null!=i.code){if(t(null!=b),0!=$r(e,p.sym,b.sym)){h=!0;break}b=b.next}p=p.next}h||(t(null==p),t(null==b),Si(e,r,_.tuple,n,zi))}}n.block=r}else(null==n.domain.code||mo(e,n.domain.code))&&(n.looping=!n.func(e,n.info))}function Pi(e,t,n,r){var i={};null==t?r(e,n):(i.domain=t,i.block=t.list,i.looping=1,i.info=n,i.func=r,zi(e,i))}function Fi(e,n,r){t(null!=n),t(null!=r),ta(e,n+li(e,"[",r)+" out of domain")}function Qi(e,n){var r=null;if(null!=n)for(var i=n.list;null!=i;i=i.next)for(var o=i.list;null!=o;o=o.next)null==o.code&&(t(null!=o.value),r=ni(e,r,Jr(e,o.value)));return r}function Ui(e,n,r,i){for(var o=n.within,a=1;null!=o;o=o.next,a++){t(null!=o.code);for(var l=i.head;null!=l;l=l.next)if(!xo(e,o.code,l.tuple)){var s=li(e,"(",l.tuple);t(s.length<255),ta(e,n.name+li(e,"[",r)+" contains "+s+" which not within specified set; see ("+a+")")}}}function Ri(e,t,n){function r(){Ui(e,t,n,i),o=Ii(e,t.array,ii(e,n)),o.value.set=i}var i,o=Oi(e,t.array,n);return null!=o?i=o.value.set:null!=t.assign?(i=yo(e,t.assign),r()):null!=t.option?(i=yo(e,t.option),r()):ta(e,"no value for "+t.name+li(e,"[",n)),i}function Gi(e,t){null!=t.memb?Ui(e,t.set,t.memb.tuple,t.memb.value.set):t.refer=Ri(e,t.set,t.tuple)}function Yi(e,n){var r,i,o,a,l,s=n.gadget,c=new Array(20);for(Zl("Generating "+n.name+"..."),Vi(e,s.set),t(null!=s.set.array),t(null!=s.set.array.head),t(s.set.array.head==s.set.array.tail),r=s.set.array.head.value.set,t(r.type==e_),t(r.dim==s.set.dimen),i=r.head;null!=i;i=i.next){for(a=ii(e,i.tuple),l=0;l<s.set.dimen;l++)c[l]=null;for(l=0;null!=a;a=a.next)c[s.ind[l++]-1]=a;for(t(l==s.set.dimen),l=0;l<s.set.dimen;l++)t(null!=c[l]),c[l].next=c[l+1];0==n.dim?a=null:(a=c[0],c[n.dim-1].next=null),o=Oi(e,n.array,a),null==o&&(o=Ii(e,n.array,a),o.value.set=si(e,n.dimen)),a=c[n.dim],t(n.dim+n.dimen==s.set.dimen),c[s.set.dimen-1].next=null,ui(e,o.value.set,a)}n.data=1}function Hi(e,n,r){var i={};if(t(n.dim==ri(e,r)),i.set=n,i.tuple=r,null!=n.gadget&&0==n.data&&Yi(e,n),1==n.data){var o=n.array.tail;for(n.data=2,i.memb=n.array.head;null!=i.memb&&(Ti(e,n.domain,i.memb.tuple,i,Gi)&&Fi(e,n.name,i.memb.tuple),i.memb!=o);i.memb=i.memb.next);}return i.memb=null,Ti(e,i.set.domain,i.tuple,i,Gi)&&Fi(e,n.name,i.tuple),i.refer}function Wi(e,t){return Hi(e,t,Qi(e,t.domain)),0}function Vi(e,t){Pi(e,t.domain,t,Wi)}function qi(e,n,r,i){function o(t){ta(e,n.name+li(e,"[",r)+" = "+i+" not "+t+" "+s+"; see ("+l+")")}var a,l;switch(n.type){case t_:break;case Zf:i!=Math.floor(i)&&ta(e,n.name+li(e,"[",r)+" = "+i+" not integer");break;case Pf:0!=i&&1!=i&&ta(e,n.name+li(e,"[",r)+" = "+i+" not binary");break;default:t(n!=n)}for(a=n.cond,l=1;null!=a;a=a.next,l++){var s;switch(t(null!=a.code),s=po(e,a.code),a.rho){case pb:i<s||o("<");break;case bb:i<=s||o("<=");break;case hb:i!=s&&o("=");break;case mb:i>=s||o(">=");break;case gb:i>s||o(">");break;case Ab:i==s&&o("<>");break;default:t(a!=a)}}l=1;for(var c=n.in_;null!=c;c=c.next,l++){t(null!=c.code),t(1==c.code.dim);var u=ni(e,null,Zr(e,i));xo(e,c.code,u)||ta(e,n.name+li(e,"[",r)+" = "+i+" not in specified set; see ("+l+")")}}function Ki(e,t,n){function r(r){return qi(e,t,n,r),i=Ii(e,t.array,ii(e,n)),i.value.num=r,r}var i=Oi(e,t.array,n);return null!=i?i.value.num:null!=t.assign?r(po(e,t.assign)):null!=t.option?r(po(e,t.option)):null!=t.defval?(null!=t.defval.str&&ta(e,"cannot convert "+ei(e,t.defval)+" to floating-point number"),r(t.defval.num)):ta(e,"no value for "+t.name+li(e,"[",n))}function Zi(e,t){null!=t.memb?qi(e,t.par,t.memb.tuple,t.memb.value.num):t.value=Ki(e,t.par,t.tuple)}function Xi(e,n,r){var i={};if(t(n.type==t_||n.type==Zf||n.type==Pf),t(n.dim==ri(e,r)),i.par=n,i.tuple=r,1==n.data){var o=n.array.tail;for(n.data=2,i.memb=n.array.head;null!=i.memb&&(Ti(e,n.domain,i.memb.tuple,i,Zi)&&Fi(e,n.name,i.memb.tuple),i.memb!=o);i.memb=i.memb.next);}return i.memb=null,Ti(e,i.par.domain,i.tuple,i,Zi)&&Fi(e,n.name,i.tuple),i.value}function Ji(e,n,r,i){for(var o,a=1,l=n.cond;null!=l;l=l.next,a++){var s;t(null!=l.code);var c=bo(e,l.code);switch(l.rho){case pb:$r(e,i,c)<0||(s=ei(e,c),t(s.length<=255),ta(e,n.name+li(e,"[",r)+" = "+ei(e,i)+" not < "+s));break;case bb:$r(e,i,c)<=0||(s=ei(e,c),t(s.length<=255),ta(e,n.name+li(e,"[",r)+" = "+ei(e,i)+" not <= "+s));break;case hb:0!=$r(e,i,c)&&(s=ei(e,c),t(s.length<=255),ta(e,n.name+li(e,"[",r)+" = "+ei(e,i)+" not = "+s));break;case mb:$r(e,i,c)>=0||(s=ei(e,c),t(s.length<=255),ta(e,n.name+li(e,"[",r)+" = "+ei(e,i)+" not >= "+s));break;case gb:$r(e,i,c)>0||(s=ei(e,c),t(s.length<=255),ta(e,n.name+li(e,"[",r)+" = "+ei(e,i)+" not > "+s));break;case Ab:0==$r(e,i,c)&&(s=ei(e,c),t(s.length<=255),ta(e,n.name+li(e,"[",r)+" <> "+ei(e,i)+" not > "+s));break;default:t(l!=l)}}for(a=1,o=n.in_;null!=o;o=o.next,a++){t(null!=o.code),t(1==o.code.dim);var u=ni(e,null,Jr(e,i));xo(e,o.code,u)||ta(e,n.name,li(e,"[",r)+" = "+ei(e,i)+" not in specified set; see ("+a+")")}}function $i(e,t,n){function r(r){return Ji(e,t,n,r),i=Ii(e,t.array,ii(e,n)),i.value.sym=Jr(e,r),r}var i=Oi(e,t.array,n);return null!=i?Jr(e,i.value.sym):null!=t.assign?r(bo(e,t.assign)):null!=t.option?r(bo(e,t.option)):null!=t.defval?Jr(e,t.defval):ta(e,"no value for "+t.name+li(e,"[",n))}function eo(e,t){null!=t.memb?Ji(e,t.par,t.memb.tuple,t.memb.value.sym):t.value=$i(e,t.par,t.tuple)}function to(e,n,r){var i={};if(t(n.type==l_),t(n.dim==ri(e,r)),i.par=n,i.tuple=r,1==n.data){var o=n.array.tail;for(n.data=2,i.memb=n.array.head;null!=i.memb&&(Ti(e,n.domain,i.memb.tuple,i,eo)&&Fi(e,n.name,i.memb.tuple),i.memb!=o);i.memb=i.memb.next);}return i.memb=null,Ti(e,i.par.domain,i.tuple,i,eo)&&Fi(e,n.name,i.tuple),i.value}function no(e,n){var r=Qi(e,n.domain);switch(n.type){case t_:case Zf:case Pf:Xi(e,n,r);break;case l_:to(e,n,r);break;default:t(n!=n)}return 0}function ro(e,t){Pi(e,t.domain,t,no)}function io(e,t,n){var r,i=Oi(e,t.array,n);return null!=i?r=i.value.var_:(i=Ii(e,t.array,ii(e,n)),r=i.value.var_={},r.j=0,r.var_=t,r.memb=i,null==t.lbnd?r.lbnd=0:r.lbnd=po(e,t.lbnd),null==t.ubnd?r.ubnd=0:t.ubnd==t.lbnd?r.ubnd=r.lbnd:r.ubnd=po(e,t.ubnd),r.temp=0,r.stat=0,r.prim=r.dual=0),r}function oo(e,t){t.refer=io(e,t.var_,t.tuple)}function ao(e,n,r){var i={};return t(n.dim==ri(e,r)),i.var_=n,i.tuple=r,Ti(e,i.var_.domain,i.tuple,i,oo)&&Fi(e,n.name,i.tuple),i.refer}function lo(e,n,r){var i,o=null,a=Oi(e,n.array,r);if(null!=a)i=a.value.con;else{if(a=Ii(e,n.array,ii(e,r)),i=a.value.con={},i.i=0,i.con=n,i.memb=a,t(null!=n.code),i.form=ko(e,n.code),null==n.lbnd&&null==n.ubnd)t(n.type==$f||n.type==Jf),i.form=Ci(e,i.form,function(e){o=e}),i.lbnd=i.ubnd=-o;else if(null!=n.lbnd&&null==n.ubnd)t(n.type==Qf),i.form=ki(e,1,i.form,-1,ko(e,n.lbnd)),i.form=Ci(e,i.form,function(e){o=e}),i.lbnd=-o,i.ubnd=0;else if(null==n.lbnd&&null!=n.ubnd)t(n.type==Qf),i.form=ki(e,1,i.form,-1,ko(e,n.ubnd)),i.form=Ci(e,i.form,function(e){o=e}),i.lbnd=0,i.ubnd=-o;else if(n.lbnd==n.ubnd)t(n.type==Qf),i.form=ki(e,1,i.form,-1,ko(e,n.lbnd)),i.form=Ci(e,i.form,function(e){o=e}),i.lbnd=i.ubnd=-o;else{var l=null,s=null;t(n.type==Qf),i.form=Ci(e,i.form,function(e){o=e}),t(null==Ci(e,ko(e,n.lbnd),function(e){l=e})),t(null==Ci(e,ko(e,n.ubnd),function(e){s=e})),i.lbnd=Er(e,l,o),i.ubnd=Er(e,s,o)}i.stat=0,i.prim=i.dual=0}return i}function so(e,t){t.refer=lo(e,t.con,t.tuple)}function co(e,n,r){var i={};return t(n.dim==ri(e,r)),i.con=n,i.tuple=r,Ti(e,i.con.domain,i.tuple,i,so)&&Fi(e,n.name,i.tuple),i.refer}function uo(e,t){return co(e,t,Qi(e,t.domain)),0}function fo(e,t){Pi(e,t.domain,t,uo)}function _o(e,n){var r=po(e,n.code.arg.loop.x);switch(n.code.op){case Fb:n.value=Br(e,n.value,r);break;case Qb:n.value=jr(e,n.value,r);break;case Ub:n.value>r&&(n.value=r);break;case Rb:n.value<r&&(n.value=r);break;default:t(n!=n)}return 0}function po(e,n){var r,i,o,a,l,s,c;if(t(null!=n),t(n.type==t_),t(0==n.dim),n.vflag&&n.valid&&(n.valid=0,Ei(e,n.type,n.value)),n.valid)return n.value.num;switch(n.op){case mp:r=n.arg.num;break;case yp:for(i=null,o=n.arg.par.list;null!=o;o=o.next)i=ni(e,i,bo(e,o.x));r=Xi(e,n.arg.par.par,i);break;case wp:var u;for(i=null,o=n.arg.var_.list;null!=o;o=o.next)i=ni(e,i,bo(e,o.x));switch(u=ao(e,n.arg.var_.var_,i),n.arg.var_.suff){case fp:r=null==u.var_.lbnd?-Ul:u.lbnd;break;case _p:r=null==u.var_.ubnd?+Ul:u.ubnd;break;case pp:r=u.stat;break;case bp:r=u.prim;break;case hp:r=u.dual;break;default:t(n!=n)}break;case kp:var d;for(i=null,o=n.arg.con.list;null!=o;o=o.next)i=ni(e,i,bo(e,o.x));switch(d=co(e,n.arg.con.con,i),n.arg.con.suff){case fp:r=null==d.con.lbnd?-Ul:d.lbnd;break;case _p:r=null==d.con.ubnd?+Ul:d.ubnd;break;case pp:r=d.stat;break;case bp:r=d.prim;break;case hp:r=d.dual;break;default:t(n!=n)}break;case Mp:r=Yr(e);break;case jp:r=Hr(e);break;case Op:r=Vr(e);break;case Ip:r=ra(e);break;case Dp:a=bo(e,n.arg.arg.x),null==a.str?r=a.num:We(a.str,function(e){r=e})&&ta(e,"cannot convert "+ei(e,a)+" to floating-point number");break;case zp:r=+po(e,n.arg.arg.x);break;case Pp:r=-po(e,n.arg.arg.x);break;case Qp:r=Math.abs(po(e,n.arg.arg.x));break;case Up:r=Math.ceil(po(e,n.arg.arg.x));break;case Rp:r=Math.floor(po(e,n.arg.arg.x));break;case Gp:r=Sr(e,po(e,n.arg.arg.x));break;case Yp:r=Lr(e,po(e,n.arg.arg.x));break;case Hp:r=Tr(e,po(e,n.arg.arg.x));break;case Wp:r=zr(e,po(e,n.arg.arg.x));break;case Vp:r=Pr(e,po(e,n.arg.arg.x));break;case qp:r=Fr(e,po(e,n.arg.arg.x));break;case Kp:r=Qr(e,po(e,n.arg.arg.x));break;case sb:r=Ur(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case Zp:r=Rr(e,po(e,n.arg.arg.x),0);break;case cb:r=Rr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case Xp:r=Gr(e,po(e,n.arg.arg.x),0);break;case ub:r=Gr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case eb:r=Br(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case tb:r=Er(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case nb:r=Mr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case rb:r=jr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case ib:r=Or(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case ob:r=Ir(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case ab:r=Dr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case lb:r=Nr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case db:r=Wr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case fb:r=qr(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y));break;case Jp:var f=yo(e,n.arg.arg.x);r=f.size;break;case $p:a=bo(e,n.arg.arg.x),l=null==a.str?String(a.num):a.str,r=l.length;break;case Db:var _;a=bo(e,n.arg.arg.x),l=null==a.str?String(a.num):a.str,a=bo(e,n.arg.arg.y),_=null==a.str?String(a.num):a.str,r=aa(e,l,_);break;case Lb:r=mo(e,n.arg.arg.x)?po(e,n.arg.arg.y):null==n.arg.arg.z?0:po(e,n.arg.arg.z);break;case zb:for(r=+Ul,o=n.arg.list;null!=o;o=o.next)s=po(e,o.x),r>s&&(r=s);break;case Pb:for(r=-Ul,o=n.arg.list;null!=o;o=o.next)s=po(e,o.x),r<s&&(r=s);break;case Fb:c={},c.code=n,c.value=0,Pi(e,n.arg.loop.domain,c,_o),r=c.value;break;case Qb:c={},c.code=n,c.value=1,Pi(e,n.arg.loop.domain,c,_o),r=c.value;break;case Ub:c={},c.code=n,c.value=+Ul,Pi(e,n.arg.loop.domain,c,_o),c.value==+Ul&&ta(e,"min{} over empty set; result undefined"),r=c.value;break;case Rb:c={},c.code=n,c.value=-Ul,Pi(e,n.arg.loop.domain,c,_o),c.value==-Ul&&ta(e,"max{} over empty set; result undefined"),r=c.value;break;default:t(n!=n)}return t(!n.valid),n.valid=1,n.value.num=r,r}function bo(e,n){var r,i;if(t(null!=n),t(n.type==l_),t(0==n.dim),n.vflag&&n.valid&&(n.valid=0,Ei(e,n.type,n.value)),n.valid)return Jr(e,n.value.sym);switch(n.op){case gp:r=Xr(e,n.arg.str);break;case Ap:t(null!=n.arg.index.slot.value),r=Jr(e,n.arg.index.slot.value);break;case vp:var o,a;for(o=null,a=n.arg.par.list;null!=a;a=a.next)o=ni(e,o,bo(e,a.x));r=to(e,n.arg.par.par,o);break;case Np:r=Zr(e,po(e,n.arg.arg.x));break;case _b:r=ti(e,bo(e,n.arg.arg.x),bo(e,n.arg.arg.y));break;case Lb:r=mo(e,n.arg.arg.x)?bo(e,n.arg.arg.y):null==n.arg.arg.z?Zr(e,0):bo(e,n.arg.arg.z);break;case Ib:case Tb:var l,s;r=bo(e,n.arg.arg.x),i=null==r.str?String(r.num):r.str,n.op==Ib?(l=po(e,n.arg.arg.y),l!=Math.floor(l)&&ta(e,"substr('...', "+l+"); non-integer second argument"),(l<1||l>i.length+1)&&ta(e,"substr('...', "+l+"); substring out of range")):(l=po(e,n.arg.arg.y),s=po(e,n.arg.arg.z),l==Math.floor(l)&&s==Math.floor(s)||ta(e,"substr('...', "+l+", "+s+"); non-integer second and/or third argument"),(l<1||s<0||l+s>i.length+1)&&ta(e,"substr('...', "+l+", "+s+"); substring out of range")),r=Xr(e,i.slice(l-1,l+s-1));break;case Nb:var c,u,d;c=po(e,n.arg.arg.x),u=bo(e,n.arg.arg.y),d=null==u.str?String(u.num):u.str,i=ua(e,c,d),r=Xr(e,i);break;default:t(n!=n)}return t(!n.valid),n.valid=1,n.value.sym=Jr(e,r),r}function ho(e,n){var r=0;switch(n.code.op){case Gb:n.value&=mo(e,n.code.arg.loop.x),n.value||(r=1);break;case Yb:n.value|=mo(e,n.code.arg.loop.x),n.value&&(r=1);break;default:t(n!=n)}return r}function mo(e,n){var r,i,o,a,l,s,c;if(t(n.type==Xf),t(0==n.dim),n.vflag&&n.valid&&(n.valid=0,Ei(e,n.type,n.value)),n.valid)return n.value.bit;switch(n.op){case Sp:r=0!=po(e,n.arg.arg.x);break;case Fp:r=!mo(e,n.arg.arg.x);break;case pb:t(null!=n.arg.arg.x),n.arg.arg.x.type==t_?r=po(e,n.arg.arg.x)<po(e,n.arg.arg.y):(i=bo(e,n.arg.arg.x),o=bo(e,n.arg.arg.y),r=$r(e,i,o)<0);break;case bb:t(null!=n.arg.arg.x),n.arg.arg.x.type==t_?r=po(e,n.arg.arg.x)<=po(e,n.arg.arg.y):(i=bo(e,n.arg.arg.x),o=bo(e,n.arg.arg.y),r=$r(e,i,o)<=0);break;case hb:t(null!=n.arg.arg.x),n.arg.arg.x.type==t_?r=po(e,n.arg.arg.x)==po(e,n.arg.arg.y):(i=bo(e,n.arg.arg.x),o=bo(e,n.arg.arg.y),r=0==$r(e,i,o));break;case mb:t(null!=n.arg.arg.x),n.arg.arg.x.type==t_?r=po(e,n.arg.arg.x)>=po(e,n.arg.arg.y):(i=bo(e,n.arg.arg.x),o=bo(e,n.arg.arg.y),r=$r(e,i,o)>=0);break;case gb:t(null!=n.arg.arg.x),n.arg.arg.x.type==t_?r=po(e,n.arg.arg.x)>po(e,n.arg.arg.y):(i=bo(e,n.arg.arg.x),o=bo(e,n.arg.arg.y),r=$r(e,i,o)>0);break;case Ab:t(null!=n.arg.arg.x),n.arg.arg.x.type==t_?r=po(e,n.arg.arg.x)!=po(e,n.arg.arg.y):(i=bo(e,n.arg.arg.x),o=bo(e,n.arg.arg.y),r=0!=$r(e,i,o));break;case yb:r=mo(e,n.arg.arg.x)&&mo(e,n.arg.arg.y);break;case vb:r=mo(e,n.arg.arg.x)||mo(e,n.arg.arg.y);break;case Eb:a=go(e,n.arg.arg.x),r=xo(e,n.arg.arg.y,a);break;case Mb:a=go(e,n.arg.arg.x),r=!xo(e,n.arg.arg.y,a);break;case jb:for(l=yo(e,n.arg.arg.x),r=1,s=l.head;null!=s;s=s.next)if(!xo(e,n.arg.arg.y,s.tuple)){r=0;break}break;case Ob:for(l=yo(e,n.arg.arg.x),r=1,s=l.head;null!=s;s=s.next)if(xo(e,n.arg.arg.y,s.tuple)){r=0;break}break;case Gb:c={},c.code=n,c.value=1,Pi(e,n.arg.loop.domain,c,ho),r=c.value;break;case Yb:c={},c.code=n,c.value=0,Pi(e,n.arg.loop.domain,c,ho),r=c.value;break;default:t(n!=n)}return t(!n.valid),n.valid=1,n.value.bit=r,r}function go(e,n){var r;if(t(null!=n),t(n.type==c_),t(n.dim>0),n.vflag&&n.valid&&(n.valid=0,Ei(e,n.type,n.value)),n.valid)return ii(e,n.value.tuple);switch(n.op){case Cp:r=null;for(var i=n.arg.list;null!=i;i=i.next)r=ni(e,r,bo(e,i.x));break;case Lp:r=ni(e,null,bo(e,n.arg.arg.x));break;default:t(n!=n)}return t(!n.valid),n.valid=1,n.value.tuple=ii(e,r),r}function Ao(e,n){var r;switch(n.code.op){case Hb:r=go(e,n.code.arg.loop.x),null==ci(e,n.value,r)&&ui(e,n.value,r);break;case Wb:ui(e,n.value,Qi(e,n.code.arg.loop.domain));break;default:t(n!=n)}return 0}function yo(e,n){var r,i,o;if(t(null!=n),t(n.type==Gf),t(n.dim>0),n.vflag&&n.valid&&(n.valid=0,Ei(e,n.type,n.value)),n.valid)return fi(e,n.value.set);switch(n.op){case xp:var a;for(a=null,i=n.arg.set.list;null!=i;i=i.next)a=ni(e,a,bo(e,i.x));r=fi(e,Hi(e,n.arg.set.set,a));break;case Bp:for(r=si(e,n.dim),i=n.arg.list;null!=i;i=i.next)di(e,r,go(e,i.x));break;case xb:r=hi(e,yo(e,n.arg.arg.x),yo(e,n.arg.arg.y));break;case wb:r=mi(e,yo(e,n.arg.arg.x),yo(e,n.arg.arg.y));break;case kb:r=gi(e,yo(e,n.arg.arg.x),yo(e,n.arg.arg.y));break;case Cb:r=Ai(e,yo(e,n.arg.arg.x),yo(e,n.arg.arg.y));break;case Bb:r=yi(e,yo(e,n.arg.arg.x),yo(e,n.arg.arg.y));break;case Sb:r=bi(e,po(e,n.arg.arg.x),po(e,n.arg.arg.y),null==n.arg.arg.z?1:po(e,n.arg.arg.z));break;case Lb:r=mo(e,n.arg.arg.x)?yo(e,n.arg.arg.y):yo(e,n.arg.arg.z);break;case Hb:case Wb:o={},o.code=n,o.value=si(e,n.dim),Pi(e,n.arg.loop.domain,o,Ao),r=o.value;break;default:t(n!=n)}return t(!n.valid),n.valid=1,n.value.set=fi(e,r),r}function vo(e,n){t(null==n)}function xo(e,n,r){var i,o,a,l;switch(t(null!=n),t(n.type==Gf),t(n.dim>0),t(null!=r),n.op){case xp:var s;for(a=null,o=n.arg.set.list;null!=o;o=o.next)a=ni(e,a,bo(e,o.x));s=Hi(e,n.arg.set.set,a),a=ai(e,r,s.dim),i=null!=ci(e,s,a);break;case Bp:var c;for(i=0,a=ai(e,r,n.dim),o=n.arg.list;null!=o&&(c=go(e,o.x),!(i=0==oi(e,a,c)));o=o.next);break;case xb:i=xo(e,n.arg.arg.x,r)||xo(e,n.arg.arg.y,r);break;case wb:i=xo(e,n.arg.arg.x,r)&&!xo(e,n.arg.arg.y,r);break;case kb:var u=xo(e,n.arg.arg.x,r),d=xo(e,n.arg.arg.y,r);i=u&&!d||!u&&d;break;case Cb:i=xo(e,n.arg.arg.x,r)&&xo(e,n.arg.arg.y,r);break;case Bb:if(i=xo(e,n.arg.arg.x,r)){for(l=1;l<=n.arg.arg.x.dim;l++)t(null!=r),r=r.next;i=xo(e,n.arg.arg.y,r)}break;case Sb:var f,_,p,b;if(t(1==n.dim),_=po(e,n.arg.arg.x),p=po(e,n.arg.arg.y),b=null==n.arg.arg.z?1:po(e,n.arg.arg.z),_i(e,_,p,b),t(null!=r.sym),null!=r.sym.str){i=0;break}if(f=r.sym.num,b>0&&!(_<=f&&f<=p)||b<0&&!(p<=f&&f<=_)){i=0;break}l=1+((f-_)/b+.5|0),i=pi(e,_,p,b,l)==f;break;case Lb:i=mo(e,n.arg.arg.x)?xo(e,n.arg.arg.y,r):xo(e,n.arg.arg.z,r);break;case Hb:ta(e,"implementation restriction; in/within setof{} not allowed");break;case Wb:a=ai(e,r,n.dim),i=0==Ti(e,n.arg.loop.domain,a,null,vo);break;default:t(n!=n)}return i}function wo(e,n){switch(n.code.op){case Fb:var r,i=ko(e,n.code.arg.loop.x);for(null==n.value?(t(null==n.tail),n.value=i):(t(null!=n.tail),n.tail.next=i),r=i;null!=r;r=r.next)n.tail=r;break;default:t(n!=n)}return 0}function ko(e,n){var r;if(t(null!=n),t(n.type==Vf),t(0==n.dim),n.vflag&&n.valid&&(n.valid=0,Ei(e,n.type,n.value)),n.valid)return wi(e,n.value.form);switch(n.op){case wp:var i,o=null;for(i=n.arg.var_.list;null!=i;i=i.next)o=ni(e,o,bo(e,i.x));t(n.arg.var_.suff==dp),r=xi(e,ao(e,n.arg.var_.var_,o));break;case Tp:r=vi(e,po(e,n.arg.arg.x));break;case zp:r=ki(e,0,vi(e,0),1,ko(e,n.arg.arg.x));break;case Pp:r=ki(e,0,vi(e,0),-1,ko(e,n.arg.arg.x));break;case eb:r=ki(e,1,ko(e,n.arg.arg.x),1,ko(e,n.arg.arg.y));break;case tb:r=ki(e,1,ko(e,n.arg.arg.x),-1,ko(e,n.arg.arg.y));break;case rb:t(null!=n.arg.arg.x),t(null!=n.arg.arg.y),n.arg.arg.x.type==t_?(t(n.arg.arg.y.type==Vf),r=ki(e,po(e,n.arg.arg.x),ko(e,n.arg.arg.y),0,vi(e,0))):(t(n.arg.arg.x.type==Vf),t(n.arg.arg.y.type==t_),r=ki(e,po(e,n.arg.arg.y),ko(e,n.arg.arg.x),0,vi(e,0)));break;case ib:r=ki(e,Or(e,1,po(e,n.arg.arg.y)),ko(e,n.arg.arg.x),0,vi(e,0));break;case Lb:r=mo(e,n.arg.arg.x)?ko(e,n.arg.arg.y):null==n.arg.arg.z?vi(e,0):ko(e,n.arg.arg.z);break;case Fb:var a={};a.code=n,a.value=vi(e,0),a.tail=null,Pi(e,n.arg.loop.domain,a,wo),r=Bi(e,a.value);break;default:t(n!=n)}return t(!n.valid),n.valid=1,n.value.form=wi(e,r),r}function Co(e,n){var r,i,o,a=e.dca;for(o=0,r=n.u.out.list;null!=r;r=r.next)switch(o++,r.code.type){case t_:a.type[o]="N",a.num[o]=po(e,r.code),a.str[o][0]="\0";break;case l_:i=bo(e,r.code),null==i.str?(a.type[o]="N",a.num[o]=i.num,a.str[o][0]="\0"):(a.type[o]="S",a.num[o]=0,a.str[o]=i.str);break;default:t(r!=r)}return _a(e),0}function Bo(e,n){var r,i,o,a,l,s,c,u;for(t(null==e.dca),e.dca=l={},l.id=0,l.link=null,l.na=0,l.arg=null,l.nf=0,l.name=null,l.type=null,l.num=null,l.str=null,t(0==l.na),r=n.arg;null!=r;r=r.next)l.na++;for(l.arg=new Array(1+l.na),c=1;c<=l.na;c++)l.arg[c]=null;for(c=0,r=n.arg;null!=r;r=r.next){c++,t(r.code.type==l_);var d=bo(e,r.code);u=null==d.str?String(d.num):d.str,l.arg[c]=u}switch(n.type){case Kf:for(s=n.u.in_.set,null!=s&&(s.data&&ta(e,s.name+" already provided with data"),t(null==s.array.head),Ii(e,s.array,null).value.set=si(e,s.dimen),s.data=1),o=n.u.in_.list;null!=o;o=o.next)o.par.data&&ta(e,o.par.name+" already provided with data"),o.par.data=1;for(t(0==l.nf),i=n.u.in_.fld;null!=i;i=i.next)l.nf++;for(o=n.u.in_.list;null!=o;o=o.next)l.nf++;for(l.name=new Array(1+l.nf),l.type=new Array(1+l.nf),l.num=new Float64Array(1+l.nf),l.str=new Array(1+l.nf),c=0,i=n.u.in_.fld;null!=i;i=i.next)c++,l.name[c]=i.name,l.type[c]="?",l.num[c]=0,l.str[c]="";for(o=n.u.in_.list;null!=o;o=o.next)c++,l.name[c]=o.name,l.type[c]="?",l.num[c]=0,l.str[c]="";for(da(e,"R");;){var f;for(c=1;c<=l.nf;c++)l.type[c]="?";if(fa(e))break;for(c=1;c<=l.nf;c++)"?"==l.type[c]&&ta(e,"field "+l.name[c]+" missing in input table");for(f=null,c=0,i=n.u.in_.fld;null!=i;i=i.next)switch(c++,t(c<=l.nf),l.type[c]){case"N":f=ni(e,f,Zr(e,l.num[c]));break;case"S":f=ni(e,f,Xr(e,l.str[c]));break;default:t(l!=l)}for(null!=n.u.in_.set&&di(e,n.u.in_.set.array.head.value.set,ii(e,f)),o=n.u.in_.list;null!=o;o=o.next){var _;switch(c++,t(c<=l.nf),null!=Oi(e,o.par.array,f)&&ta(e,o.par.name+li(e,"[",f)+" already defined"),_=Ii(e,o.par.array,ii(e,f)),o.par.type){case t_:case Zf:case Pf:"N"!=l.type[c]&&ta(e,o.par.name+" requires numeric data"),_.value.num=l.num[c];break;case l_:switch(l.type[c]){case"N":_.value.sym=Zr(e,l.num[c]);break;case"S":_.value.sym=Xr(e,l.str[c]);break;default:t(l!=l)}break;default:t(o!=o)}}}e.dca=null;break;case n_:for(t(0==l.nf),a=n.u.out.list;null!=a;a=a.next)l.nf++;for(l.name=new Array(1+l.nf),l.type=new Array(1+l.nf),l.num=new Float64Array(1+l.nf),l.str=new Array(1+l.nf),c=0,a=n.u.out.list;null!=a;a=a.next)c++,l.name[c]=a.name,l.type[c]="?",l.num[c]=0,l.str[c]="";da(e,"W"),Pi(e,n.u.out.domain,n,Co),pa(e),e.dca=null;break;default:t(n!=n)}}function Eo(e,t){return mo(e,t.code)||ta(e,"check"+li(e,"[",Qi(e,t.domain))+" failed"),0}function Mo(e,t){Pi(e,t.domain,t,Eo)}function jo(e,t,n){var r,i=n.value.set;for($o(e,t.name+li(e,"[",n.tuple)+(null==i.head?" is empty":":")),r=i.head;null!=r;r=r.next)$o(e,"   "+li(e,"(",r.tuple))}function Oo(e,n,r){switch(n.type){case t_:case Zf:case Pf:$o(e,n.name+li(e,"[",r.tuple)+" = "+r.value.num);break;case l_:$o(e,n.name+li(e,"[",r.tuple)+" = "+ei(e,r.value.sym));break;default:t(n!=n)}}function Io(e,n,r,i){i==dp||i==bp?$o(e,n.name+li(e,"[",r.tuple)+".val = "+r.value.var_.prim):i==fp?$o(e,n.name+li(e,"[",r.tuple)+".lb = "+(null==r.value.var_.var_.lbnd?-Ul:r.value.var_.lbnd)):i==_p?$o(e,n.name+li(e,"[",r.tuple)+".ub = "+(null==r.value.var_.var_.ubnd?+Ul:r.value.var_.ubnd)):i==pp?$o(e,n.name+li(e,"[",r.tuple)+".status = "+r.value.var_.stat):i==hp?$o(e,n.name+li(e,"[",r.tuple)+".dual = "+r.value.var_.dual):t(i!=i)}function Do(e,n,r,i){i==dp||i==bp?$o(e,n.name+li(e,"[",r.tuple)+".val = "+r.value.con.prim):i==fp?$o(e,n.name+li(e,"[",r.tuple)+".lb = "+(null==r.value.con.con.lbnd?-Ul:r.value.con.lbnd)):i==_p?$o(e,n.name+li(e,"[",r.tuple)+".ub = "+(null==r.value.con.con.ubnd?+Ul:r.value.con.ubnd)):i==pp?$o(e,n.name+li(e,"[",r.tuple)+".status = "+r.value.con.stat):i==hp?$o(e,n.name+li(e,"[",r.tuple)+".dual = "+r.value.con.dual):t(i!=i)}function No(e,n){var r,i={value:{}};for(t(n.op==yp||n.op==vp||n.op==xp||n.op==wp||n.op==kp),i.tuple=null,r=n.arg.par.list||n.arg.var_.list;null!=r;r=r.next)i.tuple=ni(e,i.tuple,bo(e,r.x));switch(n.op){case yp:i.value.num=Xi(e,n.arg.par.par,i.tuple),Oo(e,n.arg.par.par,i);break;case vp:i.value.sym=to(e,n.arg.par.par,i.tuple),Oo(e,n.arg.par.par,i);break;case xp:i.value.set=Hi(e,n.arg.set.set,i.tuple),jo(e,n.arg.set.set,i);break;case wp:i.value.var_=ao(e,n.arg.var_.var_,i.tuple),Io(e,n.arg.var_.var_,i,n.arg.var_.suff);break;case kp:i.value.con=co(e,n.arg.con.con,i.tuple),Do(e,n.arg.con.con,i,n.arg.con.suff);break;default:t(n!=n)}}function So(e,n){switch(n.type){case t_:var r=po(e,n);$o(e,String(r));break;case l_:$o(e,ei(e,bo(e,n)));break;case Xf:$o(e,mo(e,n)?"true":"false");break;case c_:$o(e,li(e,"(",go(e,n)));break;case Gf:var i=yo(e,n);0==i.head&&$o(e,"set is empty");for(var o=i.head;null!=o;o=o.next)$o(e,"   "+li(e,"(",o.tuple));break;case Vf:var a,l=ko(e,n);for(null==l&&$o(e,"linear form is empty"),a=l;null!=a;a=a.next)null==a.var_?$o(e,"   "+a.coef):$o(e,"   "+a.coef+" "+a.var_.var_.name+li(e,"[",a.var_.memb.tuple));break;default:t(n!=n)}}function Lo(e,n){for(var r,i=n.list;null!=i;i=i.next)if(i.type==qf){var o=i.u.slot;$o(e,o.name+" = "+ei(e,o.value))}else if(i.type==o_){var a=i.u.set;for(null!=a.assign?Vi(e,a):(null!=a.gadget&&0==a.data&&Yi(e,a),null!=a.array.head&&Hi(e,a,a.array.head.tuple)),null==a.array.head&&$o(e,a.name+" has empty content"),r=a.array.head;null!=r;r=r.next)jo(e,a,r)}else if(i.type==r_){var l=i.u.par;for(null!=l.assign?ro(e,l):null!=l.array.head&&(l.type!=l_?Xi(e,l,l.array.head.tuple):to(e,l,l.array.head.tuple)),null==l.array.head&&$o(e,l.name+" has empty content"),r=l.array.head;null!=r;r=r.next)Oo(e,l,r)}else if(i.type==u_){var s=i.u.var_;for(t(e.flag_p),null==s.array.head&&$o(e,s.name+" has empty content"),r=s.array.head;null!=r;r=r.next)Io(e,s,r,dp)}else if(i.type==Qf){var c=i.u.con;for(t(e.flag_p),null==c.array.head&&$o(e,c.name+" has empty content"),r=c.array.head;null!=r;r=r.next)Do(e,c,r,dp)}else if(i.type==Hf){var u=i.u.code;u.op==yp||u.op==vp||u.op==xp||u.op==wp||u.op==kp?No(e,u):So(e,u)}else t(i!=i);return 0}function To(e,t){Pi(e,t.domain,t,Lo)}function zo(e,t){null==e.prt_fp?Jo(e,t):e.prt_fp(t)}function Po(e,n){t(n.length<f_);for(var r=0;r<n.length;r++)zo(e,n[r])}function Fo(e,n){var r,i,o,a,l,s=bo(e,n.fmt);for(i=null==s.str?String(s.num):s.str,r=n.list,a=0;a<i.length;a++)if("%"==i[a]){if(o=a++,"%"==i[a]){zo(e,"%");continue}if(null==r)break;for(;"-"==i[a]||"+"==i[a]||" "==i[a]||"#"==i[a]||"0"==i[a];)a++;for(;b(i[a]);)a++;if("."==i[a])for(a++;b(i[a]);)a++;if("d"==i[a]||"i"==i[a]||"e"==i[a]||"E"==i[a]||"f"==i[a]||"F"==i[a]||"g"==i[a]||"G"==i[a]){switch(t(null!=r),r.code.type){case t_:l=po(e,r.code);break;case l_:s=bo(e,r.code),null!=s.str&&ta(e,"cannot convert "+ei(e,s)+" to floating-point number"),l=s.num;break;case Xf:l=mo(e,r.code)?1:0;break;default:t(r!=r)}if("d"==i[a]||"i"==i[a]){var c=Yl;-c<=l&&l<=+c||ta(e,"cannot convert "+l+" to integer"),Po(e,g(i.slice(o,a+1),0|Math.floor(l+.5)))}else Po(e,g(i.slice(o,a+1),l))}else if("s"==i[a]){switch(r.code.type){case t_:l=String(po(e,r.code));break;case Xf:l=mo(e,r.code)?"T":"F";break;case l_:s=bo(e,r.code),l=null==s.str?String(s.num):s.str;break;default:t(r!=r)}Po(e,g(i.slice(o,a+1),l))}else ta(e,"format specifier missing or invalid");r=r.next}else"\\"==i[a]?(a++,"t"==i[a]?zo(e,"\t"):"n"==i[a]?zo(e,"\n"):"\0"==i[a]?ta(e,"invalid use of escape character \\ in format control string"):zo(e,i[a])):zo(e,i[a]);return 0}function Qo(e,t){if(null==t.fname)e.prt_file=null;else{var n=bo(e,t.fname);null==n.str?e.prt_file=n.num:e.prt_file=n.str}Pi(e,t.domain,t,Fo)}function Uo(e,t){for(var n=e.stmt,r=t.list;null!=r;r=r.next)Go(e,r);return e.stmt=n,0}function Ro(e,t){Pi(e,t.domain,t,Uo)}function Go(e,n){switch(e.stmt=n,n.type){case o_:case r_:case u_:break;case Qf:Zl("Generating "+n.u.con.name+"..."),fo(e,n.u.con);break;case s_:switch(n.u.tab.type){case Kf:Zl("Reading "+n.u.tab.name+"...");break;case n_:Zl("Writing "+n.u.tab.name+"...");break;default:t(n!=n)}Bo(e,n.u.tab);break;case a_:break;case Ff:Zl("Checking (line "+n.line+")..."),Mo(e,n.u.chk);break;case Uf:$o(e,"Display statement at line "+n.line),To(e,n.u.dpy);break;case i_:Qo(e,n.u.prt);break;case Wf:Ro(e,n.u.fur);break;default:t(n!=n)}}function Yo(e){var n;for(n=e.model;null!=n;n=n.next)switch(n.type){case o_:t(null==n.u.set.array),n.u.set.array=Mi(e,Gf,n.u.set.dim);break;case r_:switch(t(null==n.u.par.array),n.u.par.type){case t_:case Zf:case Pf:n.u.par.array=Mi(e,t_,n.u.par.dim);break;case l_:n.u.par.array=Mi(e,l_,n.u.par.dim);break;default:t(n!=n)}break;case u_:t(null==n.u.var_.array),n.u.var_.array=Mi(e,Yf,n.u.var_.dim);break;case Qf:t(null==n.u.con.array),n.u.con.array=Mi(e,Rf,n.u.con.dim);break;case s_:case a_:case Ff:case Uf:case i_:case Wf:break;default:t(n!=n)}}function Ho(e){var n;for(t(!e.flag_p),n=e.model;null!=n&&(Go(e,n),e.stmt.type!=a_);n=n.next);e.stmt=n}function Wo(e){var n,r,i,o,a,l,s;for(t(0==e.m),t(0==e.n),t(null==e.row),t(null==e.col),n=e.model;null!=n;n=n.next)if(n.type==u_)for(i=n.u.var_,r=i.array.head;null!=r;r=r.next)t(0==r.value.var_.j);for(n=e.model;null!=n;n=n.next)if(n.type==Qf)for(o=n.u.con,r=o.array.head;null!=r;r=r.next)for(t(0==r.value.con.i),r.value.con.i=++e.m,a=r.value.con.form;null!=a;a=a.next)t(null!=a.var_),a.var_.memb.value.var_.j=-1;for(n=e.model;null!=n;n=n.next)if(n.type==u_)for(i=n.u.var_,r=i.array.head;null!=r;r=r.next)0!=r.value.var_.j&&(r.value.var_.j=++e.n);for(e.row=new Array(1+e.m),l=1;l<=e.m;l++)e.row[l]=null;for(n=e.model;null!=n;n=n.next)if(n.type==Qf)for(o=n.u.con,r=o.array.head;null!=r;r=r.next)l=r.value.con.i,t(1<=l&&l<=e.m),t(null==e.row[l]),e.row[l]=r.value.con;for(l=1;l<=e.m;l++)t(null!=e.row[l]);for(e.col=new Array(1+e.n),s=1;s<=e.n;s++)e.col[s]=null;for(n=e.model;null!=n;n=n.next)if(n.type==u_)for(i=n.u.var_,r=i.array.head;null!=r;r=r.next)0!=(s=r.value.var_.j)&&(t(1<=s&&s<=e.n),t(null==e.col[s]),e.col[s]=r.value.var_);for(s=1;s<=e.n;s++)t(null!=e.col[s])}function Vo(e){var n;for(t(!e.flag_p),e.flag_p=1,n=e.stmt;null!=n;n=n.next)Go(e,n);e.stmt=null}function qo(e,n,r){e.line=0,e.column=0,e.c="\n",e.token=0,e.imlen=0,e.image="",e.value=0,e.b_token=__,e.b_imlen=0,e.b_image="",e.b_value=0,e.f_dots=0,e.f_scan=0,e.f_token=0,e.f_imlen=0,e.f_image="",e.f_value=0,o(e.context,0," ",d_),e.c_ptr=0,t(null==e.in_fp),e.in_fp=r,e.in_file=n||"input",Vt(e),Kt(e)}function Ko(e){var n;return t(null!=e.in_fp),n=e.in_fp(),n<0&&(n=zf),n}function Zo(e){t(null!=e.in_fp),e.in_fp=null}function Xo(e,n,r){t(null==e.out_fp),null==r?e.out_fp=function(e){Zl(e)}:(e.out_fp=r,e.out_file=n),e.out_buffer=""}function Jo(e,n){t(null!=e.out_fp),"\n"==n?(e.out_fp(e.out_buffer,e.prt_file),e.out_buffer=""):e.out_buffer+=n}function $o(e,n){t(null!=e.out_fp),e.out_fp(n,e.prt_file)}function ea(e){t(null!=e.out_fp),e.out_buffer.length>0&&(e.out_fp(e.out_buffer,e.prt_file),e.out_buffer="")}function ta(e,n){var r;switch(e.phase){case 1:case 2:r=new Error(e.in_file+":"+e.line+": "+n),r.line=e.line,r.column=e.column,Wt(e);break;case 3:var i=null==e.stmt?0:e.stmt.line,o=null==e.stmt?0:e.stmt.column;r=new Error(i+": "+n),r.line=i,r.column=o;break;default:t(e!=e)}throw e.phase=4,r}function na(e,n){switch(e.phase){case 1:case 2:Zl(e.in_file+":"+e.line+": warning: "+n);break;case 3:Zl(e.mod_file+":"+(null==e.stmt?0:e.stmt.line)+": warning: "+n);break;default:t(e!=e)}}function ra(e){return Math.round(Date.now()/1e3)}function ia(e,t){for(var n="";t>0;)n+=e,t--;return n}function oa(e,t,n,r,i,o){Zl("Input string passed to str2time:"),Zl(t),Zl(ia("^",n+1)),Zl("Format string passed to str2time:\n"),Zl(r),Zl(ia("^",i+1)),ta(e,o)}function aa(e,n,r){function i(){oa(e,n,b,r,h,"time zone offset value incomplete or invalid")}function o(){oa(e,n,b,r,h,"time zone offset value out of range")}function a(){n[b]!=r[h]&&oa(e,n,b,r,h,"character mismatch"),b++}var l,s,c,u,d,f,_,p,b,h;for(s=c=u=d=f=_=-1,p=Yl,b=0,h=0;h<r.length;h++)if("%"==r[h])if(h++,"b"==r[h]||"h"==r[h]){var m,g;for(c>=0&&oa(e,n,b,r,h,"month multiply specified");" "==n[b];)b++;for(c=1;c<=12;c++){g=Dh[c-1];var A=!1;for(m=0;m<=2;m++)if(b[m].toUpperCase()!=g[m].toUpperCase()){A=!0;break}if(!A){for(b+=3,m=3;"\0"!=g[m]&&n[b].toUpperCase()==g[m].toUpperCase();m++)b++;break}}c>12&&oa(e,n,b,r,h,"abbreviated month name missing or invalid")}else if("d"==r[h]){for(u>=0&&oa(e,n,b,r,h,"day multiply specified");" "==n[b];)b++;"0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"day missing or invalid"),u=n[b++]-"0","0"<=n[b]&&n[b]<="9"&&(u=10*u+(n[b++]-"0")),1<=u&&u<=31||oa(e,n,b,r,h,"day out of range")}else if("H"==r[h]){for(d>=0&&oa(e,n,b,r,h,"hour multiply specified");" "==n[b];)b++;"0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"hour missing or invalid"),d=n[b++]-"0","0"<=n[b]&&n[b]<="9"&&(d=10*d+(n[b++]-"0")),0<=d&&d<=23||oa(e,n,b,r,h,"hour out of range")}else if("m"==r[h]){for(c>=0&&oa(e,n,b,r,h,"month multiply specified");" "==n[b];)b++;"0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"month missing or invalid"),c=n[b++]-"0","0"<=n[b]&&n[b]<="9"&&(c=10*c+(n[b++]-"0")),1<=c&&c<=12||oa(e,n,b,r,h,"month out of range")}else if("M"==r[h]){for(f>=0&&oa(e,n,b,r,h,"minute multiply specified");" "==n[b];)b++;"0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"minute missing or invalid"),f=n[b++]-"0","0"<=n[b]&&n[b]<="9"&&(f=10*f+(n[b++]-"0")),0<=f&&f<=59||oa(e,n,b,r,h,"minute out of range")}else if("S"==r[h]){for(_>=0&&oa(e,n,b,r,h,"second multiply specified");" "==n[b];)b++;"0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"second missing or invalid"),_=n[b++]-"0","0"<=n[b]&&n[b]<="9"&&(_=10*_+(n[b++]-"0")),0<=_&&_<=60||oa(e,n,b,r,h,"second out of range")}else if("y"==r[h]){for(s>=0&&oa(e,n,b,r,h,"year multiply specified");" "==n[b];)b++;"0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"year missing or invalid"),s=n[b++]-"0","0"<=n[b]&&n[b]<="9"&&(s=10*s+(n[b++]-"0")),s+=s>=69?1900:2e3}else if("Y"==r[h]){for(s>=0&&oa(e,n,b,r,h,"year multiply specified");" "==n[b];)b++;for("0"<=n[b]&&n[b]<="9"||oa(e,n,b,r,h,"year missing or invalid"),s=0,l=1;l<=4&&("0"<=n[b]&&n[b]<="9");l++)s=10*s+(n[b++]-"0");1<=s&&s<=4e3||oa(e,n,b,r,h,"year out of range")}else if("z"==r[h]){var y;for(p!=Yl&&oa(e,n,b,r,h,"time zone offset multiply specified");" "==n[b];)b++;if("Z"==n[b])y=d=f=0,b++;else{for("+"==n[b]?(y=1,b++):"-"==n[b]?(y=-1,b++):oa(e,n,b,r,h,"time zone offset sign missing"),d=0,l=1;l<=2;l++)"0"<=n[b]&&n[b]<="9"||i(),d=10*d+(n[b++]-"0");if(d>23&&o(),":"==n[b]&&(b++,"0"<=n[b]&&n[b]<="9"||i()),f=0,"0"<=n[b]&&n[b]<="9"){for(l=1;l<=2;l++)"0"<=n[b]&&n[b]<="9"||i(),f=10*f+(n[b++]-"0");f>59&&o()}}p=y*(60*d+f)}else"%"==r[h]?a():oa(e,n,b,r,h,"invalid conversion specifier");else" "==r[h]||a();return s<0&&(s=1970),c<0&&(c=1),u<0&&(u=1),d<0&&(d=0),f<0&&(f=0),_<0&&(_=0),p==Yl&&(p=0),l=qe(u,c,s),t(l>=0),60*(60*(24*(l-qe(1,1,1970))+d)+f)+_-60*p}function la(e,t,n,r){Zl("Format string passed to time2str:"),Zl(t),Zl(ia("^",n)),ta(e,r)}function sa(e){return(e+qe(1,1,1970))%7+1}function ca(e){var n;switch(n=qe(1,1,e)-qe(1,1,1970),sa(n)){case 1:n+=0;break;case 2:n-=1;break;case 3:n-=2;break;case 4:n-=3;break;case 5:n+=3;break;case 6:n+=2;break;case 7:n+=1;break;default:t(n!=n)}return t(1==sa(n)),n}function ua(e,n,r){var i,o,a,l,s,c,u,d,f=0,_=0,p=0,b="";for(-62135596800<=n&&n<=64092211199||ta(e,"time2str("+n+",...); argument out of range"),n=Math.floor(n+.5),c=Math.abs(n)/86400,i=Math.floor(c),n<0&&(i=c==Math.floor(c)?-i:-(i+1)),t(0==Ke(i+qe(1,1,1970),function(e,t,n){p=e,_=t,f=n})),l=n-86400*i|0,t(0<=l&&l<86400),a=l/60,l%=60,o=a/60,a%=60,s=0,u=0;u<r.length;u++){if("%"==r[u])if(u++,"a"==r[u])d=Ih[sa(i)-1].slice(0,3);else if("A"==r[u])d=Ih[sa(i)-1];else if("b"==r[u]||"h"==r[u])d=Dh[_-1].slice(0,3);else if("B"==r[u])d=Dh[_-1];else if("C"==r[u])d=String(Math.floor(f/100));else if("d"==r[u])d=String(p);else if("D"==r[u])d=_+"/"+p+"/"+f%100;else if("e"==r[u])d=String(p);else if("F"==r[u])g(d,f+"-"+_+"-"+p);else if("g"==r[u]){var h;h=i<ca(f)?f-1:i<ca(f+1)?f:f+1,d=String(h%100)}else if("G"==r[u]){var h;h=i<ca(f)?f-1:i<ca(f+1)?f:f+1,d=String(h)}else if("H"==r[u])d=String(o);else if("I"==r[u])d=String(0==o?12:o<=12?o:o-12);else if("j"==r[u])d=String(qe(p,_,f)-qe(1,1,f)+1);else if("k"==r[u])d=String(o);else if("l"==r[u])d=String(0==o?12:o<=12?o:o-12);else if("m"==r[u])d=String(_);else if("M"==r[u])d=String(a);else if("p"==r[u])d=o<=11?"AM":"PM";else if("P"==r[u])d=o<=11?"am":"pm";else if("r"==r[u])d=(0==o?12:o<=12?o:o-12)+":"+a+":"+l+" "+(o<=11?"AM":"PM");else if("R"==r[u])d=o+":"+a;else if("S"==r[u])d=String(l);else if("T"==r[u])d=o+":"+a+":"+l;else if("u"==r[u])d=String(sa(i));else if("U"==r[u]){var m=qe(1,1,f)-qe(1,1,1970);m+=7-sa(m),d=String((i+7-m)/7)}else if("V"==r[u]){var h;h=i<ca(f)?i-ca(f-1):i<ca(f+1)?i-ca(f):i-ca(f+1),d=String(h/7+1)}else if("w"==r[u])d=String(sa(i)%7);else if("W"==r[u]){var A=qe(1,1,f)-qe(1,1,1970);A+=(8-sa(A))%7,d=String((i+7-A)/7)}else"y"==r[u]?d=String(f%100):"Y"==r[u]?d=String(f):"%"==r[u]?d="%":la(e,r,u,"invalid conversion specifier");else d=r[u];b+=d,s+=d.length}return b}function da(e,n){var r=e.dca;t(0==r.id),t(null==r.link),t(r.na>=1);var i=Nh[r.arg[1].toLowerCase()];i?r.link=new i(r,n,e.tablecb):ta(e,"Invalid table driver '"+r.arg[1]+"'"),null==r.link&&ta(e,"error on opening table "+e.stmt.u.tab.name)}function fa(e){var t=e.dca,n=t.link.readRecord(t);return n>0&&ta(e,"error on reading data from table "+e.stmt.u.tab.name),n}function _a(e){var t=e.dca;t.link.writeRecord(t)&&ta(e,"error on writing data to table "+e.stmt.u.tab.name)}function pa(e){var t=e.dca;t.link.flush(t)}function ba(e,r,i){this.mode=r,this.fname=null,this.count=0,this.c="\n",this.what=0,this.field="",this.nf=0,this.ref=[],this.tablecb=i,this.CSV_EOF=0,this.CSV_EOR=1,this.CSV_NUM=2,this.CSV_STR=3,rh(e)<2&&n("csv_driver: file name not specified\n"),this.fname=ih(e,2);var o;if("R"==r){for(i?(this.data=i(e.arg,r),this.cursor=0):n("csv_driver: unable to open "+this.fname),this.nskip=0,this.readField(),t(this.what==this.CSV_EOR),t(0==this.nf);this.readField(),this.what!=this.CSV_EOR;){for(this.what!=this.CSV_STR&&n(this.fname+":"+this.count+": invalid field name\n"),this.nf++,o=oh(e);o>=1&&ah(e,o)!=this.field;o--);this.ref[this.nf]=o}for(o=oh(e);o>=1&&"RECNO"!=ah(e,o);o--);this.ref[0]=o}else if("W"==r){this.data="";var a=oh(e);for(o=1;o<=a;o++)this.data+=ah(e,o)+(o<a?",":"\n");this.count++}else t(r!=r)}function ha(e,r,i){this.mode=r,this.fname=null,rh(e)<2&&n("json driver: file name not specified"),this.fname=ih(e,2);var o;if("R"==r){this.ref={},i?(this.data=i(e.arg,r),"string"==typeof this.data&&(this.data=JSON.parse(this.data)),this.cursor=1):n("json driver: unable to open "+this.fname);for(var a=0,l=this.data[0];a<l.length;a++)this.ref[l[a]]=a}else if("W"==r){this.tablecb=i;var s=[];this.data=[s];var c=oh(e);for(o=1;o<=c;o++)s.push(ah(e,o))}else t(r!=r)}function ma(){}function ga(){var e={};return e.orig_dir=0,e.orig_m=e.orig_n=e.orig_nnz=0,e.name=e.obj=null,e.c0=0,e.nrows=e.ncols=0,e.r_head=e.r_tail=null,e.c_head=e.c_tail=null,e.top=null,e.m=e.n=e.nnz=0,e.row_ref=e.col_ref=null,e.sol=e.scaling=0,e.p_stat=e.d_stat=e.t_stat=e.i_stat=0,e.r_stat=null,e.r_pi=null,e.c_stat=null,e.c_value=null,e}function Aa(e,t,n){0==n?(t.prev=null,t.next=e.r_head,null==t.next?e.r_tail=t:t.next.prev=t,e.r_head=t):(t.prev=e.r_tail,t.next=null,null==t.prev?e.r_head=t:t.prev.next=t,e.r_tail=t)}function ya(e,t){null==t.prev?e.r_head=t.next:t.prev.next=t.next,null==t.next?e.r_tail=t.prev:t.next.prev=t.prev}function va(e,t){t.temp||(t.temp=1,ya(e,t),Aa(e,t,0))}function xa(e,t){t.temp&&(t.temp=0,ya(e,t),Aa(e,t,1))}function wa(e,t,n){0==n?(t.prev=null,t.next=e.c_head,null==t.next?e.c_tail=t:t.next.prev=t,e.c_head=t):(t.prev=e.c_tail,t.next=null,null==t.prev?e.c_head=t:t.prev.next=t,e.c_tail=t)}function ka(e,t){null==t.prev?e.c_head=t.next:t.prev.next=t.next,null==t.next?e.c_tail=t.prev:t.next.prev=t.prev}function Ca(e,t){t.temp||(t.temp=1,ka(e,t),wa(e,t,0))}function Ba(e,t){t.temp&&(t.temp=0,ka(e,t),wa(e,t,1))}function Ea(e){var t={};return t.i=++e.nrows,t.name=null,t.lb=-Ul,t.ub=+Ul,t.ptr=null,t.temp=0,Aa(e,t,1),t}function Ma(e){var t={};return t.j=++e.ncols,t.name=null,t.is_int=0,t.lb=t.ub=t.coef=0,t.ptr=null,t.temp=0,t.ll={},t.uu={},wa(e,t,1),t}function ja(e,t,n){var r={};return r.row=e,r.col=t,r.val=n,r.r_prev=null,r.r_next=e.ptr,r.c_prev=null,r.c_next=t.ptr,null!=r.r_next&&(r.r_next.r_prev=r),null!=r.c_next&&(r.c_next.c_prev=r),e.ptr=t.ptr=r,r}function Oa(e,t){var n;return n={},n.func=t,n.info={},n.link=e.top,e.top=n,n.info}function Ia(e){for(var t;null!=e.ptr;)t=e.ptr,e.ptr=t.r_next,null==t.c_prev?t.col.ptr=t.c_next:t.c_prev.c_next=t.c_next,null!=t.c_next&&(t.c_next.c_prev=t.c_prev)}function Da(e,t){Ia(t),ya(e,t)}function Na(e,t){for(var n;null!=t.ptr;)n=t.ptr,t.ptr=n.c_next,null==n.r_prev?n.row.ptr=n.r_next:n.r_prev.r_next=n.r_next,null!=n.r_next&&(n.r_next.r_prev=n.r_prev);ka(e,t)}function Sa(e,n,r,i,o){var a,l,s,c,u=n.m,d=n.n;for(t(r==ed||r==$u),t(i==du||i==fu||i==_u),t(o==ed||o==$u),i==_u&&t(!o),e.orig_dir=n.dir,e.orig_dir==Hc?c=1:e.orig_dir==Wc?c=-1:t(e!=e),e.orig_m=u,e.orig_n=d,e.orig_nnz=n.nnz,r&&null!=n.name&&(e.name=n.name),r&&null!=n.obj&&(e.obj=n.obj),e.c0=c*n.c0,a=new Array(1+u),l=1;l<=u;l++){var f,_=n.row[l];if(a[l]=f=Ea(e),t(f.i==l),r&&null!=_.name&&(f.name=_.name),o){var p=_.rii;_.type==Zc?(f.lb=-Ul,f.ub=+Ul):_.type==Xc?(f.lb=_.lb*p,f.ub=+Ul):_.type==Jc?(f.lb=-Ul,f.ub=_.ub*p):_.type==$c?(f.lb=_.lb*p,f.ub=_.ub*p):_.type==eu?f.lb=f.ub=_.lb*p:t(_!=_)}else _.type==Zc?(f.lb=-Ul,f.ub=+Ul):_.type==Xc?(f.lb=_.lb,f.ub=+Ul):_.type==Jc?(f.lb=-Ul,f.ub=_.ub):_.type==$c?(f.lb=_.lb,f.ub=_.ub):_.type==eu?f.lb=f.ub=_.lb:t(_!=_)}for(s=1;s<=d;s++){var b,h,m=n.col[s];if(h=Ma(e),t(h.j==s),r&&null!=m.name&&(h.name=m.name),i==_u&&(h.is_int=Number(m.kind==qc)),o){var g=m.sjj;for(m.type==Zc?(h.lb=-Ul,h.ub=+Ul):m.type==Xc?(h.lb=m.lb/g,h.ub=+Ul):m.type==Jc?(h.lb=-Ul,h.ub=m.ub/g):m.type==$c?(h.lb=m.lb/g,h.ub=m.ub/g):m.type==eu?h.lb=h.ub=m.lb/g:t(m!=m),h.coef=c*m.coef*g,b=m.ptr;null!=b;b=b.c_next)ja(a[b.row.i],h,b.row.rii*b.val*g)}else for(m.type==Zc?(h.lb=-Ul,h.ub=+Ul):m.type==Xc?(h.lb=m.lb,h.ub=+Ul):m.type==Jc?(h.lb=-Ul,h.ub=m.ub):m.type==$c?(h.lb=m.lb,h.ub=m.ub):m.type==eu?h.lb=h.ub=m.lb:t(m!=m),h.coef=c*m.coef,b=m.ptr;null!=b;b=b.c_next)ja(a[b.row.i],h,b.val)}e.sol=i,e.scaling=o}function La(e,n){var r,i,o,a,l,s,c,u,d,f;for(hs(n),ts(n,e.name),ns(n,e.obj),rs(n,e.orig_dir),e.orig_dir==Hc?d=1:e.orig_dir==Wc?d=-1:t(e!=e),us(n,0,d*e.c0),r=e.r_head;null!=r;r=r.next)r.temp=a=is(n,1),as(n,a,r.name),s=r.lb==-Ul&&r.ub==+Ul?Zc:r.ub==+Ul?Xc:r.lb==-Ul?Jc:r.lb!=r.ub?$c:eu,ss(n,a,s,r.lb,r.ub);for(u=new Int32Array(1+n.m),f=new Float64Array(1+n.m),i=e.c_head;null!=i;i=i.next){for(l=os(n,1),ls(n,l,i.name),tc(n,l,i.is_int?qc:Vc),s=i.lb==-Ul&&i.ub==+Ul?Zc:i.ub==+Ul?Xc:i.lb==-Ul?Jc:i.lb!=i.ub?$c:eu,cs(n,l,s,i.lb,i.ub),us(n,l,d*i.coef),c=0,o=i.ptr;null!=o;o=o.c_next)c++,u[c]=o.row.temp,f[c]=o.val;fs(n,l,c,u,f)}for(e.m=n.m,e.n=n.n,e.nnz=n.nnz,e.row_ref=new Int32Array(1+e.m),e.col_ref=new Int32Array(1+e.n),r=e.r_head,a=0;null!=r;r=r.next)e.row_ref[++a]=r.i;for(i=e.c_head,l=0;null!=i;i=i.next)e.col_ref[++l]=i.j;e.name=e.obj=null,e.c0=0,e.r_head=e.r_tail=null,e.c_head=e.c_tail=null}function Ta(e,n){var r,i,o,a,l,s,c;if(t(e.orig_dir==n.dir),e.orig_dir==Hc?c=1:e.orig_dir==Wc?c=-1:t(e!=e),t(e.m==n.m),t(e.n==n.n),t(e.nnz==n.nnz),e.sol==du?(e.p_stat=n.pbs_stat,e.d_stat=n.dbs_stat):e.sol==fu?e.t_stat=n.ipt_stat:e.sol==_u?e.i_stat=n.mip_stat:t(e!=e),e.sol==du){for(null==e.r_stat&&(e.r_stat=new Int8Array(1+e.nrows)),a=1;a<=e.nrows;a++)e.r_stat[a]=0;for(null==e.c_stat&&(e.c_stat=new Int8Array(1+e.ncols)),l=1;l<=e.ncols;l++)e.c_stat[l]=0}for(null==e.c_value&&(e.c_value=new Float64Array(1+e.ncols)),l=1;l<=e.ncols;l++)e.c_value[l]=Ul;if(e.sol!=_u)for(null==e.r_pi&&(e.r_pi=new Float64Array(1+e.nrows)),a=1;a<=e.nrows;a++)e.r_pi[a]=Ul;if(e.sol==du){for(a=1;a<=e.m;a++)r=n.row[a],s=e.row_ref[a],e.r_stat[s]=r.stat,e.r_pi[s]=c*r.dual;for(l=1;l<=e.n;l++)i=n.col[l],s=e.col_ref[l],e.c_stat[s]=i.stat,e.c_value[s]=i.prim}else if(e.sol==fu){for(a=1;a<=e.m;a++)r=n.row[a],s=e.row_ref[a],e.r_pi[s]=c*r.dval;for(l=1;l<=e.n;l++)i=n.col[l],s=e.col_ref[l],e.c_value[s]=i.pval}else if(e.sol==_u)for(l=1;l<=e.n;l++)i=n.col[l],s=e.col_ref[l],e.c_value[s]=i.mipx;else t(e!=e);for(o=e.top;null!=o;o=o.link)t(null!=o.func),t(0==o.func(e,o.info))}function za(e,n){var r,i,o,a,l,s,c;if(t(e.orig_dir==n.dir),e.orig_dir==Hc?l=1:e.orig_dir==Wc?l=-1:t(e!=e),t(e.orig_m==n.m),t(e.orig_n==n.n),t(e.orig_nnz==n.nnz),e.sol==du){for(n.valid=0,n.pbs_stat=e.p_stat,n.dbs_stat=e.d_stat,n.obj_val=n.c0,n.some=0,o=1;o<=n.m;o++)r=n.row[o],r.stat=e.r_stat[o],e.scaling?r.dual=l*e.r_pi[o]*r.rii:r.dual=l*e.r_pi[o],r.stat==tu?r.dual=0:r.stat==nu?(t(r.type==Xc||r.type==$c),r.prim=r.lb):r.stat==ru?(t(r.type==Jc||r.type==$c),r.prim=r.ub):r.stat==iu?(t(r.type==Zc),r.prim=0):r.stat==ou?(t(r.type==eu),r.prim=r.lb):t(r!=r);for(a=1;a<=n.n;a++)i=n.col[a],i.stat=e.c_stat[a],e.scaling?i.prim=e.c_value[a]*i.sjj:i.prim=e.c_value[a],i.stat==tu?i.dual=0:i.stat==nu?(t(i.type==Xc||i.type==$c),i.prim=i.lb):i.stat==ru?(t(i.type==Jc||i.type==$c),i.prim=i.ub):i.stat==iu?(t(i.type==Zc),i.prim=0):i.stat==ou?(t(i.type==eu),i.prim=i.lb):t(i!=i),n.obj_val+=i.coef*i.prim;for(o=1;o<=n.m;o++)if(r=n.row[o],r.stat==tu){for(c=0,s=r.ptr;null!=s;s=s.r_next)c+=s.val*s.col.prim;r.prim=c}for(a=1;a<=n.n;a++)if(i=n.col[a],i.stat!=tu){for(c=i.coef,s=i.ptr;null!=s;s=s.c_next)c-=s.val*s.row.dual;i.dual=c}}else if(e.sol==fu){for(n.ipt_stat=e.t_stat,n.ipt_obj=n.c0,o=1;o<=n.m;o++)r=n.row[o],e.scaling?r.dval=l*e.r_pi[o]*r.rii:r.dval=l*e.r_pi[o];for(a=1;a<=n.n;a++)i=n.col[a],e.scaling?i.pval=e.c_value[a]*i.sjj:i.pval=e.c_value[a],n.ipt_obj+=i.coef*i.pval;for(o=1;o<=n.m;o++){for(r=n.row[o],c=0,s=r.ptr;null!=s;s=s.r_next)c+=s.val*s.col.pval;r.pval=c}for(a=1;a<=n.n;a++){for(i=n.col[a],c=i.coef,s=i.ptr;null!=s;s=s.c_next)c-=s.val*s.row.dval;i.dval=c}}else if(e.sol==_u){for(t(!e.scaling),n.mip_stat=e.i_stat,n.mip_obj=n.c0,a=1;a<=n.n;a++)i=n.col[a],i.mipx=e.c_value[a],i.kind==qc&&t(i.mipx==Math.floor(i.mipx)),n.mip_obj+=i.coef*i.mipx;for(o=1;o<=n.m;o++){for(r=n.row[o],c=0,s=r.ptr;null!=s;s=s.r_next)c+=s.val*s.col.mipx;r.mipx=c}}else t(e!=e)}function Pa(e,n){var r;t(n.lb==-Ul&&n.ub==+Ul),r=Oa(e,function(e,t){return e.sol==du&&(e.r_stat[t.p]=tu),e.sol!=_u&&(e.r_pi[t.p]=0),0}),r.p=n.i,Da(e,n)}function Fa(e,n){var r,i,o;for(t(0!=n.lb),t(n.lb!=-Ul),t(n.lb<n.ub),r=Oa(e,function(e,t){if(e.sol==du){if(e.c_stat[t.q]!=tu&&e.c_stat[t.q]!=nu&&e.c_stat[t.q]!=ru)return ma(),1;e.c_stat[t.q]=e.c_stat[t.q]}return e.c_value[t.q]=t.bnd+e.c_value[t.q],0}),r.q=n.j,r.bnd=n.lb,e.c0+=n.coef*n.lb,o=n.ptr;null!=o;o=o.c_next)i=o.row,i.lb==i.ub?i.ub=i.lb-=o.val*n.lb:(i.lb!=-Ul&&(i.lb-=o.val*n.lb),i.ub!=+Ul&&(i.ub-=o.val*n.lb));n.ub!=+Ul&&(n.ub-=n.lb),n.lb=0}function Qa(e,n){var r,i,o;for(t(n.lb==n.ub),r=Oa(e,function(e,t){return e.sol==du&&(e.c_stat[t.q]=ou),e.c_value[t.q]=t.s,0}),r.q=n.j,r.s=n.lb,e.c0+=n.coef*n.lb,o=n.ptr;null!=o;o=o.c_next)i=o.row,i.lb==i.ub?i.ub=i.lb-=o.val*n.lb:(i.lb!=-Ul&&(i.lb-=o.val*n.lb),i.ub!=+Ul&&(i.ub-=o.val*n.lb));Na(e,n)}function Ua(e,n){var r,i,o,a;return t(n.lb!=-Ul),t(n.ub!=+Ul),t(n.lb<n.ub),o=1e-9+1e-12*Math.abs(n.lb),n.ub-n.lb>o?0:(r=Oa(e,function(e,t){if(e.sol==du)if(e.r_stat[t.p]==tu)e.r_stat[t.p]=tu;else{if(e.r_stat[t.p]!=ou)return ma(),1;e.r_pi[t.p]>=0?e.r_stat[t.p]=nu:e.r_stat[t.p]=ru}return 0}),r.p=n.i,i=.5*(n.ub+n.lb),a=Math.floor(i+.5),Math.abs(i-a)<=o&&(i=a),n.lb=n.ub=i,1)}function Ra(e,n){var r,i,o,a,l,s;if(t(n.lb!=-Ul),t(n.ub!=+Ul),t(n.lb<n.ub),l=1e-9+1e-12*Math.abs(n.lb),n.ub-n.lb>l)return 0;if(r=Oa(e,function(e,t){var n,r;if(e.sol==du)if(e.c_stat[t.q]==tu)e.c_stat[t.q]=tu;else{if(e.c_stat[t.q]!=ou)return ma(),1;for(r=t.c,n=t.ptr;null!=n;n=n.next)r-=n.val*e.r_pi[n.ref];e.c_stat[t.q]=r>=0?nu:ru}return 0}),r.q=n.j,r.c=n.coef,r.ptr=null,e.sol==du)for(i=n.ptr;null!=i;i=i.c_next)o={},o.ref=i.row.i,o.val=i.val,o.next=r.ptr,r.ptr=o;return a=.5*(n.ub+n.lb),s=Math.floor(a+.5),Math.abs(a-s)<=l&&(a=s),n.lb=n.ub=a,1}function Ga(e,n){return t(null==n.ptr),n.lb>.001||n.ub<-.001?1:(n.lb=-Ul,n.ub=+Ul,Pa(e,n),0)}function Ya(e,n){function r(){o.stat=nu,n.ub=n.lb}function i(){o.stat=ru,n.lb=n.ub}var o;return t(null==n.ptr),n.coef>.001&&n.lb==-Ul?1:n.coef<-.001&&n.ub==+Ul?1:(o=Oa(e,function(e,t){return e.sol==du&&(e.c_stat[t.q]=t.stat),0}),o.q=n.j,n.lb==-Ul&&n.ub==+Ul?(o.stat=iu,n.lb=n.ub=0):n.ub==+Ul?r():n.lb==-Ul?i():n.lb!=n.ub?n.coef>=+Hl?r():n.coef<=-Hl?i():Math.abs(n.lb)<=Math.abs(n.ub)?r():i():o.stat=ou,Qa(e,n),0)}function Ha(e,n,r){var i,o;if(t(e==e),t(n.lb<n.ub),n.is_int){if(o=Math.floor(r+.5),!(Math.abs(r-o)<=1e-5))return 2;r=o}if(n.lb!=-Ul){if(i=n.is_int?1e-5:1e-5+1e-8*Math.abs(n.lb),r<n.lb-i)return 1;if(r<n.lb+.001*i)return n.ub=n.lb,0}if(n.ub!=+Ul){if(i=n.is_int?1e-5:1e-5+1e-8*Math.abs(n.ub),r>n.ub+i)return 1;if(r>n.ub-.001*i)return n.lb=n.ub,0}return n.lb=n.ub=r,0}function Wa(e,n){var r,i,o,a,l,s;if(t(n.lb==n.ub),t(null!=n.ptr&&null==n.ptr.r_next),o=n.ptr,i=o.col,s=n.lb/o.val,l=Ha(e,i,s),t(0<=l&&l<=2),0!=l)return l;if(r=Oa(e,function(e,t){var n,r;if(e.sol==du){if(e.c_stat[t.q]!=ou)return ma(),1;e.r_stat[t.p]=ou,e.c_stat[t.q]=tu}if(e.sol!=_u){for(r=t.c,n=t.ptr;null!=n;n=n.next)r-=n.val*e.r_pi[n.ref];e.r_pi[t.p]=r/t.apq}return 0}),r.p=n.i,r.q=i.j,r.apq=o.val,r.c=i.coef,r.ptr=null,e.sol!=_u)for(o=i.ptr;null!=o;o=o.c_next)o.row!=n&&(a={},a.ref=o.row.i,a.val=o.val,a.next=r.ptr,r.ptr=a);return Da(e,n),0}function Va(e,n,r){var i,o,a;if(t(e==e),t(n.lb<n.ub),t(r!=-Ul),n.is_int&&(a=Math.floor(r+.5),r=Math.abs(r-a)<=1e-5?a:Math.ceil(r)),n.lb!=-Ul&&(o=n.is_int?.001:.001+1e-6*Math.abs(n.lb),r<n.lb+o))return i=0;if(n.ub!=+Ul){if(o=n.is_int?1e-5:1e-5+1e-8*Math.abs(n.ub),r>n.ub+o)return i=4;if(r>n.ub-.001*o)return n.lb=n.ub,i=3}return i=n.lb==-Ul?2:n.is_int&&r>n.lb+.5?2:r>n.lb+.3*(1+Math.abs(n.lb))?2:1,n.lb=r,i}function qa(e,n,r){var i,o,a;if(t(e==e),t(n.lb<n.ub),t(r!=+Ul),n.is_int&&(a=Math.floor(r+.5),r=Math.abs(r-a)<=1e-5?a:Math.floor(r)),n.ub!=+Ul&&(o=n.is_int?.001:.001+1e-6*Math.abs(n.ub),r>n.ub-o))return i=0;if(n.lb!=-Ul){if(o=n.is_int?1e-5:1e-5+1e-8*Math.abs(n.lb),r<n.lb-o)return i=4;if(r<n.lb+.001*o)return n.ub=n.lb,i=3}return i=n.ub==+Ul?2:n.is_int&&r<n.ub-.5?2:r<n.ub-.3*(1+Math.abs(n.ub))?2:1,n.ub=r,i}function Ka(e,n){var r,i,o,a,l,s,c,u,d;if(t(n.lb!=-Ul||n.ub!=+Ul),t(n.lb<n.ub),t(null!=n.ptr&&null==n.ptr.r_next),o=n.ptr,i=o.col,t(i.lb<i.ub),o.val>0?(u=n.lb==-Ul?-Ul:n.lb/o.val,d=n.ub==+Ul?+Ul:n.ub/o.val):(u=n.ub==+Ul?-Ul:n.ub/o.val,d=n.lb==-Ul?+Ul:n.lb/o.val),u==-Ul)s=0;else if(s=Va(e,i,u),t(0<=s&&s<=4),4==s)return 4;if(d==+Ul)c=0;else if(3==s)c=0;else if(c=qa(e,i,d),t(0<=c&&c<=4),4==c)return 4;if(!s&&!c)return n.lb=-Ul,n.ub=+Ul,Pa(e,n),0;if(r=Oa(e,function(e,t){function n(){return t.lb_changed?(e.r_stat[t.p]=t.apq>0?nu:ru,e.c_stat[t.q]=tu,e.r_pi[t.p]=o/t.apq):(e.r_stat[t.p]=tu,e.r_pi[t.p]=0),0}function r(){return t.ub_changed?(e.r_stat[t.p]=t.apq>0?ru:nu,e.c_stat[t.q]=tu,e.r_pi[t.p]=o/t.apq):(e.r_stat[t.p]=tu,e.r_pi[t.p]=0),0}var i,o;if(e.sol==_u)return 0;for(o=t.c,i=t.ptr;null!=i;i=i.next)o-=i.val*e.r_pi[i.ref];if(e.sol==du)if(e.c_stat[t.q]==tu)e.r_stat[t.p]=tu,e.r_pi[t.p]=0;else if(e.c_stat[t.q]==nu)n();else if(e.c_stat[t.q]==ru)r();else{if(e.c_stat[t.q]!=ou)return ma(),1;if(o>1e-7&&(t.apq>0&&t.lb!=-Ul||t.apq<0&&t.ub!=+Ul||!t.lb_changed))return e.c_stat[t.q]=nu,n();if(o<-1e-7&&(t.apq>0&&t.ub!=+Ul||t.apq<0&&t.lb!=-Ul||!t.ub_changed))return e.c_stat[t.q]=ru,r();if(t.lb!=-Ul&&t.ub==+Ul)e.r_stat[t.p]=nu;else if(t.lb==-Ul&&t.ub!=+Ul)e.r_stat[t.p]=ru;else{if(t.lb==-Ul||t.ub==+Ul)return ma(),1;t.apq*e.c_value[t.q]<=.5*(t.lb+t.ub)?e.r_stat[t.p]=nu:e.r_stat[t.p]=ru}e.c_stat[t.q]=tu,e.r_pi[t.p]=o/t.apq}return e.sol==fu&&(o>+Hl&&t.lb_changed||o<-Hl&&t.ub_changed?e.r_pi[t.p]=o/t.apq:e.r_pi[t.p]=0),0}),r.p=n.i,r.q=i.j,r.apq=o.val,r.c=i.coef,r.lb=n.lb,r.ub=n.ub,r.lb_changed=s,r.ub_changed=c,r.ptr=null,e.sol!=_u)for(a=i.ptr;null!=a;a=a.c_next)a!=o&&(l={},l.ref=a.row.i,l.val=a.val,l.next=r.ptr,r.ptr=l);return Da(e,n),s>=c?s:c}function Za(e,n){var r,i,o,a;for(t(!n.is_int),t(n.lb<n.ub),t(null!=n.ptr&&null==n.ptr.c_next),o=n.ptr,i=o.row,t(i.lb==i.ub),r=Oa(e,function(e,t){var n,r;if(e.sol==du){if(e.r_stat[t.p]==tu||e.r_stat[t.p]==iu)e.c_stat[t.q]=e.r_stat[t.p];else if(e.r_stat[t.p]==nu)e.c_stat[t.q]=t.apq>0?ru:nu;else{if(e.r_stat[t.p]!=ru)return ma(),1;e.c_stat[t.q]=t.apq>0?nu:ru}e.r_stat[t.p]=ou}for(e.sol!=_u&&(e.r_pi[t.p]+=t.c/t.apq),n=t.b,r=t.ptr;null!=r;r=r.next)n-=r.val*e.c_value[r.ref];return e.c_value[t.q]=n/t.apq,0}),r.p=i.i,r.q=n.j,r.apq=o.val,r.b=i.lb,r.c=n.coef,r.ptr=null,o=i.ptr;null!=o;o=o.r_next)o.col!=n&&(a={},a.ref=o.col.j,a.val=o.val,a.next=r.ptr,r.ptr=a,o.col.coef-=r.c*(o.val/r.apq));e.c0+=r.c*(r.b/r.apq),r.apq>0?(i.lb=n.ub==+Ul?-Ul:r.b-r.apq*n.ub,i.ub=n.lb==-Ul?+Ul:r.b-r.apq*n.lb):(i.lb=n.lb==-Ul?-Ul:r.b-r.apq*n.lb,i.ub=n.ub==+Ul?+Ul:r.b-r.apq*n.ub),Na(e,n)}function Xa(e,n){function r(){o.stat=nu,a.ub=a.lb}function i(){o.stat=ru,a.lb=a.ub}var o,a,l,s,c,u,d,f,_,p;if(t(n.lb<n.ub),t(null!=n.ptr&&null==n.ptr.c_next),l=n.ptr,a=l.row,t(a.lb!=-Ul||a.ub!=+Ul),t(a.lb<a.ub),(c=a.lb)!=-Ul)for(s=a.ptr;null!=s;s=s.r_next)if(s!=l)if(s.val>0){if(s.col.ub==+Ul){c=-Ul;break}c-=s.val*s.col.ub}else{if(s.col.lb==-Ul){c=-Ul;break}c-=s.val*s.col.lb}if((u=a.ub)!=+Ul)for(s=a.ptr;null!=s;s=s.r_next)if(s!=l)if(s.val>0){if(s.col.lb==-Ul){u=+Ul;break}u-=s.val*s.col.lb}else{if(s.col.ub==+Ul){u=+Ul;break}u-=s.val*s.col.ub}if(d=l.val>0?c==-Ul?-Ul:c/l.val:u==+Ul?-Ul:u/l.val,f=l.val>0?u==+Ul?+Ul:u/l.val:c==-Ul?+Ul:c/l.val,n.lb!=-Ul&&(p=1e-9+1e-12*Math.abs(n.lb),d<n.lb-p))return 1;if(n.ub!=+Ul&&(p=1e-9+1e-12*Math.abs(n.ub),f>n.ub+p))return 1;if(n.lb=-Ul,n.ub=+Ul,o=Oa(e,function(e,n){if(e.sol==du)if(e.r_stat[n.p]==tu)e.r_stat[n.p]=tu;else{if(e.r_stat[n.p]!=ou)return ma(),1;t(n.stat==nu||n.stat==ru),e.r_stat[n.p]=n.stat}return 0}),o.p=a.i,o.stat=-1,(_=n.coef/l.val)>+Hl)if(a.lb!=-Ul)r();else{if(_>1e-5)return 2;t(a.ub!=+Ul),i()}else if(_<-Hl)if(a.ub!=+Ul)i();else{if(_<-1e-5)return 2;t(a.lb!=-Ul),r()}else a.ub==+Ul?(t(a.lb!=-Ul),r()):a.lb==-Ul?(t(a.ub!=+Ul),i()):Math.abs(a.lb)<=Math.abs(a.ub)?r():i();return 0}function Ja(e,n,r){var i,o,a,l,s,c,u=null;for(t(0==r||1==r),c=1,a=n.ptr;null!=a;a=a.r_next)c<Math.abs(a.val)&&(c=Math.abs(a.val));for(a=n.ptr;null!=a;a=a.r_next)if(Math.abs(a.val)<1e-7*c)return 1;for(i=Oa(e,function(e,t){var n,r,i,o,a,l;if(e.sol==_u)return 0;if(e.sol==du){if(e.r_stat[t.p]!=tu)return ma(),1;for(n=t.ptr;null!=n;n=n.next){if(e.c_stat[n.j]!=ou)return ma(),1;e.c_stat[n.j]=n.stat}}for(n=t.ptr;null!=n;n=n.next){for(o=n.c,i=n.ptr;null!=i;i=i.next)o-=i.val*e.r_pi[i.ref];n.c=o}for(r=null,a=0,n=t.ptr;null!=n;n=n.next)if(o=n.c,l=Math.abs(o/n.a),n.stat==nu)o<0&&a<l&&(r=n,a=l);else{if(n.stat!=ru)return ma(),1;o>0&&a<l&&(r=n,a=l)}return null!=r&&(e.sol==du&&(e.r_stat[t.p]=t.stat,e.c_stat[r.j]=tu),e.r_pi[t.p]=r.c/r.a),0}),i.p=n.i,n.lb==n.ub?i.stat=ou:0==r?(i.stat=nu,t(n.lb!=-Ul)):(i.stat=ru,t(n.ub!=+Ul)),i.ptr=null,a=n.ptr;null!=a;a=a.r_next)if(o=a.col,t(o.lb<o.ub),e.sol!=_u&&(u={},u.j=o.j,u.stat=-1,u.a=a.val,u.c=o.coef,u.ptr=null,u.next=i.ptr,i.ptr=u),0==r&&a.val<0||0!=r&&a.val>0?(e.sol!=_u&&(u.stat=nu),t(o.lb!=-Ul),o.ub=o.lb):(e.sol!=_u&&(u.stat=ru),t(o.ub!=+Ul),o.lb=o.ub),e.sol!=_u)for(l=o.ptr;null!=l;l=l.c_next)l!=a&&(s={},s.ref=l.row.i,s.val=l.val,s.next=u.ptr,u.ptr=s);return n.lb=-Ul,n.ub=+Ul,0}function $a(e,n){var r,i,o,a,l=0;for(t(e==e),i=0,r=n.ptr;null!=r;r=r.r_next)if(r.val>0){if(r.col.lb==-Ul){i=-Ul;break}i+=r.val*r.col.lb}else{if(r.col.ub==+Ul){i=-Ul;break}i+=r.val*r.col.ub}for(o=0,r=n.ptr;null!=r;r=r.r_next)if(r.val>0){if(r.col.ub==+Ul){o=+Ul;break}o+=r.val*r.col.ub}else{if(r.col.lb==-Ul){o=+Ul;break}o+=r.val*r.col.lb}return n.lb!=-Ul&&(a=.001+1e-6*Math.abs(n.lb),n.lb-a>o)?l=51:n.ub!=+Ul&&(a=.001+1e-6*Math.abs(n.ub),n.ub+a<i)?l=51:(n.lb!=-Ul&&(a=1e-9+1e-12*Math.abs(n.lb),n.lb-a>i&&(n.lb+a<=o?l|=1:l|=2)),n.ub!=+Ul&&(a=1e-9+1e-12*Math.abs(n.ub),n.ub+a<o&&(n.ub-a>=i?l|=16:l|=32)),l)}function el(e,n,r){var i;e.sol==du&&(i=Oa(e,function(e,t){return e.sol!=du?(ma(),1):(e.r_stat[t.p]==tu?e.r_stat[t.p]=tu:e.r_stat[t.p]=t.stat,0)}),i.p=n.i,n.ub==+Ul?i.stat=nu:n.lb==-Ul?i.stat=ru:n.lb!=n.ub?i.stat=0==r?ru:nu:i.stat=ou),0==r?(t(n.lb!=-Ul),n.lb=-Ul):1==r?(t(n.ub!=+Ul),n.ub=+Ul):t(r!=r)}function tl(e,n){var r,i,o,a,l,s=!1;for(t(e==e),o=1,r=n.ptr;null!=r;r=r.r_next)r.col.ll.ll=-Ul,r.col.uu.uu=+Ul,o<Math.abs(r.val)&&(o=Math.abs(r.val));if(a=1e-6*o,n.lb!=-Ul){for(i=null,r=n.ptr;null!=r;r=r.r_next)if(r.val>0&&r.col.ub==+Ul||r.val<0&&r.col.lb==-Ul){if(null!=i){s=!0;break}i=r}if(!s){for(l=n.lb,r=n.ptr;null!=r;r=r.r_next)r==i||(r.val>0?l-=r.val*r.col.ub:l-=r.val*r.col.lb);if(null==i)for(r=n.ptr;null!=r;r=r.r_next)r.val>=+a?r.col.ll.ll=r.col.ub+l/r.val:r.val<=-a&&(r.col.uu.uu=r.col.lb+l/r.val);else i.val>=+a?i.col.ll.ll=l/i.val:i.val<=-a&&(i.col.uu.uu=l/i.val)}}if(s=!1,n.ub!=+Ul){for(i=null,r=n.ptr;null!=r;r=r.r_next)if(r.val>0&&r.col.lb==-Ul||r.val<0&&r.col.ub==+Ul){if(null!=i){s=!0;break}i=r}if(!s){for(l=n.ub,r=n.ptr;null!=r;r=r.r_next)r==i||(r.val>0?l-=r.val*r.col.lb:l-=r.val*r.col.ub);if(null==i)for(r=n.ptr;null!=r;r=r.r_next)r.val>=+a?r.col.uu.uu=r.col.lb+l/r.val:r.val<=-a&&(r.col.ll.ll=r.col.ub+l/r.val);else i.val>=+a?i.col.uu.uu=l/i.val:i.val<=-a&&(i.col.ll.ll=l/i.val)}}}function nl(e){var n,r,i,o,a,l,s,c,u,d,f,_,p;for(d=f=_=p=0,i=e.c_tail;null!=i;i=i.prev)if(i.is_int&&i.lb!=i.ub&&(0!=i.lb||1!=i.ub))if(i.lb<-1e6||i.ub>1e6||i.ub-i.lb>4095)d++;else if(f++,0!=i.lb&&Fa(e,i),t(0==i.lb),l=0|i.ub,t(i.ub==l),1!=l){for(s=2,u=4;l>=u;)s++,u+=u;for(_+=s,n=Oa(e,function(e,t){var n,r,i=e.c_value[t.q];for(n=1,r=2;n<t.n;n++,r+=r)i+=r*e.c_value[t.j+(n-1)];return e.c_value[t.q]=i,0}),n.q=i.j,n.j=0,n.n=s,l<u-1?(r=Ea(e),p++,r.lb=-Ul,r.ub=l):r=null,i.ub=1,null!=r&&ja(r,i,1),c=1,u=2;c<s;c++,u+=u)for(o=Ma(e),o.is_int=1,o.lb=0,o.ub=1,o.coef=u*i.coef,0==n.j?n.j=o.j:t(n.j+(c-1)==o.j),a=i.ptr;null!=a;a=a.c_next)ja(a.row,o,u*a.val)}return f>0&&Zl(f+" integer variable(s) were replaced by "+_+" binary ones"),p>0&&Zl(p+" row(s) were added due to binarization"),d>0&&Zl("Binarization failed for "+d+" integer variable(s)"),d}function rl(e,t){var n,r,i;for(r=null,n=e.ptr;null!=n;n=n.r_next)i={},i.aj=t*n.val,i.xj=n.col,i.next=r,r=i;return r}function il(e,n,r,i){var o,a,l,s,c;for(t(e==e),o=n;null!=o;o=o.next)t(0!=o.aj),t(o.xj.is_int),t(0==o.xj.lb&&1==o.xj.ub);for(s=0,o=n;null!=o;o=o.next)if(1==o.aj);else{if(-1!=o.aj)break;s++}if(null==o&&r==1-s)return 1;for(o=n;null!=o;o=o.next)o.aj<0&&(r-=o.aj);for(o=n;null!=o;o=o.next)if(Math.abs(o.aj)>r)return 0;for(a=null,o=n;null!=o;o=o.next)(null==a||Math.abs(a.aj)>Math.abs(o.aj))&&(a=o);for(t(null!=a),l=null,o=n;null!=o;o=o.next)o!=a&&(null==l||Math.abs(l.aj)>Math.abs(o.aj))&&(l=o);if(t(null!=l),c=.001+1e-6*Math.abs(r),Math.abs(a.aj)+Math.abs(l.aj)<=r+c)return 0;for(r=1,o=n;null!=o;o=o.next)o.aj>0?o.aj=1:(o.aj=-1,r-=1);return i(r),2}function ol(e,n){var r,i,o,a,l,s,c,u=0;for(t(n.lb<n.ub),l=0;l<=1;l++){if(0==l){if(n.ub==+Ul)continue;o=rl(n,1),c=+n.ub}else{if(n.lb==-Ul)continue;o=rl(n,-1),c=-n.lb}if(s=il(e,o,c,function(e){c=e}),t(0<=s&&s<=2),1==l&&1==s||2==s){if(u++,Ql){for(Zl("Original constraint:"),i=n.ptr;null!=i;i=i.r_next)Zl(" "+i.val+" x"+i.col.j);for(n.lb!=-Ul&&Zl(", >= "+n.lb),n.ub!=+Ul&&Zl(", <= "+n.ub),Zl(""),Zl("Equivalent packing inequality:"),a=o;null!=a;a=a.next)Zl(" "+(a.aj>0?"+":"-")+"x"+a.xj.j);Zl(", <= "+c)}if(n.lb==-Ul||n.ub==+Ul)r=null;else for(r=Ea(e),0==l?(r.lb=n.lb,r.ub=+Ul):(r.lb=-Ul,r.ub=n.ub),i=n.ptr;null!=i;i=i.r_next)ja(r,i.col,i.val);for(Ia(n),n.lb=-Ul,n.ub=c,a=o;null!=a;a=a.next)ja(n,a.xj,a.aj);null!=r&&(n=r)}}return u}function al(e,n,r,i){var o,a,l;for(t(e==e),o=n;null!=o;o=o.next)t(0!=o.aj),t(o.xj.is_int),t(0==o.xj.lb&&1==o.xj.ub);for(a=0,o=n;null!=o;o=o.next)if(1==o.aj);else{if(-1!=o.aj)break;a++}if(null==o&&r==1-a)return 1;for(o=n;null!=o;o=o.next)o.aj<0&&(r-=o.aj);if(r<.001)return 0;for(l=1e-9+1e-12*Math.abs(r),o=n;null!=o;o=o.next)if(Math.abs(o.aj)<r-l)return 0;for(r=1,o=n;null!=o;o=o.next)o.aj>0?o.aj=1:(o.aj=-1,r-=1);return i(r),2}function ll(e,n){var r,i,o,a,l,s,c,u=0;for(t(n.lb<n.ub),l=0;l<=1;l++){if(0==l){if(n.lb==-Ul)continue;o=rl(n,1),c=+n.lb}else{if(n.ub==+Ul)continue;o=rl(n,-1),c=-n.ub}if(s=al(e,o,c,function(e){c=e}),t(0<=s&&s<=2),1==l&&1==s||2==s){if(u++,Ql){for(Zl("Original constraint:"),i=n.ptr;null!=i;i=i.r_next)Zl(" "+i.val+" x"+i.col.j);for(n.lb!=-Ul&&Zl(", >= "+n.lb),n.ub!=+Ul&&Zl(", <= "+n.ub),Zl(""),Zl("Equivalent covering inequality:"),a=o;null!=a;a=a.next)Zl(" "+(a.aj>0?"+":"-")+"x"+a.xj.j);Zl(", >= "+c)}if(n.lb==-Ul||n.ub==+Ul)r=null;else for(r=Ea(e),0==l?(r.lb=-Ul,r.ub=n.ub):(r.lb=n.lb,r.ub=+Ul),i=n.ptr;null!=i;i=i.r_next)ja(r,i.col,i.val);for(Ia(n),n.lb=c,n.ub=+Ul,a=o;null!=a;a=a.next)ja(n,a.xj,a.aj);null!=r&&(n=r)}}return u}function sl(e,n,r,i){var o,a,l,s,c=0;for(t(e==e),a=0,o=n;null!=o;o=o.next)if(o.aj>0){if(o.xj.lb==-Ul)return c;a+=o.aj*o.xj.lb}else{if(o.xj.ub==+Ul)return c;a+=o.aj*o.xj.ub}for(o=n;null!=o;o=o.next)o.xj.is_int&&0==o.xj.lb&&1==o.xj.ub&&(o.aj>0?(l=a,r-o.aj<l&&l<r&&(s=r-l)>=.001&&o.aj-s>=.01*(1+o.aj)&&(Ql&&Zl("+"),o.aj=s,c++)):(l=a-o.aj,r<l&&l<r-o.aj&&(s=o.aj+(l-r))<=-.001&&s-o.aj>=.01*(1-o.aj)&&(Ql&&Zl("-"),o.aj=s,a+=l-r,r=l,c++)));return i(r),c}function cl(e,n){var r,i,o,a,l,s,c=new Array(2);for(t(n.lb<n.ub),c[0]=c[1]=0,l=0;l<=1;l++){if(0==l){if(n.lb==-Ul)continue;Ql&&Zl("L"),o=rl(n,1),s=+n.lb}else{if(n.ub==+Ul)continue;Ql&&Zl("U"),o=rl(n,-1),s=-n.ub}if(c[l]=sl(e,o,s,function(e){s=e}),c[l]>0){if(n.lb==-Ul||n.ub==+Ul)r=null;else for(Ql&&Zl("*"),r=Ea(e),0==l?(r.lb=-Ul,r.ub=n.ub):(r.lb=n.lb,r.ub=+Ul),i=n.ptr;null!=i;i=i.r_next)ja(r,i.col,i.val);for(Ia(n),n.lb=s,n.ub=+Ul,a=o;null!=a;a=a.next)ja(n,a.xj,a.aj);null!=r&&(n=r)}}return c[0]+c[1]}function ul(e){var n,r,i,o,a;for(t(e==e),n=e.r_head;null!=n;n=r)r=n.next,n.lb==-Ul&&n.ub==+Ul&&(Ql&&Zl("1"),Pa(e,n));for(n=e.r_head;null!=n;n=r)r=n.next,n.lb!=-Ul&&n.ub!=+Ul&&n.lb<n.ub&&(0==(a=Ua(e,n))||(1==a?Ql&&Zl("2"):t(a!=a)));for(i=e.c_head;null!=i;i=o)o=i.next,i.lb==i.ub&&(Ql&&Zl("3"),Qa(e,i));for(i=e.c_head;null!=i;i=o)o=i.next,i.lb!=-Ul&&i.ub!=+Ul&&i.lb<i.ub&&(0==(a=Ra(e,i))||1==a&&(Ql&&Zl("4"),Qa(e,i)))}function dl(e,n,r){function i(){for(a=n.ptr;null!=a;a=l){for(Ql&&Zl("H"),o=a.col,l=a.r_next,s=o.ptr;null!=s;s=s.c_next)va(e,s.row);Qa(e,o)}return Pa(e,n),0}var o,a,l,s,c;if(t(!(n.lb==-Ul&&n.ub==+Ul)),null==n.ptr){if(0==(c=Ga(e,n)))return Ql&&Zl("A"),0;if(1==c)return yd;t(c!=c)}if(null==n.ptr.r_next)if(o=n.ptr.col,n.lb==n.ub){if(0==(c=Wa(e,n))){for(Ql&&Zl("B"),a=o.ptr;null!=a;a=a.c_next)va(e,a.row);return Qa(e,o),0}if(1==c||2==c)return yd;t(c!=c)}else{if(0<=(c=Ka(e,n))&&c<=3){if(Ql&&Zl("C"),Ca(e,o),c>=2)for(a=o.ptr;null!=a;a=a.c_next)va(e,a.row);return 3==c&&(Ql&&Zl("D"),Qa(e,o)),0}if(4==c)return yd;t(c!=c)}if(c=$a(e,n),t(0<=c&&c<=255),51==c)return yd;if(0==(15&c))n.lb!=-Ul&&(Ql&&Zl("F"),el(e,n,0));else if(1==(15&c));else if(2==(15&c)){if(Ql&&Zl("G"),0==Ja(e,n,0))return i()}else t(c!=c);if(0==(240&c))n.ub!=+Ul&&(Ql&&Zl("I"),el(e,n,1));else if(16==(240&c));else if(32==(240&c)){if(Ql&&Zl("J"),0==Ja(e,n,1))return i()}else t(c!=c);if(n.lb==-Ul&&n.ub==+Ul){for(Ql&&Zl("K"),a=n.ptr;null!=a;a=a.r_next)Ca(e,a.col);return Pa(e,n),0}return e.sol==_u&&r&&fl(e,n,1)<0?yd:0}function fl(e,n,r){var i,o,a,l,s,c,u,d,f=0;for(t(e.sol==_u),t(!(n.lb==-Ul&&n.ub==+Ul)),tl(e,n),o=n.ptr;null!=o;o=a)for(i=o.col,a=o.r_next,s=0;s<=1;s++){if(u=i.lb,d=i.ub,0==s){if(i.ll.ll==-Ul)continue;c=Va(e,i,i.ll.ll)}else{if(i.uu.uu==+Ul)continue;c=qa(e,i,i.uu.uu)}if(0==c||1==c)i.lb=u,i.ub=d;else if(2==c||3==c){if(Ql&&Zl("L"),f++,r)for(l=i.ptr;null!=l;l=l.c_next)l.row!=n&&va(e,l.row);if(3==c){Ql&&Zl("M"),Qa(e,i);break}}else{if(4==c)return-1;t(c!=c)}}return f}function _l(e,n){function r(){if(Ql&&Zl("O"),Za(e,n),i.lb==-Ul&&i.ub==+Ul){for(Ql&&Zl("P"),o=i.ptr;null!=o;o=o.r_next)Ca(e,o.col);Pa(e,i)}else va(e,i);return 0}var i,o,a;if(t(n.lb<n.ub),null==n.ptr){if(0==(a=Ya(e,n)))return Ql&&Zl("N"),0;if(1==a)return vd;t(a!=a)}if(null==n.ptr.c_next)if(i=n.ptr.row,i.lb==i.ub){if(!n.is_int)return r()}else if(!n.is_int){if(0==(a=Xa(e,n)))return Ql&&Zl("Q"),r();if(1==a);else if(2==a)return vd}return 0}function pl(e,n){function r(){return t(0==l||l==yd||l==vd),Ql&&Zl(""),l}var i,o,a,l;for(ul(e),i=e.r_head;null!=i;i=i.next)i.temp=1;for(o=e.c_head;null!=o;o=o.next)o.temp=1;for(a=1;a;){for(a=0;null!=(i=e.r_head)&&i.temp;){if(xa(e,i),0!=(l=dl(e,i,n)))return r();a=1}for(;null!=(o=e.c_head)&&o.temp;){if(Ba(e,o),0!=(l=_l(e,o)))return r();a=1}}if(e.sol==_u&&!n)for(i=e.r_head;null!=i;i=i.next)if(fl(e,i,0)<0)return l=yd,r();return l=0,r()}function bl(e,n){return t(e.sol==du),t(n==n),pl(e,0)}function hl(e,n){var r,i,o,a,l,s;if(t(e.sol==_u),t(n==n),0!=(s=pl(e,1)))return s;for(n.binarize&&nl(e),l=0,r=e.r_tail;null!=r;r=i)if(i=r.prev,(r.lb!=-Ul||r.ub!=+Ul)&&r.lb!=r.ub&&null!=r.ptr&&null!=r.ptr.r_next){for(a=r.ptr;null!=a&&(o=a.col,o.is_int&&0==o.lb&&1==o.ub);a=a.r_next);null==a&&(l+=ol(e,r))}for(l>0&&Zl(l+" hidden packing inequaliti(es) were detected"),l=0,r=e.r_tail;null!=r;r=i)if(i=r.prev,(r.lb!=-Ul||r.ub!=+Ul)&&r.lb!=r.ub&&null!=r.ptr&&null!=r.ptr.r_next&&null!=r.ptr.r_next.r_next){for(a=r.ptr;null!=a&&(o=a.col,o.is_int&&0==o.lb&&1==o.ub);a=a.r_next);null==a&&(l+=ll(e,r))}for(l>0&&Zl(l+" hidden covering inequaliti(es) were detected"),l=0,r=e.r_tail;null!=r;r=i)i=r.prev,r.lb!=r.ub&&(l+=cl(e,r));return l>0&&Zl(l+" constraint coefficient(s) were reduced"),s=0}function ml(e,t){return e-t&2147483647}function gl(e){var t,n;for(t=1,n=32;n<=55;t++,n++)e.A[t]=ml(e.A[t],e.A[n]);for(n=1;t<=55;t++,n++)e.A[t]=ml(e.A[t],e.A[n]);return e.fptr=54,e.A[55]}function Al(){var e,t={};for(t.A=new Array(56),t.A[0]=-1,e=1;e<=55;e++)t.A[e]=0;return t.fptr=0,yl(t,1),t}function yl(e,t){var n,r=t,i=1;for(t=r=ml(r,0),e.A[55]=r,n=21;n;n=(n+21)%55)e.A[n]=i,i=ml(r,i),1&t?t=1073741824+(t>>1):t>>=1,i=ml(i,t),r=e.A[n];gl(e),gl(e),gl(e),gl(e),gl(e)}function vl(e){return e.A[e.fptr]>=0?e.A[e.fptr--]:gl(e)}function xl(e,n){var r,i=2147483648-2147483648%n;t(n>0);do{r=vl(e)}while(i<=r);return r%n}function wl(e){var n=vl(e)/2147483647;return t(0<=n&&n<=1),n}function kl(e,r,i){r>=i&&n("rng_uniform: a = "+r+", b = "+i+"; invalid range");var o=wl(e);return o=r*(1-o)+i*o,t(r<=o&&o<=i),o}function Cl(e){Fh&&Zl("scf_create_it: warning: debug mode enabled"),1<=e&&e<=32767||n("scf_create_it: n_max = "+e+"; invalid parameter");var t={};return t.n_max=e,t.n=0,t.f=new Float64Array(1+e*e),t.u=new Float64Array(1+e*(e+1)/2),t.p=new Int32Array(1+e),t.t_opt=Lh,t.rank=0,t.c=Fh?new Float64Array(1+e*e):null,t.w=new Float64Array(1+e),t}function Bl(e,n,r){var i=e.n_max,o=e.n;return t(1<=n&&n<=o),t(1<=r&&r<=o),(n-1)*i+r}function El(e,n,r){var i=e.n_max,o=e.n;return t(1<=n&&n<=o),t(n<=r&&r<=o),(n-1)*i+r-n*(n-1)/2}function Ml(e,n,r){var i,o,a,l,s,c,u,d=e.n,f=e.f,_=e.u;for(t(1<=n&&n<=d);n<d;n++){if(l=El(e,n,n),o=Bl(e,n,1),s=Bl(e,d,1),Math.abs(_[l])<Math.abs(r[n])){for(i=n,a=l;i<=d;i++,a++)u=_[a],_[a]=r[i],r[i]=u;for(i=1,a=o,c=s;i<=d;i++,a++,c++)u=f[a],f[a]=f[c],f[c]=u}if(Math.abs(_[l])<Qh&&(_[l]=r[n]=0),0!=r[n]){for(u=r[n]/_[l],i=n+1,a=l+1;i<=d;i++,a++)r[i]-=u*_[a];for(i=1,a=o,c=s;i<=d;i++,a++,c++)f[c]-=u*f[a]}}Math.abs(r[d])<Qh&&(r[d]=0),_[El(e,d,d)]=r[d]}function jl(e,t,n){var r,i,o;0==t?(i=1,o=0):Math.abs(e)<=Math.abs(t)?(r=-e/t,o=1/Math.sqrt(1+r*r),i=o*r):(r=-t/e,i=1/Math.sqrt(1+r*r),o=i*r),n(i,o)}function Ol(e,n,r){var i,o,a,l,s,c,u=e.n,d=e.f,f=e.u;for(t(1<=n&&n<=u);n<u;n++)l=El(e,n,n),o=Bl(e,n,1),s=Bl(e,u,1),Math.abs(f[l])<Qh&&Math.abs(r[n])<Qh&&(f[l]=r[n]=0),0!=r[n]&&jl(f[l],r[n],function(e,t){for(i=n,a=l;i<=u;i++,a++){var _=f[a],p=r[i];f[a]=e*_-t*p,r[i]=t*_+e*p}for(i=1,a=o,c=s;i<=u;i++,a++,c++){var b=d[a],h=d[c];d[a]=e*b-t*h,d[c]=t*b+e*h}});Math.abs(r[u])<Qh&&(r[u]=0),f[El(e,u,u)]=r[u]}function Il(e,n,r){switch(e.t_opt){case Lh:Ml(e,n,r);break;case Th:Ol(e,n,r);break;default:t(e!=e)}}function Dl(e){var t,n,r,i=e.n_max,o=e.n,a=e.u,l=0;for(t=1,n=El(e,t,t),r=i;t<=o;t++,n+=r,r--)0!=a[n]&&l++;return l}function nt(e,n){var r,i,o,a,l,s,c=e.n,u=e.f,d=e.u,f=e.p,_=e.c,p=0;for(t(null!=_),r=1;r<=c;r++)for(i=1;i<=c;i++){for(l=0,o=1;o<=c;o++)l+=u[Bl(e,r,o)]*_[Bl(e,o,i)];o=f[i],s=r<=o?d[El(e,r,o)]:0,a=Math.abs(l-s)/(1+Math.abs(s)),p<a&&(p=a)}p>1e-8&&Zl(n+": dmax = "+p+"; relative error too large")}function Nl(e,t,n,r,i,o){var a=e.n_max,l=e.n,s=e.f,c=e.u,u=e.p;if(Fh)var d=e.c;var f,_,p,b,h,m,g,A=e.w,y=0;if(l==a)return y=Ph;for(e.n=++l,f=1,p=Bl(e,f,l);f<l;f++,p+=a)s[p]=0;for(b=1,m=Bl(e,l,b);b<l;b++,m++)s[m]=0;for(s[Bl(e,l,l)]=1,f=1;f<l;f++){for(g=0,b=1,_=Bl(e,f,1);b<l;b++,_++)g+=s[_]*t[b+n];c[El(e,f,l)]=g}for(b=1;b<l;b++)A[b]=r[u[b]+i];if(A[l]=o,u[l]=l,Fh){for(f=1,p=Bl(e,f,l);f<l;f++,p+=a)d[p]=t[f+n];for(b=1,m=Bl(e,l,b);b<l;b++,m++)d[m]=r[b+i];d[Bl(e,l,l)]=o}for(h=1;h<l&&0==A[h];h++);return Il(e,h,A),e.rank=Dl(e),e.rank!=l&&(y=zh),Fh&&nt(e,"scf_update_exp"),y}function Sl(e,t,n){var r,i,o,a,l=e.n,s=e.f,c=e.u,u=e.p,d=e.w;for(r=1;r<=l;r++){for(a=0,i=1,o=Bl(e,r,1);i<=l;i++,o++)a+=s[o]*t[i+n];d[r]=a}for(r=l;r>=1;r--){for(a=d[r],i=l,o=El(e,r,l);i>r;i--,o--)a-=c[o]*d[i];d[r]=a/c[o]}for(r=1;r<=l;r++)t[u[r]+n]=d[r]}function Ll(e,t,n){var r,i,o,a,l=e.n,s=e.f,c=e.u,u=e.p,d=e.w;for(r=1;r<=l;r++)d[r]=t[u[r]+n];for(r=1;r<=l;r++)for(o=El(e,r,r),a=d[r]/=c[o],i=r+1,o++;i<=l;i++,o++)d[i]-=c[o]*a;for(i=1;i<=l;i++)t[i+n]=0;for(r=1;r<=l;r++)for(a=d[r],i=1,o=Bl(e,r,1);i<=l;i++,o++)t[i+n]+=s[o]*a}function Tl(e,t,r,i){e.rank<e.n&&n("scf_solve_it: singular matrix"),t?Ll(e,r,i):Sl(e,r,i)}function zl(e){e.n=e.rank=0}function Pl(e,n){function r(e,n,r,o){var a=e.m;if(Ql)var l=e.n;var s,c,u,d,f=e.A_ptr,_=e.A_ind,p=e.A_val,b=e.head;if(Ql&&t(1<=n&&n<=a),s=b[n],Ql&&t(1<=s&&s<=a+l),s<=a)c=1,r[1]=s,o[1]=1;else for(u=f[s-a],c=f[s-a+1]-u,i(r,1,_,u,c),i(o,1,p,u,c),d=1;d<=c;d++)o[d]=-o[d];return c}function a(e,n,r,o){var a=e.m;if(Ql)var l=e.n;var s,c,u,d,f,_,p=e.A_ptr,b=e.A_ind,h=e.A_val,m=e.head;for(i(o,1,n,1,a),s=1;s<=a;s++)if(0!=(_=r[s]))if(c=m[s],Ql&&t(1<=c&&c<=a+l),c<=a)o[c]-=_;else for(u=p[c-a],d=p[c-a+1],f=u;f<d;f++)o[b[f]]+=h[f]*_}function c(e,n,r){var i,o=e.m,l=e.work1,s=e.work1;for(a(e,n,r,l),t(e.valid),T(e.bfd,s),i=1;i<=o;i++)r[i]+=s[i]}function u(e,n,r,i){var o=e.m;if(Ql)var a=e.n;var l,s,c,u,d,f,_=e.A_ptr,p=e.A_ind,b=e.A_val,h=e.head;for(l=1;l<=o;l++){if(s=h[l],Ql&&t(1<=s&&s<=o+a),f=n[l],s<=o)f-=r[s];else for(c=_[s-o],u=_[s-o+1],d=c;d<u;d++)f+=b[d]*r[p[d]];i[l]=f}}function d(e,n,r){var i,o=e.m,a=e.work1,l=e.work1;for(u(e,n,r,a),t(e.valid),z(e.bfd,l),i=1;i<=o;i++)r[i]+=l[i]}function f(e){var t,n,r,i,o,a=e.m,l=e.n,s=e.A_ptr,c=e.A_ind,u=e.N_ptr,d=e.N_len;for(t=1;t<=a;t++)d[t]=1;for(n=1;n<=l;n++)for(r=s[n],i=s[n+1],o=r;o<i;o++)d[c[o]]++;for(u[1]=1,t=1;t<=a;t++)d[t]>l&&(d[t]=l),u[t+1]=u[t]+d[t];e.N_ind=new Int32Array(u[a+1]),e.N_val=new Float64Array(u[a+1])}function _(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,l=e.N_ptr,s=e.N_len,c=e.N_ind,u=e.N_val;if(Ql&&(t(1<=n&&n<=o),t(1<=r&&r<=i+o)),r<=i)a=l[r]+s[r]++,Ql&&t(a<l[r+1]),c[a]=n,u[a]=1;else{var d,f,_,p,b=e.A_ptr,h=e.A_ind,m=e.A_val;for(f=b[r-i],_=b[r-i+1],p=f;p<_;p++)d=h[p],a=l[d]+s[d]++,Ql&&t(a<l[d+1]),c[a]=n,u[a]=-m[p]}}function p(e){var n,r,i=e.m,a=e.n,l=e.head,s=e.stat,c=e.N_len;for(o(c,1,0,i),n=1;n<=a;n++)s[n]!=ou&&(r=l[i+n],Ql&&t(1<=r&&r<=i+a),_(e,n,r))}function b(e,n){var r=e.m;if(Ql)var i=e.n;var o,a,l=e.lb,s=e.ub,c=e.head,u=e.stat;switch(Ql&&t(1<=n&&n<=i),o=c[r+n],Ql&&t(1<=o&&o<=r+i),u[n]){case nu:a=l[o];break;case ru:a=s[o];break;case iu:a=0;break;case ou:a=l[o];break;default:t(u!=u)}return a}function h(e,n){var r,o,a,l,s,u,d,f=e.m,_=e.n,p=e.A_ptr,h=e.A_ind,m=e.A_val,g=e.head,A=e.work2;for(r=1;r<=f;r++)A[r]=0;for(o=1;o<=_;o++)if(a=g[f+o],Ql&&t(1<=a&&a<=f+_),0!=(d=b(e,o)))if(a<=f)A[a]-=d;else for(l=p[a-f],s=p[a-f+1],u=l;u<s;u++)A[h[u]]+=d*m[u];i(n,1,A,1,f),t(e.valid),T(e.bfd,n),c(e,A,n)}function m(e,n){var r,o=e.m,a=e.coef,l=e.head,s=e.work2;for(r=1;r<=o;r++)s[r]=a[l[r]];i(n,1,s,1,o),t(e.valid),z(e.bfd,n),d(e,s,n)}function g(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,l,s=e.coef,c=e.head;if(Ql&&t(1<=r&&r<=o),a=c[i+r],Ql&&t(1<=a&&a<=i+o),l=s[a],a<=i)l-=n[a];else{var u,d,f,_=e.A_ptr,p=e.A_ind,b=e.A_val;for(u=_[a-i],d=_[a-i+1],f=u;f<d;f++)l+=b[f]*n[p[f]]}return l}function A(e){if(Ql)var n=e.m;var r=e.n;if(Ql)var i=e.head;var o,a=e.cbar,l=e.work3;if(Ql)var s;for(m(e,l),o=1;o<=r;o++)Ql&&(s=i[n+o],t(1<=s&&s<=n+r)),a[o]=g(e,l,o)}function y(e,n){var r,i,o,a,l,s=e.n,c=e.stat,u=e.cbar,d=e.gamma;for(i=0,a=0,r=1;r<=s;r++){switch(o=u[r],c[r]){case nu:if(o>=-n)continue;break;case ru:if(o<=+n)continue;break;case iu:if(-n<=o&&o<=+n)continue;break;case ou:continue;default:t(c!=c)}Ql&&t(d[r]>0),l=o*o/d[r],a<l&&(i=r,a=l)}e.q=i}function v(e,n){function r(){e.p=c,c>0&&A[w[c]]==eu?e.p_stat=ou:e.p_stat=u,Ql&&t(m>=0),e.teta=b*m}var i=e.m;if(Ql)var o=e.n;var a,l,s,c,u,d,f,_,p,b,h,m,g,A=e.type,y=e.lb,v=e.ub,x=e.coef,w=e.head,k=e.phase,C=e.bbar,B=e.cbar,E=e.q,M=e.tcol_ind,j=e.tcol_vec,O=e.tcol_num;for(Ql&&t(1<=E&&E<=o),Ql&&t(0!=B[E]),b=B[E]>0?-1:1,s=w[i+E],Ql&&t(1<=s&&s<=i+o),A[s]==$c?(c=-1,u=0,m=v[s]-y[s],_=1):(c=0,u=0,m=Ul,_=0),d=1;d<=O;d++){if(a=M[d],Ql&&t(1<=a&&a<=i),s=w[a],Ql&&t(1<=s&&s<=i+o),f=b*j[a],Ql&&t(0!=f),f>0)if(1==k&&x[s]<0)p=n*(1+I*Math.abs(y[s])),h=(y[s]+p-C[a])/f,l=nu;else{if(1==k&&x[s]>0)continue;if(A[s]!=Jc&&A[s]!=$c&&A[s]!=eu)continue;p=n*(1+I*Math.abs(v[s])),h=(v[s]+p-C[a])/f,l=ru}else if(1==k&&x[s]>0)p=n*(1+I*Math.abs(v[s])),h=(v[s]-p-C[a])/f,l=ru;else{if(1==k&&x[s]<0)continue;if(A[s]!=Xc&&A[s]!=$c&&A[s]!=eu)continue;p=n*(1+I*Math.abs(y[s])),h=(y[s]-p-C[a])/f,l=nu}h<0&&(h=0),(m>h||m==h&&_<Math.abs(f))&&(c=a,u=l,m=h,_=Math.abs(f))}if(0==n)return r();if(c<=0)return r();if(0==m)return r();for(g=m,c=0,u=0,m=Ul,_=0,d=1;d<=O;d++){if(a=M[d],Ql&&t(1<=a&&a<=i),s=w[a],Ql&&t(1<=s&&s<=i+o),f=b*j[a],Ql&&t(0!=f),f>0)if(1==k&&x[s]<0)h=(y[s]-C[a])/f,l=nu;else{if(1==k&&x[s]>0)continue;if(A[s]!=Jc&&A[s]!=$c&&A[s]!=eu)continue;h=(v[s]-C[a])/f,l=ru}else if(1==k&&x[s]>0)h=(v[s]-C[a])/f,l=ru;else{if(1==k&&x[s]<0)continue;if(A[s]!=Xc&&A[s]!=$c&&A[s]!=eu)continue;h=(y[s]-C[a])/f,l=nu}h<0&&(h=0),h<=g&&_<Math.abs(f)&&(c=a,u=l,m=h,_=Math.abs(f))}t(0!=c),r()}function x(e){var t,n,r=e.m,i=e.n,o=e.coef,a=e.obj,l=e.zeta;for(t=1;t<=r;t++)o[t]=0;for(n=1;n<=i;n++)o[r+n]=l*a[n]}function w(e,n){var r=e.m;if(Ql)var i=e.n;var o,a,l,s=e.type,c=e.lb,u=e.ub,d=e.coef,f=e.head,_=e.phase,p=e.bbar;for(o=1;o<=r;o++)if(a=f[o],Ql&&t(1<=a&&a<=r+i),1==_&&d[a]<0){if(Ql&&t(s[a]==Xc||s[a]==$c||s[a]==eu),l=n*(1+I*Math.abs(c[a])),p[o]>c[a]+l)return 1}else if(1==_&&d[a]>0){if(Ql&&t(s[a]==Jc||s[a]==$c||s[a]==eu),l=n*(1+I*Math.abs(u[a])),p[o]<u[a]-l)return 1}else{if((s[a]==Xc||s[a]==$c||s[a]==eu)&&(l=n*(1+I*Math.abs(c[a])),p[o]<c[a]-l))return 1;if((s[a]==Jc||s[a]==$c||s[a]==eu)&&(l=n*(1+I*Math.abs(u[a])),p[o]>u[a]+l))return 1}return 0}function k(e){var n,r,i,o,a=e.m,l=e.n,s=e.obj,c=e.head,u=e.bbar;for(o=s[0],n=1;n<=a;n++)i=c[n],Ql&&t(1<=i&&i<=a+l),i>a&&(o+=s[i-a]*u[n]);for(r=1;r<=l;r++)i=c[a+r],Ql&&t(1<=i&&i<=a+l),i>a&&(o+=s[i-a]*b(e,r));return o}function C(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,c,u,d,f=e.type,_=e.lb,p=e.ub,b=e.phase,h=e.head,m=e.bbar;if(!(n.msg_lev<Cu)&&!(n.out_dly>0&&1e3*s(l(),e.tm_beg)<n.out_dly)&&e.it_cnt!=e.it_dpy&&(r||e.it_cnt%n.out_frq==0)){for(d=0,u=0,a=1;a<=i;a++)c=h[a],Ql&&t(1<=c&&c<=i+o),f[c]!=Xc&&f[c]!=$c&&f[c]!=eu||m[a]<_[c]&&(d+=_[c]-m[a]),f[c]!=Jc&&f[c]!=$c&&f[c]!=eu||m[a]>p[c]&&(d+=m[a]-p[c]),f[c]==eu&&u++;Zl((1==b?" ":"*")+e.it_cnt+": obj = "+k(e)+"  infeas = "+d+" ("+u+")"),e.it_dpy=e.it_cnt}}function B(e,n,r,o,a){var l,s,c,u,d,f=e.m,_=e.n,p=e.zeta,b=e.head,h=e.stat,m=e.bbar,g=e.cbar;for(Ql&&(t(n.m==f),t(n.n==_),t(!n.valid&&null==n.bfd),t(e.valid&&null!=e.bfd)),n.valid=1,e.valid=0,n.bfd=e.bfd,e.bfd=null,i(n.head,1,b,1,f),n.pbs_stat=r,n.dbs_stat=o,n.obj_val=k(e),n.it_cnt=e.it_cnt,n.some=a,l=1;l<=f;l++)c=b[l],Ql&&t(1<=c&&c<=f+_),c<=f?(u=n.row[c],u.stat=tu,u.bind=l,u.prim=m[l]/u.rii,u.dual=0):(d=n.col[c-f],d.stat=tu,d.bind=l,d.prim=m[l]*d.sjj,d.dual=0);for(s=1;s<=_;s++)if(c=b[f+s],Ql&&t(1<=c&&c<=f+_),c<=f){switch(u=n.row[c],u.stat=h[s],u.bind=0,h[s]){case nu:u.prim=u.lb;break;case ru:u.prim=u.ub;break;case iu:u.prim=0;break;case ou:u.prim=u.lb;break;default:t(h!=h)}u.dual=g[s]*u.rii/p}else{switch(d=n.col[c-f],d.stat=h[s],d.bind=0,h[s]){case nu:d.prim=d.lb;break;case ru:d.prim=d.ub;break;case iu:d.prim=0;break;case ou:d.prim=d.lb;break;default:t(h!=h)}d.dual=g[s]/d.sjj/p}}var E,M,j,O,I=.1,D=2,N=0,S=0,F=0;for(E=function(e){var n=e.m,r=e.n,i=e.nnz,o={};return t(n>0&&r>0),o.m=n,o.n=r,o.type=new Int8Array(1+n+r),o.lb=new Float64Array(1+n+r),o.ub=new Float64Array(1+n+r),o.coef=new Float64Array(1+n+r),o.obj=new Float64Array(1+r),o.A_ptr=new Int32Array(1+r+1),o.A_ind=new Int32Array(1+i),o.A_val=new Float64Array(1+i),o.head=new Int32Array(1+n+r),o.stat=new Int8Array(1+r),o.N_ptr=new Int32Array(1+n+1),o.N_len=new Int32Array(1+n),o.N_ind=null,o.N_val=null,o.bbar=new Float64Array(1+n),o.cbar=new Float64Array(1+r),o.refsp=new Int8Array(1+n+r),o.gamma=new Float64Array(1+r),o.tcol_ind=new Int32Array(1+n),o.tcol_vec=new Float64Array(1+n),o.trow_ind=new Int32Array(1+r),o.trow_vec=new Float64Array(1+r),o.work1=new Float64Array(1+n),o.work2=new Float64Array(1+n),o.work3=new Float64Array(1+n),o.work4=new Float64Array(1+n),o}(e),function(e,n){var r,a,s,c,u,d,_,b=e.m,h=e.n,m=e.type,g=e.lb,A=e.ub,y=e.coef,v=e.obj,x=e.A_ptr,w=e.A_ind,k=e.A_val,C=e.head,B=e.stat,E=e.refsp,M=e.gamma;for(r=1;r<=b;r++)d=n.row[r],m[r]=d.type,g[r]=d.lb*d.rii,A[r]=d.ub*d.rii,y[r]=0;for(a=1;a<=h;a++)_=n.col[a],m[b+a]=_.type,g[b+a]=_.lb/_.sjj,A[b+a]=_.ub/_.sjj,y[b+a]=_.coef*_.sjj;for(v[0]=n.c0,i(v,1,y,b+1,h),u=0,a=1;a<=h;a++)u<Math.abs(v[a])&&(u=Math.abs(v[a]));switch(0==u&&(u=1),n.dir){case Hc:e.zeta=1/u;break;case Wc:e.zeta=-1/u;break;default:t(n!=n)}for(Math.abs(e.zeta)<1&&(e.zeta*=1e3),c=1,a=1;a<=h;a++){x[a]=c;for(var j=n.col[a].ptr;null!=j;j=j.c_next)w[c]=j.row.i,k[c]=j.row.rii*j.val*j.col.sjj,c++}for(x[h+1]=c,t(c==n.nnz+1),t(n.valid),i(C,1,n.head,1,b),s=0,r=1;r<=b;r++)d=n.row[r],d.stat!=tu&&(s++,t(s<=h),C[b+s]=r,B[s]=d.stat);for(a=1;a<=h;a++)_=n.col[a],_.stat!=tu&&(s++,t(s<=h),C[b+s]=b+a,B[s]=_.stat);for(t(s==h),e.valid=1,n.valid=0,e.bfd=n.bfd,n.bfd=null,f(e),p(e),e.phase=0,e.tm_beg=l(),e.it_beg=e.it_cnt=n.it_cnt,e.it_dpy=-1,e.refct=0,o(E,1,0,b+h),a=1;a<=h;a++)M[a]=1}(E,e),n.msg_lev>=Eu&&Zl("Objective scale factor = "+E.zeta);;){if(0==D){if(0!=(O=function(e){var t=L(e.bfd,e.m,null,r,e);return e.valid=0==t,t}(E)))return n.msg_lev>=ku&&(Zl("Error: unable to factorize the basis matrix ("+O+")"),Zl("Sorry, basis recovery procedure not implemented yet")),t(!e.valid&&null==e.bfd),e.bfd=E.bfd,E.bfd=null,e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.it_cnt=E.it_cnt,e.some=0,O=bd;E.valid=1,D=1,N=S=0}if(0==N&&(function(e){h(e,e.bbar)}(E),N=1,0==E.phase&&(function(e,t){var n,r,i,o=e.m,a=e.n,l=e.type,s=e.lb,c=e.ub,u=e.coef,d=e.head,f=e.bbar,_=0;for(t*=.9,r=1;r<=o+a;r++)u[r]=0;for(n=1;n<=o;n++)r=d[n],l[r]!=Xc&&l[r]!=$c&&l[r]!=eu||(i=t*(1+I*Math.abs(s[r])),f[n]<s[r]-i&&(u[r]=-1,_++)),l[r]!=Jc&&l[r]!=$c&&l[r]!=eu||(i=t*(1+I*Math.abs(c[r])),f[n]>c[r]+i&&(u[r]=1,_++));return _}(E,n.tol_bnd)>0?E.phase=1:(x(E),E.phase=2),t(0==w(E,n.tol_bnd)),S=0,C(E,n,1)),w(E,n.tol_bnd)))n.msg_lev>=ku&&Zl("Warning: numerical instability (primal simplex, phase "+(1==E.phase?"I":"II")+")"),E.phase=0,D=0,F=5;else{switch(t(1==E.phase||2==E.phase),1!=E.phase||function(e,n){var r=e.m;if(Ql)var i=e.n,o=e.type;var a,l,s,c=e.lb,u=e.ub,d=e.coef,f=e.head,_=e.bbar;for(t(1==e.phase),a=1;a<=r;a++)if(l=f[a],Ql&&t(1<=l&&l<=r+i),d[l]<0){if(Ql&&t(o[l]==Xc||o[l]==$c||o[l]==eu),s=n*(1+I*Math.abs(c[l])),_[a]<c[l]-s)return 1}else if(d[l]>0&&(Ql&&t(o[l]==Jc||o[l]==$c||o[l]==eu),s=n*(1+I*Math.abs(u[l])),_[a]>u[l]+s))return 1;return 0}(E,n.tol_bnd)||(E.phase=2,x(E),S=0,C(E,n,1)),0==S&&(A(E),S=1),n.pricing){case Iu:break;case Du:0==E.refct&&function(e){var n,r,i=e.m,a=e.n,l=e.head,s=e.refsp,c=e.gamma;for(t(0==e.refct),e.refct=1e3,o(s,1,0,i+a),n=1;n<=a;n++)r=l[i+n],s[r]=1,c[n]=1}(E);break;default:t(n!=n)}t(D&&N&&S);if(n.it_lim<Yl&&E.it_cnt-E.it_beg>=n.it_lim){if(1!=N||2==E.phase&&1!=S){1!=N&&(N=0),2==E.phase&&1!=S&&(S=0);continue}switch(C(E,n,1),n.msg_lev>=Bu&&Zl("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),E.phase){case 1:M=hu,x(E),A(E);break;case 2:M=bu;break;default:t(E!=E)}return y(E,n.tol_dj),j=0==E.q?bu:hu,B(E,e,M,j,0),O=gd}if(n.tm_lim<Yl&&1e3*s(l(),E.tm_beg)>=n.tm_lim){if(1!=N||2==E.phase&&1!=S){1!=N&&(N=0),2==E.phase&&1!=S&&(S=0);continue}switch(C(E,n,1),n.msg_lev>=Bu&&Zl("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),E.phase){case 1:M=hu,x(E),A(E);break;case 2:M=bu;break;default:t(E!=E)}return y(E,n.tol_dj),j=0==E.q?bu:hu,B(E,e,M,j,0),O=Ad}if(C(E,n,0),y(E,n.tol_dj),0==E.q){if(1!=N||1!=S){1!=N&&(N=0),1!=S&&(S=0);continue}switch(C(E,n,1),E.phase){case 1:n.msg_lev>=Bu&&Zl("PROBLEM HAS NO FEASIBLE SOLUTION"),M=mu,x(E),A(E),y(E,n.tol_dj),j=0==E.q?bu:hu;break;case 2:n.msg_lev>=Bu&&Zl("OPTIMAL SOLUTION FOUND"),M=j=bu;break;default:t(E!=E)}return B(E,e,M,j,0),O=0}!function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l=e.head,s=e.q,c=e.tcol_ind,u=e.tcol_vec,d=e.tcol_vec;for(Ql&&t(1<=s&&s<=r),o=l[n+s],Ql&&t(1<=o&&o<=n+r),i=1;i<=n;i++)d[i]=0;if(o<=n)d[o]=-1;else{var f,_,p,b=e.A_ptr,h=e.A_ind,m=e.A_val;for(f=b[o-n],_=b[o-n+1],p=f;p<_;p++)d[h[p]]=m[p]}for(t(e.valid),T(e.bfd,u),a=0,i=1;i<=n;i++)0!=u[i]&&(c[++a]=i);e.tcol_nnz=a}(E),F&&function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l=e.head,s=e.q,u=e.tcol_ind,d=e.tcol_vec,f=e.work3;for(Ql&&t(1<=s&&s<=r),o=l[n+s],Ql&&t(1<=o&&o<=n+r),i=1;i<=n;i++)f[i]=0;if(o<=n)f[o]=-1;else{var _,p,b,h=e.A_ptr,m=e.A_ind,g=e.A_val;for(_=h[o-n],p=h[o-n+1],b=_;b<p;b++)f[m[b]]=g[b]}for(c(e,f,d),a=0,i=1;i<=n;i++)0!=d[i]&&(u[++a]=i);e.tcol_nnz=a}(E),function(e,n){if(Ql)var r=e.m;var i,o,a,l,s,c,u=e.tcol_nnz,d=e.tcol_ind,f=e.tcol_vec;for(l=0,a=1;a<=u;a++)Ql&&(i=d[a],t(1<=i&&i<=r)),c=Math.abs(f[d[a]]),l<c&&(l=c);for(e.tcol_max=l,s=n*(1+.01*l),o=0;o<u;)i=d[u],Math.abs(f[i])<s?u--:(o++,d[u]=d[o],d[o]=i);e.tcol_num=o}(E,n.tol_piv);var Q=E.cbar[E.q],U=function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l=e.coef,s=e.head,c=e.q,u=e.tcol_nnz,d=e.tcol_ind,f=e.tcol_vec;for(Ql&&t(1<=c&&c<=r),a=l[s[n+c]],o=1;o<=u;o++)i=d[o],Ql&&t(1<=i&&i<=n),a+=l[s[i]]*f[i];return a}(E);if(t(0!=Q),!(Math.abs(Q-U)>1e-5*(1+Math.abs(U)))&&(Q<0&&U<0||Q>0&&U>0)||(n.msg_lev>=Eu&&Zl("d1 = "+Q+"; d2 = "+U),1==S&&F)){switch(E.cbar[E.q]=Q>0?U>0?U:+Hl:U<0?U:-Hl,n.r_test){case Nu:v(E,0);break;case Su:v(E,.3*n.tol_bnd);break;default:t(n!=n)}if(0==E.p){if(1!=N||1!=S||!F){1!=N&&(N=0),1!=S&&(S=0),F=1;continue}switch(C(E,n,1),E.phase){case 1:n.msg_lev>=ku&&Zl("Error: unable to choose basic variable on phase I"),t(!e.valid&&null==e.bfd),e.bfd=E.bfd,E.bfd=null,e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.it_cnt=E.it_cnt,e.some=0,O=bd;break;case 2:n.msg_lev>=Bu&&Zl("PROBLEM HAS UNBOUNDED SOLUTION"),B(E,e,bu,mu,E.head[E.m+E.q]),O=0;break;default:t(E!=E)}return O}if(E.p>0){var R=E.tcol_vec[E.p],G=1e-5*(1+.01*E.tcol_max);if(Math.abs(R)<G&&(n.msg_lev>=Eu&&Zl("piv = "+R+"; eps = "+G),!F)){F=5;continue}}if(E.p>0){var Y=E.work4;!function(e,n){var r,i=e.m,o=e.p;for(Ql&&t(1<=o&&o<=i),r=1;r<=i;r++)n[r]=0;n[o]=1,t(e.valid),z(e.bfd,n)}(E,Y),F&&function(e,n){var r,i=e.m,o=e.p,a=e.work3;for(Ql&&t(1<=o&&o<=i),r=1;r<=i;r++)a[r]=0;a[o]=1,d(e,a,n)}(E,Y),function(e,n){var r=e.m,i=e.n;if(Ql)var o=e.stat;var a,l,s,c,u,d,f,_=e.N_ptr,p=e.N_len,b=e.N_ind,h=e.N_val,m=e.trow_ind,g=e.trow_vec;for(l=1;l<=i;l++)g[l]=0;for(a=1;a<=r;a++)if(0!=(f=n[a]))for(s=_[a],c=s+p[a],u=s;u<c;u++)Ql&&(l=b[u],t(1<=l&&l<=i),t(o[l]!=ou)),g[b[u]]-=f*h[u];for(d=0,l=1;l<=i;l++)0!=g[l]&&(m[++d]=l);e.trow_nnz=d}(E,Y)}if(E.p>0){var H=E.tcol_vec[E.p],W=E.trow_vec[E.q];if(t(0!=H),Math.abs(H-W)>1e-8*(1+Math.abs(H))||!(H>0&&W>0||H<0&&W<0)){if(n.msg_lev>=Eu&&Zl("piv1 = "+H+"; piv2 = "+W),1!=D||!F){1!=D&&(D=0),F=5;continue}0==E.trow_vec[E.q]&&(E.trow_nnz++,t(E.trow_nnz<=E.n),E.trow_ind[E.trow_nnz]=E.q),E.trow_vec[E.q]=H}}if(function(e){if(Ql)var n=e.m,r=e.n;var i,o,a=e.bbar,l=e.q,s=e.tcol_nnz,c=e.tcol_ind,u=e.tcol_vec,d=e.p,f=e.teta;if(Ql&&(t(1<=l&&l<=r),t(d<0||1<=d&&d<=n)),d>0&&(a[d]=b(e,l)+f),0!=f)for(o=1;o<=s;o++)(i=c[o])!=d&&(a[i]+=u[i]*f)}(E),N=2,E.p>0&&(function(e){if(Ql)var n=e.n;var r,i,o,a=e.cbar,l=e.q,s=e.trow_nnz,c=e.trow_ind,u=e.trow_vec;for(Ql&&t(1<=l&&l<=n),Ql&&t(0!=u[l]),o=a[l]/=u[l],i=1;i<=s;i++)(r=c[i])!=l&&(a[r]-=u[r]*o)}(E),S=2,1==E.phase)){var V=E.head[E.p];E.cbar[E.q]-=E.coef[V],E.coef[V]=0}if(E.p>0)switch(n.pricing){case Iu:break;case Du:E.refct>0&&function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l,s,c,u,d,f,_,p,b,h,m,g=e.type,A=e.A_ptr,y=e.A_ind,v=e.A_val,x=e.head,w=e.refsp,k=e.gamma,C=e.q,B=e.tcol_nnz,E=e.tcol_ind,M=e.tcol_vec,j=e.p,O=e.trow_nnz,I=e.trow_ind,D=e.trow_vec,N=e.work3;for(Ql&&(t(1<=j&&j<=n),t(1<=C&&C<=r)),t(e.refct>0),e.refct--,d=f=w[x[n+C]]?1:0,i=1;i<=n;i++)N[i]=0;for(l=1;l<=B;l++)i=E[l],w[x[i]]?(N[i]=b=M[i],d+=b*b):N[i]=0;for(t(e.valid),z(e.bfd,N),_=D[C],Ql&&t(0!=_),l=1;l<=O;l++)if((o=I[l])!=C){if(b=D[o]/_,(a=x[n+o])<=n)p=N[a];else for(p=0,s=A[a-n],c=A[a-n+1],u=s;u<c;u++)p-=v[u]*N[y[u]];h=k[o]+b*b*d+2*b*p,m=(w[a]?1:0)+f*b*b,k[o]=h>=m?h:m,k[o]<Hl&&(k[o]=Hl)}g[x[j]]==eu?k[C]=1:(k[C]=d/(_*_),k[C]<Hl&&(k[C]=Hl))}(E);break;default:t(n!=n)}E.p>0&&(O=function(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,l;if(Ql&&(t(1<=n&&n<=i),t(1<=r&&r<=i+o)),r<=i){var s=new Array(2);a=new Array(2),s[1]=r,a[1]=1,t(e.valid),l=P(e.bfd,n,0,1,s,0,a)}else{var c=e.A_ptr,u=e.A_ind,d=e.A_val;a=e.work1;var f,_,p,b;for(f=c[r-i],_=c[r-i+1],b=0,p=f;p<_;p++)a[++b]=-d[p];t(e.valid),l=P(e.bfd,n,0,b,u,f-1,a)}return e.valid=0==l,l}(E,E.p,E.head[E.m+E.q]),0==O?D=2:(E.valid=0,D=0)),E.p>0&&(!function(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,l,s,c=e.N_ptr,u=e.N_len,d=e.N_ind,f=e.N_val;if(Ql&&(t(1<=n&&n<=o),t(1<=r&&r<=i+o)),r<=i){for(l=c[r],a=l;d[a]!=n;a++);s=l+--u[r],Ql&&t(a<=s),d[a]=d[s],f[a]=f[s]}else{var _,p,b,h,m=e.A_ptr,g=e.A_ind;for(p=m[r-i],b=m[r-i+1],h=p;h<b;h++){for(_=g[h],l=c[_],a=l;d[a]!=n;a++);s=l+--u[_],Ql&&t(a<=s),d[a]=d[s],f[a]=f[s]}}}(E,E.q,E.head[E.m+E.q]),E.type[E.head[E.p]]!=eu&&_(E,E.q,E.head[E.p])),function(e){var n=e.m;if(Ql)var r=e.n,i=e.type;var o,a=e.head,l=e.stat,s=e.q,c=e.p,u=e.p_stat;if(Ql&&t(1<=s&&s<=r),c<0)switch(Ql&&(o=a[n+s],t(1<=o&&o<=n+r),t(i[o]==$c)),l[s]){case nu:l[s]=ru;break;case ru:l[s]=nu;break;default:t(l!=l)}else{if(Ql)switch(t(1<=c&&c<=n),o=a[c],u){case nu:t(i[o]==Xc||i[o]==$c);break;case ru:t(i[o]==Jc||i[o]==$c);break;case ou:t(i[o]==ou);break;default:t(u!=u)}o=a[c],a[c]=a[n+s],a[n+s]=o,l[s]=u}}(E),E.it_cnt++,F>0&&F--}else 1!=S&&(S=0),F=5}}}function Fl(e,n){function r(e,n,r,o){var a=e.m;if(Ql)var l=e.n;var s,c,u,d,f=e.A_ptr,_=e.A_ind,p=e.A_val,b=e.head;if(Ql&&t(1<=n&&n<=a),s=b[n],Ql&&t(1<=s&&s<=a+l),s<=a)c=1,r[1]=s,o[1]=1;else for(u=f[s-a],c=f[s-a+1]-u,i(r,1,_,u,c),i(o,1,p,u,c),d=1;d<=c;d++)o[d]=-o[d];return c}function a(e,n,r,o){var a=e.m;if(Ql)var l=e.n;var s,c,u,d,f,_,p=e.A_ptr,b=e.A_ind,h=e.A_val,m=e.head;for(i(o,1,n,1,a),s=1;s<=a;s++)if(0!=(_=r[s]))if(c=m[s],Ql&&t(1<=c&&c<=a+l),c<=a)o[c]-=_;else for(u=p[c-a],d=p[c-a+1],f=u;f<d;f++)o[b[f]]+=h[f]*_}function c(e,n,r){var i,o=e.m,l=e.work1,s=e.work1;for(a(e,n,r,l),t(e.valid),T(e.bfd,s),i=1;i<=o;i++)r[i]+=s[i]}function u(e,n,r,i){var o=e.m;if(Ql)var a=e.n;var l,s,c,u,d,f,_=e.A_ptr,p=e.A_ind,b=e.A_val,h=e.head;for(l=1;l<=o;l++){if(s=h[l],Ql&&t(1<=s&&s<=o+a),f=n[l],s<=o)f-=r[s];else for(c=_[s-o],u=_[s-o+1],d=c;d<u;d++)f+=b[d]*r[p[d]];i[l]=f}}function d(e,n,r){var i,o=e.m,a=e.work1,l=e.work1;for(u(e,n,r,a),t(e.valid),z(e.bfd,l),i=1;i<=o;i++)r[i]+=l[i]}function f(e,n){var r=e.m;if(Ql)var i=e.n;var o,a,l=e.lb,s=e.ub,c=e.head,u=e.stat;switch(Ql&&t(1<=n&&n<=i),o=c[r+n],Ql&&t(1<=o&&o<=r+i),u[n]){case nu:a=l[o];break;case ru:a=s[o];break;case iu:a=0;break;case ou:a=l[o];break;default:t(u!=u)}return a}function _(e,n){var r,o,a,l,s,u,d,_=e.m,p=e.n,b=e.A_ptr,h=e.A_ind,m=e.A_val,g=e.head,A=e.work2;for(r=1;r<=_;r++)A[r]=0;for(o=1;o<=p;o++)if(a=g[_+o],Ql&&t(1<=a&&a<=_+p),0!=(d=f(e,o)))if(a<=_)A[a]-=d;else for(l=b[a-_],s=b[a-_+1],u=l;u<s;u++)A[h[u]]+=d*m[u];i(n,1,A,1,_),t(e.valid),T(e.bfd,n),c(e,A,n)}function p(e,n){var r,o=e.m,a=e.coef,l=e.head,s=e.work2;for(r=1;r<=o;r++)s[r]=a[l[r]];i(n,1,s,1,o),t(e.valid),z(e.bfd,n),d(e,s,n)}function b(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,l,s=e.coef,c=e.head;if(Ql&&t(1<=r&&r<=o),a=c[i+r],Ql&&t(1<=a&&a<=i+o),l=s[a],a<=i)l-=n[a];else{var u,d,f,_=e.A_ptr,p=e.A_ind,b=e.A_val;for(u=_[a-i],d=_[a-i+1],f=u;f<d;f++)l+=b[f]*n[p[f]]}return l}function h(e){_(e,e.bbar)}function m(e){if(Ql)var n=e.m;var r=e.n;if(Ql)var i=e.head;var o,a=e.cbar,l=e.work3;if(Ql)var s;for(p(e,l),o=1;o<=r;o++)Ql&&(s=i[n+o],t(1<=s&&s<=n+r)),a[o]=b(e,l,o)}function g(e,t){var n,r,i,o,a,l,s,c=e.m,u=e.n,d=e.A_ptr,f=e.A_ind,_=e.A_val,p=e.head,b=e.stat,h=e.trow_ind,m=e.trow_vec;for(l=0,n=1;n<=u;n++)if(b[n]!=ou){if((r=p[c+n])<=c)s=-t[r];else for(i=d[r-c],o=d[r-c+1],s=0,a=i;a<o;a++)s+=t[f[a]]*_[a];0!=s&&(h[++l]=n),m[n]=s}else m[n]=0;e.trow_nnz=l}function A(e,t){var n,r,i,o,a,l,s,c=e.m,u=e.n,d=e.AT_ptr,f=e.AT_ind,_=e.AT_val,p=e.bind,b=e.stat,h=e.trow_ind,m=e.trow_vec;for(r=1;r<=u;r++)m[r]=0;for(n=1;n<=c;n++)if(0!=(s=t[n]))for(r=p[n]-c,r>=1&&b[r]!=ou&&(m[r]-=s),i=d[n],o=d[n+1],a=i;a<o;a++)(r=p[c+f[a]]-c)>=1&&b[r]!=ou&&(m[r]+=s*_[a]);for(l=0,r=1;r<=u;r++)0!=m[r]&&(h[++l]=r);e.trow_nnz=l}function y(e,n){function r(){e.q=d,e.new_dq=p*h}if(Ql)var i=e.m,o=e.n;var a=e.stat,l=e.cbar;if(Ql)var s=e.p;var c,u,d,f,_,p,b,h,m,g=e.delta,A=e.trow_ind,y=e.trow_vec,v=e.trow_num;for(Ql&&t(1<=s&&s<=i),Ql&&t(0!=g),p=g>0?1:-1,d=0,h=Ul,_=0,u=1;u<=v;u++){if(c=A[u],Ql&&t(1<=c&&c<=o),f=p*y[c],Ql&&t(0!=f),f>0){if(a[c]!=nu&&a[c]!=iu)continue;b=(l[c]+n)/f}else{if(a[c]!=ru&&a[c]!=iu)continue;b=(l[c]-n)/f}b<0&&(b=0),(h>b||h==b&&_<Math.abs(f))&&(d=c,h=b,_=Math.abs(f))}if(0==n)return r();if(0==d)return r();if(0==h)return r();for(m=h,d=0,h=Ul,_=0,u=1;u<=v;u++){if(c=A[u],Ql&&t(1<=c&&c<=o),f=p*y[c],Ql&&t(0!=f),f>0){if(a[c]!=nu&&a[c]!=iu)continue;b=l[c]/f}else{if(a[c]!=ru&&a[c]!=iu)continue;b=l[c]/f}b<0&&(b=0),b<=m&&_<Math.abs(f)&&(d=c,h=b,_=Math.abs(f))}t(0!=d),r()}function v(e,n){var r,i,o=e.m,a=e.n,l=e.orig_type,s=e.head,c=e.cbar;for(r=1;r<=a;r++){if(i=s[o+r],Ql&&t(1<=i&&i<=o+a),c[r]<-n&&(l[i]==Xc||l[i]==Zc))return 1;if(c[r]>+n&&(l[i]==Jc||l[i]==Zc))return 1}return 0}function x(e){var n,r,o=e.m,a=e.n,l=e.type,s=e.lb,c=e.ub,u=e.orig_type,d=e.orig_lb,f=e.orig_ub,_=e.head,p=e.stat,b=e.cbar;for(i(l,1,u,1,o+a),i(s,1,d,1,o+a),i(c,1,f,1,o+a),n=1;n<=a;n++)switch(r=_[o+n],Ql&&t(1<=r&&r<=o+a),l[r]){case Zc:p[n]=iu;break;case Xc:p[n]=nu;break;case Jc:p[n]=ru;break;case $c:b[n]>=+Hl?p[n]=nu:b[n]<=-Hl?p[n]=ru:Math.abs(s[r])<=Math.abs(c[r])?p[n]=nu:p[n]=ru;break;case eu:p[n]=ou;break;default:t(l!=l)}}function w(e,t){var n,r=e.n,i=e.stat,o=e.cbar;for(n=1;n<=r;n++){if(o[n]<-t&&(i[n]==nu||i[n]==iu))return 1;if(o[n]>+t&&(i[n]==ru||i[n]==iu))return 1}return 0}function k(e){var n,r,i,o,a=e.m,l=e.n,s=e.obj,c=e.head,u=e.bbar;for(o=s[0],n=1;n<=a;n++)i=c[n],Ql&&t(1<=i&&i<=a+l),i>a&&(o+=s[i-a]*u[n]);for(r=1;r<=l;r++)i=c[a+r],Ql&&t(1<=i&&i<=a+l),i>a&&(o+=s[i-a]*f(e,r));return o}function C(e,t,n){var r,i,o,a,c=e.m,u=e.n,d=e.coef,_=e.orig_type,p=e.head,b=e.stat,h=e.phase,m=e.bbar,g=e.cbar;if(!(t.msg_lev<Cu)&&!(t.out_dly>0&&1e3*s(l(),e.tm_beg)<t.out_dly)&&e.it_cnt!=e.it_dpy&&(n||e.it_cnt%t.out_frq==0)){if(a=0,1==h){for(r=1;r<=c;r++)a-=d[p[r]]*m[r];for(i=1;i<=u;i++)a-=d[p[c+i]]*f(e,i)}else for(i=1;i<=u;i++)g[i]<0&&(b[i]!=nu&&b[i]!=iu||(a-=g[i])),g[i]>0&&(b[i]!=ru&&b[i]!=iu||(a+=g[i]));for(o=0,r=1;r<=c;r++)_[p[r]]==eu&&o++;Zl(1==e.phase?" "+e.it_cnt+":  infeas = "+a+" ("+o+")":"|"+e.it_cnt+": obj = "+k(e)+"  infeas = "+a+" ("+o+")"),e.it_dpy=e.it_cnt}}function B(e,n,r,o,a){var l,s,c,u,d,f=e.m,_=e.n,p=e.zeta,b=e.head,h=e.stat,m=e.bbar,g=e.cbar;for(Ql&&(t(n.m==f),t(n.n==_),t(!n.valid&&null==n.bfd),t(e.valid&&null!=e.bfd)),n.valid=1,e.valid=0,n.bfd=e.bfd,e.bfd=null,i(n.head,1,b,1,f),n.pbs_stat=r,n.dbs_stat=o,n.obj_val=k(e),n.it_cnt=e.it_cnt,n.some=a,l=1;l<=f;l++)c=b[l],Ql&&t(1<=c&&c<=f+_),c<=f?(d=n.row[c],d.stat=tu,d.bind=l,d.prim=m[l]/d.rii,d.dual=0):(u=n.col[c-f],u.stat=tu,u.bind=l,u.prim=m[l]*u.sjj,u.dual=0);for(s=1;s<=_;s++)if(c=b[f+s],Ql&&t(1<=c&&c<=f+_),c<=f){switch(d=n.row[c],d.stat=h[s],d.bind=0,h[s]){case nu:d.prim=d.lb;break;case ru:d.prim=d.ub;break;case iu:d.prim=0;break;case ou:d.prim=d.lb;break;default:t(h!=h)}d.dual=g[s]*d.rii/p}else{switch(u=n.col[c-f],u.stat=h[s],u.bind=0,h[s]){case nu:u.prim=u.lb;break;case ru:u.prim=u.ub;break;case iu:u.prim=0;break;case ou:u.prim=u.lb;break;default:t(h!=h)}u.dual=g[s]/u.sjj/p}}var E=.1;this.chrome_workaround_1=function(e,n){var r,i,o,a=e.A_ptr,l=e.A_ind,s=e.A_val,c=e.n;for(i=1,o=1;o<=c;o++)for(a[o]=i,r=n.col[o].ptr;null!=r;r=r.c_next)l[i]=r.row.i,s[i]=r.row.rii*r.val*r.col.sjj,i++;a[c+1]=i,t(i-1==n.nnz)},this.chrome_workaround_2=function(e,n){var r,i,o,a=e.AT_ptr,l=e.AT_ind,s=e.AT_val,c=e.m;for(r=1,i=1;i<=c;i++)for(a[i]=r,o=n.row[i].ptr;null!=o;o=o.r_next)l[r]=o.col.j,s[r]=o.row.rii*o.val*o.col.sjj,r++;a[c+1]=r,t(r-1==n.nnz)};var M,j,O,I,D=2,N=0,S=0,F=0;for(M=function(e){var n=e.m,r=e.n,i=e.nnz,o={};return t(n>0&&r>0),o.m=n,o.n=r,o.type=new Int8Array(1+n+r),o.lb=new Float64Array(1+n+r),o.ub=new Float64Array(1+n+r),o.coef=new Float64Array(1+n+r),o.orig_type=new Int8Array(1+n+r),o.orig_lb=new Float64Array(1+n+r),o.orig_ub=new Float64Array(1+n+r),o.obj=new Float64Array(1+r),o.A_ptr=new Int32Array(1+r+1),o.A_ind=new Int32Array(1+i),o.A_val=new Float64Array(1+i),o.AT_ptr=new Int32Array(1+n+1),o.AT_ind=new Int32Array(1+i),o.AT_val=new Float64Array(1+i),o.head=new Int32Array(1+n+r),o.bind=new Int32Array(1+n+r),o.stat=new Int8Array(1+r),o.bbar=new Float64Array(1+n),o.cbar=new Float64Array(1+r),o.refsp=new Int8Array(1+n+r),o.gamma=new Float64Array(1+n),o.trow_ind=new Int32Array(1+r),o.trow_vec=new Float64Array(1+r),o.tcol_ind=new Int32Array(1+n),o.tcol_vec=new Float64Array(1+n),o.work1=new Float64Array(1+n),o.work2=new Float64Array(1+n),o.work3=new Float64Array(1+n),o.work4=new Float64Array(1+n),o}(e),function(e,n){var r,a,s,c,u,d,f=e.m,_=e.n,p=e.type,b=e.lb,h=e.ub,m=e.coef,g=e.orig_type,A=e.orig_lb,y=e.orig_ub,v=e.obj,x=e.head,w=e.bind,k=e.stat,C=e.refsp,B=e.gamma;for(r=1;r<=f;r++)u=n.row[r],p[r]=u.type,b[r]=u.lb*u.rii,h[r]=u.ub*u.rii,m[r]=0;for(a=1;a<=_;a++)d=n.col[a],p[f+a]=d.type,b[f+a]=d.lb/d.sjj,h[f+a]=d.ub/d.sjj,m[f+a]=d.coef*d.sjj;for(i(g,1,p,1,f+_),i(A,1,b,1,f+_),i(y,1,h,1,f+_),v[0]=n.c0,i(v,1,m,f+1,_),c=0,a=1;a<=_;a++)c<Math.abs(v[a])&&(c=Math.abs(v[a]));switch(0==c&&(c=1),n.dir){case Hc:e.zeta=1/c;break;case Wc:e.zeta=-1/c;break;default:t(n!=n)}for(Math.abs(e.zeta)<1&&(e.zeta*=1e3),a=1;a<=_;a++)m[f+a]*=e.zeta;for(chrome_workaround_1(e,n),chrome_workaround_2(e,n),t(n.valid),i(x,1,n.head,1,f),s=0,r=1;r<=f;r++)u=n.row[r],u.stat!=tu&&(s++,t(s<=_),x[f+s]=r,k[s]=u.stat);for(a=1;a<=_;a++)d=n.col[a],d.stat!=tu&&(s++,t(s<=_),x[f+s]=f+a,k[s]=d.stat);for(t(s==_),s=1;s<=f+_;s++)w[x[s]]=s;for(e.valid=1,n.valid=0,e.bfd=n.bfd,n.bfd=null,e.phase=0,e.tm_beg=l(),e.it_beg=e.it_cnt=n.it_cnt,e.it_dpy=-1,e.refct=0,o(C,1,0,f+_),r=1;r<=f;r++)B[r]=1}(M,e),n.msg_lev>=Eu&&Zl("Objective scale factor = "+M.zeta);;){if(0==D){if(0!=(I=function(e){var t=L(e.bfd,e.m,null,r,e);return e.valid=0==t,t}(M)))return n.msg_lev>=ku&&(Zl("Error: unable to factorize the basis matrix ("+I+")"),Zl("Sorry, basis recovery procedure not implemented yet")),t(!e.valid&&null==e.bfd),e.bfd=M.bfd,M.bfd=null,e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.it_cnt=M.it_cnt,e.some=0,I=bd;M.valid=1,D=1,N=S=0}if(0!=S||(m(M),S=1,0==M.phase&&(0!=v(M,.9*n.tol_dj)?(M.phase=1,function(e){var n,r,i=e.m,o=e.n,a=e.type,l=e.lb,s=e.ub,c=e.orig_type,u=e.head,d=e.stat,f=e.cbar;for(r=1;r<=i+o;r++)switch(c[r]){case Zc:a[r]=$c,l[r]=-1e3,s[r]=1e3;break;case Xc:a[r]=$c,l[r]=0,s[r]=1;break;case Jc:a[r]=$c,l[r]=-1,s[r]=0;break;case $c:case eu:a[r]=eu,l[r]=s[r]=0;break;default:t(c!=c)}for(n=1;n<=o;n++)r=u[i+n],Ql&&t(1<=r&&r<=i+o),a[r]==eu?d[n]=ou:f[n]>=0?d[n]=nu:d[n]=ru}(M)):(M.phase=2,x(M)),t(0==w(M,n.tol_dj)),M.refct=0,N=0),0==w(M,n.tol_dj))){switch(t(1==M.phase||2==M.phase),1==M.phase&&0==v(M,n.tol_dj)&&(C(M,n,1),M.phase=2,1!=S&&(m(M),S=1),x(M),M.refct=0,N=0),0==N&&(h(M),2==M.phase&&(M.bbar[0]=k(M)),N=1),n.pricing){case Iu:break;case Du:0==M.refct&&function(e){var n,r,i=e.m,a=e.n,l=e.head,s=e.refsp,c=e.gamma;for(t(0==e.refct),e.refct=1e3,o(s,1,0,i+a),n=1;n<=i;n++)r=l[n],s[r]=1,c[n]=1}(M);break;default:t(n!=n)}t(D&&N&&S);if(2==M.phase&&M.zeta<0&&n.obj_ll>-Ul&&M.bbar[0]<=n.obj_ll){if(1!=N||1!=S){1!=N&&(N=0),1!=S&&(S=0);continue}return C(M,n,1),n.msg_lev>=Bu&&Zl("OBJECTIVE LOWER LIMIT REACHED; SEARCH TERMINATED"),B(M,e,hu,bu,0),I=hd}if(2==M.phase&&M.zeta>0&&n.obj_ul<+Ul&&M.bbar[0]>=n.obj_ul){if(1!=N||1!=S){1!=N&&(N=0),1!=S&&(S=0);continue}return C(M,n,1),n.msg_lev>=Bu&&Zl("OBJECTIVE UPPER LIMIT REACHED; SEARCH TERMINATED"),B(M,e,hu,bu,0),I=md}if(n.it_lim<Yl&&M.it_cnt-M.it_beg>=n.it_lim){if(2==M.phase&&1!=N||1!=S){2==M.phase&&1!=N&&(N=0),1!=S&&(S=0);continue}switch(C(M,n,1),n.msg_lev>=Bu&&Zl("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),M.phase){case 1:O=hu,x(M),h(M);break;case 2:O=bu;break;default:t(M!=M)}return B(M,e,hu,O,0),I=gd}if(n.tm_lim<Yl&&1e3*s(l(),M.tm_beg)>=n.tm_lim){if(2==M.phase&&1!=N||1!=S){2==M.phase&&1!=N&&(N=0),1!=S&&(S=0);continue}switch(C(M,n,1),n.msg_lev>=Bu&&Zl("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),M.phase){case 1:O=hu,x(M),h(M);break;case 2:O=bu;break;default:t(M!=M)}return B(M,e,hu,O,0),I=Ad}if(C(M,n,0),function(e,n){var r=e.m;if(Ql)var i=e.n;var o,a,l,s,c,u,d,f,_=e.type,p=e.lb,b=e.ub,h=e.head,m=e.bbar,g=e.gamma;for(l=0,s=0,c=0,o=1;o<=r;o++)a=h[o],Ql&&t(1<=a&&a<=r+i),d=0,_[a]!=Xc&&_[a]!=$c&&_[a]!=eu||(u=n*(1+E*Math.abs(p[a])),m[o]<p[a]-u&&(d=p[a]-m[o])),_[a]!=Jc&&_[a]!=$c&&_[a]!=eu||(u=n*(1+E*Math.abs(b[a])),m[o]>b[a]+u&&(d=b[a]-m[o])),0!=d&&(Ql&&t(g[o]>=0),f=g[o],f<Hl&&(f=Hl),f=d*d/f,c<f&&(l=o,s=d,c=f));e.p=l,e.delta=s}(M,n.tol_bnd),0==M.p){if(1!=N||1!=S){1!=N&&(N=0),1!=S&&(S=0);continue}switch(C(M,n,1),M.phase){case 1:n.msg_lev>=Bu&&Zl("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"),x(M),h(M),j=hu,O=mu;break;case 2:n.msg_lev>=Bu&&Zl("OPTIMAL SOLUTION FOUND"),j=O=bu;break;default:t(M!=M)}return B(M,e,j,O,0),I=0}var Q=M.work4;switch(function(e,n){var r,i=e.m,o=e.p;for(Ql&&t(1<=o&&o<=i),r=1;r<=i;r++)n[r]=0;n[o]=1,t(e.valid),z(e.bfd,Q)}(M,Q),F&&function(e,n){var r,i=e.m,o=e.p,a=e.work3;for(Ql&&t(1<=o&&o<=i),r=1;r<=i;r++)a[r]=0;a[o]=1,d(e,a,n)}(M,Q),function(e,t){var n,r,i,o=e.m;for(r=0,n=1;n<=o;n++)0!=t[n]&&r++;i=r/o,i>=.2?g(e,t):A(e,t)}(M,Q),function(e,n){if(Ql)var r=e.n,i=e.stat;var o,a,l,s,c,u,d=e.trow_nnz,f=e.trow_ind,_=e.trow_vec;for(s=0,l=1;l<=d;l++)Ql&&(o=f[l],t(1<=o&&o<=r),t(i[o]!=ou)),u=Math.abs(_[f[l]]),s<u&&(s=u);for(e.trow_max=s,c=n*(1+.01*s),a=0;a<d;)o=f[d],Math.abs(_[o])<c?d--:(a++,f[d]=f[a],f[a]=o);e.trow_num=a}(M,n.tol_bnd),n.r_test){case Nu:y(M,0);break;case Su:y(M,.3*n.tol_dj);break;default:t(n!=n)}if(0==M.q){if(1!=N||1!=S||!F){1!=N&&(N=0),1!=S&&(S=0),F=1;continue}switch(C(M,n,1),M.phase){case 1:n.msg_lev>=ku&&Zl("Error: unable to choose basic variable on phase I"),t(!e.valid&&null==e.bfd),e.bfd=M.bfd,M.bfd=null,e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.it_cnt=M.it_cnt,e.some=0,I=bd;break;case 2:n.msg_lev>=Bu&&Zl("PROBLEM HAS NO FEASIBLE SOLUTION"),B(M,e,mu,bu,M.head[M.p]),I=0;break;default:t(M!=M)}return I}var U=M.trow_vec[M.q],R=1e-5*(1+.01*M.trow_max);if(Math.abs(U)<R&&(n.msg_lev>=Eu&&Zl("piv = "+U+"; eps = "+R),!F))F=5;else{!function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l=e.head,s=e.q,c=e.tcol_ind,u=e.tcol_vec,d=e.tcol_vec;for(Ql&&t(1<=s&&s<=r),o=l[n+s],Ql&&t(1<=o&&o<=n+r),i=1;i<=n;i++)d[i]=0;if(o<=n)d[o]=-1;else{var f,_,p,b=e.A_ptr,h=e.A_ind,m=e.A_val;for(f=b[o-n],_=b[o-n+1],p=f;p<_;p++)d[h[p]]=m[p]}for(t(e.valid),T(e.bfd,u),a=0,i=1;i<=n;i++)0!=u[i]&&(c[++a]=i);e.tcol_nnz=a}(M),F&&function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l=e.head,s=e.q,u=e.tcol_ind,d=e.tcol_vec,f=e.work3;for(Ql&&t(1<=s&&s<=r),o=l[n+s],Ql&&t(1<=o&&o<=n+r),i=1;i<=n;i++)f[i]=0;if(o<=n)f[o]=-1;else{var _,p,b,h=e.A_ptr,m=e.A_ind,g=e.A_val;for(_=h[o-n],p=h[o-n+1],b=_;b<p;b++)f[m[b]]=g[b]}for(c(e,f,d),a=0,i=1;i<=n;i++)0!=d[i]&&(u[++a]=i);e.tcol_nnz=a}(M);var G=M.tcol_vec[M.p],Y=M.trow_vec[M.q];if(t(0!=G),Math.abs(G-Y)>1e-8*(1+Math.abs(G))||!(G>0&&Y>0||G<0&&Y<0)){if(n.msg_lev>=Eu&&Zl("piv1 = "+G+"; piv2 = "+Y),1!=D||!F){1!=D&&(D=0),F=5;continue}0==M.tcol_vec[M.p]&&(M.tcol_nnz++,t(M.tcol_nnz<=M.m),M.tcol_ind[M.tcol_nnz]=M.p),M.tcol_vec[M.p]=Y}switch(function(e){if(Ql)var n=e.m,r=e.n;var i,o,a,l=e.bbar,s=e.p,c=e.delta,u=e.q,d=e.tcol_nnz,_=e.tcol_ind,p=e.tcol_vec;if(Ql&&(t(1<=s&&s<=n),t(1<=u&&u<=r),t(0!=p[s])),a=c/p[s],l[s]=f(e,u)+a,0!=a)for(o=1;o<=d;o++)i=_[o],Ql&&t(1<=i&&i<=n),i!=s&&(l[i]+=p[i]*a)}(M),2==M.phase&&(M.bbar[0]+=M.cbar[M.q]/M.zeta*(M.delta/M.tcol_vec[M.p])),N=2,function(e){if(Ql)var n=e.n;var r,i,o=e.cbar,a=e.trow_nnz,l=e.trow_ind,s=e.trow_vec,c=e.q,u=e.new_dq;if(Ql&&t(1<=c&&c<=n),o[c]=u,0!=u)for(i=1;i<=a;i++)r=l[i],Ql&&t(1<=r&&r<=n),r!=c&&(o[r]-=s[r]*u)}(M),S=2,n.pricing){case Iu:break;case Du:M.refct>0&&function(e){var n=e.m;if(Ql)var r=e.n;var i,o,a,l,s,c,u,d,f,_,p=e.type,b=e.head,h=e.refsp,m=e.gamma,g=e.p,A=e.trow_nnz,y=e.trow_ind,v=e.trow_vec,x=e.q,w=e.tcol_nnz,k=e.tcol_ind,C=e.tcol_vec,B=e.work3;for(Ql&&(t(1<=g&&g<=n),t(1<=x&&x<=r)),t(e.refct>0),e.refct--,Ql&&t(p[b[g]]!=Zc),s=c=h[b[g]]?1:0,i=1;i<=n;i++)B[i]=0;for(l=1;l<=A;l++)if(o=y[l],Ql&&t(1<=o&&o<=r),a=b[n+o],Ql&&(t(1<=a&&a<=n+r),t(p[a]!=eu)),h[a])if(d=v[o],s+=d*d,a<=n)B[a]+=d;else{var E,M,j,O=e.A_ptr,I=e.A_ind,D=e.A_val;for(E=O[a-n],M=O[a-n+1],j=E;j<M;j++)B[I[j]]-=d*D[j]}for(t(e.valid),T(e.bfd,B),u=C[g],Ql&&t(0!=u),l=1;l<=w;l++)i=k[l],Ql&&t(1<=i&&i<=n),a=b[i],Ql&&t(1<=a&&a<=n+r),i!=g&&(p[b[i]]!=Zc?(d=C[i]/u,f=m[i]+d*d*s+2*d*B[i],_=(h[a]?1:0)+c*d*d,m[i]=f>=_?f:_,m[i]<Hl&&(m[i]=Hl)):Ql&&t(1==m[i]));if(p[b[n+x]]==Zc?m[g]=1:(m[g]=s/(u*u),m[g]<Hl&&(m[g]=Hl)),a=b[g],p[a]==eu&&h[a])for(h[a]=0,l=1;l<=w;l++){if((i=k[l])==g){if(p[b[n+x]]==Zc)continue;d=1/C[g]}else{if(p[b[i]]==Zc)continue;d=C[i]/C[g]}m[i]-=d*d,m[i]<Hl&&(m[i]=Hl)}}(M);break;default:t(n!=n)}I=function(e,n,r){var i=e.m;if(Ql)var o=e.n;var a,l;if(Ql&&(t(1<=n&&n<=i),t(1<=r&&r<=i+o)),r<=i){var s=new Array(2);l=new Array(2),s[1]=r,l[1]=1,t(e.valid),a=P(e.bfd,n,0,1,s,0,l)}else{var c=e.A_ptr,u=e.A_ind,d=e.A_val;l=e.work1;var f,_,p,b;for(f=c[r-i],_=c[r-i+1],b=0,p=f;p<_;p++)l[++b]=-d[p];t(e.valid),a=P(e.bfd,n,0,b,u,f-1,l)}return e.valid=0==a,a}(M,M.p,M.head[M.m+M.q]),0==I?D=2:(M.valid=0,D=0),function(e){var n=e.m;if(Ql)var r=e.n;var i,o=e.type,a=e.head,l=e.bind,s=e.stat,c=e.p,u=e.delta,d=e.q;Ql&&(t(1<=c&&c<=n),t(1<=d&&d<=r)),i=a[c],a[c]=a[n+d],a[n+d]=i,l[a[c]]=c,l[a[n+d]]=n+d,o[i]==eu?s[d]=ou:u>0?(Ql&&t(o[i]==Xc||o[i]==$c),s[d]=nu):(Ql&&t(o[i]==Jc||o[i]==$c),s[d]=ru)}(M),M.it_cnt++,F>0&&F--}}else{if(n.msg_lev>=ku&&Zl("Warning: numerical instability (dual simplex, phase "+(1==M.phase?"I":"II")+")"),n.meth==ju)return B(M,e,pu,pu,0),I=bd;M.phase=0,D=0,F=5}}}var Ql=!1,Ul=Number.MAX_VALUE,Rl=Number.MIN_VALUE,Gl=16,Yl=2147483647,Hl=2.220446049250313e-16,Wl=1,Vl=1e8,ql=1e8,Kl=-1,Zl=function(e){};e.glp_get_print_func=function(){return Zl},e.glp_set_print_func=function(e){Zl=e};var Xl={},Jl=e.glp_version=function(){return Gc+"."+Yc},$l=3621377730,es=e.glp_create_prob=function(){var e={};return A(e),e},ts=e.glp_set_prob_name=function(e,t){var r=e.tree;null!=r&&0!=r.reason&&n("glp_set_prob_name: operation not allowed"),e.name=t},ns=e.glp_set_obj_name=function(e,t){var r=e.tree;null!=r&&0!=r.reason&&n("glp_set_obj_name: operation not allowed"),e.obj=t},rs=e.glp_set_obj_dir=function(e,t){var r=e.tree;null!=r&&0!=r.reason&&n("glp_set_obj_dir: operation not allowed"),t!=Hc&&t!=Wc&&n("glp_set_obj_dir: dir = "+t+"; invalid direction flag"),e.dir=t},is=e.glp_add_rows=function(e,r){var i,o=e.tree;r<1&&n("glp_add_rows: nrs = "+r+"; invalid number of rows"),r>Vl-e.m&&n("glp_add_rows: nrs = "+r+"; too many rows");var a=e.m+r;if(e.m_max<a){for(;e.m_max<a;)e.m_max+=e.m_max,t(e.m_max>0);e.row.length=1+e.m_max,e.head=new Int32Array(1+e.m_max)}for(var l=e.m+1;l<=a;l++){if(e.row[l]=i={},i.i=l,i.name=null,i.node=null,i.level=0,i.origin=0,i.klass=0,null!=o)switch(o.reason){case 0:break;case td:t(null!=o.curr),i.level=o.curr.level,i.origin=Vu;break;case id:t(null!=o.curr),i.level=o.curr.level,i.origin=qu;break;default:t(o!=o)}i.type=Zc,i.lb=i.ub=0,i.ptr=null,i.rii=1,i.stat=tu,i.bind=0,i.prim=i.dual=0,i.pval=i.dval=0,i.mipx=0}return e.m=a,e.valid=0,null!=o&&0!=o.reason&&(o.reopt=1),a-r+1},os=e.glp_add_cols=function(e,r){var i,o=e.tree;null!=o&&0!=o.reason&&n("glp_add_cols: operation not allowed"),r<1&&n("glp_add_cols: ncs = "+r+"; invalid number of columns"),r>ql-e.n&&n("glp_add_cols: ncs = "+r+"; too many columns");var a=e.n+r;if(e.n_max<a){for(;e.n_max<a;)e.n_max+=e.n_max,t(e.n_max>0);e.col.length=1+e.n_max}for(var l=e.n+1;l<=a;l++)e.col[l]=i={},i.j=l,i.name=null,i.node=null,i.kind=Vc,i.type=eu,i.lb=i.ub=0,i.coef=0,i.ptr=null,i.sjj=1,i.stat=ou,i.bind=0,i.prim=i.dual=0,i.pval=i.dval=0,i.mipx=0;return e.n=a,a-r+1},as=e.glp_set_row_name=function(e,r,i){var o=e.tree;1<=r&&r<=e.m||n("glp_set_row_name: i = "+r+"; row number out of range");var a=e.row[r];null!=o&&0!=o.reason&&(t(null!=o.curr),t(a.level==o.curr.level)),null!=a.name&&(delete e.r_tree[a.name],a.name=null),null!=i&&(a.name=i,e.r_tree[a.name]=a)},ls=e.glp_set_col_name=function(e,t,r){var i=e.tree;null!=i&&0!=i.reason&&n("glp_set_col_name: operation not allowed"),1<=t&&t<=e.n||n("glp_set_col_name: j = "+t+"; column number out of range");var o=e.col[t];null!=o.name&&(delete e.c_tree[o.name],o.name=null),null!=r&&(o.name=r,e.c_tree[o.name]=o)},ss=e.glp_set_row_bnds=function(e,t,r,i,o){1<=t&&t<=e.m||n("glp_set_row_bnds: i = "+t+"; row number out of range");var a=e.row[t];switch(a.type=r,r){case Zc:a.lb=a.ub=0,a.stat!=tu&&(a.stat=iu);break;case Xc:a.lb=i,a.ub=0,a.stat!=tu&&(a.stat=nu);break;case Jc:a.lb=0,a.ub=o,a.stat!=tu&&(a.stat=ru);break;case $c:a.lb=i,a.ub=o,a.stat!=tu&&a.stat!=nu&&a.stat!=ru&&(a.stat=Math.abs(i)<=Math.abs(o)?nu:ru);break;case eu:a.lb=a.ub=i,a.stat!=tu&&(a.stat=ou);break;default:n("glp_set_row_bnds: i = "+t+"; type = "+r+"; invalid row type")}},cs=e.glp_set_col_bnds=function(e,t,r,i,o){1<=t&&t<=e.n||n("glp_set_col_bnds: j = "+t+"; column number out of range");var a=e.col[t];switch(a.type=r,r){case Zc:a.lb=a.ub=0,a.stat!=tu&&(a.stat=iu);break;case Xc:a.lb=i,a.ub=0,a.stat!=tu&&(a.stat=nu);break;case Jc:a.lb=0,a.ub=o,a.stat!=tu&&(a.stat=ru);break;case $c:a.lb=i,a.ub=o,a.stat!=tu&&a.stat!=nu&&a.stat!=ru&&(a.stat=Math.abs(i)<=Math.abs(o)?nu:ru);break;case eu:a.lb=a.ub=i,a.stat!=tu&&(a.stat=ou);break;default:n("glp_set_col_bnds: j = "+t+"; type = "+r+"; invalid column type")}},us=e.glp_set_obj_coef=function(e,t,r){var i=e.tree;null!=i&&0!=i.reason&&n("glp_set_obj_coef: operation not allowed"),0<=t&&t<=e.n||n("glp_set_obj_coef: j = "+t+"; column number out of range"),0==t?e.c0=r:e.col[t].coef=r},ds=e.glp_set_mat_row=function(e,r,i,o,a){var l,s,c,u,d,f=e.tree;1<=r&&r<=e.m||n("glp_set_mat_row: i = "+r+"; row number out of range");var _=e.row[r];for(null!=f&&0!=f.reason&&(t(null!=f.curr),t(_.level==f.curr.level));null!=_.ptr;)s=_.ptr,_.ptr=s.r_next,l=s.col,null==s.c_prev?l.ptr=s.c_next:s.c_prev.c_next=s.c_next,null!=s.c_next&&(s.c_next.c_prev=s.c_prev),e.nnz--,l.stat==tu&&(e.valid=0);for(0<=i&&i<=e.n||n("glp_set_mat_row: i = "+r+"; len = "+i+"; invalid row length "),i>5e8-e.nnz&&n("glp_set_mat_row: i = "+r+"; len = "+i+"; too many constraint coefficients"),d=1;d<=i;d++)u=o[d],1<=u&&u<=e.n||n("glp_set_mat_row: i = "+r+"; ind["+d+"] = "+u+"; column index out of range"),l=e.col[u],null!=l.ptr&&l.ptr.row.i==r&&n("glp_set_mat_row: i = "+r+"; ind["+d+"] = "+u+"; duplicate column indices not allowed"),s={},e.nnz++,s.row=_,s.col=l,s.val=a[d],s.r_prev=null,s.r_next=_.ptr,s.c_prev=null,s.c_next=l.ptr,null!=s.r_next&&(s.r_next.r_prev=s),null!=s.c_next&&(s.c_next.c_prev=s),_.ptr=l.ptr=s,l.stat==tu&&0!=s.val&&(e.valid=0);for(s=_.ptr;null!=s;s=c)c=s.r_next,0==s.val&&(null==s.r_prev?_.ptr=c:s.r_prev.r_next=c,null!=c&&(c.r_prev=s.r_prev),t(null==s.c_prev),s.col.ptr=s.c_next,null!=s.c_next&&(s.c_next.c_prev=null),e.nnz--)},fs=e.glp_set_mat_col=function(e,r,i,o,a){var l,s,c,u,d,f=e.tree;null!=f&&0!=f.reason&&n("glp_set_mat_col: operation not allowed"),1<=r&&r<=e.n||n("glp_set_mat_col: j = "+r+"; column number out of range");for(var _=e.col[r];null!=_.ptr;)s=_.ptr,_.ptr=s.c_next,l=s.row,null==s.r_prev?l.ptr=s.r_next:s.r_prev.r_next=s.r_next,null!=s.r_next&&(s.r_next.r_prev=s.r_prev),e.nnz--;for(0<=i&&i<=e.m||n("glp_set_mat_col: j = "+r+"; len = "+i+"; invalid column length"),i>5e8-e.nnz&&n("glp_set_mat_col: j = "+r+"; len = "+i+"; too many constraint coefficients"),d=1;d<=i;d++)u=o[d],1<=u&&u<=e.m||n("glp_set_mat_col: j = "+r+"; ind["+d+"] = "+u+"; row index out of range"),l=e.row[u],null!=l.ptr&&l.ptr.col.j==r&&n("glp_set_mat_col: j = "+r+"; ind["+d+"] = "+u+"; duplicate row indices not allowed"),s={},e.nnz++,s.row=l,s.col=_,s.val=a[d],s.r_prev=null,s.r_next=l.ptr,s.c_prev=null,s.c_next=_.ptr,null!=s.r_next&&(s.r_next.r_prev=s),null!=s.c_next&&(s.c_next.c_prev=s),l.ptr=_.ptr=s;for(s=_.ptr;null!=s;s=c)c=s.c_next,0==s.val&&(t(null==s.r_prev),s.row.ptr=s.r_next,null!=s.r_next&&(s.r_next.r_prev=null),null==s.c_prev?_.ptr=c:s.c_prev.c_next=c,null!=c&&(c.c_prev=s.c_prev),e.nnz--);_.stat==tu&&(e.valid=0)},_s=(e.glp_load_matrix=function(e,r,i,o,a){var l,s,c,u,d,f,_,p=e.tree;for(null!=p&&0!=p.reason&&n("glp_load_matrix: operation not allowed"),d=1;d<=e.m;d++)for(l=e.row[d];null!=l.ptr;)c=l.ptr,l.ptr=c.r_next,e.nnz--;for(t(0==e.nnz),f=1;f<=e.n;f++)e.col[f].ptr=null;for(r<0&&n("glp_load_matrix: ne = "+r+"; invalid number of constraint coefficients"),r>5e8&&n("glp_load_matrix: ne = "+r+"; too many constraint coefficients"),_=1;_<=r;_++)d=i[_],f=o[_],1<=d&&d<=e.m||n("glp_load_matrix: ia["+_+"] = "+d+"; row index out of range"),l=e.row[d],1<=f&&f<=e.n||n("glp_load_matrix: ja["+_+"] = "+f+"; column index out of range"),s=e.col[f],c={},e.nnz++,c.row=l,c.col=s,c.val=a[_],c.r_prev=null,c.r_next=l.ptr,null!=c.r_next&&(c.r_next.r_prev=c),l.ptr=c;for(t(e.nnz==r),d=1;d<=e.m;d++)for(c=e.row[d].ptr;null!=c;c=c.r_next){if(s=c.col,null!=s.ptr&&s.ptr.row.i==d){for(_=1;_<=r&&(i[_]!=d||o[_]!=s.j);_++);n("glp_load_mat: ia["+_+"] = "+d+"; ja["+_+"] = "+s.j+"; duplicate indices not allowed")}c.c_prev=null,c.c_next=s.ptr,null!=c.c_next&&(c.c_next.c_prev=c),s.ptr=c}for(d=1;d<=e.m;d++)for(l=e.row[d],c=l.ptr;null!=c;c=u)u=c.r_next,0==c.val&&(null==c.r_prev?l.ptr=u:c.r_prev.r_next=u,null!=u&&(u.r_prev=c.r_prev),null==c.c_prev?c.col.ptr=c.c_next:c.c_prev.c_next=c.c_next,null!=c.c_next&&(c.c_next.c_prev=c.c_prev),e.nnz--);e.valid=0},e.glp_check_dup=function(e,r,i,o,a){var l,s,c,u,d,f;for(e<0&&n("glp_check_dup: m = %d; invalid parameter"),r<0&&n("glp_check_dup: n = %d; invalid parameter"),i<0&&n("glp_check_dup: ne = %d; invalid parameter"),i>0&&null==o&&n("glp_check_dup: ia = "+o+"; invalid parameter"),i>0&&null==a&&n("glp_check_dup: ja = "+a+"; invalid parameter"),c=1;c<=i;c++)if(l=o[c],s=a[c],!(1<=l&&l<=e&&1<=s&&s<=r))return-c;if(0==e||0==r)return 0;for(u=new Int32Array(1+e),d=new Int32Array(1+i),f=new Int8Array(1+r),c=1;c<=i;c++)l=o[c],d[c]=u[l],u[l]=c;for(l=1;l<=e;l++){for(c=u[l];0!=c;c=d[c]){if(s=a[c],f[s]){for(c=1;c<=i&&(o[c]!=l||a[c]!=s);c++);for(t(c<=i),c++;c<=i&&(o[c]!=l||a[c]!=s);c++);return t(c<=i),+c}f[s]=1}for(c=u[l];0!=c;c=d[c])f[a[c]]=0}return 0},e.glp_sort_matrix=function(e){var t,r,i;for(null!=e&&e.magic==$l||n("glp_sort_matrix: P = "+e+"; invalid problem object"),r=e.m;r>=1;r--)e.row[r].ptr=null;for(i=e.n;i>=1;i--)for(t=e.col[i].ptr;null!=t;t=t.c_next)r=t.row.i,t.r_prev=null,t.r_next=e.row[r].ptr,null!=t.r_next&&(t.r_next.r_prev=t),e.row[r].ptr=t;for(i=e.n;i>=1;i--)e.col[i].ptr=null;for(r=e.m;r>=1;r--)for(t=e.row[r].ptr;null!=t;t=t.r_next)i=t.col.j,t.c_prev=null,t.c_next=e.col[i].ptr,null!=t.c_next&&(t.c_next.c_prev=t),e.col[i].ptr=t}),ps=e.glp_del_rows=function(e,r,i){var o,a,l,s,c=e.tree;for(1<=r&&r<=e.m||n("glp_del_rows: nrs = "+r+"; invalid number of rows"),l=1;l<=r;l++)a=i[l],1<=a&&a<=e.m||n("glp_del_rows: num["+l+"] = "+a+"; row number out of range"),o=e.row[a],null!=c&&0!=c.reason&&(c.reason!=td&&c.reason!=id&&n("glp_del_rows: operation not allowed"),t(null!=c.curr),o.level!=c.curr.level&&n("glp_del_rows: num["+l+"] = "+a+"; invalid attempt to delete row created not in current subproblem"),o.stat!=tu&&n("glp_del_rows: num["+l+"] = "+a+"; invalid attempt to delete active row (constraint)"),c.reinv=1),0==o.i&&n("glp_del_rows: num["+l+"] = "+a+"; duplicate row numbers not allowed"),as(e,a,null),t(null==o.node),ds(e,a,0,null,null),t(null==o.ptr),o.i=0;for(s=0,a=1;a<=e.m;a++)o=e.row[a],0!=o.i&&(o.i=++s,e.row[o.i]=o);e.m=s,e.valid=0},bs=(e.glp_del_cols=function(e,r,i){var o,a,l,s,c=e.tree;for(null!=c&&0!=c.reason&&n("glp_del_cols: operation not allowed"),1<=r&&r<=e.n||n("glp_del_cols: ncs = "+r+"; invalid number of columns"),l=1;l<=r;l++)a=i[l],1<=a&&a<=e.n||n("glp_del_cols: num["+l+"] = "+a+"; column number out of range"),o=e.col[a],0==o.j&&n("glp_del_cols: num["+l+"] = "+a+"; duplicate column numbers not allowed"),ls(e,a,null),t(null==o.node),fs(e,a,0,null,null),t(null==o.ptr),o.j=0,o.stat==tu&&(e.valid=0);for(s=0,a=1;a<=e.n;a++)o=e.col[a],0!=o.j&&(o.j=++s,e.col[o.j]=o);if(e.n=s,e.valid){var u=e.m,d=e.head;for(a=1;a<=s;a++)0!=(l=e.col[a].bind)&&(t(1<=l&&l<=u),d[l]=u+a)}},e.glp_copy_prob=function(e,t,r){var i,o,a,l,s,c=e.tree,u={};null!=c&&0!=c.reason&&n("glp_copy_prob: operation not allowed"),e==t&&n("glp_copy_prob: copying problem object to itself not allowed"),r!=$u&&r!=ed&&n("glp_copy_prob: names = "+r+"; invalid parameter"),hs(e),r&&null!=t.name&&ts(e,t.name),r&&null!=t.obj&&ns(e,t.obj),e.dir=t.dir,e.c0=t.c0,t.m>0&&is(e,t.m),t.n>0&&os(e,t.n),dc(t,u),fc(e,u),e.pbs_stat=t.pbs_stat,e.dbs_stat=t.dbs_stat,e.obj_val=t.obj_val,e.some=t.some,e.ipt_stat=t.ipt_stat,e.ipt_obj=t.ipt_obj,e.mip_stat=t.mip_stat,e.mip_obj=t.mip_obj;var d,f;for(i=1;i<=t.m;i++)d=e.row[i],f=t.row[i],r&&null!=f.name&&as(e,i,f.name),d.type=f.type,d.lb=f.lb,d.ub=f.ub,d.rii=f.rii,d.stat=f.stat,d.prim=f.prim,d.dual=f.dual,d.pval=f.pval,d.dval=f.dval,d.mipx=f.mipx;for(l=new Int32Array(1+t.m),s=new Float64Array(1+t.m),o=1;o<=t.n;o++)d=e.col[o],f=t.col[o],r&&null!=f.name&&ls(e,o,f.name),d.kind=f.kind,d.type=f.type,d.lb=f.lb,d.ub=f.ub,d.coef=f.coef,a=Os(t,o,l,s),fs(e,o,a,l,s),d.sjj=f.sjj,d.stat=f.stat,d.prim=f.prim,d.dual=f.dual,d.pval=f.pval,d.dval=f.dval,d.mipx=f.mipx}),hs=e.glp_erase_prob=function(e){var t=e.tree;null!=t&&0!=t.reason&&n("glp_erase_prob: operation not allowed"),y(e),A(e)},ms=(e.glp_get_prob_name=function(e){return e.name},e.glp_get_obj_name=function(e){return e.obj}),gs=e.glp_get_obj_dir=function(e){return e.dir},As=e.glp_get_num_rows=function(e){return e.m},ys=e.glp_get_num_cols=function(e){return e.n},vs=e.glp_get_row_name=function(e,t){return 1<=t&&t<=e.m||n("glp_get_row_name: i = "+t+"; row number out of range"),e.row[t].name},xs=e.glp_get_col_name=function(e,t){return 1<=t&&t<=e.n||n("glp_get_col_name: j = "+t+"; column number out of range"),e.col[t].name},ws=e.glp_get_row_type=function(e,t){return 1<=t&&t<=e.m||n("glp_get_row_type: i = "+t+"; row number out of range"),e.row[t].type},ks=e.glp_get_row_lb=function(e,r){var i;switch(1<=r&&r<=e.m||n("glp_get_row_lb: i = "+r+"; row number out of range"),e.row[r].type){case Zc:case Jc:i=-Ul;break;case Xc:case $c:case eu:i=e.row[r].lb;break;default:t(e!=e)}return i},Cs=e.glp_get_row_ub=function(e,r){var i;switch(1<=r&&r<=e.m||n("glp_get_row_ub: i = "+r+"; row number out of range"),e.row[r].type){case Zc:case Xc:i=+Ul;break;case Jc:case $c:case eu:i=e.row[r].ub;break;default:t(e!=e)}return i},Bs=e.glp_get_col_type=function(e,t){return 1<=t&&t<=e.n||n("glp_get_col_type: j = "+t+"; column number out of range"),e.col[t].type},Es=e.glp_get_col_lb=function(e,r){var i;switch(1<=r&&r<=e.n||n("glp_get_col_lb: j = "+r+"; column number out of range"),e.col[r].type){case Zc:case Jc:i=-Ul;break;case Xc:case $c:case eu:i=e.col[r].lb;break;default:t(e!=e)}return i},Ms=e.glp_get_col_ub=function(e,r){var i;switch(1<=r&&r<=e.n||n("glp_get_col_ub: j = "+r+"; column number out of range"),e.col[r].type){case Zc:case Xc:i=+Ul;break;case Jc:case $c:case eu:i=e.col[r].ub;break;default:t(e!=e)}return i},js=(e.glp_get_obj_coef=function(e,t){return 0<=t&&t<=e.n||n("glp_get_obj_coef: j = "+t+"; column number out of range"),0==t?e.c0:e.col[t].coef},e.glp_get_num_nz=function(e){return e.nnz},e.glp_get_mat_row=function(e,r,i,o){var a,l;for(1<=r&&r<=e.m||n("glp_get_mat_row: i = "+r+"; row number out of range"),l=0,a=e.row[r].ptr;null!=a;a=a.r_next)l++,null!=i&&(i[l]=a.col.j),null!=o&&(o[l]=a.val);return t(l<=e.n),l}),Os=e.glp_get_mat_col=function(e,r,i,o){var a,l;for(1<=r&&r<=e.n||n("glp_get_mat_col: j = "+r+"; column number out of range"),l=0,a=e.col[r].ptr;null!=a;a=a.c_next)l++,null!=i&&(i[l]=a.row.i),null!=o&&(o[l]=a.val);return t(l<=e.m),l},Is=e.glp_create_index=function(e){var t,n,r,i;if(null==e.r_tree)for(e.r_tree={},r=1;r<=e.m;r++)t=e.row[r],null!=t.name&&(e.r_tree[t.name]=t);if(null==e.c_tree)for(e.c_tree={},i=1;i<=e.n;i++)n=e.col[i],null!=n.name&&(e.c_tree[n.name]=n)},Ds=e.glp_find_row=function(e,t){var r=0;null==e.r_tree&&n("glp_find_row: row name index does not exist");var i=e.r_tree[t];return i&&(r=i.i),r},Ns=e.glp_find_col=function(e,t){var r=0;null==e.c_tree&&n("glp_find_col: column name index does not exist");var i=e.c_tree[t];return i&&(r=i.j),r},Ss=e.glp_delete_index=function(e){e.r_tree=null,e.r_tree=null},Ls=e.glp_set_rii=function(e,t,r){if(1<=t&&t<=e.m||n("glp_set_rii: i = "+t+"; row number out of range"),r<=0&&n("glp_set_rii: i = "+t+"; rii = "+r+"; invalid scale factor"),e.valid&&e.row[t].rii!=r)for(var i=e.row[t].ptr;null!=i;i=i.r_next)if(i.col.stat==tu){e.valid=0;break}e.row[t].rii=r},Ts=e.glp_set_sjj=function(e,t,r){1<=t&&t<=e.n||n("glp_set_sjj: j = "+t+"; column number out of range"),r<=0&&n("glp_set_sjj: j = "+t+"; sjj = "+r+"; invalid scale factor"),e.valid&&e.col[t].sjj!=r&&e.col[t].stat==tu&&(e.valid=0),e.col[t].sjj=r},zs=e.glp_get_rii=function(e,t){return 1<=t&&t<=e.m||n("glp_get_rii: i = "+t+"; row number out of range"),e.row[t].rii},Ps=e.glp_get_sjj=function(e,t){return 1<=t&&t<=e.n||n("glp_get_sjj: j = "+t+"; column number out of range"),e.col[t].sjj},Fs=e.glp_unscale_prob=function(e){var t,n,r=As(e),i=ys(e);for(t=1;t<=r;t++)Ls(e,t,1);for(n=1;n<=i;n++)Ts(e,n,1)},Qs=e.glp_set_row_stat=function(e,r,i){var o;if(1<=r&&r<=e.m||n("glp_set_row_stat: i = "+r+"; row number out of range"),i!=tu&&i!=nu&&i!=ru&&i!=iu&&i!=ou&&n("glp_set_row_stat: i = "+r+"; stat = "+i+"; invalid status"),o=e.row[r],i!=tu)switch(o.type){case Zc:i=iu;break;case Xc:i=nu;break;case Jc:i=ru;break;case $c:i!=ru&&(i=nu);break;case eu:i=ou;break;default:t(o!=o)}(o.stat==tu&&i!=tu||o.stat!=tu&&i==tu)&&(e.valid=0),o.stat=i},Us=e.glp_set_col_stat=function(e,r,i){var o;if(1<=r&&r<=e.n||n("glp_set_col_stat: j = "+r+"; column number out of range"),i!=tu&&i!=nu&&i!=ru&&i!=iu&&i!=ou&&n("glp_set_col_stat: j = "+r+"; stat = "+i+"; invalid status"),o=e.col[r],i!=tu)switch(o.type){case Zc:i=iu;break;case Xc:i=nu;break;case Jc:i=ru;break;case $c:i!=ru&&(i=nu);break;case eu:i=ou;break;default:t(o!=o)}(o.stat==tu&&i!=tu||o.stat!=tu&&i==tu)&&(e.valid=0),o.stat=i},Rs=e.glp_std_basis=function(e){var t,n;for(t=1;t<=e.m;t++)Qs(e,t,tu);for(n=1;n<=e.n;n++){var r=e.col[n];r.type==$c&&Math.abs(r.lb)>Math.abs(r.ub)?Us(e,n,ru):Us(e,n,nu)}},Gs=e.glp_simplex=function(e,r){function i(e,n){var r;return cc(e)||(r=uc(e),0==r||(r==dd?n.msg_lev>=ku&&Zl("glp_simplex: initial basis is invalid"):r==fd?n.msg_lev>=ku&&Zl("glp_simplex: initial basis is singular"):r==_d?n.msg_lev>=ku&&Zl("glp_simplex: initial basis is ill-conditioned"):t(r!=r)),0==r)?(n.meth==Mu?r=Pl(e,n):n.meth==ju?(r=Fl(e,n))==bd&&e.valid&&(r=Pl(e,n)):n.meth==Ou?r=Fl(e,n):t(n!=n),r):r}var o,a,l;for(null!=e&&e.magic==$l||n("glp_simplex: P = "+e+"; invalid problem object"),null!=e.tree&&0!=e.tree.reason&&n("glp_simplex: operation not allowed"),null==r&&(r=new Ys),r.msg_lev!=wu&&r.msg_lev!=ku&&r.msg_lev!=Cu&&r.msg_lev!=Bu&&r.msg_lev!=Eu&&n("glp_simplex: msg_lev = "+r.msg_lev+"; invalid parameter"),r.meth!=Mu&&r.meth!=ju&&r.meth!=Ou&&n("glp_simplex: meth = "+r.meth+"; invalid parameter"),r.pricing!=Iu&&r.pricing!=Du&&n("glp_simplex: pricing = "+r.pricing+"; invalid parameter"),r.r_test!=Nu&&r.r_test!=Su&&n("glp_simplex: r_test = "+r.r_test+"; invalid parameter"),0<r.tol_bnd&&r.tol_bnd<1||n("glp_simplex: tol_bnd = "+r.tol_bnd+"; invalid parameter"),0<r.tol_dj&&r.tol_dj<1||n("glp_simplex: tol_dj = "+r.tol_dj+"; invalid parameter"),0<r.tol_piv&&r.tol_piv<1||n("glp_simplex: tol_piv = "+r.tol_piv+"; invalid parameter"),r.it_lim<0&&n("glp_simplex: it_lim = "+r.it_lim+"; invalid parameter"),r.tm_lim<0&&n("glp_simplex: tm_lim = "+r.tm_lim+"; invalid parameter"),r.out_frq<1&&n("glp_simplex: out_frq = "+r.out_frq+"; invalid parameter"),r.out_dly<0&&n("glp_simplex: out_dly = "+r.out_dly+"; invalid parameter"),r.presolve!=$u&&r.presolve!=ed&&n("glp_simplex: presolve = "+r.presolve+"; invalid parameter"),e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.some=0,o=1;o<=e.m;o++){var s=e.row[o];if(s.type==$c&&s.lb>=s.ub)return r.msg_lev>=ku&&Zl("glp_simplex: row "+o+": lb = "+s.lb+", ub = "+s.ub+"; incorrect bounds"),l=pd}for(a=1;a<=e.n;a++){var c=e.col[a];if(c.type==$c&&c.lb>=c.ub)return r.msg_lev>=ku&&Zl("glp_simplex: column "+a+": lb = "+c.lb+", ub = "+c.ub+"; incorrect bounds"),l=pd}return r.msg_lev>=Bu&&(Zl("GLPK Simplex Optimizer, v"+Jl()),Zl(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s"))),0==e.nnz?(!function(e,t){function n(){o.stat=nu,o.prim=o.lb}function r(){o.stat=ru,o.prim=o.ub}var i,o,a,l,s,c,u;for(e.valid=0,e.pbs_stat=e.dbs_stat=bu,e.obj_val=e.c0,e.some=0,s=c=0,a=1;a<=e.m;a++)i=e.row[a],i.stat=tu,i.prim=i.dual=0,i.type!=Xc&&i.type!=$c&&i.type!=eu||(i.lb>+t.tol_bnd&&(e.pbs_stat=mu,0==e.some&&t.meth!=Mu&&(e.some=a)),s<+i.lb&&(s=+i.lb)),i.type!=Jc&&i.type!=$c&&i.type!=eu||(i.ub<-t.tol_bnd&&(e.pbs_stat=mu,0==e.some&&t.meth!=Mu&&(e.some=a)),s<-i.ub&&(s=-i.ub));for(u=1,l=1;l<=e.n;l++)o=e.col[l],u<Math.abs(o.coef)&&(u=Math.abs(o.coef));for(u=(e.dir==Hc?1:-1)/u,l=1;l<=e.n;l++)o=e.col[l],o.type==Zc?(o.stat=iu,o.prim=0):o.type==Xc?n():o.type==Jc?r():o.type==$c?u*o.coef>0?n():u*o.coef<0?r():Math.abs(o.lb)<=Math.abs(o.ub)?n():r():o.type==eu&&(o.stat=ou,o.prim=o.lb),o.dual=o.coef,e.obj_val+=o.coef*o.prim,o.type!=Zc&&o.type!=Xc||(u*o.dual<-t.tol_dj&&(e.dbs_stat=mu,0==e.some&&t.meth==Mu&&(e.some=e.m+l)),c<-u*o.dual&&(c=-u*o.dual)),o.type!=Zc&&o.type!=Jc||(u*o.dual>+t.tol_dj&&(e.dbs_stat=mu,0==e.some&&t.meth==Mu&&(e.some=e.m+l)),c<+u*o.dual&&(c=+u*o.dual));t.msg_lev>=Cu&&0==t.out_dly&&Zl("~"+e.it_cnt+": obj = "+e.obj_val+"  infeas = "+(t.meth==Mu?s:c)),t.msg_lev>=Bu&&0==t.out_dly&&Zl(e.pbs_stat==bu&&e.dbs_stat==bu?"OPTIMAL SOLUTION FOUND":e.pbs_stat==mu?"PROBLEM HAS NO FEASIBLE SOLUTION":t.meth==Mu?"PROBLEM HAS UNBOUNDED SOLUTION":"PROBLEM HAS NO DUAL FEASIBLE SOLUTION")}(e,r),l=0):l=r.presolve?function(e,n){function r(){return Ta(o,l),l=null,za(o,e),a=0}var o,a,l=null,s={};if(n.msg_lev>=Bu&&Zl("Preprocessing..."),o=ga(),Sa(o,e,ed,du,ed),a=bl(o,n),0==a||(a==yd?n.msg_lev>=Bu&&Zl("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):a==vd?n.msg_lev>=Bu&&Zl("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"):t(a!=a)),0!=a)return a;if(l=es(),La(o,l),0==l.m&&0==l.n)return l.pbs_stat=l.dbs_stat=bu,l.obj_val=l.c0,n.msg_lev>=Cu&&0==n.out_dly&&Zl(e.it_cnt+": obj = "+l.obj_val+"  infeas = 0.0"),n.msg_lev>=Bu&&Zl("OPTIMAL SOLUTION FOUND BY LP PREPROCESSOR"),r();n.msg_lev>=Bu&&Zl(l.m+" row"+(1==l.m?"":"s")+", "+l.n+" column"+(1==l.n?"":"s")+", "+l.nnz+" non-zero"+(1==l.nnz?"":"s")),dc(e,s),fc(l,s);var c=u(),d=c.term_out;return!d||n.msg_lev<Bu?c.term_out=ed:c.term_out=$u,Uh(l,uu),c.term_out=d,c=u(),d=c.term_out,!d||n.msg_lev<Bu?c.term_out=ed:c.term_out=$u,V(l,0),c.term_out=d,l.it_cnt=e.it_cnt,a=i(l,n),e.it_cnt=l.it_cnt,0!=a||l.pbs_stat!=bu||l.dbs_stat!=bu?(n.msg_lev>=ku&&Zl("glp_simplex: unable to recover undefined or non-optimal solution"),0==a&&(l.pbs_stat==mu?a=yd:l.dbs_stat==mu?a=vd:t(l!=l)),a):r()}(e,r):i(e,r),l},Ys=e.SMCP=function(e){e=e||{},this.msg_lev=e.msg_lev||Bu,this.meth=e.meth||Mu,this.pricing=e.pricing||Du,this.r_test=e.r_test||Su,this.tol_bnd=e.tol_bnd||1e-7,this.tol_dj=e.tol_dj||1e-7,this.tol_piv=e.tol_piv||1e-10,this.obj_ll=e.obj_ll||-Ul,this.obj_ul=e.obj_ul||+Ul,this.it_lim=e.it_lim||Yl,this.tm_lim=e.tm_lim||Yl,this.out_frq=e.out_frq||500,this.out_dly=e.out_dly||0,this.presolve=e.presolve||ed},Hs=e.glp_get_status=function(e){var n;switch(n=Ws(e)){case bu:switch(Vs(e)){case bu:n=gu;break;case mu:n=Au;break;case pu:case hu:break;default:t(e!=e)}break;case pu:case hu:case mu:break;default:t(e!=e)}return n},Ws=e.glp_get_prim_stat=function(e){return e.pbs_stat},Vs=e.glp_get_dual_stat=function(e){return e.dbs_stat},qs=e.glp_get_obj_val=function(e){return e.obj_val},Ks=e.glp_get_row_stat=function(e,t){return 1<=t&&t<=e.m||n("glp_get_row_stat: i = "+t+"; row number out of range"),e.row[t].stat},Zs=e.glp_get_row_prim=function(e,t){return 1<=t&&t<=e.m||n("glp_get_row_prim: i = "+t+"; row number out of range"),e.row[t].prim},Xs=e.glp_get_row_dual=function(e,t){return 1<=t&&t<=e.m||n("glp_get_row_dual: i = "+t+"; row number out of range"),e.row[t].dual},Js=e.glp_get_col_stat=function(e,t){return 1<=t&&t<=e.n||n("glp_get_col_stat: j = "+t+"; column number out of range"),e.col[t].stat},$s=e.glp_get_col_prim=function(e,t){return 1<=t&&t<=e.n||n("glp_get_col_prim: j = "+t+"; column number out of range"),e.col[t].prim},ec=e.glp_get_col_dual=function(e,t){return 1<=t&&t<=e.n||n("glp_get_col_dual: j = "+t+"; column number out of range"),e.col[t].dual},tc=(e.glp_get_unbnd_ray=function(e){var n=e.some;return t(n>=0),n>e.m+e.n&&(n=0),n},e.glp_set_col_kind=function(e,t,r){1<=t&&t<=e.n||n("glp_set_col_kind: j = "+t+"; column number out of range");var i=e.col[t];switch(r){case Vc:i.kind=Vc;break;case qc:i.kind=qc;break;case Kc:i.kind=qc,i.type==$c&&0==i.lb&&1==i.ub||cs(e,t,$c,0,1);break;default:n("glp_set_col_kind: j = "+t+"; kind = "+r+"; invalid column kind")}}),nc=e.glp_get_col_kind=function(e,r){1<=r&&r<=e.n||n("glp_get_col_kind: j = "+r+"; column number out of range");var i=e.col[r],o=i.kind;switch(o){case Vc:break;case qc:i.type==$c&&0==i.lb&&1==i.ub&&(o=Kc);break;default:t(o!=o)}return o},rc=e.glp_get_num_int=function(e){for(var t,n=0,r=1;r<=e.n;r++)t=e.col[r],t.kind==qc&&n++;return n},ic=e.glp_get_num_bin=function(e){for(var t,n=0,r=1;r<=e.n;r++)t=e.col[r],t.kind==qc&&t.type==$c&&0==t.lb&&1==t.ub&&n++;return n},oc=e.glp_intopt=function(e,r){function i(e,n){var r,i;return Hs(e)!=gu?(n.msg_lev>=ku&&Zl("glp_intopt: optimal basis to initial LP relaxation not provided"),i=xd):(n.msg_lev>=Bu&&Zl("Integer optimization begins..."),r=Z(e,n),i=fe(r),te(r),0==i?e.mip_stat==bu?(n.msg_lev>=Bu&&Zl("INTEGER OPTIMAL SOLUTION FOUND"),e.mip_stat=gu):(n.msg_lev>=Bu&&Zl("PROBLEM HAS NO INTEGER FEASIBLE SOLUTION"),e.mip_stat=mu):i==kd?n.msg_lev>=Bu&&Zl("RELATIVE MIP GAP TOLERANCE REACHED; SEARCH TERMINATED"):i==Ad?n.msg_lev>=Bu&&Zl("TIME LIMIT EXCEEDED; SEARCH TERMINATED"):i==bd?n.msg_lev>=ku&&Zl("glp_intopt: cannot solve current LP relaxation"):i==wd?n.msg_lev>=Bu&&Zl("SEARCH TERMINATED BY APPLICATION"):t(i!=i),i)}var o,a,l;for(null!=e&&e.magic==$l||n("glp_intopt: P = "+e+"; invalid problem object"),null!=e.tree&&n("glp_intopt: operation not allowed"),null==r&&(r=new ac),r.msg_lev!=wu&&r.msg_lev!=ku&&r.msg_lev!=Cu&&r.msg_lev!=Bu&&r.msg_lev!=Eu&&n("glp_intopt: msg_lev = "+r.msg_lev+"; invalid parameter"),r.br_tech!=Lu&&r.br_tech!=Tu&&r.br_tech!=zu&&r.br_tech!=Pu&&r.br_tech!=Fu&&n("glp_intopt: br_tech = "+r.br_tech+"; invalid parameter"),r.bt_tech!=Qu&&r.bt_tech!=Uu&&r.bt_tech!=Ru&&r.bt_tech!=Gu&&n("glp_intopt: bt_tech = "+r.bt_tech+"; invalid parameter"),0<r.tol_int&&r.tol_int<1||n("glp_intopt: tol_int = "+r.tol_int+"; invalid parameter"),0<r.tol_obj&&r.tol_obj<1||n("glp_intopt: tol_obj = "+r.tol_obj+"; invalid parameter"),r.tm_lim<0&&n("glp_intopt: tm_lim = "+r.tm_lim+"; invalid parameter"),r.out_frq<0&&n("glp_intopt: out_frq = "+r.out_frq+"; invalid parameter"),r.out_dly<0&&n("glp_intopt: out_dly = "+r.out_dly+"; invalid parameter"),0<=r.cb_size&&r.cb_size<=256||n("glp_intopt: cb_size = "+r.cb_size+"; invalid parameter"),r.pp_tech!=Yu&&r.pp_tech!=Hu&&r.pp_tech!=Wu&&n("glp_intopt: pp_tech = "+r.pp_tech+"; invalid parameter"),r.mip_gap<0&&n("glp_intopt: mip_gap = "+r.mip_gap+"; invalid parameter"),r.mir_cuts!=$u&&r.mir_cuts!=ed&&n("glp_intopt: mir_cuts = "+r.mir_cuts+"; invalid parameter"),r.gmi_cuts!=$u&&r.gmi_cuts!=ed&&n("glp_intopt: gmi_cuts = "+r.gmi_cuts+"; invalid parameter"),r.cov_cuts!=$u&&r.cov_cuts!=ed&&n("glp_intopt: cov_cuts = "+r.cov_cuts+"; invalid parameter"),r.clq_cuts!=$u&&r.clq_cuts!=ed&&n("glp_intopt: clq_cuts = "+r.clq_cuts+"; invalid parameter"),r.presolve!=$u&&r.presolve!=ed&&n("glp_intopt: presolve = "+r.presolve+"; invalid parameter"),r.binarize!=$u&&r.binarize!=ed&&n("glp_intopt: binarize = "+r.binarize+"; invalid parameter"),r.fp_heur!=$u&&r.fp_heur!=ed&&n("glp_intopt: fp_heur = "+r.fp_heur+"; invalid parameter"),e.mip_stat=pu,e.mip_obj=0,o=1;o<=e.m;o++){var s=e.row[o];if(s.type==$c&&s.lb>=s.ub)return r.msg_lev>=ku&&Zl("glp_intopt: row "+o+": lb = "+s.lb+", ub = "+s.ub+"; incorrect bounds"),pd}for(a=1;a<=e.n;a++)if(l=e.col[a],l.type==$c&&l.lb>=l.ub)return r.msg_lev>=ku&&Zl("glp_intopt: column "+a+": lb = "+l.lb+", ub = "+l.ub+"; incorrect bounds"),pd;for(a=1;a<=e.n;a++)if(l=e.col[a],l.kind==qc){if((l.type==Xc||l.type==$c)&&l.lb!=Math.floor(l.lb))return r.msg_lev>=ku&&Zl("glp_intopt: integer column "+a+" has non-integer lower bound "+l.lb),pd;if((l.type==Jc||l.type==$c)&&l.ub!=Math.floor(l.ub))return r.msg_lev>=ku&&Zl("glp_intopt: integer column "+a+" has non-integer upper bound "+l.ub),pd;if(l.type==eu&&l.lb!=Math.floor(l.lb))return r.msg_lev>=ku&&Zl("glp_intopt: integer column "+a+" has non-integer fixed value "+l.lb),pd}if(r.msg_lev>=Bu){var c,d=rc(e),f=ic(e);Zl("GLPK Integer Optimizer, v"+Jl()),Zl(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s")),c=0==f?"none of":1==d&&1==f?"":1==f?"one of":f==d?"all of":f+" of",Zl(d+" integer variable"+(1==d?"":"s")+", "+c+" which "+(1==f?"is":"are")+" binary")}return r.presolve?function(e,n){function r(){return Ta(o,c),c=null,za(o,e),a}var o,a,l=u(),s=l.term_out,c=null,d={};if(n.msg_lev>=Bu&&Zl("Preprocessing..."),o=ga(),Sa(o,e,ed,_u,ed),!s||n.msg_lev<Bu?l.term_out=ed:l.term_out=$u,a=hl(o,n),l.term_out=s,0==a||(a==yd?n.msg_lev>=Bu&&Zl("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):a==vd?n.msg_lev>=Bu&&Zl("LP RELAXATION HAS NO DUAL FEASIBLE SOLUTION"):t(a!=a)),0!=a)return a;if(c=es(),La(o,c),0==c.m&&0==c.n)return c.mip_stat=gu,c.mip_obj=c.c0,n.msg_lev>=Bu&&(Zl("Objective value = "+c.mip_obj),Zl("INTEGER OPTIMAL SOLUTION FOUND BY MIP PREPROCESSOR")),r();if(n.msg_lev>=Bu){var f,_=rc(c),p=ic(c);Zl(c.m+" row"+(1==c.m?"":"s")+", "+c.n+" column"+(1==c.n?"":"s")+", "+c.nnz+" non-zero"+(1==c.nnz?"":"s")),f=0==p?"none of":1==_&&1==p?"":1==p?"one of":p==_?"all of":p+" of",Zl(_+" integer variable"+(1==_?"":"s")+", "+f+" which "+(1==p?"is":"are")+" binary")}dc(e,d),fc(c,d),!s||n.msg_lev<Bu?l.term_out=ed:l.term_out=$u,Uh(c,au|lu|su|cu),l.term_out=s,!s||n.msg_lev<Bu?l.term_out=ed:l.term_out=$u,V(c,0),l.term_out=s,n.msg_lev>=Bu&&Zl("Solving LP relaxation...");var b=new Ys;return b.msg_lev=n.msg_lev,c.it_cnt=e.it_cnt,a=Gs(c,b),e.it_cnt=c.it_cnt,0!=a?(n.msg_lev>=ku&&Zl("glp_intopt: cannot solve LP relaxation"),a=bd):(a=Hs(c),a==gu?a=0:a==mu?a=yd:a==Au?a=vd:t(a!=a),0!=a?a:(c.it_cnt=e.it_cnt,a=i(c,n),e.it_cnt=c.it_cnt,c.mip_stat!=gu&&c.mip_stat!=bu?(e.mip_stat=c.mip_stat,a):r()))}(e,r):i(e,r)},ac=e.IOCP=function(e){e=e||{},this.msg_lev=e.msg_lev||Bu,this.br_tech=e.br_tech||Pu,this.bt_tech=e.bt_tech||Ru,this.tol_int=e.tol_int||1e-5,this.tol_obj=e.tol_obj||1e-7,this.tm_lim=e.tm_lim||Yl,this.out_frq=e.out_frq||5e3,this.out_dly=e.out_dly||1e4,this.cb_func=e.cb_func||null,this.cb_info=e.cb_info||null,this.cb_size=e.cb_size||0,this.pp_tech=e.pp_tech||Wu,this.mip_gap=e.mip_gap||0,this.mir_cuts=e.mir_cuts||ed,this.gmi_cuts=e.gmi_cuts||ed,this.cov_cuts=e.cov_cuts||ed,this.clq_cuts=e.clq_cuts||ed,this.presolve=e.presolve||ed,this.binarize=e.binarize||ed,this.fp_heur=e.fp_heur||ed},lc=(e.glp_mip_status=function(e){return e.mip_stat},e.glp_mip_obj_val=function(e){return e.mip_obj},e.glp_mip_row_val=function(e,t){return 1<=t&&t<=e.m||n("glp_mip_row_val: i = "+t+"; row number out of range"),e.row[t].mipx}),sc=e.glp_mip_col_val=function(e,t){return 1<=t&&t<=e.n||n("glp_mip_col_val: j = "+t+"; column number out of range"),e.col[t].mipx},cc=e.glp_bf_exists=function(e){return 0==e.m||e.valid},uc=e.glp_factorize=function(e){function n(e,n,r,i){var o,a,l,s=e.m;if(t(1<=n&&n<=s),(a=e.head[n])<=s)l=1,r[1]=a,i[1]=1;else for(l=0,o=e.col[a-s].ptr;null!=o;o=o.c_next)l++,r[l]=o.row.i,i[l]=-o.row.rii*o.val*o.col.sjj;return l}var r,i,o,a=e.m,l=e.n,s=e.row,c=e.col,u=e.head;for(e.valid=0,r=0,i=1;i<=a+l;i++)if(i<=a?(o=s[i].stat,s[i].bind=0):(o=c[i-a].stat,c[i-a].bind=0),o==tu){if(++r>a)return dd;u[r]=i,i<=a?s[i].bind=r:c[i-a].bind=r}if(r<a)return dd;if(a>0){switch(null==e.bfd&&(e.bfd=N(),v(e)),L(e.bfd,a,e.head,n,e)){case 0:break;case Cc:return fd;case Bc:return _d;default:t(e!=e)}e.valid=1}return 0},dc=(e.glp_bf_updated=function(e){return 0==e.m||e.valid||n("glp_bf_update: basis factorization does not exist"),0==e.m?0:F(e.bfd)},e.glp_get_bfcp=function(e,t){var n=e.bfcp;null==n?(t.type=yu,t.lu_size=0,t.piv_tol=.1,t.piv_lim=4,t.suhl=$u,t.eps_tol=1e-15,t.max_gro=1e10,t.nfs_max=100,t.upd_tol=1e-6,t.nrs_max=100,t.rs_size=0):r(t,n)}),fc=e.glp_set_bfcp=function(e,t){var i=e.bfcp;null==t?null!=i&&(e.bfcp=null):(null==i&&(i=e.bfcp={}),r(i,t),i.type!=yu&&i.type!=vu&&i.type!=xu&&n("glp_set_bfcp: type = "+i.type+"; invalid parameter"),i.lu_size<0&&n("glp_set_bfcp: lu_size = "+i.lu_size+"; invalid parameter"),0<i.piv_tol&&i.piv_tol<1||n("glp_set_bfcp: piv_tol = "+i.piv_tol+"; invalid parameter"),i.piv_lim<1&&n("glp_set_bfcp: piv_lim = "+i.piv_lim+"; invalid parameter"),i.suhl!=$u&&i.suhl!=ed&&n("glp_set_bfcp: suhl = "+i.suhl+"; invalid parameter"),0<=i.eps_tol&&i.eps_tol<=1e-6||n("glp_set_bfcp: eps_tol = "+i.eps_tol+"; invalid parameter"),i.max_gro<1&&n("glp_set_bfcp: max_gro = "+i.max_gro+"; invalid parameter"),1<=i.nfs_max&&i.nfs_max<=32767||n("glp_set_bfcp: nfs_max = "+i.nfs_max+"; invalid parameter"),0<i.upd_tol&&i.upd_tol<1||n("glp_set_bfcp: upd_tol = "+i.upd_tol+"; invalid parameter"),1<=i.nrs_max&&i.nrs_max<=32767||n("glp_set_bfcp: nrs_max = "+i.nrs_max+"; invalid parameter"),i.rs_size<0&&n("glp_set_bfcp: rs_size = "+i.nrs_max+"; invalid parameter"),0==i.rs_size&&(i.rs_size=20*i.nrs_max)),null!=e.bfd&&v(e)},_c=e.glp_get_bhead=function(e,t){return 0==e.m||e.valid||n("glp_get_bhead: basis factorization does not exist"),1<=t&&t<=e.m||n("glp_get_bhead: k = "+t+"; index out of range"),e.head[t]},pc=e.glp_get_row_bind=function(e,t){return 0==e.m||e.valid||n("glp_get_row_bind: basis factorization does not exist"),1<=t&&t<=e.m||n("glp_get_row_bind: i = "+t+"; row number out of range"),e.row[t].bind},bc=e.glp_get_col_bind=function(e,t){return 0==e.m||e.valid||n("glp_get_col_bind: basis factorization does not exist"),1<=t&&t<=e.n||n("glp_get_col_bind: j = "+t+"; column number out of range"),e.col[t].bind},hc=e.glp_ftran=function(e,t){var r,i,o=e.m,a=e.row,l=e.col;for(0==o||e.valid||n("glp_ftran: basis factorization does not exist"),r=1;r<=o;r++)t[r]*=a[r].rii;for(o>0&&T(e.bfd,t),r=1;r<=o;r++)i=e.head[r],i<=o?t[r]/=a[i].rii:t[r]*=l[i-o].sjj},mc=e.glp_btran=function(e,t){var r,i,o=e.m,a=e.row,l=e.col;for(0==o||e.valid||n("glp_btran: basis factorization does not exist"),r=1;r<=o;r++)i=e.head[r],i<=o?t[r]/=a[i].rii:t[r]*=l[i-o].sjj;for(o>0&&z(e.bfd,t),r=1;r<=o;r++)t[r]*=a[r].rii},gc=(e.glp_warm_up=function(e){var n,r,i,o,a,l,s,c,u,d,f;for(e.pbs_stat=e.dbs_stat=pu,e.obj_val=0,e.some=0,o=1;o<=e.m;o++)n=e.row[o],n.prim=n.dual=0;for(a=1;a<=e.n;a++)r=e.col[a],r.prim=r.dual=0;if(!cc(e)&&0!=(c=uc(e)))return c;for(f=new Float64Array(1+e.m),o=1;o<=e.m;o++)n=e.row[o],n.stat!=tu&&(n.stat==nu?n.prim=n.lb:n.stat==ru?n.prim=n.ub:n.stat==iu?n.prim=0:n.stat==ou?n.prim=n.lb:t(n!=n),f[o]-=n.prim);for(a=1;a<=e.n;a++)if(r=e.col[a],r.stat!=tu&&(r.stat==nu?r.prim=r.lb:r.stat==ru?r.prim=r.ub:r.stat==iu?r.prim=0:r.stat==ou?r.prim=r.lb:t(r!=r),0!=r.prim))for(i=r.ptr;null!=i;i=i.c_next)f[i.row.i]+=i.val*r.prim;for(hc(e,f),e.pbs_stat=bu,o=1;o<=e.m;o++)n=e.row[o],n.stat==tu&&(n.prim=f[n.bind],l=n.type,l!=Xc&&l!=$c&&l!=eu||(u=1e-6+1e-9*Math.abs(n.lb),n.prim<n.lb-u&&(e.pbs_stat=hu)),l!=Jc&&l!=$c&&l!=eu||(u=1e-6+1e-9*Math.abs(n.ub),n.prim>n.ub+u&&(e.pbs_stat=hu)));for(a=1;a<=e.n;a++)r=e.col[a],r.stat==tu&&(r.prim=f[r.bind],l=r.type,l!=Xc&&l!=$c&&l!=eu||(u=1e-6+1e-9*Math.abs(r.lb),r.prim<r.lb-u&&(e.pbs_stat=hu)),l!=Jc&&l!=$c&&l!=eu||(u=1e-6+1e-9*Math.abs(r.ub),r.prim>r.ub+u&&(e.pbs_stat=hu)));for(e.obj_val=e.c0,a=1;a<=e.n;a++)r=e.col[a],e.obj_val+=r.coef*r.prim;for(o=1;o<=e.m;o++)f[o]=0;for(a=1;a<=e.n;a++)r=e.col[a],r.stat==tu&&(f[r.bind]=r.coef);for(mc(e,f),e.dbs_stat=bu,o=1;o<=e.m;o++)n=e.row[o],n.stat!=tu?(n.dual=-f[o],s=n.stat,d=e.dir==Hc?+n.dual:-n.dual,((s==iu||s==nu)&&d<-1e-5||(s==iu||s==ru)&&d>1e-5)&&(e.dbs_stat=hu)):n.dual=0;for(a=1;a<=e.n;a++)if(r=e.col[a],r.stat!=tu){for(r.dual=r.coef,i=r.ptr;null!=i;i=i.c_next)r.dual+=i.val*f[i.row.i];s=r.stat,d=e.dir==Hc?+r.dual:-r.dual,((s==iu||s==nu)&&d<-1e-5||(s==iu||s==ru)&&d>1e-5)&&(e.dbs_stat=hu)}else r.dual=0;return 0},e.glp_eval_tab_row=function(e,r,i,o){var a,l,s,c,u,d,f,_,p=e.m,b=e.n;for(0==p||e.valid||n("glp_eval_tab_row: basis factorization does not exist"),1<=r&&r<=p+b||n("glp_eval_tab_row: k = "+r+"; variable number out of range"),a=r<=p?pc(e,r):bc(e,r-p),0==a&&n("glp_eval_tab_row: k = "+r+"; variable must be basic"),t(1<=a&&a<=p),f=new Float64Array(1+p),u=new Int32Array(1+p),_=new Float64Array(1+p),f[a]=1,mc(e,f),s=0,r=1;r<=p+b;r++){if(r<=p){if(Ks(e,r)==tu)continue;d=-f[r]}else{if(Js(e,r-p)==tu)continue;for(c=Os(e,r-p,u,_),d=0,l=1;l<=c;l++)d+=f[u[l]]*_[l]}0!=d&&(s++,i[s]=r,o[s]=d)}return t(s<=b),s}),Ac=e.glp_eval_tab_col=function(e,t,r,i){var o,a,l,s,c=e.m,u=e.n;if(0==c||e.valid||n("glp_eval_tab_col: basis factorization does not exist"),1<=t&&t<=c+u||n("glp_eval_tab_col: k = "+t+"; variable number out of range"),l=t<=c?Ks(e,t):Js(e,t-c),l==tu&&n("glp_eval_tab_col: k = "+t+"; variable must be non-basic"),s=new Float64Array(1+c),t<=c)s[t]=-1;else for(a=Os(e,t-c,r,i),o=1;o<=a;o++)s[r[o]]=i[o];for(hc(e,s),a=0,o=1;o<=c;o++)0!=s[o]&&(a++,r[a]=_c(e,o),i[a]=s[o]);return a},yc=e.glp_transform_row=function(e,r,i,o){var a,l,s,c,u,d,f,_,p,b,h,m,g;for(cc(e)||n("glp_transform_row: basis factorization does not exist "),c=As(e),u=ys(e),b=new Float64Array(1+u),0<=r&&r<=u||n("glp_transform_row: len = "+r+"; invalid row length"),d=1;d<=r;d++)l=i[d],1<=l&&l<=u||n("glp_transform_row: ind["+d+"] = "+l+"; column index out of range"),0==o[d]&&n("glp_transform_row: val["+d+"] = 0; zero coefficient not allowed"),0!=b[l]&&n("glp_transform_row: ind["+d+"] = "+l+"; duplicate column indices not allowed"),b[l]=o[d];for(h=new Float64Array(1+c),a=1;a<=c;a++)s=_c(e,a),t(1<=s&&s<=c+u),h[a]=s<=c?0:b[s-c];for(m=h,mc(e,m),r=0,a=1;a<=c;a++)Ks(e,a)!=tu&&0!=(p=-m[a])&&(r++,i[r]=a,o[r]=p);for(_=new Int32Array(1+c),g=new Float64Array(1+c),l=1;l<=u;l++)if(Js(e,l)!=tu){for(p=b[l],f=Os(e,l,_,g),d=1;d<=f;d++)p+=g[d]*m[_[d]];0!=p&&(r++,i[r]=c+l,o[r]=p)}return t(r<=u),r},vc=(e.glp_transform_col=function(e,t,r,i){var o,a,l,s,c;for(cc(e)||n("glp_transform_col: basis factorization does not exist "),a=As(e),s=new Float64Array(1+a),0<=t&&t<=a||n("glp_transform_col: len = "+t+"; invalid column length"),l=1;l<=t;l++)o=r[l],1<=o&&o<=a||n("glp_transform_col: ind["+l+"] = "+o+"; row index out of range"),0==i[l]&&n("glp_transform_col: val["+l+"] = 0; zero coefficient not allowed"),0!=s[o]&&n("glp_transform_col: ind["+l+"] = "+o+"; duplicate row indices not allowed"),s[o]=i[l];for(c=s,hc(e,c),t=0,o=1;o<=a;o++)0!=c[o]&&(t++,r[t]=_c(e,o),i[t]=c[o]);return t},e.glp_prim_rtest=function(e,r,i,o,a,l){var s,c,u,d,f,_,p,b,h,m,g,A,y,v;for(Ws(e)!=bu&&n("glp_prim_rtest: basic solution is not primal feasible "),1!=a&&-1!=a&&n("glp_prim_rtest: dir = "+a+"; invalid parameter"),0<l&&l<1||n("glp_prim_rtest: eps = "+l+"; invalid parameter"),c=As(e),u=ys(e),d=0,v=Ul,h=0,f=1;f<=r;f++)if(s=i[f],1<=s&&s<=c+u||n("glp_prim_rtest: ind["+f+"] = "+s+"; variable number out of range"),s<=c?(_=ws(e,s),g=ks(e,s),A=Cs(e,s),p=Ks(e,s),m=Zs(e,s)):(_=Bs(e,s-c),g=Es(e,s-c),A=Ms(e,s-c),p=Js(e,s-c),m=$s(e,s-c)),p!=tu&&n("glp_prim_rtest: ind["+f+"] = "+s+"; non-basic variable not allowed"),b=a>0?+o[f]:-o[f],_!=Zc){if(_==Xc){if(b>-l)continue;y=(g-m)/b}else if(_==Jc){if(b<+l)continue;y=(A-m)/b}else if(_==$c)if(b<0){if(b>-l)continue;y=(g-m)/b}else{if(b<+l)continue;y=(A-m)/b}else if(_==eu){if(-l<b&&b<+l)continue;y=0}else t(_!=_);y<0&&(y=0),(v>y||v==y&&h<Math.abs(b))&&(d=f,v=y,h=Math.abs(b))}return d}),xc=e.glp_dual_rtest=function(e,r,i,o,a,l){var s,c,u,d,f,_,p,b,h,m,g,A;for(Vs(e)!=bu&&n("glp_dual_rtest: basic solution is not dual feasible"),1!=a&&-1!=a&&n("glp_dual_rtest: dir = "+a+"; invalid parameter"),0<l&&l<1||n("glp_dual_rtest: eps = "+l+"; invalid parameter"),c=As(e),u=ys(e),m=gs(e)==Hc?1:-1,d=0,A=Ul,b=0,f=1;f<=r;f++){if(s=i[f],1<=s&&s<=c+u||n("glp_dual_rtest: ind["+f+"] = "+s+"; variable number out of range"),s<=c?(_=Ks(e,s),h=Xs(e,s)):(_=Js(e,s-c),h=ec(e,s-c)),_==tu&&n("glp_dual_rtest: ind["+f+"] = "+s+"; basic variable not allowed"),p=a>0?+o[f]:-o[f],_==nu){if(p<+l)continue;g=m*h/p}else if(_==ru){if(p>-l)continue;g=m*h/p}else if(_==iu){if(-l<p&&p<+l)continue;g=0}else{if(_==ou)continue;t(_!=_)}g<0&&(g=0),(A>g||A==g&&b<Math.abs(p))&&(d=f,A=g,b=Math.abs(p))}return d},wc=(e.glp_analyze_bound=function(e,r,i){function o(){d<0?(w=m,k=f):(C=m,B=f)}var a,l,s,c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k,C,B;for(w=k=C=B=null,null!=e&&e.magic==$l||n("glp_analyze_bound: P = "+e+"; invalid problem object"),s=e.m,c=e.n,e.pbs_stat==bu&&e.dbs_stat==bu||n("glp_analyze_bound: optimal basic solution required"),0==s||e.valid||n("glp_analyze_bound: basis factorization required"),1<=r&&r<=s+c||n("glp_analyze_bound: k = "+r+"; variable number out of range"),r<=s?(a=e.row[r],u=a.stat,h=a.prim):(l=e.col[r-s],u=l.stat,h=l.prim),u==tu&&n("glp_analyze_bound: k = "+r+"; basic variable not allowed "),b=new Int32Array(1+s),x=new Float64Array(1+s),_=Ac(e,r,b,x),t(0<=_&&_<=s),d=-1;d<=1;d+=2)p=vc(e,_,b,x,d,1e-9),0!=p?(t(1<=p&&p<=_),f=b[p],f<=s?(a=e.row[f],g=ks(e,a.i),A=Cs(e,a.i),u=a.stat,y=a.prim):(l=e.col[f-s],g=Es(e,l.j),A=Ms(e,l.j),u=l.stat,y=l.prim),t(u==tu),d<0&&x[p]>0||d>0&&x[p]<0?(t(g!=-Ul),v=g-y):(t(A!=+Ul),v=A-y),t(0!=x[p]),m=h+v/x[p],o()):(f=0,m=d<0?-Ul:+Ul,o());i(w,k,C,B)},e.glp_analyze_coef=function(e,r,i){function o(){f<0?(L=B,T=p,z=E):(P=B,F=p,Q=E)}var a,l,s,c,u,d,f,_,p,b,h,m,g,A,y,v,x,w,k,C,B,E,M,j,O,I,D,N,S,L=null,T=null,z=null,P=null,F=null,Q=null;for(null!=e&&e.magic==$l||n("glp_analyze_coef: P = "+e+"; invalid problem object"),s=e.m,c=e.n,e.pbs_stat==bu&&e.dbs_stat==bu||n("glp_analyze_coef: optimal basic solution required"),0==s||e.valid||n("glp_analyze_coef: basis factorization required"),1<=r&&r<=s+c||n("glp_analyze_coef: k = "+r+"; variable number out of range"),r<=s?(a=e.row[r],u=a.type,x=a.lb,w=a.ub,k=0,d=a.stat,C=a.prim):(l=e.col[r-s],u=l.type,x=l.lb,w=l.ub,k=l.coef,d=l.stat,C=l.prim),d!=tu&&n("glp_analyze_coef: k = "+r+"; non-basic variable not allowed"),y=new Int32Array(1+s),S=new Float64Array(1+s),v=new Int32Array(1+c),N=new Float64Array(1+c),g=gc(e,r,v,N),t(0<=g&&g<=c),f=-1;f<=1;f+=2)e.dir==Hc?b=-f:e.dir==Wc?b=+f:t(e!=e),A=xc(e,g,v,N,b,1e-9),0!=A?(t(1<=A&&A<=g),p=v[A],t(1<=p&&p<=s+c),p<=s?(a=e.row[p],d=a.stat,M=a.dual):(l=e.col[p-s],d=l.stat,M=l.dual),t(0!=N[A]),j=-M/N[A],B=k+j,b=f<0&&N[A]>0||f>0&&N[A]<0?1:-1,e.dir==Wc&&(b=-b),t(b>0?d==nu||d==iu:d==ru||d==iu),h=Ac(e,p,y,S),r<=s?(a=e.row[r],a.type=Zc,a.lb=a.ub=0):(l=e.col[r-s],l.type=Zc,l.lb=l.ub=0),m=vc(e,h,y,S,b,1e-9),r<=s?(a=e.row[r],a.type=u,a.lb=x,a.ub=w):(l=e.col[r-s],l.type=u,l.lb=x,l.ub=w),0!=m?(t(1<=m&&m<=h),_=y[m],t(1<=_&&_<=s+c),t(_!=r),_<=s?(a=e.row[_],t(a.stat==tu),O=ks(e,a.i),I=Cs(e,a.i),D=a.prim):(l=e.col[_-s],t(l.stat==tu),O=Es(e,l.j),I=Ms(e,l.j),D=l.prim),b<0&&S[m]>0||b>0&&S[m]<0?(t(O!=-Ul),j=O-D):(t(I!=+Ul),j=I-D),t(0!=S[m]),E=C+N[A]/S[m]*j,o()):(E=b<0&&N[A]>0||b>0&&N[A]<0?-Ul:+Ul,o())):(B=f<0?-Ul:+Ul,p=0,E=C,o());i(L,T,z,P,F,Q)},e.glp_ios_reason=function(e){return e.reason},e.glp_ios_get_prob=function(e){return e.mip},e.glp_mpl_alloc_wksp=function(){return fh()},e._glp_mpl_init_rand=function(e,t){0!=e.phase&&n("glp_mpl_init_rand: invalid call sequence\n"),yl(e.rand,t)},e.glp_mpl_read_model=function(e,r,i,o){var a;return 0!=e.phase&&n("glp_mpl_read_model: invalid call sequence"),a=_h(e,r,i,o),1==a||2==a?a=0:4==a?a=1:t(a!=a),a}),kc=(e.glp_mpl_read_model_from_string=function(e,t,n,r){var i=0;return wc(e,t,function(){return i<n.length?n[i++]:-1},r)},e.glp_mpl_read_data=function(e,r,i){var o;return 1!=e.phase&&2!=e.phase&&n("glp_mpl_read_data: invalid call sequence"),o=ph(e,r,i),2==o?o=0:4==o?o=1:t(o!=o),o}),Cc=(e.glp_mpl_read_data_from_string=function(e,t,n){var r=0;return kc(e,t,function(){return r<n.length?n[r++]:-1})},e.glp_mpl_generate=function(e,t,r,i){var o;return 1!=e.phase&&2!=e.phase&&n("glp_mpl_generate: invalid call sequence\n"),o=bh(e,t,r,i),3==o?o=0:4==o&&(o=1),o},e.glp_mpl_build_prob=function(e,r){var i,o,a,l,s,c,u,d,f,_,p,b;for(3!=e.phase&&n("glp_mpl_build_prob: invalid call sequence\n"),hs(r),ts(r,hh(e)),i=mh(e),i>0&&is(r,i),a=1;a<=i;a++){switch(as(r,a,Ah(e,a)),u=vh(e,a,function(e,t){_=e,p=t})){case Vb:u=Zc;break;case qb:u=Xc;break;case Kb:u=Jc;break;case Zb:u=$c;break;case Xb:u=eu;break;default:t(u!=u)}u==$c&&Math.abs(_-p)<1e-9*(1+Math.abs(_))&&(u=eu,Math.abs(_)<=Math.abs(p)?p=_:_=p),ss(r,a,u,_,p),0!=wh(e,a)&&Zl("glp_mpl_build_prob: row "+Ah(e,a)+"; constant term "+wh(e,a)+" ignored")}for(o=gh(e),o>0&&os(r,o),l=1;l<=o;l++){switch(ls(r,l,kh(e,l)),c=Ch(e,l)){case eh:break;case th:case nh:tc(r,l,qc);break;default:t(c!=c)}switch(u=Bh(e,l,function(e,t){_=e,p=t})){case Vb:u=Zc;break;case qb:u=Xc;break;case Kb:u=Jc;break;case Zb:u=$c;break;case Xb:u=eu;break;default:t(u!=u)}c==nh&&((u==Zc||u==Jc||_<0)&&(_=0),(u==Zc||u==Xc||p>1)&&(p=1),u=$c),u==$c&&Math.abs(_-p)<1e-9*(1+Math.abs(_))&&(u=eu,Math.abs(_)<=Math.abs(p)?p=_:_=p),cs(r,l,u,_,p)}for(f=new Int32Array(1+o),b=new Float64Array(1+o),a=1;a<=i;a++)d=xh(e,a,f,b),ds(r,a,d,f,b);for(a=1;a<=i;a++)if((c=yh(e,a))==Jb||c==$b){for(ns(r,Ah(e,a)),rs(r,c==Jb?Hc:Wc),us(r,0,wh(e,a)),d=xh(e,a,f,b),s=1;s<=d;s++)us(r,f[s],b[s]);break}},e.glp_mpl_postsolve=function(e,r,i){var o,a,l,s,c,u,d,f;if((3!=e.phase||e.flag_p)&&n("glp_mpl_postsolve: invalid call sequence"),i!=du&&i!=fu&&i!=_u&&n("glp_mpl_postsolve: sol = "+i+"; invalid parameter"),l=mh(e),s=gh(e),l==As(r)&&s==ys(r)||n("glp_mpl_postsolve: wrong problem object\n"),!Eh(e))return 0;for(o=1;o<=l;o++)i==du?(c=Ks(r,o),d=Zs(r,o),f=Xs(r,o)):i==fu?(c=0,d=glp_ipt_row_prim(r,o),f=glp_ipt_row_dual(r,o)):i==_u?(c=0,d=lc(r,o),f=0):t(i!=i),Math.abs(d)<1e-9&&(d=0),Math.abs(f)<1e-9&&(f=0),Mh(e,o,c,d,f);for(a=1;a<=s;a++)i==du?(c=Js(r,a),d=$s(r,a),f=ec(r,a)):i==fu?(c=0,d=glp_ipt_col_prim(r,a),f=glp_ipt_col_dual(r,a)):i==_u?(c=0,d=sc(r,a),f=0):t(i!=i),Math.abs(d)<1e-9&&(d=0),Math.abs(f)<1e-9&&(f=0),jh(e,a,c,d,f);return u=Oh(e),3==u?u=0:4==u&&(u=1),u},1),Bc=2,Ec=3,Mc=4,jc=5,Oc="!\"#$%&()/,.;?@_`'{}|~",Ic=e.glp_read_lp=function(e,n,r){function a(e,t){throw new Error(e.count+": "+t)}function l(e,t){Zl(e.count+": warning: "+t)}function s(e){var n;t(e.c!=Kl),"\n"==e.c&&e.count++,n=e.callback(),n<0?"\n"==e.c?(e.count--,n=Kl):(l(e,"missing final end of line"),n="\n"):"\n"==n||(d(n)?n=" ":f(n)&&a(e,"invalid control character "+n.charCodeAt(0))),e.c=n}function c(e){e.image+=e.c,s(e)}function u(e,t){return e.toLowerCase()==t.toLowerCase()?1:0}function g(e){function t(){for(e.token=N;p(e.c)||h(Oc,e.c)>=0;)c(e);n&&(u(e.image,"minimize")?e.token=C:u(e.image,"minimum")?e.token=C:u(e.image,"min")?e.token=C:u(e.image,"maximize")?e.token=B:u(e.image,"maximum")?e.token=B:u(e.image,"max")?e.token=B:u(e.image,"subject")?" "==e.c&&(s(e),"t"==m(e.c)&&(e.token=E,e.image+=" ",c(e),"o"!=m(e.c)&&a(e,"keyword `subject to' incomplete"),c(e),_(e.c)&&a(e,"keyword `"+e.image+e.c+"...' not recognized"))):u(e.image,"such")?" "==e.c&&(s(e),"t"==m(e.c)&&(e.token=E,e.image+=" ",c(e),"h"!=m(e.c)&&a(e,"keyword `such that' incomplete"),c(e),"a"!=m(e.c)&&a(e,"keyword `such that' incomplete"),c(e),"t"!=m(e.c)&&a(e,"keyword `such that' incomplete"),c(e),_(e.c)&&a(e,"keyword `"+e.image+e.c+"...' not recognized"))):u(e.image,"st")?e.token=E:u(e.image,"s.t.")?e.token=E:u(e.image,"st.")?e.token=E:u(e.image,"bounds")?e.token=M:u(e.image,"bound")?e.token=M:u(e.image,"general")?e.token=j:u(e.image,"generals")?e.token=j:u(e.image,"gen")?e.token=j:u(e.image,"integer")?e.token=O:u(e.image,"integers")?e.token=O:u(e.image,"int")?e.token=O:u(e.image,"binary")?e.token=I:u(e.image,"binaries")?e.token=I:u(e.image,"bin")?e.token=I:u(e.image,"end")&&(e.token=D))}var n;for(e.token=-1,e.image="",e.value=0;;){for(n=0;" "==e.c;)s(e);if(e.c==Kl)e.token=k;else if("\n"==e.c){if(s(e),!_(e.c))continue;n=1,t()}else{if("\\"==e.c){for(;"\n"!=e.c;)s(e);continue}if(_(e.c)||"."!=e.c&&h(Oc,e.c)>=0)t();else if(b(e.c)||"."==e.c){for(e.token=S;b(e.c);)c(e);if("."==e.c)for(c(e),1!=e.image.length||b(e.c)||a(e,"invalid use of decimal point");b(e.c);)c(e);if("e"==e.c||"E"==e.c)for(c(e),"+"!=e.c&&"-"!=e.c||c(e),b(e.c)||a(e,"numeric constant `"+e.image+"' incomplete");b(e.c);)c(e);e.value=Number(e.image),e.value==Number.NaN&&a(e,"numeric constant `"+e.image+"' out of range")}else"+"==e.c?(e.token=L,c(e)):"-"==e.c?(e.token=T,c(e)):":"==e.c?(e.token=z,c(e)):"<"==e.c?(e.token=P,c(e),"="==e.c&&c(e)):">"==e.c?(e.token=F,c(e),"="==e.c&&c(e)):"="==e.c?(e.token=U,c(e),"<"==e.c?(e.token=P,c(e)):">"==e.c&&(e.token=F,c(e))):a(e,"character `"+e.c+"' not recognized")}break}for(;" "==e.c;)s(e)}function A(e,t){var n=Ns(e.P,t);if(0==n){if(n=os(e.P,1),ls(e.P,n,t),e.n_max<n){var r=e.n_max,a=e.ind,l=e.val,s=e.flag,c=e.lb,u=e.ub;e.n_max+=e.n_max,e.ind=new Int32Array(1+e.n_max),i(e.ind,1,a,1,r),e.val=new Float64Array(1+e.n_max),i(e.val,1,l,1,r),e.flag=new Int8Array(1+e.n_max),o(e.flag,1,0,e.n_max),i(e.flag,1,s,1,r),e.lb=new Float64Array(1+e.n_max),i(e.lb,1,c,1,r),e.ub=new Float64Array(1+e.n_max),i(e.ub,1,u,1,r)}e.lb[n]=+Ul,e.ub[n]=-Ul}return n}function y(e){for(var t,n,r,i,o,l=0;;)if(e.token==L?(i=1,g(e)):e.token==T?(i=-1,g(e)):i=1,e.token==S?(o=e.value,g(e)):o=1,e.token!=N&&a(e,"missing variable name"),t=A(e,e.image),e.flag[t]&&a(e,"multiple use of variable `"+e.image+"' not allowed"),l++,e.ind[l]=t,e.val[l]=i*o,e.flag[t]=1,g(e),e.token!=L&&e.token!=T){for(n=1;n<=l;n++)e.flag[e.ind[n]]=0;for(r=0,n=1;n<=l;n++)0!=e.val[n]&&(r++,e.ind[r]=e.ind[n],e.val[r]=e.val[n]);break}return r}function v(e,t,n){e.lb[t]!=+Ul&&l(e,"lower bound of variable `"+xs(e.P,t)+"' redefined"),e.lb[t]=n}function x(e,t,n){e.ub[t]!=-Ul&&l(e,"upper bound of variable `"+xs(e.P,t)+"' redefined"),e.ub[t]=n}var w,k=0,C=1,B=2,E=3,M=4,j=5,O=6,I=7,D=8,N=9,S=10,L=11,T=12,z=13,P=14,F=15,U=16,R={};for(Zl("Reading problem data"),null==n&&(n={}),Q("glp_read_lp",n),R.P=e,R.parm=n,R.callback=r,R.count=0,R.c="\n",R.token=k,R.image="",R.value=0,R.n_max=100,R.ind=new Int32Array(1+R.n_max),R.val=new Float64Array(1+R.n_max),R.flag=new Int8Array(1+R.n_max),o(R.flag,1,0,R.n_max),R.lb=new Float64Array(1+R.n_max),R.ub=new Float64Array(1+R.n_max),hs(e),Is(e),g(R),R.token!=C&&R.token!=B&&a(R,"`minimize' or `maximize' keyword missing"),function(e){var n,r;for(e.token==C?rs(e.P,Hc):e.token==B?rs(e.P,Wc):t(e!=e),g(e),e.token==N&&":"==e.c?(ns(e.P,e.image),g(e),t(e.token==z),g(e)):ns(e.P,"obj"),r=y(e),n=1;n<=r;n++)us(e.P,e.ind[n],e.val[n])}(R),R.token!=E&&a(R,"constraints section missing"),function(e){var n,r,i,o;for(t(e.token==E),g(e);n=is(e.P,1),e.token==N&&":"==e.c?(0!=Ds(e.P,e.image)&&a(e,"constraint `"+e.image+"' multiply defined"),as(e.P,n,e.image),g(e),t(e.token==z),g(e)):as(e.P,n,"r."+e.count),r=y(e),ds(e.P,n,r,e.ind,e.val),e.token==P?(i=Jc,g(e)):e.token==F?(i=Xc,g(e)):e.token==U?(i=eu,g(e)):a(e,"missing constraint sense"),e.token==L?(o=1,g(e)):e.token==T?(o=-1,g(e)):o=1,e.token!=S&&a(e,"missing right-hand side"),ss(e.P,n,i,o*e.value,o*e.value),"\n"!=e.c&&e.c!=Kl&&a(e,"invalid symbol(s) beyond right-hand side"),g(e),e.token==L||e.token==T||e.token==S||e.token==N;);}(R),R.token==M&&function(e){var n,r,i,o;for(t(e.token==M),g(e);;){if(e.token!=L&&e.token!=T&&e.token!=S&&e.token!=N)return;e.token==L||e.token==T?(r=1,o=e.token==L?1:-1,g(e),e.token==S?(i=o*e.value,g(e)):u(e.image,"infinity")||u(e.image,"inf")?(o>0&&a(e,"invalid use of `+inf' as lower bound"),i=-Ul,g(e)):a(e,"missing lower bound")):e.token==S?(r=1,i=e.value,g(e)):r=0,r&&(e.token!=P&&a(e,"missing `<', `<=', or `=<' after lower bound"),g(e)),e.token!=N&&a(e,"missing variable name"),n=A(e,e.image),r&&v(e,n,i),g(e),e.token==P?(g(e),e.token==L||e.token==T?(o=e.token==L?1:-1,g(e),e.token==S?(x(e,n,o*e.value),g(e)):u(e.image,"infinity")||u(e.image,"inf")?(o<0&&a(e,"invalid use of `-inf' as upper bound"),x(e,n,+Ul),g(e)):a(e,"missing upper bound")):e.token==S?(x(e,n,e.value),g(e)):a(e,"missing upper bound")):e.token==F?(r&&a(e,"invalid bound definition"),g(e),e.token==L||e.token==T?(o=e.token==L?1:-1,g(e),e.token==S?(v(e,n,o*e.value),g(e)):u(e.image,"infinity")||0==u(e.image,"inf")?(o>0&&a(e,"invalid use of `+inf' as lower bound"),v(e,n,-Ul),g(e)):a(e,"missing lower bound")):e.token==S?(v(e,n,e.value),g(e)):a(e,"missing lower bound")):e.token==U?(r&&a(e,"invalid bound definition"),g(e),e.token==L||e.token==T?(o=e.token==L?1:-1,g(e),e.token==S?(v(e,n,o*e.value),x(e,n,o*e.value),g(e)):a(e,"missing fixed value")):e.token==S?(v(e,n,e.value),x(e,n,e.value),g(e)):a(e,"missing fixed value")):u(e.image,"free")?(r&&a(e,"invalid bound definition"),v(e,n,-Ul),x(e,n,+Ul),g(e)):r||a(e,"invalid bound definition")}}(R);R.token==j||R.token==O||R.token==I;)!function(e){var n,r;for(e.token==j?(r=0,g(e)):e.token==O?(r=0,g(e)):e.token==I?(r=1,g(e)):t(e!=e);e.token==N;)n=A(e,e.image),tc(e.P,n,qc),r&&(v(e,n,0),x(e,n,1)),g(e)}(R);R.token==D?g(R):R.token==k?l(R,"keyword `end' missing"):a(R,"symbol "+R.image+" in wrong position"),R.token!=k&&a(R,"extra symbol(s) detected beyond `end'");var G,Y,H,W;for(G=1;G<=e.n;G++)H=R.lb[G],W=R.ub[G],H==+Ul&&(H=0),W==-Ul&&(W=+Ul),Y=H==-Ul&&W==+Ul?Zc:W==+Ul?Xc:H==-Ul?Jc:H!=W?$c:eu,cs(R.P,G,Y,H,W);if(Zl(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s")),rc(e)>0){var V=rc(e),q=ic(e);if(1==V)Zl(0==q?"One variable is integer":"One variable is binary");else{var K=V+" integer variables, ";K+=0==q?"none":1==q?"one":q==V?"all":q,Zl(K+" of which "+(1==q?"is":"are")+" binary")}}return Zl(R.count+" lines were read"),Ss(e),_s(e),w=0,function(){return 0!=w&&hs(e),w}()},Dc=(e.glp_write_lp=function(e,n,r){function i(e){if("."==e[0])return 1;if(b(e[0]))return 1;for(var t=0;t<e.length;t++)if(!p(e[t])&&h(Oc,e[t])<0)return 1;return 0}function o(e){for(var t=0;t<e.length;t++)" "==e[t]?e[t]="_":"-"==e[t]?e[t]="~":"["==e[t]?e[t]="(":"]"==e[t]&&(e[t]=")")}function a(e,t){function n(){return 0==t?"obj":"r_"+t}var r;return null==(r=0==t?ms(e.P):vs(e.P,t))?n():(o(r),i(r)?n():r)}function l(e,t){function n(){return"x_"+t}var r=xs(e.P,t);return null==r?n():(o(r),i(r)?n():r)}function s(){return r("End"),A++,Zl(A+" lines were written"),0}var c,u,d,f,_,m,g,A,y,v,x,w={};if(Zl("Writing problem data"),null==n&&(n={}),Q("glp_write_lp",n),w.P=e,w.parm=n,A=0,r("\\* Problem: "+(null==e.name?"Unknown":e.name)+" *\\"),A++,r(""),A++,!(e.m>0&&e.n>0))return Zl("Warning: problem has no rows/columns"),r("\\* WARNING: PROBLEM HAS NO ROWS/COLUMNS *\\"),A++,r(""),A++,s();for(e.dir==Hc?(r("Minimize"),A++):e.dir==Wc?(r("Maximize"),A++):t(e!=e),x=a(w,0),y=" "+x+":",m=0,_=1;_<=e.n;_++)u=e.col[_],0==u.coef&&null!=u.ptr||(m++,x=l(w,_),v=0==u.coef?" + 0 "+x:1==u.coef?" + "+x:-1==u.coef?" - "+x:u.coef>0?" + "+u.coef+" "+x:" - "+-u.coef+" "+x,y.length+v.length>72&&(r(y),y="",A++),y+=v);for(0==m&&(v=" 0 "+l(w,1),y+=v),r(y),A++,0!=e.c0&&(r("\\* constant term = "+e.c0+" *\\"),A++),r(""),A++,r("Subject To"),A++,f=1;f<=e.m;f++)if(c=e.row[f],c.type!=Zc){for(x=a(w,f),y=" "+x+":",d=c.ptr;null!=d;d=d.r_next)x=l(w,d.col.j),v=1==d.val?" + "+x:-1==d.val?" - "+x:d.val>0?" + "+d.val+" "+x:" - "+-d.val+" "+x,y.length+v.length>72&&(r(y),y="",A++),y+=v;c.type==$c?(v=" - ~r_"+f,y.length+v.length>72&&(r(y),y="",A++),y+=v):null==c.ptr&&(v=" 0 "+l(w,1),y+=v),c.type==Xc?v=" >= "+c.lb:c.type==Jc?v=" <= "+c.ub:c.type==$c||c.type==eu?v=" = "+c.lb:t(c!=c),y.length+v.length>72&&(r(y),y="",A++),y+=v,r(y),A++}for(r(""),A++,g=0,f=1;f<=e.m;f++)c=e.row[f],c.type==$c&&(g||(r("Bounds"),g=1,A++),r(" 0 <= ~r_"+f+" <= "+(c.ub-c.lb)),A++);for(_=1;_<=e.n;_++)u=e.col[_],u.type==Xc&&0==u.lb||(g||(r("Bounds"),g=1,A++),x=l(w,_),u.type==Zc?(r(" "+x+" free"),A++):u.type==Xc?(r(" "+x+" >= "+u.lb),A++):u.type==Jc?(r(" -Inf <= "+x+" <= "+u.ub),A++):u.type==$c?(r(" "+u.lb+" <= "+x+" <= "+u.ub),A++):u.type==eu?(r(" "+x+" = "+u.lb),A++):t(u!=u));for(g&&r(""),A++,g=0,_=1;_<=e.n;_++)u=e.col[_],u.kind!=Vc&&(t(u.kind==qc),g||(r("Generals"),g=1,A++),r(" "+l(w,_)),A++);return g&&(r(""),A++),s()},e.glp_read_lp_from_string=function(e,t,n){var r=0;return Ic(e,t,function(){return r<n.length?n[r++]:-1})},1),Nc=2,Sc=3,Lc=4,Tc=5,zc=e.glp_ios_relative_gap=function(e){var t,n,r,i,o=e.mip;return o.mip_stat==bu?(n=o.mip_obj,t=oe(e),0==t?i=0:(r=e.slot[t].node.bound,i=Math.abs(n-r)/(Math.abs(n)+Hl))):i=Ul,i},Pc=0,Fc=5,Qc=0,Uc=1,Rc=2,Gc=e.GLP_MAJOR_VERSION=4,Yc=e.GLP_MINOR_VERSION=49,Hc=e.GLP_MIN=1,Wc=e.GLP_MAX=2,Vc=e.GLP_CV=1,qc=e.GLP_IV=2,Kc=e.GLP_BV=3,Zc=e.GLP_FR=1,Xc=e.GLP_LO=2,Jc=e.GLP_UP=3,$c=e.GLP_DB=4,eu=e.GLP_FX=5,tu=e.GLP_BS=1,nu=e.GLP_NL=2,ru=e.GLP_NU=3,iu=e.GLP_NF=4,ou=e.GLP_NS=5,au=e.GLP_SF_GM=1,lu=e.GLP_SF_EQ=16,su=e.GLP_SF_2N=32,cu=e.GLP_SF_SKIP=64,uu=e.GLP_SF_AUTO=128,du=e.GLP_SOL=1,fu=e.GLP_IPT=2,_u=e.GLP_MIP=3,pu=e.GLP_UNDEF=1,bu=e.GLP_FEAS=2,hu=e.GLP_INFEAS=3,mu=e.GLP_NOFEAS=4,gu=e.GLP_OPT=5,Au=e.GLP_UNBND=6,yu=e.GLP_BF_FT=1,vu=e.GLP_BF_BG=2,xu=e.GLP_BF_GR=3,wu=e.GLP_MSG_OFF=0,ku=e.GLP_MSG_ERR=1,Cu=e.GLP_MSG_ON=2,Bu=e.GLP_MSG_ALL=3,Eu=e.GLP_MSG_DBG=4,Mu=e.GLP_PRIMAL=1,ju=e.GLP_DUALP=2,Ou=e.GLP_DUAL=3,Iu=e.GLP_PT_STD=17,Du=e.GLP_PT_PSE=34,Nu=e.GLP_RT_STD=17,Su=e.GLP_RT_HAR=34,Lu=(e.GLP_ORD_NONE=0,e.GLP_ORD_QMD=1,e.GLP_ORD_AMD=2,e.GLP_ORD_SYMAMD=3,e.GLP_BR_FFV=1),Tu=e.GLP_BR_LFV=2,zu=e.GLP_BR_MFV=3,Pu=e.GLP_BR_DTH=4,Fu=e.GLP_BR_PCH=5,Qu=e.GLP_BT_DFS=1,Uu=e.GLP_BT_BFS=2,Ru=e.GLP_BT_BLB=3,Gu=e.GLP_BT_BPH=4,Yu=e.GLP_PP_NONE=0,Hu=e.GLP_PP_ROOT=1,Wu=e.GLP_PP_ALL=2,Vu=(e.GLP_RF_REG=0,e.GLP_RF_LAZY=1),qu=e.GLP_RF_CUT=2,Ku=e.GLP_RF_GMI=1,Zu=e.GLP_RF_MIR=2,Xu=e.GLP_RF_COV=3,Ju=e.GLP_RF_CLQ=4,$u=e.GLP_ON=1,ed=e.GLP_OFF=0,td=e.GLP_IROWGEN=1,nd=e.GLP_IBINGO=2,rd=e.GLP_IHEUR=3,id=e.GLP_ICUTGEN=4,od=e.GLP_IBRANCH=5,ad=e.GLP_ISELECT=6,ld=e.GLP_IPREPRO=7,sd=e.GLP_NO_BRNCH=0,cd=e.GLP_DN_BRNCH=1,ud=e.GLP_UP_BRNCH=2,dd=e.GLP_EBADB=1,fd=e.GLP_ESING=2,_d=e.GLP_ECOND=3,pd=e.GLP_EBOUND=4,bd=e.GLP_EFAIL=5,hd=e.GLP_EOBJLL=6,md=e.GLP_EOBJUL=7,gd=e.GLP_EITLIM=8,Ad=e.GLP_ETMLIM=9,yd=e.GLP_ENOPFS=10,vd=e.GLP_ENODFS=11,xd=e.GLP_EROOT=12,wd=e.GLP_ESTOP=13,kd=e.GLP_EMIPGAP=14,Cd=(e.GLP_ENOFEAS=15,e.GLP_ENOCVG=16,e.GLP_EINSTAB=17,e.GLP_EDATA=18,e.GLP_ERANGE=19,e.GLP_KKT_PE=1,e.GLP_KKT_PB=2,e.GLP_KKT_DE=3,e.GLP_KKT_DB=4,e.GLP_KKT_CS=5,e.GLP_MPS_DECK=1,e.GLP_MPS_FILE=2,e.GLP_ASN_MIN=1,e.GLP_ASN_MAX=2,e.GLP_ASN_MMP=3,1);LPF_ECOND=2,LPF_ELIMIT=3;var Bd=0,Ed=(e.LPX_LP=100,e.LPX_MIP=101,e.LPX_FR=110),Md=e.LPX_LO=111,jd=e.LPX_UP=112,Od=e.LPX_DB=113,Id=e.LPX_FX=114,Dd=(e.LPX_MIN=120,e.LPX_MAX=121,e.LPX_P_UNDEF=132,e.LPX_P_FEAS=133,e.LPX_P_INFEAS=134,e.LPX_P_NOFEAS=135,e.LPX_D_UNDEF=136,e.LPX_D_FEAS=137,e.LPX_D_INFEAS=138,e.LPX_D_NOFEAS=139,e.LPX_BS=140),Nd=e.LPX_NL=141,Sd=e.LPX_NU=142,Ld=e.LPX_NF=143,Td=e.LPX_NS=144,zd=(e.LPX_T_UNDEF=150,e.LPX_T_OPT=151,e.LPX_CV=160),Pd=e.LPX_IV=161,Fd=(e.LPX_I_UNDEF=170,e.LPX_I_OPT=171,e.LPX_I_FEAS=172,e.LPX_I_NOFEAS=173,e.LPX_OPT=180),Qd=e.LPX_FEAS=181,Ud=e.LPX_INFEAS=182,Rd=e.LPX_NOFEAS=183,Gd=e.LPX_UNBND=184,Yd=e.LPX_UNDEF=185,Hd=e.LPX_E_OK=200,Wd=(e.LPX_E_EMPTY=201,e.LPX_E_BADB=202,e.LPX_E_INFEAS=203,e.LPX_E_FAULT=204),Vd=(e.LPX_E_OBJLL=205,e.LPX_E_OBJUL=206,e.LPX_E_ITLIM=207,e.LPX_E_TMLIM=208),qd=(e.LPX_E_NOFEAS=209,e.LPX_E_INSTAB=210,e.LPX_E_SING=211),Kd=(e.LPX_E_NOCONV=212,e.LPX_E_NOPFS=213),Zd=e.LPX_E_NODFS=214,Xd=e.LPX_E_MIPGAP=215,Jd=e.LPX_K_MSGLEV=300,$d=e.LPX_K_SCALE=301,ef=e.LPX_K_DUAL=302,tf=e.LPX_K_PRICE=303,nf=e.LPX_K_RELAX=304,rf=e.LPX_K_TOLBND=305,of=e.LPX_K_TOLDJ=306,af=e.LPX_K_TOLPIV=307,lf=e.LPX_K_ROUND=308,sf=e.LPX_K_OBJLL=309,cf=e.LPX_K_OBJUL=310,uf=e.LPX_K_ITLIM=311,df=e.LPX_K_ITCNT=312,ff=e.LPX_K_TMLIM=313,_f=e.LPX_K_OUTFRQ=314,pf=e.LPX_K_OUTDLY=315,bf=e.LPX_K_BRANCH=316,hf=e.LPX_K_BTRACK=317,mf=e.LPX_K_TOLINT=318,gf=e.LPX_K_TOLOBJ=319,Af=e.LPX_K_MPSINFO=320,yf=e.LPX_K_MPSOBJ=321,vf=e.LPX_K_MPSORIG=322,xf=e.LPX_K_MPSWIDE=323,wf=e.LPX_K_MPSFREE=324,kf=e.LPX_K_MPSSKIP=325,Cf=e.LPX_K_LPTORIG=326,Bf=e.LPX_K_PRESOL=327,Ef=e.LPX_K_BINARIZE=328,Mf=e.LPX_K_USECUTS=329,jf=e.LPX_K_BFTYPE=330,Of=e.LPX_K_MIPGAP=331,If=e.LPX_C_COVER=1,Df=e.LPX_C_CLIQUE=2,Nf=e.LPX_C_GOMORY=4,Sf=e.LPX_C_MIR=8,Lf=(e.LPX_C_ALL=255,1),Tf=2,zf=-1,Pf=101,Ff=102,Qf=103,Uf=104,Rf=105,Gf=106,Yf=107,Hf=108,Wf=109,Vf=110,qf=111,Kf=112,Zf=113,Xf=114,Jf=115,$f=116,e_=117,t_=118,n_=119,r_=120,i_=121,o_=122,a_=123,l_=124,s_=125,c_=126,u_=127,d_=60,f_=1024,__=201,p_=202,b_=203,h_=204,m_=205,g_=206,A_=207,y_=208,v_=209,x_=210,w_=211,k_=212,C_=213,B_=214,E_=215,M_=216,j_=217,O_=218,I_=219,D_=220,N_=221,S_=222,L_=223,T_=224,z_=225,P_=226,F_=227,Q_=228,U_=229,R_=230,G_=231,Y_=232,H_=233,W_=234,V_=235,q_=236,K_=237,Z_=238,X_=239,J_=240,$_=241,ep=242,tp=243,np=244,rp=245,ip=246,op=247,ap=248,lp=249,sp=250,cp=251,up=252,dp=0,fp=1,_p=2,pp=3,bp=4,hp=5,mp=301,gp=302,Ap=303,yp=304,vp=305,xp=306,wp=307,kp=308,Cp=309,Bp=310,Ep=311,Mp=312,jp=313,Op=314,Ip=315,Dp=316,Np=317,Sp=318,Lp=319,Tp=320,zp=321,Pp=322,Fp=323,Qp=324,Up=325,Rp=326,Gp=327,Yp=328,Hp=329,Wp=330,Vp=331,qp=332,Kp=333,Zp=334,Xp=335,Jp=336,$p=337,eb=338,tb=339,nb=340,rb=341,ib=342,ob=343,ab=344,lb=345,sb=346,cb=347,ub=348,db=349,fb=350,_b=351,pb=352,bb=353,hb=354,mb=355,gb=356,Ab=357,yb=358,vb=359,xb=360,wb=361,kb=362,Cb=363,Bb=364,Eb=365,Mb=366,jb=367,Ob=368,Ib=369,Db=370,Nb=371,Sb=372,Lb=373,Tb=374,zb=375,Pb=376,Fb=377,Qb=378,Ub=379,Rb=380,Gb=381,Yb=382,Hb=383,Wb=384,Vb=401,qb=402,Kb=403,Zb=404,Xb=405,Jb=412,$b=413,eh=421,th=422,nh=423,rh=e.mpl_tab_num_args=function(e){return e.na},ih=e.mpl_tab_get_arg=function(e,n){return t(1<=n&&n<=e.na),e.arg[n]},oh=(e.mpl_tab_get_args=function(e,t){return e.arg},e.mpl_tab_num_flds=function(e){return e.nf}),ah=e.mpl_tab_get_name=function(e,n){return t(1<=n&&n<=e.nf),e.name[n]},lh=e.mpl_tab_get_type=function(e,n){return t(1<=n&&n<=e.nf),e.type[n]},sh=e.mpl_tab_get_num=function(e,n){return t(1<=n&&n<=e.nf),t("N"==e.type[n]),e.num[n]},ch=e.mpl_tab_get_str=function(e,n){return t(1<=n&&n<=e.nf),t("S"==e.type[n]),t(null!=e.str[n]),e.str[n]},uh=e.mpl_tab_set_num=function(e,n,r){t(1<=n&&n<=e.nf),t("?"==e.type[n]),e.type[n]="N",e.num[n]=r},dh=e.mpl_tab_set_str=function(e,n,r){t(1<=n&&n<=e.nf),t("?"==e.type[n]),t(null!=e.str[n]),e.type[n]="S",e.str[n]=r},fh=e.mpl_initialize=function(){var e={};return e.line=0,e.column=0,e.c=0,e.token=0,e.imlen=0,e.image="",e.value=0,e.b_token=0,e.b_imlen=0,e.b_image="",e.b_value=0,e.f_dots=0,e.f_scan=0,e.f_token=0,e.f_imlen=0,e.f_image="",e.f_value=0,e.context=new Array(d_),o(e.context,0," ",d_),e.c_ptr=0,e.flag_d=0,e.tree={},e.model=null,e.flag_x=0,e.as_within=0,e.as_in=0,e.as_binary=0,e.flag_s=0,e.a_list=null,e.sym_buf="",e.tup_buf="",e.rand=Al(),e.flag_p=0,e.stmt=null,e.dca=null,e.m=0,e.n=0,e.row=null,e.col=null,e.in_fp=null,e.in_file=null,e.out_fp=null,e.out_file=null,e.prt_fp=null,e.prt_file=null,e.phase=0,e.mod_file=null,e.mpl_buf="",e},_h=e.mpl_read_model=function(e,t,r,i){function o(){return Zl(e.line+" line"+(1==e.line?"":"s")+" were read"),Zo(e),e.phase}if(0!=e.phase&&n("mpl_read_model: invalid call sequence"),null==r&&n("mpl_read_model: no input specified"),e.phase=1,Zl("Reading model section from "+t+" ..."),qo(e,t,r),nr(e),null==e.model&&ta(e,"empty model section not allowed"),e.mod_file=e.in_file,Yo(e),Xt(e,"data")){if(i)return na(e,"data section ignored"),o();e.flag_d=1,Kt(e),e.token!=$_&&ta(e,"semicolon missing where expected"),Kt(e),e.phase=2,Zl("Reading data section from "+t+" ..."),Cr(e)}return er(e),o()},ph=e.mpl_read_data=function(e,t,r){return 1!=e.phase&&2!=e.phase&&n("mpl_read_data: invalid call sequence"),null==r&&n("mpl_read_data: no input specified"),e.phase=2,Zl("Reading data section from "+t+" ..."),e.flag_d=1,qo(e,t,r),ur(e,"data")&&(Kt(e),e.token!=$_&&ta(e,"semicolon missing where expected"),Kt(e)),Cr(e),er(e),Zl(e.line+" line"+(1==e.line?"":"s")+" were read"),Zo(e),e.phase},bh=e.mpl_generate=function(e,t,r,i){return 1!=e.phase&&2!=e.phase&&n("mpl_generate: invalid call sequence"),e.phase=3,e.tablecb=i,Xo(e,t,r),Ho(e),ea(e),Wo(e),Zl("Model has been successfully generated"),e.phase},hh=e.mpl_get_prob_name=function(e){return e.mod_file},mh=e.mpl_get_num_rows=function(e){return 3!=e.phase&&n("mpl_get_num_rows: invalid call sequence"),e.m},gh=e.mpl_get_num_cols=function(e){return 3!=e.phase&&n("mpl_get_num_cols: invalid call sequence"),e.n},Ah=e.mpl_get_row_name=function(e,r){3!=e.phase&&n("mpl_get_row_name: invalid call sequence"),1<=r&&r<=e.m||n("mpl_get_row_name: i = "+r+"; row number out of range");var i=e.row[r].con.name;return t(i.length<=255),i+=li(e,"[",e.row[r].memb.tuple).slice(0,255),255==i.length&&(i=i.slice(0,252)+"..."),t(i.length<=255),i},yh=e.mpl_get_row_kind=function(e,r){var i;switch(3!=e.phase&&n("mpl_get_row_kind: invalid call sequence"),1<=r&&r<=e.m||n("mpl_get_row_kind: i = "+r+"; row number out of range"),e.row[r].con.type){case Qf:i=411;break;case $f:i=Jb;break;case Jf:i=$b;break;default:t(e!=e)}return i},vh=e.mpl_get_row_bnds=function(e,t,r){var i,o,a,l;return 3!=e.phase&&n("mpl_get_row_bnds: invalid call sequence"),1<=t&&t<=e.m||n("mpl_get_row_bnds: i = "+t+"; row number out of range"),i=e.row[t],a=null==i.con.lbnd?-Ul:i.lbnd,l=null==i.con.ubnd?+Ul:i.ubnd,a==-Ul&&l==+Ul?(o=Vb,a=l=0):l==+Ul?(o=qb,l=0):a==-Ul?(o=Kb,a=0):o=i.con.lbnd!=i.con.ubnd?Zb:Xb,r(a,l),o},xh=e.mpl_get_mat_row=function(e,r,i,o){var a,l=0;for(3!=e.phase&&n("mpl_get_mat_row: invalid call sequence"),1<=r&&r<=e.m||n("mpl_get_mat_row: i = "+r+"; row number out of range"),a=e.row[r].form;null!=a;a=a.next)t(null!=a.var_),l++,t(l<=e.n),null!=i&&(i[l]=a.var_.j),null!=o&&(o[l]=a.coef);return l},wh=e.mpl_get_row_c0=function(e,t){var r;return 3!=e.phase&&n("mpl_get_row_c0: invalid call sequence"),1<=t&&t<=e.m||n("mpl_get_row_c0: i = "+t+"; row number out of range"),r=e.row[t],null==r.con.lbnd&&null==r.con.ubnd?-r.lbnd:0},kh=e.mpl_get_col_name=function(e,r){3!=e.phase&&n("mpl_get_col_name: invalid call sequence"),1<=r&&r<=e.n||n("mpl_get_col_name: j = "+r+"; column number out of range");var i=e.col[r].var_.name;return t(i.length<=255),i+=li(e,"[",e.col[r].memb.tuple),255==i.length&&(i=i.slice(0,252)+"..."),t(i.length<=255),i},Ch=e.mpl_get_col_kind=function(e,r){var i;switch(3!=e.phase&&n("mpl_get_col_kind: invalid call sequence"),1<=r&&r<=e.n||n("mpl_get_col_kind: j = "+r+"; column number out of range"),e.col[r].var_.type){case t_:i=eh;break;case Zf:i=th;break;case Pf:i=nh;break;default:t(e!=e)}return i},Bh=e.mpl_get_col_bnds=function(e,t,r){var i,o,a,l;return 3!=e.phase&&n("mpl_get_col_bnds: invalid call sequence"),1<=t&&t<=e.n||n("mpl_get_col_bnds: j = "+t+"; column number out of range"),i=e.col[t],a=null==i.var_.lbnd?-Ul:i.lbnd,l=null==i.var_.ubnd?+Ul:i.ubnd,a==-Ul&&l==+Ul?(o=Vb,a=l=0):l==+Ul?(o=qb,l=0):a==-Ul?(o=Kb,a=0):o=i.var_.lbnd!=i.var_.ubnd?Zb:Xb,r(a,l),o},Eh=e.mpl_has_solve_stmt=function(e){return 3!=e.phase&&n("mpl_has_solve_stmt: invalid call sequence"),e.flag_s},Mh=e.mpl_put_row_soln=function(e,n,r,i,o){t(3==e.phase),t(1<=n&&n<=e.m),e.row[n].stat=r,e.row[n].prim=i,e.row[n].dual=o},jh=e.mpl_put_col_soln=function(e,n,r,i,o){t(3==e.phase),t(1<=n&&n<=e.n),e.col[n].stat=r,e.col[n].prim=i,e.col[n].dual=o},Oh=e.mpl_postsolve=function(e){return(3!=e.phase||e.flag_p)&&n("mpl_postsolve: invalid call sequence"),Vo(e),ea(e),Zl("Model has been successfully processed"),e.phase},Ih=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Dh=["January","February","March","April","May","June","July","August","September","October","November","December"],Nh={},Sh=e.mpl_tab_drv_register=function(e,t){Nh[e.toLowerCase()]=t};ba.prototype.readField=function(){if(this.c==Kl)return this.what=this.CSV_EOF,void(this.field="EOF");if("\n"!=this.c)if(","==this.c&&this.readChar(),"'"==this.c||'"'==this.c){var e=this.c;for(this.field="",this.what=this.CSV_STR,this.readChar();;){if(this.c==e)if(this.readChar(),this.c==e);else{if(","==this.c||"\n"==this.c)break;n(this.fname+":"+this.count+": invalid field")}this.field+=this.c,this.readChar()}0==this.field.length&&n(this.fname+":"+this.count+": empty field not allowed")}else{this.field="";var t;for(this.what=this.CSV_NUM;","!=this.c&&"\n"!=this.c;)"'"!=this.c&&'"'!=this.c||n(this.fname+":"+this.count+": invalid use of single or double quote within field"),this.field+=this.c,this.readChar();0==this.field.length&&n(this.fname+":"+this.count+": empty field not allowed"),We(this.field,function(e){t=e})&&(this.what=this.CSV_STR)}else if(this.what=this.CSV_EOR,this.field="EOR",this.readChar(),","==this.c&&n(this.fname+":"+this.count+": empty field not allowed\n"),"\n"==this.c&&n(this.fname+":"+this.count+": empty record not allowed\n"),"#"==this.c&&1==this.count)for(;"#"==this.c;){for(;"\n"!=this.c;)this.readChar();this.readChar(),this.nskip++}},ba.prototype.readChar=function(){var e;for(t(this.c!=Kl),"\n"==this.c&&this.count++;;)if("\r"!=(e=this.cursor<this.data.length?this.data[this.cursor++]:Kl)){"\n"==e||f(e)&&n(this.fname+":"+this.count+": invalid control character "+e);break}this.c=e},ba.prototype.readRecord=function(e){var r;for(t("R"==this.mode),this.ref[0]>0&&uh(e,this.ref[0],this.count-this.nskip-1),r=1;r<=this.nf;r++){if(this.readField(),this.what==this.CSV_EOF)return t(1==r),Kl;if(this.what==this.CSV_EOR){var i=this.nf-r+1;n(1==i?this.fname+":"+this.count+": one field missing":this.fname+":"+this.count+": "+i+" fields missing")}else if(this.what==this.CSV_NUM){if(this.ref[r]>0){var o=0;t(0==We(this.field,function(e){o=e})),uh(e,this.ref[r],o)}}else this.what==this.CSV_STR?this.ref[r]>0&&dh(e,this.ref[r],this.field):t(this!=this)}return this.readField(),t(this.what!=this.CSV_EOF),this.what!=this.CSV_EOR&&n(this.fname+":"+this.count+": too many fields"),0},ba.prototype.writeRecord=function(e){var n,r,i,o;for(t("W"==this.mode),r=oh(e),n=1;n<=r;n++){switch(lh(e,n)){case"N":this.data+=sh(e,n);break;case"S":for(this.data+='"',i=ch(e,n),o=0;i.length>o;o++)'"'==i[o]?this.data+='""':this.data+=i[o];this.data+='"';break;default:t(e!=e)}this.data+=n<r?",":"\n"}return this.count++,0},ba.prototype.flush=function(e){this.tablecb(e.arg,this.mode,this.data)},Sh("CSV",ba),ha.prototype.writeRecord=function(e){var n;t("W"==this.mode);var r=oh(e),i=[];for(n=1;n<=r;n++)switch(lh(e,n)){case"N":i.push(sh(e,n));break;case"S":i.push(ch(e,n));break;default:t(e!=e)}return this.data.push(i),0},ha.prototype.readRecord=function(e){t("R"==this.mode);var r=this.data[this.cursor++];if(null==r)return Kl;for(var i=1;i<=oh(e);i++){var o=this.ref[ah(e,i)];if(null!=o){var a=r[o];switch(typeof a){case"number":uh(e,i,a);break;case"boolean":uh(e,i,Number(a));break;case"string":dh(e,i,a);break;default:n("Unexpected data type "+a+" in "+this.fname)}}}return 0},ha.prototype.flush=function(e){this.tablecb(e.arg,this.mode,this.data)},Sh("JSON",ha);var Lh=1,Th=2,zh=1,Ph=2,Fh=0,Qh=1e-10,Uh=e.glp_scale_prob=function(e,r){function i(e,n,r){var i,o,a;for(t(1<=n&&n<=e.m),o=1,i=e.row[n].ptr;null!=i;i=i.r_next)a=Math.abs(i.val),r&&(a*=i.row.rii*i.col.sjj),(null==i.r_prev||o>a)&&(o=a);return o}function o(e,n,r){var i,o,a;for(t(1<=n&&n<=e.m),o=1,i=e.row[n].ptr;null!=i;i=i.r_next)a=Math.abs(i.val),r&&(a*=i.row.rii*i.col.sjj),(null==i.r_prev||o<a)&&(o=a);return o}function a(e,n,r){var i,o,a;for(t(1<=n&&n<=e.n),o=1,i=e.col[n].ptr;null!=i;i=i.c_next)a=Math.abs(i.val),r&&(a*=i.row.rii*i.col.sjj),(null==i.c_prev||o>a)&&(o=a);return o}function l(e,n,r){var i,o,a;for(t(1<=n&&n<=e.n),o=1,i=e.col[n].ptr;null!=i;i=i.c_next)a=Math.abs(i.val),r&&(a*=i.row.rii*i.col.sjj),(null==i.c_prev||o<a)&&(o=a);return o}function s(e,t){var n,r,o;for(r=1,n=1;n<=e.m;n++)o=i(e,n,t),(1==n||r>o)&&(r=o);return r}function c(e,t){var n,r,i;for(r=1,n=1;n<=e.m;n++)i=o(e,n,t),(1==n||r<i)&&(r=i);return r}function u(e,n){var r,i,a,s;for(t(0==n||1==n),a=0;a<=1;a++)if(a==n)for(r=1;r<=e.m;r++)s=o(e,r,1),Ls(e,r,zs(e,r)/s);else for(i=1;i<=e.n;i++)s=l(e,i,1),Ts(e,i,Ps(e,i)/s)}function d(e,n){var r,s,c,u;for(t(0==n||1==n),c=0;c<=1;c++)if(c==n)for(r=1;r<=e.m;r++)u=i(e,r,1)*o(e,r,1),Ls(e,r,zs(e,r)/Math.sqrt(u));else for(s=1;s<=e.n;s++)u=a(e,s,1)*l(e,s,1),Ts(e,s,Ps(e,s)/Math.sqrt(u))}function f(e){var t,n,r;for(n=1,t=1;t<=e.m;t++)r=o(e,t,1)/i(e,t,1),(1==t||n<r)&&(n=r);return n}function _(e){var t,n,r;for(n=1,t=1;t<=e.n;t++)r=l(e,t,1)/a(e,t,1),(1==t||n<r)&&(n=r);return n}function p(e,t,n){var r,i,o,a=0;for(i=f(e)>_(e),r=1;r<=t&&(o=a,a=c(e,1)/s(e,1),!(r>1&&a>n*o));r++)d(e,i)}r&~(au|lu|su|cu|uu)&&n("glp_scale_prob: flags = "+r+"; invalid scaling options"),r&uu&&(r=au|lu|cu),function(e,t){function n(e,t,n,r){return e+": min|aij| = "+t+"  max|aij| = "+n+"  ratio = "+r}var r,i,o;if(Zl("Scaling..."),Fs(e),r=s(e,1),i=c(e,1),o=i/r,Zl(n(" A",r,i,o)),!(r>=.1&&i<=10&&(Zl("Problem data seem to be well scaled"),t&cu))&&(t&au&&(p(e,15,.9),r=s(e,1),i=c(e,1),o=i/r,Zl(n("GM",r,i,o))),t&lu&&(u(e,f(e)>_(e)),r=s(e,1),i=c(e,1),o=i/r,Zl(n("EQ",r,i,o))),t&su)){var a,l;for(a=1;a<=e.m;a++)Ls(e,a,He(zs(e,a)));for(l=1;l<=e.n;l++)Ts(e,l,He(Ps(e,l)));r=s(e,1),i=c(e,1),o=i/r,Zl(n("2N",r,i,o))}}(e,r)}}("object"===typeof t&&t||this)},function(e,t){e.exports={reactions:[{subsystem:"Pyruvate Metabolism",name:"acetaldehyde dehydrogenase (acetylating)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{accoa_c:1,acald_c:-1,coa_c:-1,h_c:1,nad_c:-1,nadh_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ACALD",gene_reaction_rule:"(b0351 or b1241)"},{subsystem:"Transport, Extracellular",name:"acetaldehyde reversible transport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{acald_c:1,acald_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"ACALDt",gene_reaction_rule:"s0001"},{subsystem:"Pyruvate Metabolism",name:"acetate kinase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{ac_c:-1,actp_c:1,adp_c:1,atp_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"ACKr",gene_reaction_rule:"(b3115 or b2296 or b1849)"},{subsystem:"Citric Acid Cycle",name:"aconitase (half-reaction A, Citrate hydro-lyase)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h2o_c:1,acon_C_c:1,cit_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"ACONTa",gene_reaction_rule:"(b0118 or b1276)"},{subsystem:"Citric Acid Cycle",name:"aconitase (half-reaction B, Isocitrate hydro-lyase)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h2o_c:-1,icit_c:1,acon_C_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"ACONTb",gene_reaction_rule:"(b0118 or b1276)"},{subsystem:"Transport, Extracellular",name:"acetate reversible transport via proton symport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{ac_c:1,h_e:-1,ac_e:-1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ACt2r",gene_reaction_rule:""},{subsystem:"Oxidative Phosphorylation",name:"adenylate kinase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{amp_c:-1,atp_c:-1,adp_c:2},objective_coefficient:0,variable_kind:"continuous",id:"ADK1",gene_reaction_rule:"b0474"},{subsystem:"Citric Acid Cycle",name:"2-Oxoglutarate dehydrogenase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{akg_c:-1,nadh_c:1,succoa_c:1,coa_c:-1,nad_c:-1,co2_c:1},objective_coefficient:0,variable_kind:"continuous",id:"AKGDH",gene_reaction_rule:"( b0116  and  b0726  and  b0727 )"},{subsystem:"Transport, Extracellular",name:"2-oxoglutarate reversible transport via symport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{akg_c:1,h_e:-1,h_c:1,akg_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"AKGt2r",gene_reaction_rule:"b2587"},{subsystem:"Pyruvate Metabolism",name:"alcohol dehydrogenase (ethanol)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{acald_c:1,nadh_c:1,nad_c:-1,etoh_c:-1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ALCD2x",gene_reaction_rule:"(b0356 or b1478 or b1241)"},{subsystem:"Oxidative Phosphorylation",name:"ATP maintenance requirement",upper_bound:1e3,lower_bound:8.39,notes:{},metabolites:{h2o_c:-1,pi_c:1,atp_c:-1,adp_c:1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ATPM",gene_reaction_rule:""},{subsystem:"Oxidative Phosphorylation",name:"ATP synthase (four protons for one ATP)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h2o_c:1,atp_c:1,h_e:-4,h_c:3,adp_c:-1,pi_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"ATPS4r",gene_reaction_rule:"(((b3736 and b3737 and b3738) and (b3731 and b3732 and b3733 and b3734 and b3735)) or ((b3736 and b3737 and b3738) and (b3731 and b3732 and b3733 and b3734 and b3735) and b3739))"},{subsystem:"",name:"Biomass Objective Function with GAM",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-59.81,adp_c:59.81,glu__L_c:-4.9414,g3p_c:-.129,e4p_c:-.361,h_c:59.81,r5p_c:-.8977,atp_c:-59.81,f6p_c:-.0709,pyr_c:-2.8328,nad_c:-3.547,coa_c:3.7478,oaa_c:-1.7867,g6p_c:-.205,nadh_c:3.547,akg_c:4.1182,accoa_c:-3.7478,"3pg_c":-1.496,pep_c:-.5191,gln__L_c:-.2557,nadp_c:13.0279,nadph_c:-13.0279,pi_c:59.81},objective_coefficient:1,variable_kind:"continuous",id:"Biomass_Ecoli_core_w_GAM",gene_reaction_rule:""},{subsystem:"Transport, Extracellular",name:"CO2 transporter via diffusion",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{co2_c:1,co2_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"CO2t",gene_reaction_rule:"s0001"},{subsystem:"Citric Acid Cycle",name:"citrate synthase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,accoa_c:-1,cit_c:1,coa_c:1,h_c:1,oaa_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"CS",gene_reaction_rule:"b0720"},{subsystem:"Oxidative Phosphorylation",name:"cytochrome oxidase bd (ubiquinol-8: 2 protons)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{o2_c:-.5,h2o_c:1,q8h2_c:-1,h_e:2,h_c:-2,q8_c:1},objective_coefficient:0,variable_kind:"continuous",id:"CYTBD",gene_reaction_rule:"((b0978 and b0979) or (b0733 and b0734))"},{subsystem:"Transport, Extracellular",name:"D-lactate transport via proton symport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{lac__D_e:-1,h_e:-1,lac__D_c:1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"D_LACt2",gene_reaction_rule:"( b2975  or  b3603 )"},{subsystem:"Glycolysis/Gluconeogenesis",name:"enolase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{pep_c:1,h2o_c:1,"2pg_c":-1},objective_coefficient:0,variable_kind:"continuous",id:"ENO",gene_reaction_rule:"b2779"},{subsystem:"Transport, Extracellular",name:"ethanol reversible transport via proton symport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{etoh_e:-1,h_e:-1,h_c:1,etoh_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ETOHt2r",gene_reaction_rule:""},{subsystem:"Exchange",name:"Acetate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{ac_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_ac_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Acetaldehyde exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{acald_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_acald_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"2-Oxoglutarate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{akg_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_akg_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"CO2 exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{co2_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_co2_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Ethanol exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{etoh_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_etoh_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Formate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{for_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_for_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"D-Fructose exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{fru_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_fru_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Fumarate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{fum_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_fum_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"D-Glucose exchange",upper_bound:1e3,lower_bound:-10,notes:{},metabolites:{glc__D_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_glc_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"L-Glutamine exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{gln__L_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_gln__L_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"L-Glutamate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{glu__L_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_glu__L_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"H+ exchange",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_h_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"H2O exchange",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h2o_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_h2o_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"D-Lactate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{lac__D_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_lac__D_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"L-Malate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{mal__L_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_mal__L_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Ammonium exchange",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{nh4_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_nh4_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"O2 exchange",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{o2_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_o2_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Phosphate exchange",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{pi_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_pi_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Pyruvate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pyr_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_pyr_e",gene_reaction_rule:""},{subsystem:"Exchange",name:"Succinate exchange",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{succ_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"EX_succ_e",gene_reaction_rule:""},{subsystem:"Glycolysis/Gluconeogenesis",name:"fructose-bisphosphate aldolase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{dhap_c:1,fdp_c:-1,g3p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"FBA",gene_reaction_rule:"(b2097 or b1773 or b2925)"},{subsystem:"Glycolysis/Gluconeogenesis",name:"fructose-bisphosphatase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,pi_c:1,fdp_c:-1,f6p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"FBP",gene_reaction_rule:"(b3925 or b4232)"},{subsystem:"Transport, Extracellular",name:"formate transport via proton symport (uptake only)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{for_e:-1,h_e:-1,h_c:1,for_c:1},objective_coefficient:0,variable_kind:"continuous",id:"FORt2",gene_reaction_rule:"(b0904 or b2492)"},{subsystem:"Transport, Extracellular",name:"formate transport via diffusion",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{for_e:1,for_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"FORti",gene_reaction_rule:"(b0904 or b2492)"},{subsystem:"Oxidative Phosphorylation",name:"fumarate reductase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{q8h2_c:-1,succ_c:1,fum_c:-1,q8_c:1},objective_coefficient:0,variable_kind:"continuous",id:"FRD7",gene_reaction_rule:"(b4151 and b4152 and b4153 and b4154)"},{subsystem:"Transport, Extracellular",name:"Fructose transport via PEP:Pyr PTS (f6p generating)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pep_c:-1,fru_e:-1,pyr_c:1,f6p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"FRUpts2",gene_reaction_rule:"(b1817 and b1818 and b1819 and b2415 and b2416)"},{subsystem:"Citric Acid Cycle",name:"fumarase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h2o_c:-1,fum_c:-1,mal__L_c:1},objective_coefficient:0,variable_kind:"continuous",id:"FUM",gene_reaction_rule:"( b1612  or  b4122  or  b1611 )"},{subsystem:"Transport, Extracellular",name:"Fumarate transport via proton symport (2 H)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{fum_c:1,h_e:-2,fum_e:-1,h_c:2},objective_coefficient:0,variable_kind:"continuous",id:"FUMt2_2",gene_reaction_rule:"b3528"},{subsystem:"Pentose Phosphate Pathway",name:"glucose 6-phosphate dehydrogenase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{"6pgl_c":1,g6p_c:-1,nadp_c:-1,nadph_c:1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"G6PDH2r",gene_reaction_rule:"b1852"},{subsystem:"Glycolysis/Gluconeogenesis",name:"glyceraldehyde-3-phosphate dehydrogenase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{nadh_c:1,nad_c:-1,g3p_c:-1,h_c:1,"13dpg_c":1,pi_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"GAPD",gene_reaction_rule:"b1779"},{subsystem:"Transport, Extracellular",name:"D-glucose transport via PEP:Pyr PTS",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pep_c:-1,pyr_c:1,g6p_c:1,glc__D_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"GLCpts",gene_reaction_rule:"((b2417 and b1101 and b2415 and b2416) or (b1817 and b1818 and b1819 and b2415 and b2416) or (b2417 and b1621 and b2415 and b2416))"},{subsystem:"Glutamate Metabolism",name:"glutamine synthetase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{atp_c:-1,glu__L_c:-1,h_c:1,adp_c:1,pi_c:1,nh4_c:-1,gln__L_c:1},objective_coefficient:0,variable_kind:"continuous",id:"GLNS",gene_reaction_rule:"(b3870 or b1297)"},{subsystem:"Transport, Extracellular",name:"L-glutamine transport via ABC system",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,atp_c:-1,h_c:1,adp_c:1,gln__L_e:-1,pi_c:1,gln__L_c:1},objective_coefficient:0,variable_kind:"continuous",id:"GLNabc",gene_reaction_rule:"(b0811 and b0810 and b0809)"},{subsystem:"Glutamate Metabolism",name:"glutamate dehydrogenase (NADP)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{akg_c:1,h2o_c:-1,nadp_c:-1,nadph_c:1,glu__L_c:-1,h_c:1,nh4_c:1},objective_coefficient:0,variable_kind:"continuous",id:"GLUDy",gene_reaction_rule:"b1761"},{subsystem:"Glutamate Metabolism",name:"glutaminase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,glu__L_c:1,nh4_c:1,gln__L_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"GLUN",gene_reaction_rule:"(b1812 or b0485 or b1524)"},{subsystem:"Glutamate Metabolism",name:"glutamate synthase (NADPH)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{akg_c:-1,nadp_c:1,nadph_c:-1,glu__L_c:2,h_c:-1,gln__L_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"GLUSy",gene_reaction_rule:"(b3212 and b3213)"},{subsystem:"Transport, Extracellular",name:"L-glutamate transport via proton symport, reversible (periplasm)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{glu__L_c:1,h_e:-1,glu__L_e:-1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"GLUt2r",gene_reaction_rule:"b4077"},{subsystem:"Pentose Phosphate Pathway",name:"phosphogluconate dehydrogenase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{"6pgc_c":-1,co2_c:1,nadph_c:1,nadp_c:-1,ru5p__D_c:1},objective_coefficient:0,variable_kind:"continuous",id:"GND",gene_reaction_rule:"b2029"},{subsystem:"Transport, Extracellular",name:"H2O transport via diffusion",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{h2o_c:1,h2o_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"H2Ot",gene_reaction_rule:"(b0875 or s0001)"},{subsystem:"Citric Acid Cycle",name:"isocitrate dehydrogenase (NADP)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{akg_c:1,icit_c:-1,co2_c:1,nadp_c:-1,nadph_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ICDHyr",gene_reaction_rule:"b1136"},{subsystem:"Anaplerotic reactions",name:"Isocitrate lyase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{succ_c:1,icit_c:-1,glx_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ICL",gene_reaction_rule:"b4015"},{subsystem:"Pyruvate Metabolism",name:"D lactate dehydrogenase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{pyr_c:1,nadh_c:1,lac__D_c:-1,h_c:1,nad_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"LDH_D",gene_reaction_rule:"(b2133 or b1380)"},{subsystem:"Anaplerotic reactions",name:"malate synthase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,mal__L_c:1,glx_c:-1,h_c:1,accoa_c:-1,coa_c:1},objective_coefficient:0,variable_kind:"continuous",id:"MALS",gene_reaction_rule:"( b4014  or  b2976 )"},{subsystem:"Transport, Extracellular",name:"Malate transport via proton symport (2 H)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{mal__L_c:1,h_e:-2,mal__L_e:-1,h_c:2},objective_coefficient:0,variable_kind:"continuous",id:"MALt2_2",gene_reaction_rule:"b3528"},{subsystem:"Citric Acid Cycle",name:"malate dehydrogenase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{mal__L_c:-1,nadh_c:1,nad_c:-1,oaa_c:1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"MDH",gene_reaction_rule:"b3236"},{subsystem:"Anaplerotic reactions",name:"malic enzyme (NAD)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{nad_c:-1,mal__L_c:-1,co2_c:1,pyr_c:1,nadh_c:1},objective_coefficient:0,variable_kind:"continuous",id:"ME1",gene_reaction_rule:"b1479"},{subsystem:"Anaplerotic reactions",name:"malic enzyme (NADP)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pyr_c:1,mal__L_c:-1,co2_c:1,nadph_c:1,nadp_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"ME2",gene_reaction_rule:"b2463"},{subsystem:"Oxidative Phosphorylation",name:"NADH dehydrogenase (ubiquinone-8 & 3 protons)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{q8h2_c:1,h_e:3,h_c:-4,nad_c:1,nadh_c:-1,q8_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"NADH16",gene_reaction_rule:"(b2276 and b2277 and b2278 and b2279 and b2280 and b2281 and b2282 and b2283 and b2284 and b2285 and b2286 and b2287 and b2288)"},{subsystem:"Oxidative Phosphorylation",name:"NAD transhydrogenase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{nadh_c:1,nadph_c:-1,nadp_c:1,nad_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"NADTRHD",gene_reaction_rule:"(b3962 or (b1602 and b1603))"},{subsystem:"Inorganic Ion Transport and Metabolism",name:"ammonia reversible transport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{nh4_e:-1,nh4_c:1},objective_coefficient:0,variable_kind:"continuous",id:"NH4t",gene_reaction_rule:"(s0001 or b0451)"},{subsystem:"Transport, Extracellular",name:"o2 transport via diffusion",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{o2_c:1,o2_e:-1},objective_coefficient:0,variable_kind:"continuous",id:"O2t",gene_reaction_rule:"s0001"},{subsystem:"Glycolysis/Gluconeogenesis",name:"pyruvate dehydrogenase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{nadh_c:1,accoa_c:1,pyr_c:-1,coa_c:-1,nad_c:-1,co2_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PDH",gene_reaction_rule:"( b0114  and  b0115  and  b0116 )"},{subsystem:"Glycolysis/Gluconeogenesis",name:"phosphofructokinase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h_c:1,atp_c:-1,fdp_c:1,adp_c:1,f6p_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"PFK",gene_reaction_rule:"( b3916  or  b1723 )"},{subsystem:"Pyruvate Metabolism",name:"pyruvate formate lyase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pyr_c:-1,coa_c:-1,accoa_c:1,for_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PFL",gene_reaction_rule:"(((b0902 and b0903) and b2579) or (b0902 and b0903) or (b0902 and b3114) or (b3951 and b3952))"},{subsystem:"Glycolysis/Gluconeogenesis",name:"glucose-6-phosphate isomerase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{g6p_c:-1,f6p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PGI",gene_reaction_rule:"b4025"},{subsystem:"Glycolysis/Gluconeogenesis",name:"phosphoglycerate kinase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{atp_c:-1,"13dpg_c":1,adp_c:1,"3pg_c":-1},objective_coefficient:0,variable_kind:"continuous",id:"PGK",gene_reaction_rule:"b2926"},{subsystem:"Pentose Phosphate Pathway",name:"6-phosphogluconolactonase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{"6pgc_c":1,h2o_c:-1,"6pgl_c":-1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PGL",gene_reaction_rule:"b0767"},{subsystem:"Glycolysis/Gluconeogenesis",name:"phosphoglycerate mutase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{"2pg_c":-1,"3pg_c":1},objective_coefficient:0,variable_kind:"continuous",id:"PGM",gene_reaction_rule:"(b3612 or b4395 or b0755)"},{subsystem:"Inorganic Ion Transport and Metabolism",name:"phosphate reversible transport via proton symport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{pi_e:-1,h_e:-1,pi_c:1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PIt2r",gene_reaction_rule:"(b2987 or b3493)"},{subsystem:"Anaplerotic reactions",name:"phosphoenolpyruvate carboxylase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,co2_c:-1,pep_c:-1,h_c:1,oaa_c:1,pi_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PPC",gene_reaction_rule:"b3956"},{subsystem:"Anaplerotic reactions",name:"phosphoenolpyruvate carboxykinase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pep_c:1,co2_c:1,adp_c:1,oaa_c:-1,atp_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"PPCK",gene_reaction_rule:"b3403"},{subsystem:"Glycolysis/Gluconeogenesis",name:"phosphoenolpyruvate synthase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{h2o_c:-1,atp_c:-1,pyr_c:-1,pep_c:1,amp_c:1,pi_c:1,h_c:2},objective_coefficient:0,variable_kind:"continuous",id:"PPS",gene_reaction_rule:"b1702"},{subsystem:"Pyruvate Metabolism",name:"phosphotransacetylase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{actp_c:1,pi_c:-1,coa_c:1,accoa_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"PTAr",gene_reaction_rule:"(b2297 or b2458)"},{subsystem:"Glycolysis/Gluconeogenesis",name:"pyruvate kinase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{pep_c:-1,pyr_c:1,h_c:-1,adp_c:-1,atp_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PYK",gene_reaction_rule:"(b1854 or b1676)"},{subsystem:"Transport, Extracellular",name:"pyruvate reversible transport via proton symport",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{pyr_c:1,h_e:-1,pyr_e:-1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"PYRt2r",gene_reaction_rule:""},{subsystem:"Pentose Phosphate Pathway",name:"ribulose 5-phosphate 3-epimerase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{xu5p__D_c:1,ru5p__D_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"RPE",gene_reaction_rule:"(b3386 or b4301)"},{subsystem:"Pentose Phosphate Pathway",name:"ribose-5-phosphate isomerase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{r5p_c:-1,ru5p__D_c:1},objective_coefficient:0,variable_kind:"continuous",id:"RPI",gene_reaction_rule:"( b2914  or  b4090 )"},{subsystem:"Transport, Extracellular",name:"succinate transport via proton symport (2 H)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{succ_c:1,h_e:-2,succ_e:-1,h_c:2},objective_coefficient:0,variable_kind:"continuous",id:"SUCCt2_2",gene_reaction_rule:"b3528"},{subsystem:"Transport, Extracellular",name:"succinate transport out via proton antiport",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{succ_c:-1,h_e:-1,succ_e:1,h_c:1},objective_coefficient:0,variable_kind:"continuous",id:"SUCCt3",gene_reaction_rule:""},{subsystem:"Oxidative Phosphorylation",name:"succinate dehydrogenase (irreversible)",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{q8h2_c:1,succ_c:-1,fum_c:1,q8_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"SUCDi",gene_reaction_rule:"(b0721 and b0722 and b0723 and b0724)"},{subsystem:"Citric Acid Cycle",name:"succinyl-CoA synthetase (ADP-forming)",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{atp_c:-1,succoa_c:1,succ_c:-1,coa_c:-1,adp_c:1,pi_c:1},objective_coefficient:0,variable_kind:"continuous",id:"SUCOAS",gene_reaction_rule:"( b0728  and  b0729 )"},{subsystem:"Pentose Phosphate Pathway",name:"transaldolase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{e4p_c:1,g3p_c:-1,s7p_c:-1,f6p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"TALA",gene_reaction_rule:"(b2464 or b0008)"},{subsystem:"Oxidative Phosphorylation",name:"NAD(P) transhydrogenase",upper_bound:1e3,lower_bound:0,notes:{},metabolites:{nadp_c:-1,nadph_c:1,h_e:-2,h_c:2,nad_c:1,nadh_c:-1},objective_coefficient:0,variable_kind:"continuous",id:"THD2",gene_reaction_rule:"( b1602  and  b1603 )"},{subsystem:"Pentose Phosphate Pathway",name:"transketolase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{r5p_c:-1,xu5p__D_c:-1,g3p_c:1,s7p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"TKT1",gene_reaction_rule:"( b2935  or  b2465 )"},{subsystem:"Pentose Phosphate Pathway",name:"transketolase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{e4p_c:-1,xu5p__D_c:-1,g3p_c:1,f6p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"TKT2",gene_reaction_rule:"( b2935  or  b2465 )"},{subsystem:"Glycolysis/Gluconeogenesis",name:"triose-phosphate isomerase",upper_bound:1e3,lower_bound:-1e3,notes:{},metabolites:{dhap_c:-1,g3p_c:1},objective_coefficient:0,variable_kind:"continuous",id:"TPI",gene_reaction_rule:"b3919"}],description:"Ecoli_core_model",notes:{},genes:[{name:"b1241",id:"b1241"},{name:"b0351",id:"b0351"},{name:"s0001",id:"s0001"},{name:"b3115",id:"b3115"},{name:"b2296",id:"b2296"},{name:"b1849",id:"b1849"},{name:"b1276",id:"b1276"},{name:"b0118",id:"b0118"},{name:"b0474",id:"b0474"},{name:"b0726",id:"b0726"},{name:"b0116",id:"b0116"},{name:"b0727",id:"b0727"},{name:"b2587",id:"b2587"},{name:"b0356",id:"b0356"},{name:"b1478",id:"b1478"},{name:"b3739",id:"b3739"},{name:"b3731",id:"b3731"},{name:"b3736",id:"b3736"},{name:"b3737",id:"b3737"},{name:"b3738",id:"b3738"},{name:"b3735",id:"b3735"},{name:"b3732",id:"b3732"},{name:"b3733",id:"b3733"},{name:"b3734",id:"b3734"},{name:"b0720",id:"b0720"},{name:"b0733",id:"b0733"},{name:"b0978",id:"b0978"},{name:"b0734",id:"b0734"},{name:"b0979",id:"b0979"},{name:"b2975",id:"b2975"},{name:"b3603",id:"b3603"},{name:"b2779",id:"b2779"},{name:"b2925",id:"b2925"},{name:"b2097",id:"b2097"},{name:"b1773",id:"b1773"},{name:"b4232",id:"b4232"},{name:"b3925",id:"b3925"},{name:"b2492",id:"b2492"},{name:"b0904",id:"b0904"},{name:"b4151",id:"b4151"},{name:"b4152",id:"b4152"},{name:"b4154",id:"b4154"},{name:"b4153",id:"b4153"},{name:"b2416",id:"b2416"},{name:"b1819",id:"b1819"},{name:"b1817",id:"b1817"},{name:"b1818",id:"b1818"},{name:"b2415",id:"b2415"},{name:"b4122",id:"b4122"},{name:"b1611",id:"b1611"},{name:"b1612",id:"b1612"},{name:"b3528",id:"b3528"},{name:"b1852",id:"b1852"},{name:"b1779",id:"b1779"},{name:"b1621",id:"b1621"},{name:"b1101",id:"b1101"},{name:"b2417",id:"b2417"},{name:"b1297",id:"b1297"},{name:"b3870",id:"b3870"},{name:"b0811",id:"b0811"},{name:"b0810",id:"b0810"},{name:"b0809",id:"b0809"},{name:"b1761",id:"b1761"},{name:"b0485",id:"b0485"},{name:"b1812",id:"b1812"},{name:"b1524",id:"b1524"},{name:"b3213",id:"b3213"},{name:"b3212",id:"b3212"},{name:"b4077",id:"b4077"},{name:"b2029",id:"b2029"},{name:"b0875",id:"b0875"},{name:"b1136",id:"b1136"},{name:"b4015",id:"b4015"},{name:"b2133",id:"b2133"},{name:"b1380",id:"b1380"},{name:"b4014",id:"b4014"},{name:"b2976",id:"b2976"},{name:"b3236",id:"b3236"},{name:"b1479",id:"b1479"},{name:"b2463",id:"b2463"},{name:"b2280",id:"b2280"},{name:"b2288",id:"b2288"},{name:"b2282",id:"b2282"},{name:"b2276",id:"b2276"},{name:"b2278",id:"b2278"},{name:"b2286",id:"b2286"},{name:"b2277",id:"b2277"},{name:"b2279",id:"b2279"},{name:"b2285",id:"b2285"},{name:"b2281",id:"b2281"},{name:"b2284",id:"b2284"},{name:"b2283",id:"b2283"},{name:"b2287",id:"b2287"},{name:"b3962",id:"b3962"},{name:"b1603",id:"b1603"},{name:"b1602",id:"b1602"},{name:"b0451",id:"b0451"},{name:"b0114",id:"b0114"},{name:"b0115",id:"b0115"},{name:"b3916",id:"b3916"},{name:"b1723",id:"b1723"},{name:"b3951",id:"b3951"},{name:"b2579",id:"b2579"},{name:"b3952",id:"b3952"},{name:"b0903",id:"b0903"},{name:"b0902",id:"b0902"},{name:"b3114",id:"b3114"},{name:"b4025",id:"b4025"},{name:"b2926",id:"b2926"},{name:"b0767",id:"b0767"},{name:"b4395",id:"b4395"},{name:"b3612",id:"b3612"},{name:"b0755",id:"b0755"},{name:"b3493",id:"b3493"},{name:"b2987",id:"b2987"},{name:"b3956",id:"b3956"},{name:"b3403",id:"b3403"},{name:"b1702",id:"b1702"},{name:"b2458",id:"b2458"},{name:"b2297",id:"b2297"},{name:"b1676",id:"b1676"},{name:"b1854",id:"b1854"},{name:"b4301",id:"b4301"},{name:"b3386",id:"b3386"},{name:"b2914",id:"b2914"},{name:"b4090",id:"b4090"},{name:"b0722",id:"b0722"},{name:"b0721",id:"b0721"},{name:"b0724",id:"b0724"},{name:"b0723",id:"b0723"},{name:"b0728",id:"b0728"},{name:"b0729",id:"b0729"},{name:"b2464",id:"b2464"},{name:"b0008",id:"b0008"},{name:"b2935",id:"b2935"},{name:"b2465",id:"b2465"},{name:"b3919",id:"b3919"}],metabolites:[{name:"H",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"H",compartment:"c",id:"h_c"},{name:"Nicotinamide-adenine-dinucleotide",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C21H26N7O14P2",compartment:"c",id:"nad_c"},{name:"Coenzyme-A",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C21H32N7O16P3S",compartment:"c",id:"coa_c"},{name:"Acetaldehyde",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H4O",compartment:"c",id:"acald_c"},{name:"Nicotinamide-adenine-dinucleotide-reduced",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C21H27N7O14P2",compartment:"c",id:"nadh_c"},{name:"Acetyl-CoA",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C23H34N7O17P3S",compartment:"c",id:"accoa_c"},{name:"Acetaldehyde",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H4O",compartment:"e",id:"acald_e"},{name:"Acetyl-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H3O5P",compartment:"c",id:"actp_c"},{name:"ADP",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C10H12N5O10P2",compartment:"c",id:"adp_c"},{name:"Acetate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H3O2",compartment:"c",id:"ac_c"},{name:"ATP",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C10H12N5O13P3",compartment:"c",id:"atp_c"},{name:"Citrate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H5O7",compartment:"c",id:"cit_c"},{name:"cis-Aconitate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H3O6",compartment:"c",id:"acon_C_c"},{name:"H2O",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"H2O",compartment:"c",id:"h2o_c"},{name:"Isocitrate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H5O7",compartment:"c",id:"icit_c"},{name:"H",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"H",compartment:"e",id:"h_e"},{name:"Acetate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H3O2",compartment:"e",id:"ac_e"},{name:"AMP",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C10H12N5O7P",compartment:"c",id:"amp_c"},{name:"2-Oxoglutarate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H4O5",compartment:"c",id:"akg_c"},{name:"CO2",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"CO2",compartment:"c",id:"co2_c"},{name:"Succinyl-CoA",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C25H35N7O19P3S",compartment:"c",id:"succoa_c"},{name:"2-Oxoglutarate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H4O5",compartment:"e",id:"akg_e"},{name:"Ethanol",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H6O",compartment:"c",id:"etoh_c"},{name:"Phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"HO4P",compartment:"c",id:"pi_c"},{name:"D-Fructose-6-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H11O9P",compartment:"c",id:"f6p_c"},{name:"Nicotinamide-adenine-dinucleotide-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C21H25N7O17P3",compartment:"c",id:"nadp_c"},{name:"3-Phospho-D-glycerate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H4O7P",compartment:"c",id:"3pg_c"},{name:"Glyceraldehyde-3-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H5O6P",compartment:"c",id:"g3p_c"},{name:"D-Glucose-6-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H11O9P",compartment:"c",id:"g6p_c"},{name:"Phosphoenolpyruvate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H2O6P",compartment:"c",id:"pep_c"},{name:"L-Glutamine",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H10N2O3",compartment:"c",id:"gln__L_c"},{name:"L-Glutamate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H8NO4",compartment:"c",id:"glu__L_c"},{name:"alpha-D-Ribose-5-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H9O8P",compartment:"c",id:"r5p_c"},{name:"D-Erythrose-4-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H7O7P",compartment:"c",id:"e4p_c"},{name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C21H26N7O17P3",compartment:"c",id:"nadph_c"},{name:"Oxaloacetate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H2O5",compartment:"c",id:"oaa_c"},{name:"Pyruvate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H3O3",compartment:"c",id:"pyr_c"},{name:"CO2",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"CO2",compartment:"e",id:"co2_e"},{name:"Ubiquinone-8",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C49H74O4",compartment:"c",id:"q8_c"},{name:"Ubiquinol-8",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C49H76O4",compartment:"c",id:"q8h2_c"},{name:"O2",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"O2",compartment:"c",id:"o2_c"},{name:"D-Lactate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H5O3",compartment:"c",id:"lac__D_c"},{name:"D-Lactate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H5O3",compartment:"e",id:"lac__D_e"},{name:"D-Glycerate-2-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H4O7P",compartment:"c",id:"2pg_c"},{name:"Ethanol",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H6O",compartment:"e",id:"etoh_e"},{name:"Formate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"CH1O2",compartment:"e",id:"for_e"},{name:"D-Fructose",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H12O6",compartment:"e",id:"fru_e"},{name:"Fumarate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H2O4",compartment:"e",id:"fum_e"},{name:"D-Glucose",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H12O6",compartment:"e",id:"glc__D_e"},{name:"L-Glutamine",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H10N2O3",compartment:"e",id:"gln__L_e"},{name:"L-Glutamate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H8NO4",compartment:"e",id:"glu__L_e"},{name:"H2O",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"H2O",compartment:"e",id:"h2o_e"},{name:"L-Malate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H4O5",compartment:"e",id:"mal__L_e"},{name:"Ammonium",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"H4N",compartment:"e",id:"nh4_e"},{name:"O2",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"O2",compartment:"e",id:"o2_e"},{name:"Phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"HO4P",compartment:"e",id:"pi_e"},{name:"Pyruvate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H3O3",compartment:"e",id:"pyr_e"},{name:"Succinate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H4O4",compartment:"e",id:"succ_e"},{name:"Dihydroxyacetone-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H5O6P",compartment:"c",id:"dhap_c"},{name:"D-Fructose-1-6-bisphosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H10O12P2",compartment:"c",id:"fdp_c"},{name:"Formate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"CH1O2",compartment:"c",id:"for_c"},{name:"Fumarate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H2O4",compartment:"c",id:"fum_c"},{name:"Succinate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H4O4",compartment:"c",id:"succ_c"},{name:"L-Malate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C4H4O5",compartment:"c",id:"mal__L_c"},{name:"6-phospho-D-glucono-1-5-lactone",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H9O9P",compartment:"c",id:"6pgl_c"},{name:"3-Phospho-D-glyceroyl-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C3H4O10P2",compartment:"c",id:"13dpg_c"},{name:"Ammonium",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"H4N",compartment:"c",id:"nh4_c"},{name:"6-Phospho-D-gluconate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C6H10O10P",compartment:"c",id:"6pgc_c"},{name:"D-Ribulose-5-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H9O8P",compartment:"c",id:"ru5p__D_c"},{name:"Glyoxylate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C2H1O3",compartment:"c",id:"glx_c"},{name:"D-Xylulose-5-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C5H9O8P",compartment:"c",id:"xu5p__D_c"},{name:"Sedoheptulose-7-phosphate",notes:"{}",annotation:"{}",_constraint_sense:"E",charge:"0",_bound:"0.0",formula:"C7H13O10P",compartment:"c",id:"s7p_c"}],id:"Ecoli_core_model"}},function(e,t){e.exports=[{map_name:"E coli core.Core metabolism",map_id:"2938hoq32a1",map_description:"E. coli core metabolic network\nLast Modified Fri Dec 05 2014 16:39:44 GMT-0800 (PST)",homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:{1576693:{name:"phosphoglycerate kinase",bigg_id:"PGK",reversibility:!0,label_x:1065,label_y:2715,gene_reaction_rule:"b2926",genes:[{bigg_id:"b2926",name:"b2926"}],metabolites:[{coefficient:-1,bigg_id:"3pg_c"},{coefficient:1,bigg_id:"adp_c"},{coefficient:1,bigg_id:"13dpg_c"},{coefficient:-1,bigg_id:"atp_c"}],segments:{291:{from_node_id:"1576835",to_node_id:"1576836",b1:null,b2:null},292:{from_node_id:"1576836",to_node_id:"1576834",b1:null,b2:null},293:{from_node_id:"1576485",to_node_id:"1576835",b1:{y:2822.4341649025255,x:1055},b2:{y:2789.230249470758,x:1055}},294:{from_node_id:"1576486",to_node_id:"1576835",b1:{y:2825,x:1055},b2:{y:2790,x:1055}},295:{from_node_id:"1576834",to_node_id:"1576487",b1:{y:2650,x:1055},b2:{y:2615,x:1055}},296:{from_node_id:"1576834",to_node_id:"1576488",b1:{y:2650.769750529242,x:1055},b2:{y:2617.5658350974745,x:1055}}}},1576694:{name:"phosphogluconate dehydrogenase",bigg_id:"GND",reversibility:!1,label_x:1930.5045166015625,label_y:1313.710205078125,gene_reaction_rule:"b2029",genes:[{bigg_id:"b2029",name:"b2029"}],metabolites:[{coefficient:-1,bigg_id:"nadp_c"},{coefficient:1,bigg_id:"ru5p__D_c"},{coefficient:1,bigg_id:"nadph_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:-1,bigg_id:"6pgc_c"}],segments:{297:{from_node_id:"1576838",to_node_id:"1576837",b1:null,b2:null},298:{from_node_id:"1576837",to_node_id:"1576839",b1:null,b2:null},299:{from_node_id:"1576489",to_node_id:"1576838",b1:{y:1265,x:1884.7984674554473},b2:{y:1265,x:1921.339540236634}},300:{from_node_id:"1576490",to_node_id:"1576838",b1:{y:1265,x:1882},b2:{y:1265,x:1920.5}},301:{from_node_id:"1576839",to_node_id:"1576491",b1:{y:1265,x:1992.660459763366},b2:{y:1265,x:2029.2015325445527}},302:{from_node_id:"1576839",to_node_id:"1576492",b1:{y:1265,x:1996.2093727122985},b2:{y:1265,x:2041.0312423743285}},303:{from_node_id:"1576839",to_node_id:"1576493",b1:{y:1265,x:2003.7},b2:{y:1265,x:2066}}}},1576695:{name:"o2 transport via diffusion",bigg_id:"O2t",reversibility:!0,label_x:4557.1943359375,label_y:1635.4964599609375,gene_reaction_rule:"s0001",genes:[{bigg_id:"s0001",name:"s0001"}],metabolites:[{coefficient:1,bigg_id:"o2_c"},{coefficient:-1,bigg_id:"o2_e"}],segments:{304:{from_node_id:"1576494",to_node_id:"1576840",b1:{y:1660,x:4821.5},b2:{y:1660,x:4755}},305:{from_node_id:"1576840",to_node_id:"1576495",b1:{y:1660,x:4610.5},b2:{y:1660,x:4495}}}},1576696:{name:"NAD(P) transhydrogenase",bigg_id:"THD2",reversibility:!1,label_x:3532.891845703125,label_y:872.8489990234375,gene_reaction_rule:"( b1602  and  b1603 )",genes:[{bigg_id:"b1602",name:"b1602"},{bigg_id:"b1603",name:"b1603"}],metabolites:[{coefficient:-1,bigg_id:"nadp_c"},{coefficient:-2,bigg_id:"h_e"},{coefficient:-1,bigg_id:"nadh_c"},{coefficient:2,bigg_id:"h_c"},{coefficient:1,bigg_id:"nad_c"},{coefficient:1,bigg_id:"nadph_c"}],segments:{306:{from_node_id:"1576842",to_node_id:"1576841",b1:null,b2:null},307:{from_node_id:"1576841",to_node_id:"1576843",b1:null,b2:null},308:{from_node_id:"1576496",to_node_id:"1576842",b1:{x:3331.1220703125,y:580.5856339661426},b2:{y:724.5066228070302,x:3510}},309:{from_node_id:"1576497",to_node_id:"1576842",b1:{x:3418.143798828125,y:654.7419446101471},b2:{y:750.137689584216,x:3510}},310:{from_node_id:"1576498",to_node_id:"1576842",b1:{y:725,x:3510},b2:{y:777.5,x:3510}},311:{from_node_id:"1576843",to_node_id:"1576499",b1:{x:3510,y:921.2841796875},b2:{x:3510,y:995.287841796875}},312:{from_node_id:"1576843",to_node_id:"1576500",b1:{x:3508.388671875,y:1061.6865465211372},b2:{x:3740.4462890625,y:1078.144282674624}},313:{from_node_id:"1576843",to_node_id:"1576501",b1:{x:3506.777099609375,y:1038.7769502394156},b2:{x:3624.41748046875,y:1081.817596989458}}}},1576697:{name:"fumarase",bigg_id:"FUM",reversibility:!0,label_x:2759.057373046875,label_y:3066,gene_reaction_rule:"( b1612  or  b4122  or  b1611 )",genes:[{bigg_id:"b1612",name:"b1612"},{bigg_id:"b4122",name:"b4122"},{bigg_id:"b1611",name:"b1611"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"fum_c"},{coefficient:1,bigg_id:"mal__L_c"}],segments:{314:{from_node_id:"1576844",to_node_id:"1576845",b1:null,b2:null},315:{from_node_id:"1576845",to_node_id:"1576504",b1:{y:3093.4,x:2674.55},b2:{y:3134,x:2652.5}},316:{from_node_id:"1576502",to_node_id:"1576844",b1:{y:2982.216997307231,x:2758.679057699798},b2:{y:3010.0650991921693,x:2736.5037173099395}},317:{from_node_id:"1576503",to_node_id:"1576844",b1:{y:2961.5818349379524,x:2775.110761067927},b2:{y:3003.8745504813855,x:2741.433228320378}}}},1576698:{name:"isocitrate dehydrogenase (NADP)",bigg_id:"ICDHyr",reversibility:!0,label_x:3616,label_y:3836,gene_reaction_rule:"b1136",genes:[{bigg_id:"b1136",name:"b1136"}],metabolites:[{coefficient:-1,bigg_id:"nadp_c"},{coefficient:1,bigg_id:"akg_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:-1,bigg_id:"icit_c"},{coefficient:1,bigg_id:"nadph_c"}],segments:{318:{from_node_id:"1576847",to_node_id:"1576846",b1:null,b2:null},319:{from_node_id:"1576846",to_node_id:"1576848",b1:null,b2:null},320:{from_node_id:"1576505",to_node_id:"1576847",b1:{y:3958.5796398057905,x:3468.565115042282},b2:{y:3933.673891941737,x:3498.9695345126847}},321:{from_node_id:"1576506",to_node_id:"1576847",b1:{y:3968.312968378653,x:3456.6828697715146},b2:{y:3936.593890513596,x:3495.4048609314546}},322:{from_node_id:"1576848",to_node_id:"1576507",b1:{y:3767.3462919329904,x:3674.9732516895315},b2:{y:3735.4876397766343,x:3702.9108389651055}},323:{from_node_id:"1576848",to_node_id:"1576508",b1:{y:3771.6386673078805,x:3671.209168668474},b2:{y:3749.7955576929353,x:3690.36389556158}},324:{from_node_id:"1576848",to_node_id:"1576509",b1:{y:3761.2701283117613,x:3680.3015797881476},b2:{y:3715.2337610392046,x:3720.671932627159}}}},1576699:{name:"pyruvate dehydrogenase",bigg_id:"PDH",reversibility:!1,label_x:1417.72802734375,label_y:3920.71923828125,gene_reaction_rule:"( b0114  and  b0115  and  b0116 )",genes:[{bigg_id:"b0114",name:"b0114"},{bigg_id:"b0115",name:"b0115"},{bigg_id:"b0116",name:"b0116"}],metabolites:[{coefficient:-1,bigg_id:"pyr_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:1,bigg_id:"nadh_c"},{coefficient:-1,bigg_id:"coa_c"},{coefficient:1,bigg_id:"accoa_c"},{coefficient:-1,bigg_id:"nad_c"}],segments:{325:{from_node_id:"1576849",to_node_id:"1576850",b1:null,b2:null},326:{from_node_id:"1576850",to_node_id:"1576851",b1:null,b2:null},327:{from_node_id:"1576510",to_node_id:"1576849",b1:{y:3945,x:1374.4909917220637},b2:{y:3945,x:1413.3472975166192}},328:{from_node_id:"1576511",to_node_id:"1576849",b1:{y:3945,x:1242.5},b2:{y:3945,x:1373.75}},329:{from_node_id:"1576512",to_node_id:"1576849",b1:{y:3945,x:1369.1210216905704},b2:{y:3945,x:1411.736306507171}},330:{from_node_id:"1576851",to_node_id:"1576513",b1:{y:3945,x:1570.4434452114806},b2:{y:3945,x:1606.478150704935}},331:{from_node_id:"1576851",to_node_id:"1576514",b1:{y:3945,x:1579},b2:{y:3945,x:1635}},332:{from_node_id:"1576851",to_node_id:"1576515",b1:{y:3945,x:1572.492855684536},b2:{y:3945,x:1613.309518948453}}}},1576700:{name:"phosphoenolpyruvate carboxylase",bigg_id:"PPC",reversibility:!1,label_x:1490.0008544921875,label_y:3479.666748046875,gene_reaction_rule:"b3956",genes:[{bigg_id:"b3956",name:"b3956"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"co2_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:-1,bigg_id:"pep_c"},{coefficient:1,bigg_id:"oaa_c"}],segments:{333:{from_node_id:"1576854",to_node_id:"1576852",b1:null,b2:null},334:{from_node_id:"1576852",to_node_id:"1576853",b1:null,b2:null},335:{from_node_id:"1576516",to_node_id:"1576854",b1:{y:3438.769633287661,x:1302.6712784637714},b2:{y:3452.2308899862983,x:1334.4013835391315}},336:{from_node_id:"1576517",to_node_id:"1576854",b1:{y:3398.5330945780183,x:1207.828008648186},b2:{y:3440.1599283734054,x:1305.9484025944557}},337:{from_node_id:"1576518",to_node_id:"1576854",b1:{y:3422.409571522363,x:1264.1082757312843},b2:{y:3447.322871456709,x:1322.8324827193853}},338:{from_node_id:"1576853",to_node_id:"1576519",b1:{y:3526.498358619846,x:1510.9506160899336},b2:{y:3543.994528732819,x:1552.8353869664456}},339:{from_node_id:"1576853",to_node_id:"1576520",b1:{y:3528.947159164474,x:1516.81289618162},b2:{y:3552.157197214914,x:1572.3763206054002}},340:{from_node_id:"1576853",to_node_id:"1576521",b1:{x:1966.279649431665,y:3708.0419942097856},b2:{x:2580.289220436279,y:3691.624192938869}}}},1576701:{name:"enolase",bigg_id:"ENO",reversibility:!0,label_x:1065,label_y:3215,gene_reaction_rule:"b2779",genes:[{bigg_id:"b2779",name:"b2779"}],metabolites:[{coefficient:1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"2pg_c"},{coefficient:1,bigg_id:"pep_c"}],segments:{341:{from_node_id:"1576522",to_node_id:"1576856",b1:{x:1055,y:3173.322021484375},b2:{y:3175,x:1055}},342:{from_node_id:"1576856",to_node_id:"1576855",b1:null,b2:null},343:{from_node_id:"1576855",to_node_id:"1576517",b1:{y:3281.5,x:1055},b2:{y:3320,x:1055}},344:{from_node_id:"1576855",to_node_id:"1576523",b1:{y:3281.224980739588,x:1055},b2:{y:3319.0832691319597,x:1055}}}},1576702:{name:"glucose-6-phosphate isomerase",bigg_id:"PGI",reversibility:!0,label_x:1065,label_y:1385,gene_reaction_rule:"b4025",genes:[{bigg_id:"b4025",name:"b4025"}],metabolites:[{coefficient:-1,bigg_id:"g6p_c"},{coefficient:1,bigg_id:"f6p_c"}],segments:{345:{from_node_id:"1576524",to_node_id:"1576857",b1:{y:1284.5,x:1055},b2:{y:1330,x:1055}},346:{from_node_id:"1576857",to_node_id:"1576525",b1:{y:1417.5,x:1055},b2:{y:1470,x:1055}}}},1576703:{name:"ammonia reversible transport",bigg_id:"NH4t",reversibility:!0,label_x:3999,label_y:4588,gene_reaction_rule:"(s0001 or b0451)",genes:[{bigg_id:"s0001",name:"s0001"},{bigg_id:"b0451",name:"b0451"}],metabolites:[{coefficient:-1,bigg_id:"nh4_e"},{coefficient:1,bigg_id:"nh4_c"}],segments:{347:{from_node_id:"1576526",to_node_id:"1576858",b1:{y:4733.15,x:3989},b2:{y:4677.5,x:3989}},348:{from_node_id:"1576858",to_node_id:"1576527",b1:{y:4574.45,x:3989},b2:{y:4519.5,x:3989}}}},1576704:{name:"fructose-bisphosphatase",bigg_id:"FBP",reversibility:!1,label_x:751.3809814453125,label_y:1733.561767578125,gene_reaction_rule:"(b3925 or b4232)",genes:[{bigg_id:"b3925",name:"b3925"},{bigg_id:"b4232",name:"b4232"}],metabolites:[{coefficient:-1,bigg_id:"fdp_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:1,bigg_id:"f6p_c"},{coefficient:-1,bigg_id:"h2o_c"}],segments:{349:{from_node_id:"1576861",to_node_id:"1576859",b1:null,b2:null},350:{from_node_id:"1576859",to_node_id:"1576860",b1:null,b2:null},351:{from_node_id:"1576528",to_node_id:"1576861",b1:{y:1822.0087712549569,x:835},b2:{y:1782.1026313764871,x:835}},352:{from_node_id:"1576529",to_node_id:"1576861",b1:{y:1901.0147050873545,x:835},b2:{y:1805.8044115262064,x:835}},353:{from_node_id:"1576860",to_node_id:"1576525",b1:{y:1627.410107741575,x:835},b2:{y:1539.7003591385833,x:835}},354:{from_node_id:"1576860",to_node_id:"1576530",b1:{y:1645.7906272877015,x:835},b2:{y:1600.9687576256715,x:835}}}},1576705:{name:"Succinate exchange",bigg_id:"EX_succ_e",reversibility:!1,label_x:4968.927734375,label_y:2845.8271484375,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"succ_e"}],segments:{355:{from_node_id:"1576531",to_node_id:"1576863",b1:{y:2880,x:4945.95},b2:{y:2880,x:4978.5}}}},1576706:{name:"Isocitrate lyase",bigg_id:"ICL",reversibility:!1,label_x:3427,label_y:3847,gene_reaction_rule:"b4015",genes:[{bigg_id:"b4015",name:"b4015"}],metabolites:[{coefficient:1,bigg_id:"glx_c"},{coefficient:-1,bigg_id:"icit_c"},{coefficient:1,bigg_id:"succ_c"}],segments:{357:{from_node_id:"1576505",to_node_id:"1576865",b1:{y:3958.15,x:3413.6},b2:{y:3916.5,x:3415}},358:{from_node_id:"1576865",to_node_id:"1576864",b1:null,b2:null},359:{from_node_id:"1576864",to_node_id:"1576532",b1:{y:3719.8679883378145,x:3417},b2:{y:3612.2266277927156,x:3417}},360:{from_node_id:"1576864",to_node_id:"1576533",b1:{y:3631.14924916783,x:3417},b2:{y:3316.4974972260998,x:3417}}}},1576707:{name:"adenylate kinase",bigg_id:"ADK1",reversibility:!0,label_x:3997.07177734375,label_y:1251.6114501953125,gene_reaction_rule:"b0474",genes:[{bigg_id:"b0474",name:"b0474"}],metabolites:[{coefficient:-1,bigg_id:"atp_c"},{coefficient:-1,bigg_id:"amp_c"},{coefficient:2,bigg_id:"adp_c"}],segments:{361:{from_node_id:"1576867",to_node_id:"1576866",b1:null,b2:null},362:{from_node_id:"1576866",to_node_id:"1576536",b1:{x:4145.83056640625,y:1352.2913818359375},b2:{x:4146.15869140625,y:1441.4029541015625}},363:{from_node_id:"1576534",to_node_id:"1576867",b1:{y:1112.6787540171351,x:4145},b2:{y:1173.8036262051405,x:4145}},364:{from_node_id:"1576535",to_node_id:"1576867",b1:{y:1123.6783123876312,x:4145},b2:{y:1177.1034937162894,x:4145}}}},1576708:{name:"L-Glutamine exchange",bigg_id:"EX_gln__L_e",reversibility:!1,label_x:4933.3095703125,label_y:4131.884765625,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"gln__L_e"}],segments:{365:{from_node_id:"1576537",to_node_id:"1576868",b1:{y:4158,x:4902.7},b2:{y:4158,x:4951}}}},1576710:{name:"CO2 exchange",bigg_id:"EX_co2_e",reversibility:!1,label_x:3631,label_y:4904,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"co2_e"}],segments:{367:{from_node_id:"1576544",to_node_id:"1576871",b1:{y:4778,x:3621},b2:{y:4834,x:3621}}}},1576711:{name:"transaldolase",bigg_id:"TALA",reversibility:!0,label_x:2197.5205078125,label_y:2008.8013916015625,gene_reaction_rule:"(b2464 or b0008)",genes:[{bigg_id:"b2464",name:"b2464"},{bigg_id:"b0008",name:"b0008"}],metabolites:[{coefficient:1,bigg_id:"e4p_c"},{coefficient:-1,bigg_id:"g3p_c"},{coefficient:-1,bigg_id:"s7p_c"},{coefficient:1,bigg_id:"f6p_c"}],segments:{369:{from_node_id:"1576873",to_node_id:"1576872",b1:null,b2:null},370:{from_node_id:"1576872",to_node_id:"1576874",b1:null,b2:null},371:{from_node_id:"1576545",to_node_id:"1576873",b1:{x:2283.184776999114,y:1892.1518443631908},b2:{x:2173.815906732547,y:1856.1727017464573}},372:{from_node_id:"1576546",to_node_id:"1576873",b1:{x:2064.2112662569266,y:1890.5651744413158},b2:{x:2175.402576654422,y:1856.1728238167698}},373:{from_node_id:"1576874",to_node_id:"1576547",b1:{y:2076.976957965055,x:2178},b2:{x:2178,y:2171.7496092324754}},374:{from_node_id:"1576874",to_node_id:"1576548",b1:{y:2077.4778177405574,x:2178},b2:{x:2178.000244140625,y:2170.2455578331073}}}},1576712:{name:"pyruvate kinase",bigg_id:"PYK",reversibility:!1,label_x:1065,label_y:3695,gene_reaction_rule:"(b1854 or b1676)",genes:[{bigg_id:"b1854",name:"b1854"},{bigg_id:"b1676",name:"b1676"}],metabolites:[{coefficient:1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"pyr_c"},{coefficient:-1,bigg_id:"pep_c"},{coefficient:-1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"adp_c"}],segments:{375:{from_node_id:"1576875",to_node_id:"1576876",b1:null,b2:null},376:{from_node_id:"1576876",to_node_id:"1576877",b1:null,b2:null},377:{from_node_id:"1576549",to_node_id:"1576875",b1:{y:3607.5658350974745,x:1055},b2:{y:3640.769750529242,x:1055}},378:{from_node_id:"1576550",to_node_id:"1576875",b1:{y:3587.7318797646312,x:1055},b2:{y:3634.8195639293895,x:1055}},379:{from_node_id:"1576517",to_node_id:"1576875",b1:{y:3515,x:1055},b2:{y:3613,x:1055}},380:{from_node_id:"1576877",to_node_id:"1576511",b1:{y:3775,x:1055},b2:{y:3845,x:1055}},381:{from_node_id:"1576877",to_node_id:"1576551",b1:{y:3762.102631376487,x:1055},b2:{y:3802.008771254957,x:1055}}}},1576713:{name:"L-glutamate transport via proton symport, reversible (periplasm)",bigg_id:"GLUt2r",reversibility:!0,label_x:4655,label_y:3625,gene_reaction_rule:"b4077",genes:[{bigg_id:"b4077",name:"b4077"}],metabolites:[{coefficient:-1,bigg_id:"glu__L_e"},{coefficient:-1,bigg_id:"h_e"},{coefficient:1,bigg_id:"glu__L_c"},{coefficient:1,bigg_id:"h_c"}],segments:{382:{from_node_id:"1576880",to_node_id:"1576878",b1:null,b2:null},383:{from_node_id:"1576878",to_node_id:"1576879",b1:null,b2:null},384:{from_node_id:"1576552",to_node_id:"1576880",b1:{y:3635,x:4831.002403790594},b2:{y:3635,x:4794.600721137178}},385:{from_node_id:"1576553",to_node_id:"1576880",b1:{y:3635,x:4820.0487515035475},b2:{y:3635,x:4791.314625451064}},386:{from_node_id:"1576879",to_node_id:"1576554",b1:{y:3635,x:4497.047696306109},b2:{y:3635,x:4394.492321020364}},387:{from_node_id:"1576879",to_node_id:"1576555",b1:{y:3635,x:4528.650708522348},b2:{y:3635,x:4499.835695074495}}}},1576714:{name:"D-Lactate exchange",bigg_id:"EX_lac__D_e",reversibility:!1,label_x:1065,label_y:4915,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"lac__D_e"}],segments:{388:{from_node_id:"1576556",to_node_id:"1576881",b1:{x:1055,y:4861.19384765625},b2:{y:4880,x:1055}}}},1576715:{name:"Pyruvate exchange",bigg_id:"EX_pyr_e",reversibility:!1,label_x:96.76921081542969,label_y:3904.851318359375,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"pyr_e"}],segments:{390:{from_node_id:"1576557",to_node_id:"1576884",b1:{y:3945,x:257},b2:{y:3945,x:215}}}},1576716:{name:"ribulose 5-phosphate 3-epimerase",bigg_id:"RPE",reversibility:!0,label_x:1937.57958984375,label_y:1422.4544677734375,gene_reaction_rule:"(b3386 or b4301)",genes:[{bigg_id:"b3386",name:"b3386"},{bigg_id:"b4301",name:"b4301"}],metabolites:[{coefficient:-1,bigg_id:"ru5p__D_c"},{coefficient:1,bigg_id:"xu5p__D_c"}],segments:{392:{from_node_id:"1576493",to_node_id:"1576885",b1:{y:1287.5,x:2138.5},b2:{y:1340,x:2100}},393:{from_node_id:"1576885",to_node_id:"1576558",b1:{y:1436,x:2030},b2:{y:1485,x:1995}}}},1576717:{name:"H+ exchange",bigg_id:"EX_h_e",reversibility:!0,label_x:4920.2587890625,label_y:2195.827392578125,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"h_e"}],segments:{394:{from_node_id:"1576559",to_node_id:"1576887",b1:{y:2229.15,x:4870.4},b2:{y:2229.5,x:4918}}}},1576720:{name:"succinyl-CoA synthetase (ADP-forming)",bigg_id:"SUCOAS",reversibility:!0,label_x:3641,label_y:3010,gene_reaction_rule:"( b0728  and  b0729 )",genes:[{bigg_id:"b0728",name:"b0728"},{bigg_id:"b0729",name:"b0729"}],metabolites:[{coefficient:-1,bigg_id:"atp_c"},{coefficient:-1,bigg_id:"succ_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:1,bigg_id:"adp_c"},{coefficient:1,bigg_id:"succoa_c"},{coefficient:-1,bigg_id:"coa_c"}],segments:{396:{from_node_id:"1576889",to_node_id:"1576888",b1:null,b2:null},397:{from_node_id:"1576888",to_node_id:"1576890",b1:null,b2:null},398:{from_node_id:"1576567",to_node_id:"1576889",b1:{y:2929.871811487667,x:3542.920179408402},b2:{y:2962.1615434463,x:3574.4760538225205}},399:{from_node_id:"1576568",to_node_id:"1576889",b1:{y:2939.079434763476,x:3551.9185385188516},b2:{y:2964.923830429043,x:3577.1755615556553}},400:{from_node_id:"1576533",to_node_id:"1576889",b1:{y:2904.387472959949,x:3518.015030392677},b2:{y:2954.5162418879845,x:3567.004509117803}},401:{from_node_id:"1576890",to_node_id:"1576569",b1:{y:3077.95608535897,x:3678.1735578503244},b2:{y:3112.853617863234,x:3706.5785261677484}},402:{from_node_id:"1576890",to_node_id:"1576570",b1:{y:3080.344738078292,x:3680.117810063726},b2:{y:3120.815793594307,x:3713.059366879087}},403:{from_node_id:"1576890",to_node_id:"1576571",b1:{y:3076.3723735708613,x:3676.8844901158172},b2:{y:3107.574578569538,x:3702.2816337193913}}}},1576721:{name:"phosphofructokinase",bigg_id:"PFK",reversibility:!1,label_x:1065,label_y:1725,gene_reaction_rule:"( b3916  or  b1723 )",genes:[{bigg_id:"b3916",name:"b3916"},{bigg_id:"b1723",name:"b1723"}],metabolites:[{coefficient:-1,bigg_id:"f6p_c"},{coefficient:-1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"fdp_c"},{coefficient:1,bigg_id:"adp_c"}],segments:{404:{from_node_id:"1576893",to_node_id:"1576891",b1:null,b2:null},405:{from_node_id:"1576891",to_node_id:"1576892",b1:null,b2:null},406:{from_node_id:"1576525",to_node_id:"1576893",b1:{y:1617.5,x:1055},b2:{y:1668.25,x:1055}},407:{from_node_id:"1576572",to_node_id:"1576893",b1:{y:1639.6884705062548,x:1055},b2:{y:1674.9065411518764,x:1055}},408:{from_node_id:"1576892",to_node_id:"1576573",b1:{y:1789.2302494707578,x:1055},b2:{y:1822.4341649025257,x:1055}},409:{from_node_id:"1576892",to_node_id:"1576529",b1:{y:1797.5,x:1055},b2:{y:1850,x:1055}},410:{from_node_id:"1576892",to_node_id:"1576574",b1:{y:1793.0623918681883,x:1055},b2:{y:1835.2079728939614,x:1055}}}},1576722:{name:"L-Glutamate exchange",bigg_id:"EX_glu__L_e",reversibility:!1,label_x:4936.36669921875,label_y:3680.79150390625,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"glu__L_e"}],segments:{411:{from_node_id:"1576552",to_node_id:"1576895",b1:{y:3634.3,x:4902.8},b2:{y:3635,x:4949}}}},1576723:{name:"transketolase",bigg_id:"TKT2",reversibility:!0,label_x:1520.71923828125,label_y:1702.785400390625,gene_reaction_rule:"( b2935  or  b2465 )",genes:[{bigg_id:"b2935",name:"b2935"},{bigg_id:"b2465",name:"b2465"}],metabolites:[{coefficient:-1,bigg_id:"e4p_c"},{coefficient:1,bigg_id:"g3p_c"},{coefficient:-1,bigg_id:"xu5p__D_c"},{coefficient:1,bigg_id:"f6p_c"}],segments:{413:{from_node_id:"1576897",to_node_id:"1576896",b1:null,b2:null},414:{from_node_id:"1576896",to_node_id:"1576898",b1:null,b2:null},415:{from_node_id:"1576547",to_node_id:"1576897",b1:{y:1735,x:1954.5789860524153},b2:{y:1735,x:1772.8736958157247}},416:{from_node_id:"1576558",to_node_id:"1576897",b1:{y:1735,x:1849.0292180074937},b2:{y:1735,x:1741.208765402248}},417:{from_node_id:"1576898",to_node_id:"1576525",b1:{x:1235.776382408843,y:1741.3470458984375},b2:{x:1280.4546812716637,y:1587.43115234375}},418:{from_node_id:"1576898",to_node_id:"1576575",b1:{y:1735,x:1318.2979239002893},b2:{x:1312.7516245895065,y:1735}}}},1576724:{name:"glutamine synthetase",bigg_id:"GLNS",reversibility:!1,label_x:4377.22314453125,label_y:3875.114990234375,gene_reaction_rule:"(b3870 or b1297)",genes:[{bigg_id:"b3870",name:"b3870"},{bigg_id:"b1297",name:"b1297"}],metabolites:[{coefficient:1,bigg_id:"gln__L_c"},{coefficient:-1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"adp_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:-1,bigg_id:"glu__L_c"},{coefficient:-1,bigg_id:"nh4_c"}],segments:{419:{from_node_id:"1576901",to_node_id:"1576900",b1:null,b2:null},420:{from_node_id:"1576900",to_node_id:"1576899",b1:null,b2:null},421:{from_node_id:"1576554",to_node_id:"1576901",b1:{y:3725.970531985219,x:4364},b2:{y:3812.091159595566,x:4364}},422:{from_node_id:"1576576",to_node_id:"1576901",b1:{y:3788.5599470549537,x:4364},b2:{y:3830.8679841164862,x:4364}},423:{from_node_id:"1576577",to_node_id:"1576901",b1:{y:3805.0910031997996,x:4364},b2:{y:3835.8273009599397,x:4364}},424:{from_node_id:"1576899",to_node_id:"1576578",b1:{y:3924.4803114416995,x:4364},b2:{y:4007.2677048056653,x:4364}},425:{from_node_id:"1576899",to_node_id:"1576579",b1:{y:3903.3287298809073,x:4364},b2:{y:3936.762432936357,x:4364}},426:{from_node_id:"1576899",to_node_id:"1576580",b1:{y:3909.1943680267545,x:4364},b2:{y:3956.314560089181,x:4364}},427:{from_node_id:"1576899",to_node_id:"1576581",b1:{y:3915.8851724934025,x:4364},b2:{y:3978.617241644675,x:4364}}}},1576726:{name:"NAD transhydrogenase",bigg_id:"NADTRHD",reversibility:!1,label_x:3478.431396484375,label_y:1319.6259765625,gene_reaction_rule:"(b3962 or (b1602 and b1603))",genes:[{bigg_id:"b3962",name:"b3962"},{bigg_id:"b1602",name:"b1602"},{bigg_id:"b1603",name:"b1603"}],metabolites:[{coefficient:1,bigg_id:"nadp_c"},{coefficient:-1,bigg_id:"nadph_c"},{coefficient:-1,bigg_id:"nad_c"},{coefficient:1,bigg_id:"nadh_c"}],segments:{434:{from_node_id:"1576906",to_node_id:"1576907",b1:null,b2:null},435:{from_node_id:"1576907",to_node_id:"1576905",b1:null,b2:null},436:{from_node_id:"1576501",to_node_id:"1576906",b1:{x:3627.146913797642,y:1270.0001220703125},b2:{y:1270,x:3592.9455878111676}},437:{from_node_id:"1576500",to_node_id:"1576906",b1:{y:1270,x:3655},b2:{y:1270,x:3595.5}},438:{from_node_id:"1576905",to_node_id:"1576496",b1:{y:1270,x:3449},b2:{y:1270,x:3400}},439:{from_node_id:"1576905",to_node_id:"1576497",b1:{y:1270,x:3446.2829175487373},b2:{x:3418.3388104489154,y:1270}}}},1576727:{name:"2-Oxoglutarate dehydrogenase",bigg_id:"AKGDH",reversibility:!1,label_x:3793,label_y:3392,gene_reaction_rule:"( b0116  and  b0726  and  b0727 )",genes:[{bigg_id:"b0116",name:"b0116"},{bigg_id:"b0726",name:"b0726"},{bigg_id:"b0727",name:"b0727"}],metabolites:[{coefficient:1,bigg_id:"succoa_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:1,bigg_id:"nadh_c"},{coefficient:-1,bigg_id:"coa_c"},{coefficient:-1,bigg_id:"nad_c"},{coefficient:-1,bigg_id:"akg_c"}],segments:{440:{from_node_id:"1576908",to_node_id:"1576909",b1:null,b2:null},441:{from_node_id:"1576909",to_node_id:"1576910",b1:null,b2:null},442:{from_node_id:"1576509",to_node_id:"1576908",b1:{y:3555.384636544082,x:3777.1005909021505},b2:{y:3502.6153909632244,x:3779.130177270645}},443:{from_node_id:"1576585",to_node_id:"1576908",b1:{y:3529.6925257925727,x:3778.088749007978},b2:{y:3494.907757737772,x:3779.4266247023934}},444:{from_node_id:"1576586",to_node_id:"1576908",b1:{y:3541.8008905587553,x:3777.623042670817},b2:{y:3498.5402671676266,x:3779.2869128012453}},445:{from_node_id:"1576910",to_node_id:"1576570",b1:{y:3308.813629813628,x:3773.940214009658},b2:{y:3259.378766045427,x:3769.134046698861}},446:{from_node_id:"1576910",to_node_id:"1576587",b1:{y:3314.1710953857196,x:3774.4610787180563},b2:{y:3277.236984619066,x:3770.8702623935205}},447:{from_node_id:"1576910",to_node_id:"1576588",b1:{y:3314.098040676123,x:3774.453976176845},b2:{y:3276.99346892041,x:3770.846587256151}}}},1576728:{name:"pyruvate formate lyase",bigg_id:"PFL",reversibility:!1,label_x:1310.09130859375,label_y:4046.8837890625,gene_reaction_rule:"(((b0902 and b0903) and b2579) or (b0902 and b0903) or (b0902 and b3114) or (b3951 and b3952))",genes:[{bigg_id:"b0902",name:"b0902"},{bigg_id:"b0903",name:"b0903"},{bigg_id:"b2579",name:"b2579"},{bigg_id:"b0902",name:"b0902"},{bigg_id:"b0903",name:"b0903"},{bigg_id:"b0902",name:"b0902"},{bigg_id:"b3114",name:"b3114"},{bigg_id:"b3951",name:"b3951"},{bigg_id:"b3952",name:"b3952"}],metabolites:[{coefficient:1,bigg_id:"for_c"},{coefficient:-1,bigg_id:"coa_c"},{coefficient:-1,bigg_id:"pyr_c"},{coefficient:1,bigg_id:"accoa_c"}],segments:{448:{from_node_id:"1576912",to_node_id:"1576911",b1:null,b2:null},449:{from_node_id:"1576911",to_node_id:"1576913",b1:null,b2:null},450:{from_node_id:"1576589",to_node_id:"1576912",b1:{y:3995,x:1203.521849295065},b2:{y:3995,x:1239.5565547885194}},451:{from_node_id:"1576511",to_node_id:"1576912",b1:{y:3995,x:1151.9223593595584},b2:{y:3995,x:1224.0767078078675}},452:{from_node_id:"1576913",to_node_id:"1576514",b1:{y:3995,x:1460.6207189772367},b2:{y:3995,x:1567.0690632574556}},453:{from_node_id:"1576913",to_node_id:"1576590",b1:{y:3995,x:1431.4487841495961},b2:{y:3995,x:1469.8292804986534}}}},1576729:{name:"O2 exchange",bigg_id:"EX_o2_e",reversibility:!0,label_x:4894.58984375,label_y:1633.8848876953125,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"o2_e"}],segments:{454:{from_node_id:"1576494",to_node_id:"1576914",b1:{y:1660,x:4868},b2:{y:1660,x:4910}}}},1576730:{name:"phosphoenolpyruvate carboxykinase",bigg_id:"PPCK",reversibility:!1,label_x:1377.3328857421875,label_y:3600.33447265625,gene_reaction_rule:"b3403",genes:[{bigg_id:"b3403",name:"b3403"}],metabolites:[{coefficient:-1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"adp_c"},{coefficient:-1,bigg_id:"oaa_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:1,bigg_id:"pep_c"}],segments:{456:{from_node_id:"1576917",to_node_id:"1576916",b1:null,b2:null},457:{from_node_id:"1576916",to_node_id:"1576918",b1:null,b2:null},458:{from_node_id:"1576591",to_node_id:"1576917",b1:{y:3566.049568601064,x:1519.8576805959353},b2:{y:3557.6148705803193,x:1495.4573041787805}},459:{from_node_id:"1576521",to_node_id:"1576917",b1:{x:2521.6033016696215,y:3758.886258987647},b2:{x:1757.8986662821364,y:3678.777694102544}},460:{from_node_id:"1576918",to_node_id:"1576592",b1:{y:3499.9025817202064,x:1325.707745160619},b2:{y:3492.675272400688,x:1304.0258172020633}},461:{from_node_id:"1576918",to_node_id:"1576593",b1:{y:3497.2795105104547,x:1317.8385315313635},b2:{y:3483.931701701515,x:1277.7951051045454}},462:{from_node_id:"1576918",to_node_id:"1576517",b1:{y:3488.3964387904866,x:1291.1893163714603},b2:{y:3454.321462634956,x:1188.9643879048676}}}},1576731:{name:"phosphate reversible transport via proton symport",bigg_id:"PIt2r",reversibility:!0,label_x:2916.97509765625,label_y:4649.33837890625,gene_reaction_rule:"(b2987 or b3493)",genes:[{bigg_id:"b2987",name:"b2987"},{bigg_id:"b3493",name:"b3493"}],metabolites:[{coefficient:-1,bigg_id:"pi_e"},{coefficient:-1,bigg_id:"h_e"},{coefficient:1,bigg_id:"pi_c"},{coefficient:1,bigg_id:"h_c"}],segments:{463:{from_node_id:"1576921",to_node_id:"1576920",b1:null,b2:null},464:{from_node_id:"1576920",to_node_id:"1576919",b1:null,b2:null},465:{from_node_id:"1576594",to_node_id:"1576921",b1:{y:4782,x:2880},b2:{y:4742.1,x:2880}},466:{from_node_id:"1576595",to_node_id:"1576921",b1:{y:4775.936234646861,x:2880},b2:{y:4740.280870394058,x:2880}},467:{from_node_id:"1576919",to_node_id:"1576596",b1:{y:4503.436712282883,x:2880},b2:{y:4464.789040942943,x:2880}},468:{from_node_id:"1576919",to_node_id:"1576597",b1:{y:4506.5,x:2880},b2:{y:4475,x:2880}}}},1576732:{name:"2-oxoglutarate reversible transport via symport",bigg_id:"AKGt2r",reversibility:!0,label_x:4594.6474609375,label_y:3197.05029296875,gene_reaction_rule:"b2587",genes:[{bigg_id:"b2587",name:"b2587"}],metabolites:[{coefficient:1,bigg_id:"akg_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"h_e"},{coefficient:-1,bigg_id:"akg_e"}],segments:{469:{from_node_id:"1576923",to_node_id:"1576924",b1:null,b2:null},470:{from_node_id:"1576924",to_node_id:"1576922",b1:null,b2:null},471:{from_node_id:"1576598",to_node_id:"1576923",b1:{y:3228,x:4857},b2:{y:3228,x:4811.5}},472:{from_node_id:"1576599",to_node_id:"1576923",b1:{y:3228,x:4843.0220540550845},b2:{y:3228,x:4807.306616216525}},473:{from_node_id:"1576922",to_node_id:"1576509",b1:{y:3228,x:4373.7752656466},b2:{y:3228,x:4074.584218822}},474:{from_node_id:"1576922",to_node_id:"1576600",b1:{y:3228,x:4486.339540236634},b2:{y:3228,x:4449.798467455447}}}},1576733:{name:"fructose-bisphosphate aldolase",bigg_id:"FBA",reversibility:!0,label_x:969.7942504882812,label_y:2031.01611328125,gene_reaction_rule:"(b2097 or b1773 or b2925)",genes:[{bigg_id:"b2097",name:"b2097"},{bigg_id:"b1773",name:"b1773"},{bigg_id:"b2925",name:"b2925"}],metabolites:[{coefficient:1,bigg_id:"dhap_c"},{coefficient:-1,bigg_id:"fdp_c"},{coefficient:1,bigg_id:"g3p_c"}],segments:{53:{from_node_id:"1576926",to_node_id:"1576925",b1:null,b2:null},54:{from_node_id:"1576925",to_node_id:"1576575",b1:{y:2067.5,x:1055},b2:{y:2120,x:1055}},55:{from_node_id:"1576925",to_node_id:"1576601",b1:{y:2082.5,x:1055},b2:{x:929.645751953125,y:2081.141357421875}},475:{from_node_id:"1576529",to_node_id:"1576926",b1:{x:1055,y:1970.4088134765625},b2:{x:1055,y:1974.28076171875}}}},1576734:{name:"triose-phosphate isomerase",bigg_id:"TPI",reversibility:!0,label_x:936.438232421875,label_y:2245.297119140625,gene_reaction_rule:"b3919",genes:[{bigg_id:"b3919",name:"b3919"}],metabolites:[{coefficient:-1,bigg_id:"dhap_c"},{coefficient:1,bigg_id:"g3p_c"}],segments:{56:{from_node_id:"1576601",to_node_id:"1576927",b1:{x:911.255859375,y:2195},b2:{x:911.3470458984375,y:2195}},57:{from_node_id:"1576927",to_node_id:"1576575",b1:{y:2195,x:970},b2:{y:2195,x:1005}}}},1576735:{name:"cytochrome oxidase bd (ubiquinol-8: 2 protons)",bigg_id:"CYTBD",reversibility:!1,label_x:4560.4169921875,label_y:1954.46044921875,gene_reaction_rule:"((b0978 and b0979) or (b0733 and b0734))",genes:[{bigg_id:"b0978",name:"b0978"},{bigg_id:"b0979",name:"b0979"},{bigg_id:"b0733",name:"b0733"},{bigg_id:"b0734",name:"b0734"}],metabolites:[{coefficient:1,bigg_id:"h2o_c"},{coefficient:2,bigg_id:"h_e"},{coefficient:-.5,bigg_id:"o2_c"},{coefficient:-1,bigg_id:"q8h2_c"},{coefficient:1,bigg_id:"q8_c"},{coefficient:-2,bigg_id:"h_c"}],segments:{58:{from_node_id:"1576930",to_node_id:"1576928",b1:null,b2:null},59:{from_node_id:"1576928",to_node_id:"1576929",b1:null,b2:null},60:{from_node_id:"1576602",to_node_id:"1576930",b1:{x:4416.69775390625,y:1895.1654052734375},b2:{y:1900,x:4595.5}},61:{from_node_id:"1576495",to_node_id:"1576930",b1:{y:1900,x:4437.906272877015},b2:{y:1900,x:4572.371881863104}},62:{from_node_id:"1576542",to_node_id:"1576930",b1:{x:4368.162902237436,y:1890.3310546875},b2:{y:1900,x:4581.906341374356}},63:{from_node_id:"1576929",to_node_id:"1576539",b1:{y:1900,x:4715.894014752448},b2:{x:4842.38515985191,y:1903.22314453125}},64:{from_node_id:"1576929",to_node_id:"1576603",b1:{y:1900,x:4715.5},b2:{y:1900,x:4775}},65:{from_node_id:"1576929",to_node_id:"1576604",b1:{x:4821.203885298877,y:1901.611572265625},b2:{x:4884.545828600423,y:1758.1868896484375}}}},1576736:{name:"ribose-5-phosphate isomerase",bigg_id:"RPI",reversibility:!0,label_x:2315,label_y:1415,gene_reaction_rule:"( b2914  or  b4090 )",genes:[{bigg_id:"b2914",name:"b2914"},{bigg_id:"b4090",name:"b4090"}],metabolites:[{coefficient:1,bigg_id:"ru5p__D_c"},{coefficient:-1,bigg_id:"r5p_c"}],segments:{66:{from_node_id:"1576605",to_node_id:"1576931",b1:{y:1535.5,x:2401.9},b2:{y:1490,x:2362}},67:{from_node_id:"1576931",to_node_id:"1576493",b1:{y:1401,x:2282.5},b2:{y:1345,x:2230}}}},1576737:{name:"malate synthase",bigg_id:"MALS",reversibility:!1,label_x:2921,label_y:3378,gene_reaction_rule:"( b4014  or  b2976 )",genes:[{bigg_id:"b4014",name:"b4014"},{bigg_id:"b2976",name:"b2976"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:1,bigg_id:"mal__L_c"},{coefficient:-1,bigg_id:"glx_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"accoa_c"},{coefficient:1,bigg_id:"coa_c"}],segments:{68:{from_node_id:"1576933",to_node_id:"1576934",b1:null,b2:null},69:{from_node_id:"1576934",to_node_id:"1576932",b1:null,b2:null},70:{from_node_id:"1576532",to_node_id:"1576933",b1:{y:3508.4324366824735,x:3086.3665306078124},b2:{y:3464.029731004742,x:3021.7099591823435}},71:{from_node_id:"1576606",to_node_id:"1576933",b1:{y:3478.694083026728,x:3043.063313881025},b2:{y:3455.108224908018,x:3008.7189941643073}},72:{from_node_id:"1576607",to_node_id:"1576933",b1:{y:3495.7929452157005,x:3067.961657068476},b2:{y:3460.23788356471,x:3016.1884971205427}},73:{from_node_id:"1576932",to_node_id:"1576608",b1:{y:3330.4075604798036,x:2827.674768353758},b2:{y:3305.691868266011,x:2791.915894512527}},74:{from_node_id:"1576932",to_node_id:"1576609",b1:{y:3325.297440622825,x:2820.2814034543},b2:{y:3288.6581354094164,x:2767.2713448476666}},75:{from_node_id:"1576932",to_node_id:"1576504",b1:{y:3318.197058799434,x:2810.0085106034367},b2:{y:3264.9901959981144,x:2733.0283686781227}}}},1576739:{name:"phosphotransacetylase",bigg_id:"PTAr",reversibility:!0,label_x:1725,label_y:4075,gene_reaction_rule:"(b2297 or b2458)",genes:[{bigg_id:"b2297",name:"b2297"},{bigg_id:"b2458",name:"b2458"}],metabolites:[{coefficient:1,bigg_id:"actp_c"},{coefficient:1,bigg_id:"coa_c"},{coefficient:-1,bigg_id:"accoa_c"},{coefficient:-1,bigg_id:"pi_c"}],segments:{76:{from_node_id:"1576935",to_node_id:"1576937",b1:null,b2:null},77:{from_node_id:"1576937",to_node_id:"1576936",b1:null,b2:null},78:{from_node_id:"1576514",to_node_id:"1576935",b1:{y:4005,x:1715},b2:{y:4047,x:1715}},79:{from_node_id:"1576612",to_node_id:"1576935",b1:{y:4012.7984674554473,x:1715},b2:{y:4049.339540236634,x:1715}},80:{from_node_id:"1576936",to_node_id:"1576613",b1:{y:4115.5,x:1715},b2:{y:4140,x:1715}},81:{from_node_id:"1576936",to_node_id:"1576614",b1:{y:4120.660459763366,x:1715},b2:{y:4157.201532544553,x:1715}}}},1576741:{name:"L-glutamine transport via ABC system",bigg_id:"GLNabc",reversibility:!1,label_x:4535.24462890625,label_y:4133.49658203125,gene_reaction_rule:"(b0811 and b0810 and b0809)",genes:[{bigg_id:"b0811",name:"b0811"},{bigg_id:"b0810",name:"b0810"},{bigg_id:"b0809",name:"b0809"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:-1,bigg_id:"gln__L_e"},{coefficient:1,bigg_id:"adp_c"},{coefficient:1,bigg_id:"gln__L_c"}],segments:{82:{from_node_id:"1576940",to_node_id:"1576939",b1:null,b2:null},83:{from_node_id:"1576939",to_node_id:"1576938",b1:null,b2:null},84:{from_node_id:"1576537",to_node_id:"1576940",b1:{y:4158,x:4668.5},b2:{y:4158,x:4519.05}},85:{from_node_id:"1576615",to_node_id:"1576940",b1:{y:4158,x:4519.031242374329},b2:{y:4158,x:4474.209372712298}},86:{from_node_id:"1576616",to_node_id:"1576940",b1:{y:4158,x:4507.201532544553},b2:{y:4158,x:4470.660459763366}},87:{from_node_id:"1576938",to_node_id:"1576578",b1:{y:4158,x:4387.893128177527},b2:{y:4158,x:4324.643760591755}},88:{from_node_id:"1576938",to_node_id:"1576617",b1:{y:4158,x:4390.398170799715},b2:{y:4158,x:4332.993902665717}},89:{from_node_id:"1576938",to_node_id:"1576618",b1:{y:4158,x:4399.339540236634},b2:{y:4158,x:4362.798467455447}},90:{from_node_id:"1576938",to_node_id:"1576619",b1:{y:4158,x:4395.790627287702},b2:{y:4158,x:4350.968757625671}}}},1576742:{name:"malic enzyme (NAD)",bigg_id:"ME1",reversibility:!1,label_x:2188.595703125,label_y:3321.438232421875,gene_reaction_rule:"b1479",genes:[{bigg_id:"b1479",name:"b1479"}],metabolites:[{coefficient:1,bigg_id:"nadh_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:-1,bigg_id:"nad_c"},{coefficient:-1,bigg_id:"mal__L_c"},{coefficient:1,bigg_id:"pyr_c"}],segments:{91:{from_node_id:"1576941",to_node_id:"1576942",b1:null,b2:null},92:{from_node_id:"1576942",to_node_id:"1576943",b1:null,b2:null},93:{from_node_id:"1576504",to_node_id:"1576941",b1:{y:3253.9194505803225,x:2462.161098839355},b2:{y:3307.175835174097,x:2355.6483296518063}},94:{from_node_id:"1576620",to_node_id:"1576941",b1:{y:3302.9814878277875,x:2364.0370243444254},b2:{y:3321.8944463483363,x:2326.2111073033275}},95:{from_node_id:"1576943",to_node_id:"1576511",b1:{y:3474.7533185191,x:2020.4933629618001},b2:{x:1117.2138384533964,y:3870.856276574083}},96:{from_node_id:"1576943",to_node_id:"1576621",b1:{y:3398.949860334106,x:2172.1002793317884},b2:{y:3419.8328677803524,x:2130.3342644392947}},97:{from_node_id:"1576943",to_node_id:"1576622",b1:{y:3397.5,x:2175},b2:{y:3415,x:2140}}}},1576743:{name:"glucose 6-phosphate dehydrogenase",bigg_id:"G6PDH2r",reversibility:!0,label_x:1261.46337890625,label_y:1320.0572509765625,gene_reaction_rule:"b1852",genes:[{bigg_id:"b1852",name:"b1852"}],metabolites:[{coefficient:-1,bigg_id:"nadp_c"},{coefficient:1,bigg_id:"nadph_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"6pgl_c"},{coefficient:-1,bigg_id:"g6p_c"}],segments:{98:{from_node_id:"1576946",to_node_id:"1576945",b1:null,b2:null},99:{from_node_id:"1576945",to_node_id:"1576944",b1:null,b2:null},100:{from_node_id:"1576623",to_node_id:"1576946",b1:{y:1265,x:1232.3991758303962},b2:{y:1265,x:1270.6197527491188}},101:{from_node_id:"1576524",to_node_id:"1576946",b1:{y:1265,x:1171},b2:{y:1265,x:1252.2}},102:{from_node_id:"1576944",to_node_id:"1576624",b1:{y:1265,x:1346.800568173666},b2:{y:1265,x:1393.0018939122203}},103:{from_node_id:"1576944",to_node_id:"1576625",b1:{y:1265,x:1343.3802472508812},b2:{y:1265,x:1381.6008241696038}},104:{from_node_id:"1576944",to_node_id:"1576626",b1:{y:1265,x:1354},b2:{y:1265,x:1417}}}},1576744:{name:"Acetate exchange",bigg_id:"EX_ac_e",reversibility:!1,label_x:1742.4544677734375,label_y:4917.06640625,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"ac_e"}],segments:{105:{from_node_id:"1576627",to_node_id:"1576947",b1:{x:1715,y:4888.64794921875},b2:{y:4890,x:1715}}}},1576745:{name:"glutaminase",bigg_id:"GLUN",reversibility:!1,label_x:4253.77685546875,label_y:3866.338134765625,gene_reaction_rule:"(b1812 or b0485 or b1524)",genes:[{bigg_id:"b1812",name:"b1812"},{bigg_id:"b0485",name:"b0485"},{bigg_id:"b1524",name:"b1524"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:1,bigg_id:"glu__L_c"},{coefficient:-1,bigg_id:"gln__L_c"},{coefficient:1,bigg_id:"nh4_c"}],segments:{107:{from_node_id:"1576950",to_node_id:"1576951",b1:null,b2:null},108:{from_node_id:"1576951",to_node_id:"1576949",b1:null,b2:null},109:{from_node_id:"1576628",to_node_id:"1576950",b1:{y:3916.003204996513,x:4247},b2:{y:3888.700961498954,x:4247}},110:{from_node_id:"1576578",to_node_id:"1576950",b1:{y:3985.501152067616,x:4247},b2:{y:3909.550345620285,x:4247}},111:{from_node_id:"1576949",to_node_id:"1576629",b1:{y:3803.650440537184,x:4247},b2:{y:3777.1681351239463,x:4247}},112:{from_node_id:"1576949",to_node_id:"1576554",b1:{y:3787.5495901669938,x:4247},b2:{y:3723.4986338899794,x:4247}}}},1576746:{name:"ATP maintenance requirement",bigg_id:"ATPM",reversibility:!1,label_x:4241.11474609375,label_y:1266.1151123046875,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:1,bigg_id:"adp_c"}],segments:{113:{from_node_id:"1576952",to_node_id:"1576953",b1:null,b2:null},114:{from_node_id:"1576953",to_node_id:"1576954",b1:null,b2:null},115:{from_node_id:"1576534",to_node_id:"1576952",b1:{y:1120,x:4215},b2:{y:1176,x:4215}},116:{from_node_id:"1576630",to_node_id:"1576952",b1:{y:1157.5735931288073,x:4215},b2:{y:1187.2720779386423,x:4215}},117:{from_node_id:"1576954",to_node_id:"1576631",b1:{y:1368.3098334236006,x:4215},b2:{y:1411.0327780786686,x:4215}},118:{from_node_id:"1576954",to_node_id:"1576632",b1:{y:1361.423659658796,x:4215},b2:{y:1388.0788655293195,x:4215}},119:{from_node_id:"1576954",to_node_id:"1576536",b1:{y:1374,x:4215},b2:{y:1430,x:4215}}}},1576747:{name:"D lactate dehydrogenase",bigg_id:"LDH_D",reversibility:!0,label_x:1065,label_y:4165,gene_reaction_rule:"(b2133 or b1380)",genes:[{bigg_id:"b2133",name:"b2133"},{bigg_id:"b1380",name:"b1380"}],metabolites:[{coefficient:-1,bigg_id:"nad_c"},{coefficient:1,bigg_id:"pyr_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"lac__D_c"},{coefficient:1,bigg_id:"nadh_c"}],segments:{120:{from_node_id:"1576956",to_node_id:"1576957",b1:null,b2:null},121:{from_node_id:"1576957",to_node_id:"1576955",b1:null,b2:null},122:{from_node_id:"1576633",to_node_id:"1576956",b1:{y:4277.201532544553,x:1055},b2:{y:4240.660459763366,x:1055}},123:{from_node_id:"1576584",to_node_id:"1576956",b1:{y:4285,x:1055},b2:{y:4243,x:1055}},124:{from_node_id:"1576955",to_node_id:"1576634",b1:{y:4105.790627287702,x:1055},b2:{y:4060.9687576256715,x:1055}},125:{from_node_id:"1576955",to_node_id:"1576511",b1:{y:4098,x:1055},b2:{y:4035,x:1055}},126:{from_node_id:"1576955",to_node_id:"1576635",b1:{y:4109.339540236634,x:1055},b2:{y:4072.7984674554473,x:1055}}}},1576748:{name:"malate dehydrogenase",bigg_id:"MDH",reversibility:!0,label_x:2587,label_y:3394,gene_reaction_rule:"b3236",genes:[{bigg_id:"b3236",name:"b3236"}],metabolites:[{coefficient:1,bigg_id:"nadh_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"nad_c"},{coefficient:-1,bigg_id:"mal__L_c"},{coefficient:1,bigg_id:"oaa_c"}],segments:{127:{from_node_id:"1576960",to_node_id:"1576959",b1:null,b2:null},128:{from_node_id:"1576959",to_node_id:"1576958",b1:null,b2:null},129:{from_node_id:"1576504",to_node_id:"1576960",b1:{y:3264.23165565782,x:2588.092725741443},b2:{y:3317.969496697346,x:2583.827817722433}},130:{from_node_id:"1576636",to_node_id:"1576960",b1:{y:3294.4959356130375,x:2585.69079876087},b2:{y:3327.0487806839114,x:2583.107239628261}},131:{from_node_id:"1576958",to_node_id:"1576637",b1:{y:3480.6634859983265,x:2578.47429780766},b2:{y:3538.2116199944217,x:2579.5809926922}},132:{from_node_id:"1576958",to_node_id:"1576638",b1:{y:3470.7248027204823,x:2578.2831692830864},b2:{y:3505.0826757349405,x:2578.9438976102874}},133:{from_node_id:"1576958",to_node_id:"1576521",b1:{y:3497.9882185746883,x:2578.807465741821},b2:{y:3595.960728582294,x:2580.6915524727365}}}},1576749:{name:"H2O transport via diffusion",bigg_id:"H2Ot",reversibility:!0,label_x:3267,label_y:4604,gene_reaction_rule:"(b0875 or s0001)",genes:[{bigg_id:"b0875",name:"b0875"},{bigg_id:"s0001",name:"s0001"}],metabolites:[{coefficient:1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"h2o_e"}],segments:{134:{from_node_id:"1576639",to_node_id:"1576961",b1:{y:4733,x:3257},b2:{y:4684,x:3257}},135:{from_node_id:"1576961",to_node_id:"1576640",b1:{y:4587,x:3257},b2:{y:4524,x:3257}}}},1576750:{name:"H2O exchange",bigg_id:"EX_h2o_e",reversibility:!0,label_x:3267,label_y:4914,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"h2o_e"}],segments:{136:{from_node_id:"1576639",to_node_id:"1576962",b1:{y:4779.5,x:3257},b2:{y:4839,x:3257}}}},1576751:{name:"transketolase",bigg_id:"TKT1",reversibility:!0,label_x:2185,label_y:1685,gene_reaction_rule:"( b2935  or  b2465 )",genes:[{bigg_id:"b2935",name:"b2935"},{bigg_id:"b2465",name:"b2465"}],metabolites:[{coefficient:-1,bigg_id:"xu5p__D_c"},{coefficient:-1,bigg_id:"r5p_c"},{coefficient:1,bigg_id:"g3p_c"},{coefficient:1,bigg_id:"s7p_c"}],segments:{138:{from_node_id:"1576964",to_node_id:"1576965",b1:null,b2:null},139:{from_node_id:"1576965",to_node_id:"1576966",b1:null,b2:null},140:{from_node_id:"1576605",to_node_id:"1576964",b1:{x:2171.826416015625,y:1557.80791851959},b2:{y:1605.9896167668144,x:2175}},141:{from_node_id:"1576558",to_node_id:"1576964",b1:{x:2171.82666015625,y:1558.0047151164654},b2:{y:1607.9527328943145,x:2175}},142:{from_node_id:"1576966",to_node_id:"1576546",b1:{x:2173.413330078125,y:1823.819109636181},b2:{x:2070.2734375,y:1816.322080948729}},143:{from_node_id:"1576966",to_node_id:"1576545",b1:{x:2175,y:1822.232439714306},b2:{x:2297.1806640625,y:1821.0824569252916}}}},1576752:{name:"CO2 transporter via diffusion",bigg_id:"CO2t",reversibility:!0,label_x:3631,label_y:4594,gene_reaction_rule:"s0001",genes:[{bigg_id:"s0001",name:"s0001"}],metabolites:[{coefficient:-1,bigg_id:"co2_e"},{coefficient:1,bigg_id:"co2_c"}],segments:{144:{from_node_id:"1576544",to_node_id:"1576967",b1:{y:4731.5,x:3621},b2:{y:4679,x:3621}},145:{from_node_id:"1576967",to_node_id:"1576641",b1:{y:4578.5,x:3621},b2:{y:4519,x:3621}}}},1576753:{name:"2-Oxoglutarate exchange",bigg_id:"EX_akg_e",reversibility:!1,label_x:5042,label_y:3218,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"akg_e"}],segments:{146:{from_node_id:"1576598",to_node_id:"1576969",b1:{y:3228,x:4938.5},b2:{y:3228,x:4977}}}},1576754:{name:"phosphoenolpyruvate synthase",bigg_id:"PPS",reversibility:!1,label_x:741.8604125976562,label_y:3669.90869140625,gene_reaction_rule:"b1702",genes:[{bigg_id:"b1702",name:"b1702"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:2,bigg_id:"h_c"},{coefficient:-1,bigg_id:"atp_c"},{coefficient:1,bigg_id:"pi_c"},{coefficient:1,bigg_id:"pep_c"},{coefficient:1,bigg_id:"amp_c"},{coefficient:-1,bigg_id:"pyr_c"}],segments:{148:{from_node_id:"1576970",to_node_id:"1576972",b1:null,b2:null},149:{from_node_id:"1576972",to_node_id:"1576971",b1:null,b2:null},150:{from_node_id:"1576642",to_node_id:"1576970",b1:{y:3860.9016994374947,x:835},b2:{y:3821.7705098312485,x:835}},151:{from_node_id:"1576511",to_node_id:"1576970",b1:{y:3935.384048104053,x:835},b2:{y:3844.115214431216,x:835}},152:{from_node_id:"1576643",to_node_id:"1576970",b1:{y:3855,x:835},b2:{y:3820,x:835}},153:{from_node_id:"1576971",to_node_id:"1576517",b1:{y:3485.059419132917,x:835},b2:{y:3391.8647304430565,x:835}},154:{from_node_id:"1576971",to_node_id:"1576644",b1:{y:3508.2294901687515,x:835},b2:{y:3469.0983005625053,x:835}},155:{from_node_id:"1576971",to_node_id:"1576645",b1:{y:3510,x:835},b2:{y:3475,x:835}},156:{from_node_id:"1576971",to_node_id:"1576646",b1:{y:3503.7867965644036,x:835},b2:{y:3454.289321881345,x:835}}}},1576755:{name:"D-Glucose exchange",bigg_id:"EX_glc_e",reversibility:!1,label_x:1082.5206298828125,label_y:598.4705200195312,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"glc__D_e"}],segments:{157:{from_node_id:"1576647",to_node_id:"1576974",b1:{x:1055.066162109375,y:625.4632568359375},b2:{x:1056.6529541015625,y:623.4132690429688}}}},1576756:{name:"ethanol reversible transport via proton symport",bigg_id:"ETOHt2r",reversibility:!0,label_x:2530.6279296875,label_y:4611.404296875,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:1,bigg_id:"etoh_c"},{coefficient:-1,bigg_id:"h_e"},{coefficient:-1,bigg_id:"etoh_e"},{coefficient:1,bigg_id:"h_c"}],segments:{159:{from_node_id:"1576977",to_node_id:"1576976",b1:null,b2:null},160:{from_node_id:"1576976",to_node_id:"1576975",b1:null,b2:null},161:{from_node_id:"1576648",to_node_id:"1576977",b1:{y:4782.201532544553,x:2500},b2:{y:4745.660459763366,x:2500}},162:{from_node_id:"1576649",to_node_id:"1576977",b1:{y:4780,x:2500},b2:{y:4745,x:2500}},163:{from_node_id:"1576975",to_node_id:"1576650",b1:{y:4414.339540236634,x:2500},b2:{y:4377.798467455447,x:2500}},164:{from_node_id:"1576975",to_node_id:"1576829",b1:{y:4399.699628715146,x:2500},b2:{y:4328.998762383821,x:2500}}}},1576757:{name:"phosphoglycerate mutase",bigg_id:"PGM",reversibility:!0,label_x:1065,label_y:2985,gene_reaction_rule:"(b3612 or b4395 or b0755)",genes:[{bigg_id:"b3612",name:"b3612"},{bigg_id:"b4395",name:"b4395"},{bigg_id:"b0755",name:"b0755"}],metabolites:[{coefficient:1,bigg_id:"3pg_c"},{coefficient:-1,bigg_id:"2pg_c"}],segments:{165:{from_node_id:"1576522",to_node_id:"1576978",b1:{y:3105.5,x:1055},b2:{y:3060,x:1055}},166:{from_node_id:"1576978",to_node_id:"1576486",b1:{y:2977,x:1055},b2:{y:2935,x:1055}}}},1576758:{name:"Ethanol exchange",bigg_id:"EX_etoh_e",reversibility:!1,label_x:2519.520751953125,label_y:4934.28076171875,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"etoh_e"}],segments:{167:{from_node_id:"1576649",to_node_id:"1576980",b1:{x:2500,y:4875.1484375},b2:{x:2500,y:4887.93359375}}}},1576759:{name:"acetate kinase",bigg_id:"ACKr",reversibility:!0,label_x:1737.694091796875,label_y:4293.5615234375,gene_reaction_rule:"(b3115 or b2296 or b1849)",genes:[{bigg_id:"b3115",name:"b3115"},{bigg_id:"b2296",name:"b2296"},{bigg_id:"b1849",name:"b1849"}],metabolites:[{coefficient:1,bigg_id:"adp_c"},{coefficient:-1,bigg_id:"atp_c"},{coefficient:-1,bigg_id:"ac_c"},{coefficient:1,bigg_id:"actp_c"}],segments:{169:{from_node_id:"1576981",to_node_id:"1576982",b1:null,b2:null},170:{from_node_id:"1576982",to_node_id:"1576983",b1:null,b2:null},171:{from_node_id:"1576651",to_node_id:"1576981",b1:{y:4357.201532544553,x:1715},b2:{y:4320.660459763366,x:1715}},172:{from_node_id:"1576652",to_node_id:"1576981",b1:{y:4345,x:1715},b2:{y:4317,x:1715}},173:{from_node_id:"1576983",to_node_id:"1576653",b1:{y:4239.339540236634,x:1715},b2:{y:4202.798467455447,x:1715}},174:{from_node_id:"1576983",to_node_id:"1576613",b1:{y:4243,x:1715},b2:{y:4215,x:1715}}}},1576760:{name:"Ammonium exchange",bigg_id:"EX_nh4_e",reversibility:!0,label_x:4001,label_y:4908,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"nh4_e"}],segments:{175:{from_node_id:"1576526",to_node_id:"1576985",b1:{y:4781.15,x:3989.3},b2:{y:4837.5,x:3990}}}},1576761:{name:"glutamate synthase (NADPH)",bigg_id:"GLUSy",reversibility:!1,label_x:3984.18701171875,label_y:3851.553955078125,gene_reaction_rule:"(b3212 and b3213)",genes:[{bigg_id:"b3212",name:"b3212"},{bigg_id:"b3213",name:"b3213"}],metabolites:[{coefficient:1,bigg_id:"nadp_c"},{coefficient:-1,bigg_id:"gln__L_c"},{coefficient:-1,bigg_id:"nadph_c"},{coefficient:-1,bigg_id:"h_c"},{coefficient:2,bigg_id:"glu__L_c"},{coefficient:-1,bigg_id:"akg_c"}],segments:{177:{from_node_id:"1576986",to_node_id:"1576988",b1:null,b2:null},178:{from_node_id:"1576988",to_node_id:"1576987",b1:null,b2:null},179:{from_node_id:"1576509",to_node_id:"1576986",b1:{x:3943.568359375,y:4145.014875810485},b2:{x:4119.22314453125,y:4155.746259618145}},180:{from_node_id:"1576654",to_node_id:"1576986",b1:{y:3936.7467947664254,x:4116},b2:{y:3902.6240384299276,x:4116}},181:{from_node_id:"1576578",to_node_id:"1576986",b1:{y:4009.7949095816407,x:4116},b2:{y:3924.538472874492,x:4116}},182:{from_node_id:"1576655",to_node_id:"1576986",b1:{y:3952.041002490592,x:4116},b2:{y:3907.2123007471773,x:4116}},183:{from_node_id:"1576987",to_node_id:"1576656",b1:{y:3830.733703350168,x:4116},b2:{y:3790.445677833893,x:4116}},184:{from_node_id:"1576987",to_node_id:"1576554",b1:{y:3810.0289584024877,x:4116},b2:{y:3721.4298613416263,x:4116}}}},1576762:{name:"Phosphate exchange",bigg_id:"EX_pi_e",reversibility:!0,label_x:2902.694091796875,label_y:4926.21484375,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"pi_e"}],segments:{185:{from_node_id:"1576594",to_node_id:"1576989",b1:{x:2879.999755859375,y:4896.2666015625},b2:{x:2880,y:4909.82177734375}}}},1576763:{name:"Fumarate transport via proton symport (2 H)",bigg_id:"FUMt2_2",reversibility:!1,label_x:2851.586669921875,label_y:845.8676147460938,gene_reaction_rule:"b3528",genes:[{bigg_id:"b3528",name:"b3528"}],metabolites:[{coefficient:-1,bigg_id:"fum_e"},{coefficient:-2,bigg_id:"h_e"},{coefficient:1,bigg_id:"fum_c"},{coefficient:2,bigg_id:"h_c"}],segments:{187:{from_node_id:"1576991",to_node_id:"1576993",b1:null,b2:null},188:{from_node_id:"1576993",to_node_id:"1576992",b1:null,b2:null},189:{from_node_id:"1576657",to_node_id:"1576991",b1:{y:690,x:2840},b2:{y:718,x:2840}},190:{from_node_id:"1576658",to_node_id:"1576991",b1:{y:677.7984674554473,x:2840},b2:{y:714.3395402366342,x:2840}},191:{from_node_id:"1576992",to_node_id:"1576659",b1:{y:995.6604597633658,x:2840},b2:{y:1032.2015325445527,x:2840}},192:{from_node_id:"1576992",to_node_id:"1576503",b1:{y:1271.0003479379363,x:2840},b2:{y:1950.0011597931211,x:2840}}}},1576764:{name:"acetate reversible transport via proton symport",bigg_id:"ACt2r",reversibility:!0,label_x:1740.8675537109375,label_y:4638.470703125,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:1,bigg_id:"ac_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"ac_e"},{coefficient:-1,bigg_id:"h_e"}],segments:{193:{from_node_id:"1576994",to_node_id:"1576995",b1:null,b2:null},194:{from_node_id:"1576995",to_node_id:"1576996",b1:null,b2:null},195:{from_node_id:"1576627",to_node_id:"1576994",b1:{x:1716.5867919921875,y:4779.13232421875},b2:{y:4760,x:1715}},196:{from_node_id:"1576660",to_node_id:"1576994",b1:{x:1715,y:4787.680536450803},b2:{y:4760.660459763366,x:1715}},197:{from_node_id:"1576996",to_node_id:"1576652",b1:{x:1715,y:4489.49560546875},b2:{x:1715,y:4450.38818359375}},198:{from_node_id:"1576996",to_node_id:"1576661",b1:{x:1715,y:4485.835145705384},b2:{x:1719.76025390625,y:4430.253057299197}}}},1576765:{name:"D-glucose transport via PEP:Pyr PTS",bigg_id:"GLCpts",reversibility:!1,label_x:1074.520263671875,label_y:929.0499877929688,gene_reaction_rule:"((b2417 and b1101 and b2415 and b2416) or (b1817 and b1818 and b1819 and b2415 and b2416) or (b2417 and b1621 and b2415 and b2416))",genes:[{bigg_id:"b2417",name:"b2417"},{bigg_id:"b1101",name:"b1101"},{bigg_id:"b2415",name:"b2415"},{bigg_id:"b2416",name:"b2416"},{bigg_id:"b1817",name:"b1817"},{bigg_id:"b1818",name:"b1818"},{bigg_id:"b1819",name:"b1819"},{bigg_id:"b2415",name:"b2415"},{bigg_id:"b2416",name:"b2416"},{bigg_id:"b2417",name:"b2417"},{bigg_id:"b1621",name:"b1621"},{bigg_id:"b2415",name:"b2415"},{bigg_id:"b2416",name:"b2416"}],metabolites:[{coefficient:1,bigg_id:"g6p_c"},{coefficient:1,bigg_id:"pyr_c"},{coefficient:-1,bigg_id:"pep_c"},{coefficient:-1,bigg_id:"glc__D_e"}],segments:{199:{from_node_id:"1576998",to_node_id:"1576997",b1:null,b2:null},200:{from_node_id:"1576997",to_node_id:"1576999",b1:null,b2:null},201:{from_node_id:"1576662",to_node_id:"1576998",b1:{x:962.100078544998,y:817.6128620109578},b2:{x:1056.2982974892807,y:830.8607140720374}},202:{from_node_id:"1576647",to_node_id:"1576998",b1:{x:1054.4691636917553,y:841.218336226978},b2:{x:1054.6540059434642,y:852.0646158583277}},203:{from_node_id:"1576999",to_node_id:"1576663",b1:{x:1056.5867919921875,y:1155.6497636747395},b2:{x:1162.89990234375,y:1091.99109457335}},204:{from_node_id:"1576999",to_node_id:"1576524",b1:{x:1056.5867919921875,y:1156.4998046875},b2:{x:1055,y:1159.3526000976562}}}},1576766:{name:"succinate transport out via proton antiport",bigg_id:"SUCCt3",reversibility:!1,label_x:4451.38818359375,label_y:2819.884765625,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"h_e"},{coefficient:1,bigg_id:"succ_e"},{coefficient:-1,bigg_id:"succ_c"},{coefficient:1,bigg_id:"h_c"}],segments:{205:{from_node_id:"1577002",to_node_id:"1577000",b1:null,b2:null},206:{from_node_id:"1577000",to_node_id:"1577001",b1:null,b2:null},207:{from_node_id:"1576664",to_node_id:"1577002",b1:{x:4395.992900114855,y:2928.186767578125},b2:{x:4392.512762612581,y:2844.388427734375}},208:{from_node_id:"1576533",to_node_id:"1577002",b1:{y:2846,x:3989.9032976766134},b2:{y:2846,x:4388.970989302984}},209:{from_node_id:"1577001",to_node_id:"1576531",b1:{x:4830.28303131712,y:2844.388427734375},b2:{y:2846,x:4852.764726786234}},210:{from_node_id:"1577001",to_node_id:"1576665",b1:{x:4895.4172094976175,y:2844.388427734375},b2:{x:4896.373608481642,y:2757.366943359375}}}},1576768:{name:"6-phosphogluconolactonase",bigg_id:"PGL",reversibility:!1,label_x:1599.3970947265625,label_y:1312.1234130859375,gene_reaction_rule:"b0767",genes:[{bigg_id:"b0767",name:"b0767"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:-1,bigg_id:"6pgl_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"6pgc_c"}],segments:{211:{from_node_id:"1577005",to_node_id:"1577003",b1:null,b2:null},212:{from_node_id:"1577003",to_node_id:"1577004",b1:null,b2:null},213:{from_node_id:"1576626",to_node_id:"1577005",b1:{y:1265,x:1562},b2:{y:1265,x:1600.5}},214:{from_node_id:"1576667",to_node_id:"1577005",b1:{y:1265,x:1562.3991758303962},b2:{y:1265,x:1600.6197527491188}},215:{from_node_id:"1577004",to_node_id:"1576668",b1:{y:1265,x:1673.3802472508812},b2:{y:1265,x:1711.6008241696038}},216:{from_node_id:"1577004",to_node_id:"1576490",b1:{y:1265,x:1682.5},b2:{y:1265,x:1742}}}},1576769:{name:"glyceraldehyde-3-phosphate dehydrogenase",bigg_id:"GAPD",reversibility:!0,label_x:1065,label_y:2385,gene_reaction_rule:"b1779",genes:[{bigg_id:"b1779",name:"b1779"}],metabolites:[{coefficient:1,bigg_id:"nadh_c"},{coefficient:1,bigg_id:"13dpg_c"},{coefficient:-1,bigg_id:"pi_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"nad_c"},{coefficient:-1,bigg_id:"g3p_c"}],segments:{217:{from_node_id:"1577006",to_node_id:"1577008",b1:null,b2:null},218:{from_node_id:"1577008",to_node_id:"1577007",b1:null,b2:null},219:{from_node_id:"1576575",to_node_id:"1577006",b1:{y:2270,x:1055},b2:{y:2322.5,x:1055}},220:{from_node_id:"1576669",to_node_id:"1577006",b1:{y:2284.7920271060384,x:1055},b2:{y:2326.9376081318114,x:1055}},221:{from_node_id:"1576670",to_node_id:"1577006",b1:{y:2297.5658350974745,x:1055},b2:{y:2330.769750529242,x:1055}},222:{from_node_id:"1577007",to_node_id:"1576487",b1:{y:2454.5,x:1055},b2:{y:2500,x:1055}},223:{from_node_id:"1577007",to_node_id:"1576671",b1:{y:2453.0623918681886,x:1055},b2:{y:2495.2079728939616,x:1055}},224:{from_node_id:"1577007",to_node_id:"1576672",b1:{y:2449.230249470758,x:1055},b2:{y:2482.4341649025255,x:1055}}}},1576770:{name:"Fumarate exchange",bigg_id:"EX_fum_e",reversibility:!1,label_x:2915.057373046875,label_y:529.8175659179688,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"fum_e"}],segments:{225:{from_node_id:"1576657",to_node_id:"1577009",b1:{y:623,x:2840},b2:{y:560,x:2840}}}},1576771:{name:"succinate transport via proton symport (2 H)",bigg_id:"SUCCt2_2",reversibility:!1,label_x:4501.95703125,label_y:2997.661865234375,gene_reaction_rule:"b3528",genes:[{bigg_id:"b3528",name:"b3528"}],metabolites:[{coefficient:-2,bigg_id:"h_e"},{coefficient:-1,bigg_id:"succ_e"},{coefficient:1,bigg_id:"succ_c"},{coefficient:2,bigg_id:"h_c"}],segments:{227:{from_node_id:"1577013",to_node_id:"1577011",b1:null,b2:null},228:{from_node_id:"1577011",to_node_id:"1577012",b1:null,b2:null},229:{from_node_id:"1576673",to_node_id:"1577013",b1:{y:3027,x:4832.0555127546395},b2:{y:3027,x:4806.816653826392}},230:{from_node_id:"1576531",to_node_id:"1577013",b1:{y:3027,x:4896.1311639800515},b2:{y:3027,x:4826.039349194016}},231:{from_node_id:"1577012",to_node_id:"1576533",b1:{y:3027,x:4366.8883209237165},b2:{y:3027,x:3972.294403079054}},232:{from_node_id:"1577012",to_node_id:"1576674",b1:{y:3027,x:4521},b2:{y:3027,x:4486}}}},1576772:{name:"glutamate dehydrogenase (NADP)",bigg_id:"GLUDy",reversibility:!0,label_x:4025.81298828125,label_y:3671.95703125,gene_reaction_rule:"b1761",genes:[{bigg_id:"b1761",name:"b1761"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:1,bigg_id:"nadph_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"nadp_c"},{coefficient:-1,bigg_id:"glu__L_c"},{coefficient:1,bigg_id:"nh4_c"},{coefficient:1,bigg_id:"akg_c"}],segments:{233:{from_node_id:"1577016",to_node_id:"1577015",b1:null,b2:null},234:{from_node_id:"1577015",to_node_id:"1577014",b1:null,b2:null},235:{from_node_id:"1576675",to_node_id:"1577016",b1:{y:3632,x:4170.325901807804},b2:{y:3632,x:4133.6977705423415}},236:{from_node_id:"1576554",to_node_id:"1577016",b1:{y:3632,x:4183},b2:{y:3632,x:4137.5}},237:{from_node_id:"1576676",to_node_id:"1577016",b1:{y:3632,x:4156.897300677553},b2:{y:3632,x:4129.669190203266}},238:{from_node_id:"1577014",to_node_id:"1576677",b1:{y:3632,x:4060.9817744755806},b2:{y:3632,x:4021.2725815852687}},239:{from_node_id:"1577014",to_node_id:"1576678",b1:{y:3632,x:4054.775659320446},b2:{y:3632,x:4000.5855310681522}},240:{from_node_id:"1577014",to_node_id:"1576509",b1:{y:3632,x:4028.194352729836},b2:{y:3632,x:3911.98117576612}},241:{from_node_id:"1577014",to_node_id:"1576679",b1:{y:3632,x:4065.6561756331353},b2:{y:3632,x:4036.853918777118}}}},1576773:{name:"ATP synthase (four protons for one ATP)",bigg_id:"ATPS4r",reversibility:!0,label_x:4558.97119140625,label_y:1122.273193359375,gene_reaction_rule:"(((b3736 and b3737 and b3738) and (b3731 and b3732 and b3733 and b3734 and b3735)) or ((b3736 and b3737 and b3738) and (b3731 and b3732 and b3733 and b3734 and b3735) and b3739))",genes:[{bigg_id:"b3736",name:"b3736"},{bigg_id:"b3737",name:"b3737"},{bigg_id:"b3738",name:"b3738"},{bigg_id:"b3731",name:"b3731"},{bigg_id:"b3732",name:"b3732"},{bigg_id:"b3733",name:"b3733"},{bigg_id:"b3734",name:"b3734"},{bigg_id:"b3735",name:"b3735"},{bigg_id:"b3736",name:"b3736"},{bigg_id:"b3737",name:"b3737"},{bigg_id:"b3738",name:"b3738"},{bigg_id:"b3731",name:"b3731"},{bigg_id:"b3732",name:"b3732"},{bigg_id:"b3733",name:"b3733"},{bigg_id:"b3734",name:"b3734"},{bigg_id:"b3735",name:"b3735"},{bigg_id:"b3739",name:"b3739"}],metabolites:[{coefficient:1,bigg_id:"h2o_c"},{coefficient:1,bigg_id:"atp_c"},{coefficient:-4,bigg_id:"h_e"},{coefficient:-1,bigg_id:"pi_c"},{coefficient:-1,bigg_id:"adp_c"},{coefficient:3,bigg_id:"h_c"}],segments:{242:{from_node_id:"1577017",to_node_id:"1577019",b1:null,b2:null},243:{from_node_id:"1577019",to_node_id:"1577018",b1:null,b2:null},244:{from_node_id:"1576680",to_node_id:"1577017",b1:{y:1150,x:4785},b2:{y:1150,x:4729}},245:{from_node_id:"1576681",to_node_id:"1577017",b1:{x:4877.134963734394,y:1332.100830078125},b2:{y:1150,x:4746.487950057818}},246:{from_node_id:"1576536",to_node_id:"1577017",b1:{x:4965.504060083706,y:1523.8707275390625},b2:{y:1150,x:4796.204440681362}},247:{from_node_id:"1577018",to_node_id:"1576682",b1:{x:4558.046875,y:1148.3885498046875},b2:{y:1150,x:4520}},248:{from_node_id:"1577018",to_node_id:"1576683",b1:{x:4575.66162109375,y:1148.388427734375},b2:{x:4542.7265625,y:1150}},249:{from_node_id:"1577018",to_node_id:"1576534",b1:{x:4366.332368388376,y:1148.3885498046875},b2:{x:4324.116846450839,y:1043.64013671875}}}},1576774:{name:"citrate synthase",bigg_id:"CS",reversibility:!1,label_x:2808,label_y:3876,gene_reaction_rule:"b0720",genes:[{bigg_id:"b0720",name:"b0720"}],metabolites:[{coefficient:-1,bigg_id:"h2o_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"cit_c"},{coefficient:1,bigg_id:"coa_c"},{coefficient:-1,bigg_id:"accoa_c"},{coefficient:-1,bigg_id:"oaa_c"}],segments:{250:{from_node_id:"1577020",to_node_id:"1577022",b1:null,b2:null},251:{from_node_id:"1577022",to_node_id:"1577021",b1:null,b2:null},252:{from_node_id:"1576514",to_node_id:"1577020",b1:{x:1727.7705707040077,y:3679.773731927161},b2:{x:2627.479742988546,y:3745.4027250468985}},253:{from_node_id:"1576684",to_node_id:"1577020",b1:{y:3791.3182764091857,x:2693.656876042776},b2:{y:3823.2954829227556,x:2728.8970628128327}},254:{from_node_id:"1576521",to_node_id:"1577020",b1:{y:3789.4902660855073,x:2691.642334053416},b2:{y:3822.7470798256522,x:2728.292700216025}},255:{from_node_id:"1577021",to_node_id:"1576685",b1:{y:3931.4175627427994,x:2857.610551099924},b2:{y:3962.7252091426644,x:2898.7018369997472}},256:{from_node_id:"1577021",to_node_id:"1576686",b1:{y:3934.0276661811313,x:2861.0363118627347},b2:{y:3971.425553937104,x:2910.1210395424487}},257:{from_node_id:"1577021",to_node_id:"1576687",b1:{y:3936.817861413506,x:2864.698443105226},b2:{y:3980.7262047116856,x:2922.328143684087}}}},1576775:{name:"pyruvate reversible transport via proton symport",bigg_id:"PYRt2r",reversibility:!0,label_x:462.6368408203125,label_y:3908.02490234375,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"pyr_e"},{coefficient:1,bigg_id:"h_c"},{coefficient:-1,bigg_id:"h_e"},{coefficient:1,bigg_id:"pyr_c"}],segments:{258:{from_node_id:"1577023",to_node_id:"1577025",b1:null,b2:null},259:{from_node_id:"1577025",to_node_id:"1577024",b1:null,b2:null},260:{from_node_id:"1576688",to_node_id:"1577023",b1:{y:3945,x:322.7984674554473},b2:{y:3945,x:359.3395402366342}},261:{from_node_id:"1576557",to_node_id:"1577023",b1:{y:3945,x:325},b2:{y:3945,x:360}},262:{from_node_id:"1577024",to_node_id:"1576511",b1:{y:3945,x:706.5},b2:{y:3945,x:850}},263:{from_node_id:"1577024",to_node_id:"1576689",b1:{y:3945,x:660.6604597633658},b2:{y:3945,x:697.2015325445527}}}},1576776:{name:"malic enzyme (NADP)",bigg_id:"ME2",reversibility:!1,label_x:2281.107177734375,label_y:3432.36328125,gene_reaction_rule:"b2463",genes:[{bigg_id:"b2463",name:"b2463"}],metabolites:[{coefficient:-1,bigg_id:"nadp_c"},{coefficient:1,bigg_id:"co2_c"},{coefficient:-1,bigg_id:"mal__L_c"},{coefficient:1,bigg_id:"pyr_c"},{coefficient:1,bigg_id:"nadph_c"}],segments:{264:{from_node_id:"1577028",to_node_id:"1577026",b1:null,b2:null},265:{from_node_id:"1577026",to_node_id:"1577027",b1:null,b2:null},266:{from_node_id:"1576690",to_node_id:"1577028",b1:{y:3329.0232535031614,x:2361.6279108280646},b2:{y:3350.7069760509485,x:2325.4883732484195}},267:{from_node_id:"1576504",to_node_id:"1577028",b1:{y:3269.069152001936,x:2461.551413330107},b2:{y:3332.720745600581,x:2355.4654239990323}},268:{from_node_id:"1577027",to_node_id:"1576691",b1:{y:3417.2249567472754,x:2205.550086505449},b2:{y:3434.0831891575845,x:2171.8336216848306}},269:{from_node_id:"1577027",to_node_id:"1576511",b1:{y:3495.997238327751,x:2048.005523344498},b2:{x:1164.309223322806,y:3895.002675936253}},270:{from_node_id:"1577027",to_node_id:"1576692",b1:{y:3418.8232647019117,x:2202.3534705961765},b2:{y:3439.4108823397055,x:2161.178235320589}}}},1576777:{name:"Formate exchange",bigg_id:"EX_for_e",reversibility:!1,label_x:1476.3470458984375,label_y:4913.4130859375,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"for_e"}],segments:{271:{from_node_id:"1576666",to_node_id:"1577030",b1:{x:1461.5867919921875,y:4885.96044921875},b2:{x:1460,y:4884.95458984375}}}},1577490:{name:"acetaldehyde dehydrogenase (acetylating)",bigg_id:"ACALD",reversibility:!0,label_x:1939.0750732421875,label_y:3998.470458984375,gene_reaction_rule:"(b0351 or b1241)",genes:[{bigg_id:"b0351",name:"b0351"},{bigg_id:"b1241",name:"b1241"}],metabolites:[{coefficient:-1,bigg_id:"acald_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"nadh_c"},{coefficient:-1,bigg_id:"coa_c"},{coefficient:1,bigg_id:"accoa_c"},{coefficient:-1,bigg_id:"nad_c"}],segments:{273:{from_node_id:"1577031",to_node_id:"1577032",b1:null,b2:null},274:{from_node_id:"1577032",to_node_id:"1577033",b1:null,b2:null},275:{from_node_id:"1576817",to_node_id:"1577031",b1:{y:3945,x:2125},b2:{y:3945,x:2065.5}},276:{from_node_id:"1576825",to_node_id:"1577031",b1:{y:3945,x:2101.8970920157},b2:{y:3945,x:2058.56912760471}},277:{from_node_id:"1576828",to_node_id:"1577031",b1:{y:3945,x:2085.0693909433},b2:{y:3945,x:2053.52081728299}},278:{from_node_id:"1577033",to_node_id:"1576514",b1:{y:3945,x:1940.25},b2:{y:3945,x:1847.5}},279:{from_node_id:"1577033",to_node_id:"1576832",b1:{y:3945,x:1966.47918271701},b2:{y:3945,x:1934.9306090567002}},280:{from_node_id:"1577033",to_node_id:"1576812",b1:{y:3945,x:1961.4308723952902},b2:{y:3945,x:1918.1029079843004}}}},1577497:{name:"acetaldehyde reversible transport",bigg_id:"ACALDt",reversibility:!0,label_x:2248.561767578125,label_y:4579.041015625,gene_reaction_rule:"s0001",genes:[{bigg_id:"s0001",name:"s0001"}],metabolites:[{coefficient:-1,bigg_id:"acald_e"},{coefficient:1,bigg_id:"acald_c"}],segments:{281:{from_node_id:"1576815",to_node_id:"1577034",b1:{x:2210,y:4796.55283203125},b2:{y:4707,x:2210}},282:{from_node_id:"1577034",to_node_id:"1576817",b1:{y:4476.25,x:2210},b2:{y:4257.5,x:2210}}}},1577498:{name:"Acetaldehyde exchange",bigg_id:"EX_acald_e",reversibility:!1,label_x:2227.346923828125,label_y:4922.892578125,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"acald_e"}],segments:{283:{from_node_id:"1576815",to_node_id:"1577035",b1:{x:2210.15,y:4889.1484375},b2:{y:4894,x:2210.5}}}},1577507:{name:"alcohol dehydrogenase (ethanol)",bigg_id:"ALCD2x",reversibility:!0,label_x:2356.4794921875,label_y:4047.4384765625,gene_reaction_rule:"(b0356 or b1478 or b1241)",genes:[{bigg_id:"b0356",name:"b0356"},{bigg_id:"b1478",name:"b1478"},{bigg_id:"b1241",name:"b1241"}],metabolites:[{coefficient:-1,bigg_id:"etoh_c"},{coefficient:1,bigg_id:"h_c"},{coefficient:1,bigg_id:"acald_c"},{coefficient:1,bigg_id:"nadh_c"},{coefficient:-1,bigg_id:"nad_c"}],segments:{2:{from_node_id:"1577041",to_node_id:"1577042",b1:null,b2:null},3:{from_node_id:"1577042",to_node_id:"1577043",b1:null,b2:null},4:{from_node_id:"1576829",to_node_id:"1577041",b1:{y:4162.240740184523,x:2437.6865073405606},b2:{y:4118.6722220553565,x:2391.0059522021684}},5:{from_node_id:"1576822",to_node_id:"1577041",b1:{y:4139.7065841719395,x:2413.5427687556494},b2:{y:4111.911975251582,x:2383.7628306266947}},6:{from_node_id:"1577043",to_node_id:"1576817",b1:{y:4050.989239830398,x:2323.3232905083714},b2:{y:4004.2974661013272,x:2279.744301694572}},7:{from_node_id:"1577043",to_node_id:"1576813",b1:{y:4059.6140048832744,x:2331.3730712243896},b2:{y:4033.046682944248,x:2306.576904081298}},8:{from_node_id:"1577043",to_node_id:"1576824",b1:{y:4056.0538526083565,x:2328.0502624344663},b2:{y:4021.1795086945217,x:2295.5008747815536}}}},1577514:{name:"formate transport via proton symport (uptake only)",bigg_id:"FORt2",reversibility:!1,label_x:1255.7530517578125,label_y:4574.13232421875,gene_reaction_rule:"(b0904 or b2492)",genes:[{bigg_id:"b0904",name:"b0904"},{bigg_id:"b2492",name:"b2492"}],metabolites:[{coefficient:1,bigg_id:"for_c"},{coefficient:-1,bigg_id:"for_e"},{coefficient:-1,bigg_id:"h_e"},{coefficient:1,bigg_id:"h_c"}],segments:{9:{from_node_id:"1577044",to_node_id:"1577045",b1:null,b2:null},10:{from_node_id:"1577045",to_node_id:"1577046",b1:null,b2:null},11:{from_node_id:"1576666",to_node_id:"1577044",b1:{x:1360,y:4827.353507999329},b2:{y:4749.209372712298,x:1360}},12:{from_node_id:"1576833",to_node_id:"1577044",b1:{y:4779.244289008981,x:1360},b2:{y:4744.773286702694,x:1360}},13:{from_node_id:"1577046",to_node_id:"1576590",b1:{y:4411.784344889025,x:1360},b2:{y:4275.94781629675,x:1360}},14:{from_node_id:"1577046",to_node_id:"1576811",b1:{y:4455.769750529243,x:1360},b2:{y:4422.5658350974745,x:1360}}}},1577518:{name:"formate transport via diffusion",bigg_id:"FORti",reversibility:!1,label_x:1479.5206298828125,label_y:4509.27197265625,gene_reaction_rule:"(b0904 or b2492)",genes:[{bigg_id:"b0904",name:"b0904"},{bigg_id:"b2492",name:"b2492"}],metabolites:[{coefficient:-1,bigg_id:"for_c"},{coefficient:1,bigg_id:"for_e"}],segments:{15:{from_node_id:"1576590",to_node_id:"1577047",b1:{y:4145.55,x:1460},b2:{y:4263.5,x:1460}},16:{from_node_id:"1577047",to_node_id:"1576666",b1:{y:4488.7,x:1460},b2:{x:1460,y:4654.322265625}}}},1577520:{name:"fumarate reductase",bigg_id:"FRD7",reversibility:!1,label_x:3078.744384765625,label_y:2572.54541015625,gene_reaction_rule:"(b4151 and b4152 and b4153 and b4154)",genes:[{bigg_id:"b4151",name:"b4151"},{bigg_id:"b4152",name:"b4152"},{bigg_id:"b4153",name:"b4153"},{bigg_id:"b4154",name:"b4154"}],metabolites:[{coefficient:1,bigg_id:"q8_c"},{coefficient:-1,bigg_id:"fum_c"},{coefficient:-1,bigg_id:"q8h2_c"},{coefficient:1,bigg_id:"succ_c"}],segments:{17:{from_node_id:"1577048",to_node_id:"1577049",b1:null,b2:null},18:{from_node_id:"1577049",to_node_id:"1577050",b1:null,b2:null},19:{from_node_id:"1576503",to_node_id:"1577048",b1:{y:2600,x:2880.896383759611},b2:{y:2600,x:3020.2689151278832}},20:{from_node_id:"1576830",to_node_id:"1577048",b1:{y:2600,x:3003.842268941361},b2:{y:2600,x:3057.152680682408}},21:{from_node_id:"1577050",to_node_id:"1576814",b1:{y:2600,x:3162.14723459035},b2:{y:2600,x:3213.824115301167}},22:{from_node_id:"1577050",to_node_id:"1576533",b1:{y:2600,x:3198.034494053106},b2:{y:2600,x:3333.4483135103533}}}},1577524:{name:"Fructose transport via PEP:Pyr PTS (f6p generating)",bigg_id:"FRUpts2",reversibility:!1,label_x:456.41497802734375,label_y:1327.7852783203125,gene_reaction_rule:"(b1817 and b1818 and b1819 and b2415 and b2416)",genes:[{bigg_id:"b1817",name:"b1817"},{bigg_id:"b1818",name:"b1818"},{bigg_id:"b1819",name:"b1819"},{bigg_id:"b2415",name:"b2415"},{bigg_id:"b2416",name:"b2416"}],metabolites:[{coefficient:-1,bigg_id:"pep_c"},{coefficient:1,bigg_id:"pyr_c"},{coefficient:1,bigg_id:"f6p_c"},{coefficient:-1,bigg_id:"fru_e"}],segments:{23:{from_node_id:"1577051",to_node_id:"1577052",b1:null,b2:null},24:{from_node_id:"1577052",to_node_id:"1577053",b1:null,b2:null},25:{from_node_id:"1576826",to_node_id:"1577051",b1:{y:1360,x:465},b2:{x:526.550048828125,y:1361.5867919921875}},26:{from_node_id:"1576819",to_node_id:"1577051",b1:{x:400.008457770101,y:1452.0322265625},b2:{x:396.1378949970459,y:1360}},27:{from_node_id:"1577053",to_node_id:"1576525",b1:{x:860.370260215258,y:1363.1734619140625},b2:{x:917.1118252292455,y:1361.586669921875}},28:{from_node_id:"1577053",to_node_id:"1576821",b1:{x:861.4990623462952,y:1364.76025390625},b2:{x:861.106575008484,y:1240.992919921875}}}},1577529:{name:"D-Fructose exchange",bigg_id:"EX_fru_e",reversibility:!1,label_x:125.35597229003906,label_y:1321.438232421875,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"fru_e"}],segments:{29:{from_node_id:"1576826",to_node_id:"1577054",b1:{y:1360,x:282.3},b2:{y:1360,x:241}}}},1577532:{name:"Malate transport via proton symport (2 H)",bigg_id:"MALt2_2",reversibility:!1,label_x:2623.173583984375,label_y:844.3793334960938,gene_reaction_rule:"b3528",genes:[{bigg_id:"b3528",name:"b3528"}],metabolites:[{coefficient:-2,bigg_id:"h_e"},{coefficient:2,bigg_id:"h_c"},{coefficient:-1,bigg_id:"mal__L_e"},{coefficient:1,bigg_id:"mal__L_c"}],segments:{31:{from_node_id:"1577056",to_node_id:"1577057",b1:null,b2:null},32:{from_node_id:"1577057",to_node_id:"1577058",b1:null,b2:null},33:{from_node_id:"1576831",to_node_id:"1577056",b1:{y:682.8586789776543,x:2610},b2:{y:720.0576036932963,x:2610}},34:{from_node_id:"1576816",to_node_id:"1577056",b1:{y:693,x:2610},b2:{y:723.1,x:2610}},35:{from_node_id:"1577058",to_node_id:"1576810",b1:{y:995.6604597633658,x:2610},b2:{y:1032.2015325445527,x:2610}},36:{from_node_id:"1577058",to_node_id:"1576504",b1:{y:1311.8041025966977,x:2610},b2:{y:2086.013675322326,x:2610}}}},1577537:{name:"L-Malate exchange",bigg_id:"EX_mal__L_e",reversibility:!1,label_x:2356.597412109375,label_y:513.949951171875,gene_reaction_rule:"",genes:[],metabolites:[{coefficient:-1,bigg_id:"mal__L_e"}],segments:{37:{from_node_id:"1576816",to_node_id:"1577059",b1:{y:623,x:2610},b2:{y:560,x:2610}}}},1577540:{name:"NADH dehydrogenase (ubiquinone-8 & 3 protons)",bigg_id:"NADH16",reversibility:!1,label_x:4589.75537109375,label_y:2624.46044921875,gene_reaction_rule:"(b2276 and b2277 and b2278 and b2279 and b2280 and b2281 and b2282 and b2283 and b2284 and b2285 and b2286 and b2287 and b2288)",genes:[{bigg_id:"b2276",name:"b2276"},{bigg_id:"b2277",name:"b2277"},{bigg_id:"b2278",name:"b2278"},{bigg_id:"b2279",name:"b2279"},{bigg_id:"b2280",name:"b2280"},{bigg_id:"b2281",name:"b2281"},{bigg_id:"b2282",name:"b2282"},{bigg_id:"b2283",name:"b2283"},{bigg_id:"b2284",name:"b2284"},{bigg_id:"b2285",name:"b2285"},{bigg_id:"b2286",name:"b2286"},{bigg_id:"b2287",name:"b2287"},{bigg_id:"b2288",name:"b2288"}],metabolites:[{coefficient:-1,bigg_id:"q8_c"},{coefficient:3,bigg_id:"h_e"},{coefficient:-1,bigg_id:"nadh_c"},{coefficient:1,bigg_id:"q8h2_c"},{coefficient:1,bigg_id:"nad_c"},{coefficient:-4,bigg_id:"h_c"}],segments:{39:{from_node_id:"1577061",to_node_id:"1577062",b1:null,b2:null},40:{from_node_id:"1577062",to_node_id:"1577063",b1:null,b2:null},41:{from_node_id:"1576820",to_node_id:"1577061",b1:{y:2570,x:4470},b2:{y:2570,x:4582}},42:{from_node_id:"1576827",to_node_id:"1577061",b1:{x:4458.799047943291,y:2567.302001953125},b2:{y:2570,x:4595.729021023612}},43:{from_node_id:"1576539",to_node_id:"1577061",b1:{x:4706.342147363639,y:2375.007080078125},b2:{x:4542.513923505967,y:2570}},44:{from_node_id:"1577063",to_node_id:"1576808",b1:{x:4766.45361328125,y:2568.388427734375},b2:{y:2570,x:4780}},45:{from_node_id:"1577063",to_node_id:"1576809",b1:{x:4798.6355690569735,y:2570.000244140625},b2:{x:4928.099683314913,y:2655.409912109375}},46:{from_node_id:"1577063",to_node_id:"1576542",b1:{x:4800.053949169604,y:2571.611572265625},b2:{x:4630.938294107013,y:2507.151123046875}}}},1577545:{name:"succinate dehydrogenase (irreversible)",bigg_id:"SUCDi",reversibility:!1,label_x:3108.851318359375,label_y:2862.949951171875,gene_reaction_rule:"(b0721 and b0722 and b0723 and b0724)",genes:[{bigg_id:"b0721",name:"b0721"},{bigg_id:"b0722",name:"b0722"},{bigg_id:"b0723",name:"b0723"},{bigg_id:"b0724",name:"b0724"}],metabolites:[{coefficient:1,bigg_id:"fum_c"},{coefficient:1,bigg_id:"q8h2_c"},{coefficient:-1,bigg_id:"succ_c"},{coefficient:-1,bigg_id:"q8_c"}],segments:{47:{from_node_id:"1577064",to_node_id:"1577065",b1:null,b2:null},48:{from_node_id:"1577065",to_node_id:"1577066",b1:null,b2:null},49:{from_node_id:"1576814",to_node_id:"1577064",b1:{y:2815.1969315980286,x:3225.9782442502737},b2:{y:2816.4590794794085,x:3193.7934732750823}},50:{from_node_id:"1576533",to_node_id:"1577064",b1:{y:2812.1967701205886,x:3302.482361924995},b2:{y:2815.5590310361767,x:3216.7447085774984}},51:{from_node_id:"1577066",to_node_id:"1576503",b1:{y:2831.162537495866,x:3040.3872268158307},b2:{y:2843.2084583195547,x:2952.624089386102}},52:{from_node_id:"1577066",to_node_id:"1576830",b1:{y:2828.1157896960085,x:3062.5849607862237},b2:{y:2833.0526323200284,x:3026.6165359540787}}}},1577546:{name:"D-lactate transport via proton symport",bigg_id:"D_LACt2",reversibility:!0,label_x:1078.65283203125,label_y:4609.72607421875,gene_reaction_rule:"( b2975  or  b3603 )",genes:[{name:"b2975",bigg_id:"b2975"},{name:"b3603",bigg_id:"b3603"}],metabolites:[{bigg_id:"lac__D_e",coefficient:-1},{bigg_id:"h_e",coefficient:-1},{bigg_id:"lac__D_c",coefficient:1},{bigg_id:"h_c",coefficient:1}],segments:{476:{from_node_id:"1577067",to_node_id:"1577068",b1:null,b2:null},477:{from_node_id:"1577069",to_node_id:"1577068",b1:null,b2:null},478:{from_node_id:"1577067",to_node_id:"1576556",b1:{x:1055,y:4692.98193359375},b2:{x:1054.9998779296875,y:4736.89501953125}},479:{from_node_id:"1577067",to_node_id:"1577071",b1:{x:1055,y:4696.98193359375},b2:{x:1076,y:4715.98193359375}},480:{from_node_id:"1577069",to_node_id:"1576584",b1:{x:1053.4132080078125,y:4474.7353515625},b2:{x:1055,y:4413.36767578125}},481:{from_node_id:"1577069",to_node_id:"1577072",b1:{x:1053.4132080078125,y:4470.7353515625},b2:{x:1074.4132080078125,y:4451.7353515625}}}},1577547:{name:"Biomass Objective Function with GAM",bigg_id:"Biomass_Ecoli_core_w_GAM",reversibility:!1,label_x:5392.94580078125,label_y:4746.6962890625,gene_reaction_rule:"",genes:[],metabolites:[{bigg_id:"h2o_c",coefficient:-59.81},{bigg_id:"adp_c",coefficient:59.81},{bigg_id:"glu__L_c",coefficient:-4.9414},{bigg_id:"g3p_c",coefficient:-.129},{bigg_id:"e4p_c",coefficient:-.361},{bigg_id:"h_c",coefficient:59.81},{bigg_id:"r5p_c",coefficient:-.8977},{bigg_id:"atp_c",coefficient:-59.81},{bigg_id:"f6p_c",coefficient:-.0709},{bigg_id:"pyr_c",coefficient:-2.8328},{bigg_id:"nad_c",coefficient:-3.547},{bigg_id:"coa_c",coefficient:3.7478},{bigg_id:"oaa_c",coefficient:-1.7867},{bigg_id:"g6p_c",coefficient:-.205},{bigg_id:"nadh_c",coefficient:3.547},{bigg_id:"akg_c",coefficient:4.1182},{bigg_id:"accoa_c",coefficient:-3.7478},{bigg_id:"3pg_c",coefficient:-1.496},{bigg_id:"pep_c",coefficient:-.5191},{bigg_id:"gln__L_c",coefficient:-.2557},{bigg_id:"nadp_c",coefficient:13.0279},{bigg_id:"nadph_c",coefficient:-13.0279},{bigg_id:"pi_c",coefficient:59.81}],segments:{482:{from_node_id:"1577074",to_node_id:"1577075",b1:null,b2:null},483:{from_node_id:"1577076",to_node_id:"1577075",b1:null,b2:null},484:{from_node_id:"1577074",to_node_id:"1577073",b1:{x:5334.0517578125,y:4685.48193359375},b2:{x:5455.328125,y:4573.30322265625}},485:{from_node_id:"1577076",to_node_id:"1577077",b1:{x:5334.0517578125,y:4793.48193359375},b2:{x:5391.197265625,y:4926.6220703125}},486:{from_node_id:"1577074",to_node_id:"1577078",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5427.28515625,y:4630.19921875}},487:{from_node_id:"1577074",to_node_id:"1577079",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5423.4208984375,y:4516.16943359375}},488:{from_node_id:"1577074",to_node_id:"1577080",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5350.98828125,y:4453.01611328125}},489:{from_node_id:"1577076",to_node_id:"1577081",b1:{x:5334.0517578125,y:4793.48193359375},b2:{x:5337.27587890625,y:5001.37158203125}},490:{from_node_id:"1577074",to_node_id:"1577082",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5307.541015625,y:4413.09912109375}},491:{from_node_id:"1577074",to_node_id:"1577083",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5316.9716796875,y:4523.05615234375}},492:{from_node_id:"1577074",to_node_id:"1577084",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5258.0712890625,y:4533.61865234375}},493:{from_node_id:"1577074",to_node_id:"1577085",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5197.05859375,y:4544.18115234375}},494:{from_node_id:"1577074",to_node_id:"1577086",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5140.27099609375,y:4564.25048828125}},495:{from_node_id:"1577076",to_node_id:"1577087",b1:{x:5334.0517578125,y:4793.48193359375},b2:{x:5273.55517578125,y:4938.26416015625}},496:{from_node_id:"1577074",to_node_id:"1577088",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5068.69580078125,y:4579.03759765625}},497:{from_node_id:"1577074",to_node_id:"1577089",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:5023.52734375,y:4594.88134765625}},498:{from_node_id:"1577076",to_node_id:"1577090",b1:{x:5334.0517578125,y:4793.48193359375},b2:{x:5215.0458984375,y:4899.2412109375}},499:{from_node_id:"1577076",to_node_id:"1577091",b1:{x:5334.0517578125,y:4789.48193359375},b2:{x:5353.5947265625,y:4977.43115234375}},500:{from_node_id:"1577074",to_node_id:"1577092",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:4962.51416015625,y:4611.78173828125}},501:{from_node_id:"1577074",to_node_id:"1577093",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:4907.83935546875,y:4637.1318359375}},502:{from_node_id:"1577074",to_node_id:"1577094",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:4851.0517578125,y:4664.59423828125}},503:{from_node_id:"1577074",to_node_id:"1577095",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:4807.9951171875,y:4685.7197265625}},504:{from_node_id:"1577076",to_node_id:"1577096",b1:{x:5334.0517578125,y:4793.48193359375},b2:{x:5114.79541015625,y:4868.333984375}},505:{from_node_id:"1577074",to_node_id:"1577097",b1:{x:5334.0517578125,y:4681.48193359375},b2:{x:4780.78271484375,y:4717.4072265625}},506:{from_node_id:"1577076",to_node_id:"1577098",b1:{x:5334.0517578125,y:4793.48193359375},b2:{x:5099.533203125,y:4820.185546875}}}},1577548:{name:"aconitase (half-reaction A, Citrate hydro-lyase)",bigg_id:"ACONTa",reversibility:!0,label_x:2982.991259697708,label_y:4088.6436288689247,gene_reaction_rule:"(b0118 or b1276)",genes:[{name:"b0118",bigg_id:"b0118"},{name:"b1276",bigg_id:"b1276"}],metabolites:[{bigg_id:"h2o_c",coefficient:1},{bigg_id:"acon_C_c",coefficient:1},{bigg_id:"cit_c",coefficient:-1}],segments:{507:{from_node_id:"1577099",to_node_id:"1577100",b1:null,b2:null},508:{from_node_id:"1577101",to_node_id:"1577100",b1:null,b2:null},509:{from_node_id:"1577101",to_node_id:"1577102",b1:{x:3125.4142208172407,y:4044.558477078102},b2:{x:3112.4765239553985,y:3993.9154608910203}},510:{from_node_id:"1577101",to_node_id:"1577103",b1:{x:3108.646756937047,y:4044.2013827305695},b2:{x:3126.6630443215304,y:4045.94073519232}},511:{from_node_id:"1577099",to_node_id:"1576685",b1:{x:3025.7810749583687,y:4012.0956406322803},b2:{x:3025.1432055426353,y:4010.3555557486548}}}},1577549:{name:"aconitase (half-reaction B, Isocitrate hydro-lyase)",bigg_id:"ACONTb",reversibility:!0,label_x:3291.833217745038,label_y:4081.35343547726,gene_reaction_rule:"(b0118 or b1276)",genes:[{name:"b0118",bigg_id:"b0118"},{name:"b1276",bigg_id:"b1276"}],metabolites:[{bigg_id:"h2o_c",coefficient:-1},{bigg_id:"icit_c",coefficient:1},{bigg_id:"acon_C_c",coefficient:-1}],segments:{512:{from_node_id:"1577104",to_node_id:"1577105",b1:null,b2:null},513:{from_node_id:"1577106",to_node_id:"1577105",b1:null,b2:null},514:{from_node_id:"1577104",to_node_id:"1577102",b1:{x:3261.354277099013,y:4044.360816430351},b2:{x:3266.0226278968735,y:3991.5491179659602}},515:{from_node_id:"1577106",to_node_id:"1576505",b1:{x:3344.105236291347,y:4014.8024620364417},b2:{x:3345.4226198631072,y:4013.1918298584474}},516:{from_node_id:"1577104",to_node_id:"1577103",b1:{x:3262.862957011229,y:4046.056264386829},b2:{x:3260.813883986344,y:4046.222560627323}}}}},nodes:{1576485:{node_type:"metabolite",x:1145,y:2805,bigg_id:"atp_c",name:"ATP",label_x:1165,label_y:2805,node_is_primary:!1},1576486:{node_type:"metabolite",x:1055,y:2875,bigg_id:"3pg_c",name:"3-Phospho-D-glycerate",label_x:1085,label_y:2875,node_is_primary:!0},1576487:{node_type:"metabolite",x:1055,y:2565,bigg_id:"13dpg_c",name:"3-Phospho-D-glyceroyl-phosphate",label_x:1085,label_y:2565,node_is_primary:!0},1576488:{node_type:"metabolite",x:1145,y:2635,bigg_id:"adp_c",name:"ADP",label_x:1165,label_y:2635,node_is_primary:!1},1576489:{node_type:"metabolite",x:1907,y:1165,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:1907,label_y:1145,node_is_primary:!1},1576490:{node_type:"metabolite",x:1827,y:1265,bigg_id:"6pgc_c",name:"6-Phospho-D-gluconate",label_x:1800.0250244140625,label_y:1235,node_is_primary:!0},1576491:{node_type:"metabolite",x:2007,y:1165,bigg_id:"co2_c",name:"CO2",label_x:2007,label_y:1145,node_is_primary:!1},1576492:{node_type:"metabolite",x:2057,y:1165,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:2080,label_y:1140,node_is_primary:!1},1576493:{node_type:"metabolite",x:2155,y:1265,bigg_id:"ru5p__D_c",name:"D-Ribulose-5-phosphate",label_x:2155,label_y:1235,node_is_primary:!0},1576494:{node_type:"metabolite",x:4850,y:1660,bigg_id:"o2_e",name:"O2",label_x:4840.3310546875,label_y:1702.89208984375,node_is_primary:!0},1576495:{node_type:"metabolite",x:4330,y:1660,bigg_id:"o2_c",name:"O2",label_x:4259.09326171875,label_y:1677.4388427734375,node_is_primary:!0},1576496:{node_type:"metabolite",x:3330,y:1270,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:3330,label_y:1310,node_is_primary:!0},1576497:{node_type:"metabolite",x:3420,y:1120,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:3450,label_y:1150,node_is_primary:!0},1576498:{node_type:"metabolite",x:3510,y:650,bigg_id:"h_e",name:"H",label_x:3529.338134765625,label_y:639.6690673828125,node_is_primary:!1},1576499:{node_type:"metabolite",x:3510,y:1080.287841796875,bigg_id:"h_c",name:"H",label_x:3522.892333984375,label_y:1099.0072021484375,node_is_primary:!1},1576500:{node_type:"metabolite",x:3740,y:1270,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:3740,label_y:1310,node_is_primary:!0},1576501:{node_type:"metabolite",x:3625.7841796875,y:1147.3958740234375,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:3556.820068359375,label_y:1187.06494140625,node_is_primary:!0},1576502:{node_type:"metabolite",x:2715,y:2921,bigg_id:"h2o_c",name:"H2O",label_x:2693.4130859375,label_y:2896.71923828125,node_is_primary:!1},1576503:{node_type:"metabolite",x:2843,y:2920,bigg_id:"fum_c",name:"Fumarate",label_x:2867.189453125,label_y:2939.602783203125,node_is_primary:!0},1576504:{node_type:"metabolite",x:2621,y:3192,bigg_id:"mal__L_c",name:"L-Malate",label_x:2506.83544921875,label_y:3174.826416015625,node_is_primary:!0},1576505:{node_type:"metabolite",x:3413,y:3976,bigg_id:"icit_c",name:"Isocitrate",label_x:3344.32373046875,label_y:3949.222900390625,node_is_primary:!0},1576506:{node_type:"metabolite",x:3495,y:4065,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:3495,label_y:4098,node_is_primary:!1},1576507:{node_type:"metabolite",x:3659,y:3660,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:3557.6474609375,label_y:3655.388427734375,node_is_primary:!1},1576508:{node_type:"metabolite",x:3620,y:3710,bigg_id:"co2_c",name:"CO2",label_x:3539.820068359375,label_y:3711.611572265625,node_is_primary:!1},1576509:{node_type:"metabolite",x:3746,y:3627,bigg_id:"akg_c",name:"2-Oxoglutarate",label_x:3669.712158203125,label_y:3611.942626953125,node_is_primary:!0},1576510:{node_type:"metabolite",x:1365,y:3855,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:1394.189697265625,label_y:3851.826416015625,node_is_primary:!1},1576511:{node_type:"metabolite",x:1055,y:3945,bigg_id:"pyr_c",name:"Pyruvate",label_x:1025,label_y:3965,node_is_primary:!0},1576512:{node_type:"metabolite",x:1315,y:3905,bigg_id:"coa_c",name:"Coenzyme-A",label_x:1287.066162109375,label_y:3887.545654296875,node_is_primary:!1},1576513:{node_type:"metabolite",x:1605,y:3855,bigg_id:"co2_c",name:"CO2",label_x:1595,label_y:3835,node_is_primary:!1},1576514:{node_type:"metabolite",x:1715,y:3945,bigg_id:"accoa_c",name:"Acetyl-CoA",label_x:1695,label_y:3965,node_is_primary:!0},1576515:{node_type:"metabolite",x:1655,y:3885,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:1647.545654296875,label_y:3855.4794921875,node_is_primary:!1},1576516:{node_type:"metabolite",x:1295,y:3375,bigg_id:"h2o_c",name:"H2O",label_x:1315,label_y:3375,node_is_primary:!1},1576517:{node_type:"metabolite",x:1055,y:3375,bigg_id:"pep_c",name:"Phosphoenolpyruvate",label_x:1085,label_y:3355,node_is_primary:!0},1576518:{node_type:"metabolite",x:1205,y:3345,bigg_id:"co2_c",name:"CO2",label_x:1215,label_y:3325,node_is_primary:!1},1576519:{node_type:"metabolite",x:1615,y:3475,bigg_id:"h_c",name:"H",label_x:1635,label_y:3475,node_is_primary:!1},1576520:{node_type:"metabolite",x:1665,y:3515,bigg_id:"pi_c",name:"Phosphate",label_x:1685,label_y:3515,node_is_primary:!1},1576521:{node_type:"metabolite",x:2659,y:3724,bigg_id:"oaa_c",name:"Oxaloacetate",label_x:2692,label_y:3724,node_is_primary:!0},1576522:{node_type:"metabolite",x:1055,y:3125,bigg_id:"2pg_c",name:"D-Glycerate-2-phosphate",label_x:1093,label_y:3125,node_is_primary:!0},1576523:{node_type:"metabolite",x:965,y:3325,bigg_id:"h2o_c",name:"H2O",label_x:886.289794921875,label_y:3307.958740234375,node_is_primary:!1},1576524:{node_type:"metabolite",x:1055,y:1265,bigg_id:"g6p_c",name:"D-Glucose-6-phosphate",label_x:1075,label_y:1245,node_is_primary:!0},1576525:{node_type:"metabolite",x:1055,y:1545,bigg_id:"f6p_c",name:"D-Fructose-6-phosphate",label_x:1075,label_y:1525,node_is_primary:!0},1576526:{node_type:"metabolite",x:3989,y:4757,bigg_id:"nh4_e",name:"Ammonium",label_x:4019,label_y:4757,node_is_primary:!0},1576527:{node_type:"metabolite",x:3989,y:4441,bigg_id:"nh4_c",name:"Ammonium",label_x:4019,label_y:4441,node_is_primary:!0},1576528:{node_type:"metabolite",x:765,y:1855,bigg_id:"h2o_c",name:"H2O",label_x:672.9427490234375,label_y:1861.3470458984375,node_is_primary:!1},1576529:{node_type:"metabolite",x:1055,y:1925,bigg_id:"fdp_c",name:"D-Fructose-1-6-bisphosphate",label_x:1096.404296875,label_y:1928.173583984375,node_is_primary:!0},1576530:{node_type:"metabolite",x:755,y:1565,bigg_id:"pi_c",name:"Phosphate",label_x:686.744140625,label_y:1563.4132080078125,node_is_primary:!1},1576531:{node_type:"metabolite",x:4932,y:2880,bigg_id:"succ_e",name:"Succinate",label_x:4950.4462890625,label_y:2915.280517578125,node_is_primary:!0},1576532:{node_type:"metabolite",x:3180,y:3570,bigg_id:"glx_c",name:"Glyoxylate",label_x:3211.3271484375,label_y:3543.267578125,node_is_primary:!0},1576533:{node_type:"metabolite",x:3420,y:2867,bigg_id:"succ_c",name:"Succinate",label_x:3439.01611328125,label_y:2838.810302734375,node_is_primary:!0},1576534:{node_type:"metabolite",x:4215,y:1040,bigg_id:"atp_c",name:"ATP",label_x:4215,label_y:1010,node_is_primary:!0},1576535:{node_type:"metabolite",x:4065,y:1070,bigg_id:"amp_c",name:"AMP",label_x:4033.388427734375,label_y:1030.661865234375,node_is_primary:!0},1576536:{node_type:"metabolite",x:4215,y:1510,bigg_id:"adp_c",name:"ADP",label_x:4196.611328125,label_y:1556.1151123046875,node_is_primary:!0},1576537:{node_type:"metabolite",x:4882,y:4158,bigg_id:"gln__L_e",name:"L-Glutamine",label_x:4851.38134765625,label_y:4199.2802734375,node_is_primary:!0},1576539:{node_type:"metabolite",x:4758.67626953125,y:2215.0361328125,bigg_id:"q8_c",name:"Ubiquinone-8",label_x:4686.61181640625,label_y:2192.47509765625,node_is_primary:!0},1576542:{node_type:"metabolite",x:4508.47509765625,y:2210.3310546875,bigg_id:"q8h2_c",name:"Ubiquinol-8",label_x:4411.00048828125,label_y:2217.395751953125,node_is_primary:!0},1576544:{node_type:"metabolite",x:3621,y:4754,bigg_id:"co2_e",name:"CO2",label_x:3651,label_y:4754,node_is_primary:!0},1576545:{node_type:"metabolite",x:2358.984130859375,y:1865,bigg_id:"g3p_c",name:"Glyceraldehyde-3-phosphate",label_x:2375.091552734375,label_y:1898.4132080078125,node_is_primary:!0},1576546:{node_type:"metabolite",x:1983.082275390625,y:1865,bigg_id:"s7p_c",name:"Sedoheptulose-7-phosphate",label_x:1955.8675537109375,label_y:1814.314697265625,node_is_primary:!0},1576547:{node_type:"metabolite",x:1945,y:2190,bigg_id:"e4p_c",name:"D-Erythrose-4-phosphate",label_x:1922.7852783203125,label_y:2242.214599609375,node_is_primary:!0},1576548:{node_type:"metabolite",x:2362.636962890625,y:2186.826416015625,bigg_id:"f6p_c",name:"D-Fructose-6-phosphate",label_x:2367.636962890625,label_y:2216.826416015625,node_is_primary:!0},1576549:{node_type:"metabolite",x:965,y:3625,bigg_id:"h_c",name:"H",label_x:911.677978515625,label_y:3612.305908203125,node_is_primary:!1},1576550:{node_type:"metabolite",x:965,y:3555,bigg_id:"adp_c",name:"ADP",label_x:903.744140625,label_y:3528.02490234375,node_is_primary:!1},1576551:{node_type:"metabolite",x:965,y:3815,bigg_id:"atp_c",name:"ATP",label_x:929.1323852539062,label_y:3794.372314453125,node_is_primary:!1},1576552:{node_type:"metabolite",x:4883,y:3634,bigg_id:"glu__L_e",name:"L-Glutamate",label_x:4883,label_y:3604,node_is_primary:!0},1576553:{node_type:"metabolite",x:4825,y:3703,bigg_id:"h_e",name:"H",label_x:4857.23046875,label_y:3723,node_is_primary:!1},1576554:{node_type:"metabolite",x:4248,y:3632,bigg_id:"glu__L_c",name:"L-Glutamate",label_x:4221.2158203125,label_y:3601,node_is_primary:!0},1576555:{node_type:"metabolite",x:4478,y:3688,bigg_id:"h_c",name:"H",label_x:4503.1796875,label_y:3696.834716796875,node_is_primary:!1},1576556:{node_type:"metabolite",x:1055,y:4835,bigg_id:"lac__D_e",name:"D-Lactate",label_x:1088.470458984375,label_y:4857.21484375,node_is_primary:!0},1576557:{node_type:"metabolite",x:275,y:3945,bigg_id:"pyr_e",name:"Pyruvate",label_x:249.61181640625,label_y:3994.041015625,node_is_primary:!0},1576558:{node_type:"metabolite",x:1945,y:1555,bigg_id:"xu5p__D_c",name:"D-Xylulose-5-phosphate",label_x:1944.76025390625,label_y:1599.5205078125,node_is_primary:!0},1576559:{node_type:"metabolite",x:4850,y:2229,bigg_id:"h_e",name:"H",label_x:4867.7265625,label_y:2273.503662109375,node_is_primary:!0},1576567:{node_type:"metabolite",x:3460,y:2960,bigg_id:"coa_c",name:"Coenzyme-A",label_x:3448.892578125,label_y:2991.107421875,node_is_primary:!1},1576568:{node_type:"metabolite",x:3500,y:3030,bigg_id:"atp_c",name:"ATP",label_x:3496.826416015625,label_y:3062.694091796875,node_is_primary:!1},1576569:{node_type:"metabolite",x:3794,y:3051,bigg_id:"pi_c",name:"Phosphate",label_x:3814,label_y:3051,node_is_primary:!1},1576570:{node_type:"metabolite",x:3739,y:3193,bigg_id:"succoa_c",name:"Succinyl-CoA",label_x:3772.230712890625,label_y:3193.479248046875,node_is_primary:!0},1576571:{node_type:"metabolite",x:3768,y:3116,bigg_id:"adp_c",name:"ADP",label_x:3788,label_y:3126,node_is_primary:!1},1576572:{node_type:"metabolite",x:1145,y:1645,bigg_id:"atp_c",name:"ATP",label_x:1165,label_y:1645,node_is_primary:!1},1576573:{node_type:"metabolite",x:1145,y:1805,bigg_id:"adp_c",name:"ADP",label_x:1165,label_y:1805,node_is_primary:!1},1576574:{node_type:"metabolite",x:1145,y:1855,bigg_id:"h_c",name:"H",label_x:1165,label_y:1855,node_is_primary:!1},1576575:{node_type:"metabolite",x:1055,y:2195,bigg_id:"g3p_c",name:"Glyceraldehyde-3-phosphate",label_x:1085,label_y:2195,node_is_primary:!0},1576576:{node_type:"metabolite",x:4440,y:3755,bigg_id:"atp_c",name:"ATP",label_x:4474,label_y:3753,node_is_primary:!1},1576577:{node_type:"metabolite",x:4440,y:3805,bigg_id:"nh4_c",name:"Ammonium",label_x:4477,label_y:3811,node_is_primary:!1},1576578:{node_type:"metabolite",x:4246,y:4094,bigg_id:"gln__L_c",name:"L-Glutamine",label_x:4245,label_y:4130,node_is_primary:!0},1576579:{node_type:"metabolite",x:4434,y:3954,bigg_id:"adp_c",name:"ADP",label_x:4454,label_y:3954,node_is_primary:!1},1576580:{node_type:"metabolite",x:4434,y:4004,bigg_id:"h_c",name:"H",label_x:4454,label_y:4004,node_is_primary:!1},1576581:{node_type:"metabolite",x:4434,y:4054,bigg_id:"pi_c",name:"Phosphate",label_x:4454,label_y:4054,node_is_primary:!1},1576584:{node_type:"metabolite",x:1055,y:4345,bigg_id:"lac__D_c",name:"D-Lactate",label_x:1089,label_y:4349,node_is_primary:!0},1576585:{node_type:"metabolite",x:3684,y:3506,bigg_id:"coa_c",name:"Coenzyme-A",label_x:3628.99267578125,label_y:3483.05029296875,node_is_primary:!1},1576586:{node_type:"metabolite",x:3684,y:3558,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:3606.208740234375,label_y:3539.885009765625,node_is_primary:!1},1576587:{node_type:"metabolite",x:3872,y:3285,bigg_id:"co2_c",name:"CO2",label_x:3898,label_y:3285,node_is_primary:!1},1576588:{node_type:"metabolite",x:3820,y:3233,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:3846,label_y:3233,node_is_primary:!1},1576589:{node_type:"metabolite",x:1165,y:4045,bigg_id:"coa_c",name:"Coenzyme-A",label_x:1165,label_y:4065,node_is_primary:!1},1576590:{node_type:"metabolite",x:1460,y:4095,bigg_id:"for_c",name:"Formate",label_x:1495.230712890625,label_y:4083.958984375,node_is_primary:!0},1576591:{node_type:"metabolite",x:1505,y:3625,bigg_id:"atp_c",name:"ATP",label_x:1525,label_y:3625,node_is_primary:!1},1576592:{node_type:"metabolite",x:1285,y:3545,bigg_id:"adp_c",name:"ADP",label_x:1285,label_y:3575,node_is_primary:!1},1576593:{node_type:"metabolite",x:1215,y:3515,bigg_id:"co2_c",name:"CO2",label_x:1215,label_y:3535,node_is_primary:!1},1576594:{node_type:"metabolite",x:2880,y:4839,bigg_id:"pi_e",name:"Phosphate",label_x:2910,label_y:4839,node_is_primary:!0},1576595:{node_type:"metabolite",x:2793,y:4778,bigg_id:"h_e",name:"H",label_x:2733.83544921875,label_y:4763.8515625,node_is_primary:!1},1576596:{node_type:"metabolite",x:2793,y:4452,bigg_id:"h_c",name:"H",label_x:2754.13232421875,label_y:4426.61181640625,node_is_primary:!1},1576597:{node_type:"metabolite",x:2880,y:4430,bigg_id:"pi_c",name:"Phosphate",label_x:2921,label_y:4428,node_is_primary:!0},1576598:{node_type:"metabolite",x:4922,y:3228,bigg_id:"akg_e",name:"2-Oxoglutarate",label_x:4922,label_y:3268,node_is_primary:!0},1576599:{node_type:"metabolite",x:4834,y:3321,bigg_id:"h_e",name:"H",label_x:4861.39599609375,label_y:3334.553955078125,node_is_primary:!1},1576600:{node_type:"metabolite",x:4472,y:3328,bigg_id:"h_c",name:"H",label_x:4490.337890625,label_y:3342.330810546875,node_is_primary:!1},1576601:{node_type:"metabolite",x:855,y:2195,bigg_id:"dhap_c",name:"Dihydroxyacetone-phosphate",label_x:739.3148193359375,label_y:2179.132568359375,node_is_primary:!0},1576602:{node_type:"metabolite",x:4301.69775390625,y:1895.1654052734375,bigg_id:"h_c",name:"H",label_x:4234.01416015625,label_y:1903.8848876953125,node_is_primary:!1},1576603:{node_type:"metabolite",x:4860,y:1900,bigg_id:"h_e",name:"H",label_x:4858.38818359375,label_y:1950.6187744140625,node_is_primary:!1},1576604:{node_type:"metabolite",x:4439.09375,y:1760.9495849609375,bigg_id:"h2o_c",name:"H2O",label_x:4452.77001953125,label_y:1736.77685546875,node_is_primary:!1},1576605:{node_type:"metabolite",x:2419,y:1555,bigg_id:"r5p_c",name:"alpha-D-Ribose-5-phosphate",label_x:2418.413330078125,label_y:1601.1072998046875,node_is_primary:!0},1576606:{node_type:"metabolite",x:3105,y:3402,bigg_id:"accoa_c",name:"Acetyl-CoA",label_x:3125,label_y:3402,node_is_primary:!1},1576607:{node_type:"metabolite",x:3170,y:3480,bigg_id:"h2o_c",name:"H2O",label_x:3190,label_y:3480,node_is_primary:!1},1576608:{node_type:"metabolite",x:2871,y:3220,bigg_id:"h_c",name:"H",label_x:2891,label_y:3220,node_is_primary:!1},1576609:{node_type:"metabolite",x:2780,y:3168,bigg_id:"coa_c",name:"Coenzyme-A",label_x:2800,label_y:3168,node_is_primary:!1},1576612:{node_type:"metabolite",x:1815,y:4035,bigg_id:"pi_c",name:"Phosphate",label_x:1835,label_y:4035,node_is_primary:!1},1576613:{node_type:"metabolite",x:1715,y:4175,bigg_id:"actp_c",name:"Acetyl-phosphate",label_x:1745,label_y:4175,node_is_primary:!0},1576614:{node_type:"metabolite",x:1815,y:4135,bigg_id:"coa_c",name:"Coenzyme-A",label_x:1835,label_y:4135,node_is_primary:!1},1576615:{node_type:"metabolite",x:4535,y:4258,bigg_id:"atp_c",name:"ATP",label_x:4552.7265625,label_y:4269.94287109375,node_is_primary:!1},1576616:{node_type:"metabolite",x:4485,y:4258,bigg_id:"h2o_c",name:"H2O",label_x:4481.77685546875,label_y:4287.6689453125,node_is_primary:!1},1576617:{node_type:"metabolite",x:4285,y:4258,bigg_id:"pi_c",name:"Phosphate",label_x:4268.884765625,label_y:4287.6689453125,node_is_primary:!1},1576618:{node_type:"metabolite",x:4385,y:4258,bigg_id:"adp_c",name:"ADP",label_x:4381.77685546875,label_y:4290.89208984375,node_is_primary:!1},1576619:{node_type:"metabolite",x:4335,y:4258,bigg_id:"h_c",name:"H",label_x:4331.77734375,label_y:4286.0576171875,node_is_primary:!1},1576620:{node_type:"metabolite",x:2360,y:3220,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:2380,label_y:3220,node_is_primary:!1},1576621:{node_type:"metabolite",x:2060,y:3420,bigg_id:"co2_c",name:"CO2",label_x:1979.703125,label_y:3415.23974609375,node_is_primary:!1},1576622:{node_type:"metabolite",x:2080,y:3370,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:1994.9427490234375,label_y:3350.958740234375,node_is_primary:!1},1576623:{node_type:"metabolite",x:1257,y:1160,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:1257,label_y:1140,node_is_primary:!1},1576624:{node_type:"metabolite",x:1407,y:1160,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:1430,label_y:1140,node_is_primary:!1},1576625:{node_type:"metabolite",x:1357,y:1160,bigg_id:"h_c",name:"H",label_x:1357,label_y:1140,node_is_primary:!1},1576626:{node_type:"metabolite",x:1507,y:1265,bigg_id:"6pgl_c",name:"6-phospho-D-glucono-1-5-lactone",label_x:1507,label_y:1235,node_is_primary:!0},1576627:{node_type:"metabolite",x:1715,y:4845,bigg_id:"ac_e",name:"Acetate",label_x:1759.0985107421875,label_y:4848.173828125,node_is_primary:!0},1576628:{node_type:"metabolite",x:4201,y:3940,bigg_id:"h2o_c",name:"H2O",label_x:4175.82763671875,label_y:3972.89208984375,node_is_primary:!1},1576629:{node_type:"metabolite",x:4193,y:3762,bigg_id:"nh4_c",name:"Ammonium",label_x:4160.99267578125,label_y:3793.22314453125,node_is_primary:!1},1576630:{node_type:"metabolite",x:4275,y:1140,bigg_id:"h2o_c",name:"H2O",label_x:4295,label_y:1140,node_is_primary:!1},1576631:{node_type:"metabolite",x:4285,y:1450,bigg_id:"pi_c",name:"Phosphate",label_x:4305,label_y:1450,node_is_primary:!1},1576632:{node_type:"metabolite",x:4285,y:1380,bigg_id:"h_c",name:"H",label_x:4305,label_y:1380,node_is_primary:!1},1576633:{node_type:"metabolite",x:955,y:4255,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:935,label_y:4255,node_is_primary:!1},1576634:{node_type:"metabolite",x:955,y:4045,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:935,label_y:4045,node_is_primary:!1},1576635:{node_type:"metabolite",x:955,y:4095,bigg_id:"h_c",name:"H",label_x:935,label_y:4095,node_is_primary:!1},1576636:{node_type:"metabolite",x:2670,y:3310,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:2690,label_y:3320,node_is_primary:!1},1576637:{node_type:"metabolite",x:2680,y:3585,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:2710,label_y:3590,node_is_primary:!1},1576638:{node_type:"metabolite",x:2660,y:3510,bigg_id:"h_c",name:"H",label_x:2692,label_y:3510,node_is_primary:!1},1576639:{node_type:"metabolite",x:3257,y:4754,bigg_id:"h2o_e",name:"H2O",label_x:3287,label_y:4754,node_is_primary:!0},1576640:{node_type:"metabolite",x:3257,y:4434,bigg_id:"h2o_c",name:"H2O",label_x:3287,label_y:4434,node_is_primary:!0},1576641:{node_type:"metabolite",x:3621,y:4434,bigg_id:"co2_c",name:"CO2",label_x:3651,label_y:4434,node_is_primary:!0},1576642:{node_type:"metabolite",x:735,y:3855,bigg_id:"atp_c",name:"ATP",label_x:670.5706176757812,label_y:3840.71923828125,node_is_primary:!1},1576643:{node_type:"metabolite",x:735,y:3805,bigg_id:"h2o_c",name:"H2O",label_x:681.677978515625,label_y:3787.545654296875,node_is_primary:!1},1576644:{node_type:"metabolite",x:735,y:3475,bigg_id:"h_c",name:"H",label_x:672.1574096679688,label_y:3478.173583984375,node_is_primary:!1},1576645:{node_type:"metabolite",x:735,y:3525,bigg_id:"amp_c",name:"AMP",label_x:640.4221801757812,label_y:3545.6279296875,node_is_primary:!1},1576646:{node_type:"metabolite",x:735,y:3425,bigg_id:"pi_c",name:"Phosphate",label_x:684.8515014648438,label_y:3409.13232421875,node_is_primary:!1},1576647:{node_type:"metabolite",x:1055.066162109375,y:705,bigg_id:"glc__D_e",name:"D-Glucose",label_x:1085.066162109375,label_y:705,node_is_primary:!0},1576648:{node_type:"metabolite",x:2600,y:4760,bigg_id:"h_e",name:"H",label_x:2620,label_y:4760,node_is_primary:!1},1576649:{node_type:"metabolite",x:2500,y:4830,bigg_id:"etoh_e",name:"Ethanol",label_x:2530,label_y:4830,node_is_primary:!0},1576650:{node_type:"metabolite",x:2600,y:4400,bigg_id:"h_c",name:"H",label_x:2620,label_y:4400,node_is_primary:!1},1576651:{node_type:"metabolite",x:1815,y:4335,bigg_id:"atp_c",name:"ATP",label_x:1835,label_y:4335,node_is_primary:!1},1576652:{node_type:"metabolite",x:1715,y:4385,bigg_id:"ac_c",name:"Acetate",label_x:1745,label_y:4385,node_is_primary:!0},1576653:{node_type:"metabolite",x:1815,y:4225,bigg_id:"adp_c",name:"ADP",label_x:1835,label_y:4225,node_is_primary:!1},1576654:{node_type:"metabolite",x:4029,y:3932,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:3993.9423828125,label_y:3909.05029296875,node_is_primary:!1},1576655:{node_type:"metabolite",x:4029,y:3982,bigg_id:"h_c",name:"H",label_x:4002,label_y:3986,node_is_primary:!1},1576656:{node_type:"metabolite",x:4043,y:3759,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:3957.985595703125,label_y:3736.215576171875,node_is_primary:!1},1576657:{node_type:"metabolite",x:2840,y:650,bigg_id:"fum_e",name:"Fumarate",label_x:2879.817626953125,label_y:635.0911865234375,node_is_primary:!0},1576658:{node_type:"metabolite",x:2940,y:700,bigg_id:"h_e",name:"H",label_x:2962.214599609375,label_y:718.4132080078125,node_is_primary:!1},1576659:{node_type:"metabolite",x:2940,y:1010,bigg_id:"h_c",name:"H",label_x:2954.28076171875,label_y:1038.4132080078125,node_is_primary:!1},1576660:{node_type:"metabolite",x:1815,y:4775,bigg_id:"h_e",name:"H",label_x:1835,label_y:4775,node_is_primary:!1},1576661:{node_type:"metabolite",x:1819.76025390625,y:4452.45458984375,bigg_id:"h_c",name:"H",label_x:1839.76025390625,label_y:4452.45458984375,node_is_primary:!1},1576662:{node_type:"metabolite",x:957.694091796875,y:974.4060668945312,bigg_id:"pep_c",name:"Phosphoenolpyruvate",label_x:877.8765258789062,label_y:976.9517211914062,node_is_primary:!1},1576663:{node_type:"metabolite",x:1161.3470458984375,y:972.8192138671875,bigg_id:"pyr_c",name:"Pyruvate",label_x:1193.082275390625,label_y:986.47216796875,node_is_primary:!1},1576664:{node_type:"metabolite",x:4791.7197265625,y:2921.942138671875,bigg_id:"h_e",name:"H",label_x:4818.7197265625,label_y:2921.942138671875,node_is_primary:!1},1576665:{node_type:"metabolite",x:4461.380859375,y:2763.553955078125,bigg_id:"h_c",name:"H",label_x:4389.423828125,label_y:2763.9423828125,node_is_primary:!1},1576666:{node_type:"metabolite",x:1460,y:4843.322265625,bigg_id:"for_e",name:"Formate",label_x:1500,label_y:4843.322265625,node_is_primary:!0},1576667:{node_type:"metabolite",x:1587,y:1160,bigg_id:"h2o_c",name:"H2O",label_x:1587,label_y:1140,node_is_primary:!1},1576668:{node_type:"metabolite",x:1687,y:1160,bigg_id:"h_c",name:"H",label_x:1687,label_y:1140,node_is_primary:!1},1576669:{node_type:"metabolite",x:1145,y:2265,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:1165,label_y:2265,node_is_primary:!1},1576670:{node_type:"metabolite",x:1145,y:2315,bigg_id:"pi_c",name:"Phosphate",label_x:1165,label_y:2315,node_is_primary:!1},1576671:{node_type:"metabolite",x:1145,y:2515,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:1165,label_y:2515,node_is_primary:!1},1576672:{node_type:"metabolite",x:1145,y:2465,bigg_id:"h_c",name:"H",label_x:1169,label_y:2465,node_is_primary:!1},1576673:{node_type:"metabolite",x:4836,y:3087,bigg_id:"h_e",name:"H",label_x:4836,label_y:3115,node_is_primary:!1},1576674:{node_type:"metabolite",x:4456,y:3087,bigg_id:"h_c",name:"H",label_x:4456,label_y:3109,node_is_primary:!1},1576675:{node_type:"metabolite",x:4192,y:3558,bigg_id:"h2o_c",name:"H2O",label_x:4210,label_y:3530,node_is_primary:!1},1576676:{node_type:"metabolite",x:4142,y:3558,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:4142,label_y:3528,node_is_primary:!1},1576677:{node_type:"metabolite",x:3992,y:3558,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:3935.431640625,label_y:3532.22314453125,node_is_primary:!1},1576678:{node_type:"metabolite",x:3942,y:3558,bigg_id:"nh4_c",name:"Ammonium",label_x:3856.820068359375,label_y:3573.222900390625,node_is_primary:!1},1576679:{node_type:"metabolite",x:4042,y:3558,bigg_id:"h_c",name:"H",label_x:4050,label_y:3530,node_is_primary:!1},1576680:{node_type:"metabolite",x:4865,y:1150,bigg_id:"h_e",name:"H",label_x:4865,label_y:1180,node_is_primary:!1},1576681:{node_type:"metabolite",x:4495,y:1330,bigg_id:"pi_c",name:"Phosphate",label_x:4459.546875,label_y:1293.5970458984375,node_is_primary:!1},1576682:{node_type:"metabolite",x:4415,y:1150,bigg_id:"h_c",name:"H",label_x:4398.884765625,label_y:1187.7266845703125,node_is_primary:!1},1576683:{node_type:"metabolite",x:4482.7265625,y:1030,bigg_id:"h2o_c",name:"H2O",label_x:4482.7265625,label_y:1010,node_is_primary:!1},1576684:{node_type:"metabolite",x:2610,y:3860,bigg_id:"h2o_c",name:"H2O",label_x:2599.520751953125,label_y:3890.1484375,node_is_primary:!1},1576685:{node_type:"metabolite",x:2971,y:3986,bigg_id:"cit_c",name:"Citrate",label_x:2972.653076171875,label_y:3943.1826171875,node_is_primary:!0},1576686:{node_type:"metabolite",x:2806,y:4091,bigg_id:"coa_c",name:"Coenzyme-A",label_x:2786.826416015625,label_y:4132.21484375,node_is_primary:!1},1576687:{node_type:"metabolite",x:2897,y:4117,bigg_id:"h_c",name:"H",label_x:2899.041015625,label_y:4155.8671875,node_is_primary:!1},1576688:{node_type:"metabolite",x:345,y:4045,bigg_id:"h_e",name:"H",label_x:351.3470764160156,label_y:4072.933837890625,node_is_primary:!1},1576689:{node_type:"metabolite",x:675,y:4045,bigg_id:"h_c",name:"H",label_x:675,label_y:4077.694091796875,node_is_primary:!1},1576690:{node_type:"metabolite",x:2430,y:3370,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:2450,label_y:3370,node_is_primary:!1},1576691:{node_type:"metabolite",x:2260,y:3510,bigg_id:"co2_c",name:"CO2",label_x:2280,label_y:3510,node_is_primary:!1},1576692:{node_type:"metabolite",x:2200,y:3540,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:2220,label_y:3550,node_is_primary:!1},1576808:{node_type:"metabolite",x:4850,y:2570,bigg_id:"h_e",name:"H",label_x:4874.1728515625,label_y:2601.280517578125,node_is_primary:!1},1576809:{node_type:"metabolite",x:4449.00732421875,y:2646.77685546875,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:4356.72412109375,label_y:2646.95849609375,node_is_primary:!0},1576810:{node_type:"metabolite",x:2510,y:1010,bigg_id:"h_c",name:"H",label_x:2473.50439453125,label_y:1043.1734619140625,node_is_primary:!1},1576811:{node_type:"metabolite",x:1270,y:4440,bigg_id:"h_c",name:"H",label_x:1245.23974609375,label_y:4424.13232421875,node_is_primary:!1},1576812:{node_type:"metabolite",x:1890,y:3860,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:1868.892578125,label_y:3840.810302734375,node_is_primary:!1},1576813:{node_type:"metabolite",x:2392,y:3980,bigg_id:"h_c",name:"H",label_x:2406,label_y:3965,node_is_primary:!1},1576814:{node_type:"metabolite",x:3210,y:2730,bigg_id:"q8_c",name:"Ubiquinone-8",label_x:3228.082275390625,label_y:2736.34716796875,node_is_primary:!1},1576815:{node_type:"metabolite",x:2210,y:4837.65283203125,bigg_id:"acald_e",name:"Acetaldehyde",label_x:2240,label_y:4837.65283203125,node_is_primary:!0},1576816:{node_type:"metabolite",x:2610,y:650,bigg_id:"mal__L_e",name:"L-Malate",label_x:2640,label_y:630,node_is_primary:!0},1576817:{node_type:"metabolite",x:2210,y:3945,bigg_id:"acald_c",name:"Acetaldehyde",label_x:2210,label_y:3905,node_is_primary:!0},1576819:{node_type:"metabolite",x:565.6046142578125,y:1448.4132080078125,bigg_id:"pep_c",name:"Phosphoenolpyruvate",label_x:554.497314453125,label_y:1479.5206298828125,node_is_primary:!1},1576820:{node_type:"metabolite",x:4310,y:2570,bigg_id:"h_c",name:"H",label_x:4273.546875,label_y:2604.6689453125,node_is_primary:!1},1576821:{node_type:"metabolite",x:714.76025390625,y:1237.785400390625,bigg_id:"pyr_c",name:"Pyruvate",label_x:692.5455932617188,label_y:1207.785400390625,node_is_primary:!1},1576822:{node_type:"metabolite",x:2482,y:4065,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:2496,label_y:4051,node_is_primary:!1},1576824:{node_type:"metabolite",x:2333,y:3935,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:2347,label_y:3921,node_is_primary:!1},1576825:{node_type:"metabolite",x:2130,y:3860,bigg_id:"coa_c",name:"Coenzyme-A",label_x:2140,label_y:3840,node_is_primary:!1},1576826:{node_type:"metabolite",x:300,y:1360,bigg_id:"fru_e",name:"D-Fructose",label_x:284.1323547363281,label_y:1405.8675537109375,node_is_primary:!0},1576827:{node_type:"metabolite",x:4417.8271484375,y:2478.91357421875,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:4322.0859375,label_y:2462.79833984375,node_is_primary:!0},1576828:{node_type:"metabolite",x:2070,y:3860,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:2070,label_y:3840,node_is_primary:!1},1576829:{node_type:"metabolite",x:2501,y:4228,bigg_id:"etoh_c",name:"Ethanol",label_x:2522,label_y:4206,node_is_primary:!0},1576830:{node_type:"metabolite",x:3020,y:2740,bigg_id:"q8h2_c",name:"Ubiquinol-8",label_x:3041.5869140625,label_y:2740,node_is_primary:!1},1576831:{node_type:"metabolite",x:2510,y:700,bigg_id:"h_e",name:"H",label_x:2460.1826171875,label_y:722.5455932617188,node_is_primary:!1},1576832:{node_type:"metabolite",x:1950,y:3860,bigg_id:"h_c",name:"H",label_x:1950,label_y:3840,node_is_primary:!1},1576833:{node_type:"metabolite",x:1270,y:4770,bigg_id:"h_e",name:"H",label_x:1228.8927001953125,label_y:4750.95849609375,node_is_primary:!1},1576834:{node_type:"multimarker",x:1055,y:2665},1576835:{node_type:"multimarker",x:1055,y:2775},1576836:{node_type:"midmarker",x:1055,y:2725},1576837:{node_type:"midmarker",x:1957,y:1265},1576838:{node_type:"multimarker",x:1937,y:1265},1576839:{node_type:"multimarker",x:1977,y:1265},1576840:{node_type:"midmarker",x:4660,y:1660},1576841:{node_type:"midmarker",x:3510,y:820},1576842:{node_type:"multimarker",x:3510,y:800},1576843:{node_type:"multimarker",x:3510,y:870},1576844:{node_type:"multimarker",x:2727,y:3022},1576845:{node_type:"midmarker",x:2684,y:3076},1576846:{node_type:"midmarker",x:3606,y:3846},1576847:{node_type:"multimarker",x:3512,y:3923},1576848:{node_type:"multimarker",x:3663,y:3781},1576849:{node_type:"multimarker",x:1430,y:3945},1576850:{node_type:"midmarker",x:1495,y:3945},1576851:{node_type:"multimarker",x:1555,y:3945},1576852:{node_type:"midmarker",x:1414,y:3486},1576853:{node_type:"multimarker",x:1493,y:3519},1576854:{node_type:"multimarker",x:1348,y:3458},1576855:{node_type:"multimarker",x:1055,y:3265},1576856:{node_type:"midmarker",x:1055,y:3225},1576857:{node_type:"midmarker",x:1055,y:1395},1576858:{node_type:"midmarker",x:3989,y:4598},1576859:{node_type:"midmarker",x:835,y:1715},1576860:{node_type:"multimarker",x:835,y:1665},1576861:{node_type:"multimarker",x:835,y:1765},1576863:{node_type:"midmarker",x:5025,y:2880},1576864:{node_type:"multimarker",x:3417,y:3766},1576865:{node_type:"midmarker",x:3417,y:3857},1576866:{node_type:"midmarker",x:4145,y:1260},1576867:{node_type:"multimarker",x:4145,y:1200},1576868:{node_type:"midmarker",x:5020,y:4158},1576871:{node_type:"midmarker",x:3621,y:4914},1576872:{node_type:"midmarker",x:2178,y:1995},1576873:{node_type:"multimarker",x:2175,y:1955},1576874:{node_type:"multimarker",x:2178,y:2035},1576875:{node_type:"multimarker",x:1055,y:3655},1576876:{node_type:"midmarker",x:1055,y:3705},1576877:{node_type:"multimarker",x:1055,y:3745},1576878:{node_type:"midmarker",x:4645,y:3635},1576879:{node_type:"multimarker",x:4541,y:3635},1576880:{node_type:"multimarker",x:4779,y:3635},1576881:{node_type:"midmarker",x:1055,y:4925},1576884:{node_type:"midmarker",x:155,y:3945},1576885:{node_type:"midmarker",x:2045,y:1415},1576887:{node_type:"midmarker",x:4986,y:2230},1576888:{node_type:"midmarker",x:3631,y:3020},1576889:{node_type:"multimarker",x:3588,y:2976},1576890:{node_type:"multimarker",x:3666,y:3063},1576891:{node_type:"midmarker",x:1055,y:1735},1576892:{node_type:"multimarker",x:1055,y:1775},1576893:{node_type:"multimarker",x:1055,y:1690},1576895:{node_type:"midmarker",x:5015,y:3636},1576896:{node_type:"midmarker",x:1525,y:1735},1576897:{node_type:"multimarker",x:1695,y:1735},1576898:{node_type:"multimarker",x:1405,y:1735},1576899:{node_type:"multimarker",x:4364,y:3889},1576900:{node_type:"midmarker",x:4364,y:3869},1576901:{node_type:"multimarker",x:4364,y:3849},1576905:{node_type:"multimarker",x:3470,y:1270},1576906:{node_type:"multimarker",x:3570,y:1270},1576907:{node_type:"midmarker",x:3520,y:1270},1576908:{node_type:"multimarker",x:3780,y:3480},1576909:{node_type:"midmarker",x:3783,y:3402},1576910:{node_type:"multimarker",x:3776,y:3330},1576911:{node_type:"midmarker",x:1335,y:3995},1576912:{node_type:"multimarker",x:1255,y:3995},1576913:{node_type:"multimarker",x:1415,y:3995},1576914:{node_type:"midmarker",x:4970,y:1660},1576916:{node_type:"midmarker",x:1404,y:3526},1576917:{node_type:"multimarker",x:1485,y:3554},1576918:{node_type:"multimarker",x:1335,y:3503},1576919:{node_type:"multimarker",x:2880,y:4520},1576920:{node_type:"midmarker",x:2880,y:4580},1576921:{node_type:"multimarker",x:2880,y:4725},1576922:{node_type:"multimarker",x:4502,y:3228},1576923:{node_type:"multimarker",x:4792,y:3228},1576924:{node_type:"midmarker",x:4662,y:3228},1576925:{node_type:"multimarker",x:1055,y:2045},1576926:{node_type:"midmarker",x:1055,y:1995},1576927:{node_type:"midmarker",x:955,y:2195},1576928:{node_type:"midmarker",x:4660,y:1900},1576929:{node_type:"multimarker",x:4690,y:1900},1576930:{node_type:"multimarker",x:4630,y:1900},1576931:{node_type:"midmarker",x:2305,y:1425},1576932:{node_type:"multimarker",x:2843,y:3341},1576933:{node_type:"multimarker",x:2994,y:3445},1576934:{node_type:"midmarker",x:2911,y:3388},1576935:{node_type:"multimarker",x:1715,y:4065},1576936:{node_type:"multimarker",x:1715,y:4105},1576937:{node_type:"midmarker",x:1715,y:4085},1576938:{node_type:"multimarker",x:4415,y:4158},1576939:{node_type:"midmarker",x:4435,y:4158},1576940:{node_type:"multimarker",x:4455,y:4158},1576941:{node_type:"multimarker",x:2310,y:3330},1576942:{node_type:"midmarker",x:2250,y:3360},1576943:{node_type:"multimarker",x:2190,y:3390},1576944:{node_type:"multimarker",x:1327,y:1265},1576945:{node_type:"midmarker",x:1307,y:1265},1576946:{node_type:"multimarker",x:1287,y:1265},1576947:{node_type:"midmarker",x:1715,y:4935},1576949:{node_type:"multimarker",x:4247,y:3815},1576950:{node_type:"multimarker",x:4247,y:3877},1576951:{node_type:"midmarker",x:4247,y:3857},1576952:{node_type:"multimarker",x:4215,y:1200},1576953:{node_type:"midmarker",x:4215,y:1260},1576954:{node_type:"multimarker",x:4215,y:1350},1576955:{node_type:"multimarker",x:1055,y:4125},1576956:{node_type:"multimarker",x:1055,y:4225},1576957:{node_type:"midmarker",x:1055,y:4175},1576958:{node_type:"multimarker",x:2578,y:3456},1576959:{node_type:"midmarker",x:2577,y:3404},1576960:{node_type:"multimarker",x:2582,y:3341},1576961:{node_type:"midmarker",x:3257,y:4614},1576962:{node_type:"midmarker",x:3257,y:4924},1576964:{node_type:"multimarker",x:2175,y:1645},1576965:{node_type:"midmarker",x:2175,y:1695},1576966:{node_type:"multimarker",x:2175,y:1735},1576967:{node_type:"midmarker",x:3621,y:4604},1576969:{node_type:"midmarker",x:5032,y:3228},1576970:{node_type:"multimarker",x:835,y:3805},1576971:{node_type:"multimarker",x:835,y:3525},1576972:{node_type:"midmarker",x:835,y:3645},1576974:{node_type:"midmarker",x:1056.6529541015625,y:543.4132690429688},1576975:{node_type:"multimarker",x:2500,y:4430},1576976:{node_type:"midmarker",x:2500,y:4550},1576977:{node_type:"multimarker",x:2500,y:4730},1576978:{node_type:"midmarker",x:1055,y:2995},1576980:{node_type:"midmarker",x:2500,y:4937.93359375},1576981:{node_type:"multimarker",x:1715,y:4305},1576982:{node_type:"midmarker",x:1715,y:4275},1576983:{node_type:"multimarker",x:1715,y:4255},1576985:{node_type:"midmarker",x:3991,y:4918},1576986:{node_type:"multimarker",x:4116,y:3888},1576987:{node_type:"multimarker",x:4116,y:3848},1576988:{node_type:"midmarker",x:4116,y:3868},1576989:{node_type:"midmarker",x:2880,y:4925.107421875},1576991:{node_type:"multimarker",x:2840,y:730},1576992:{node_type:"multimarker",x:2840,y:980},1576993:{node_type:"midmarker",x:2840,y:840},1576994:{node_type:"multimarker",x:1715,y:4745},1576995:{node_type:"midmarker",x:1715,y:4585},1576996:{node_type:"multimarker",x:1715,y:4501.49560546875},1576997:{node_type:"midmarker",x:1056.5865478515625,y:1008.8675537109375},1576998:{node_type:"multimarker",x:1057,y:976.1735229492188},1576999:{node_type:"multimarker",x:1056.5867919921875,y:1041.710205078125},1577000:{node_type:"midmarker",x:4667,y:2846},1577001:{node_type:"multimarker",x:4770,y:2846},1577002:{node_type:"multimarker",x:4560,y:2846},1577003:{node_type:"midmarker",x:1637,y:1265},1577004:{node_type:"multimarker",x:1657,y:1265},1577005:{node_type:"multimarker",x:1617,y:1265},1577006:{node_type:"multimarker",x:1055,y:2345},1577007:{node_type:"multimarker",x:1055,y:2435},1577008:{node_type:"midmarker",x:1055,y:2395},1577009:{node_type:"midmarker",x:2840,y:470},1577011:{node_type:"midmarker",x:4666,y:3027},1577012:{node_type:"multimarker",x:4536,y:3027},1577013:{node_type:"multimarker",x:4796,y:3027},1577014:{node_type:"multimarker",x:4078,y:3632},1577015:{node_type:"midmarker",x:4098,y:3632},1577016:{node_type:"multimarker",x:4118,y:3632},1577017:{node_type:"multimarker",x:4705,y:1150},1577018:{node_type:"multimarker",x:4625,y:1150},1577019:{node_type:"midmarker",x:4665,y:1150},1577020:{node_type:"multimarker",x:2744,y:3837},1577021:{node_type:"multimarker",x:2840,y:3918},1577022:{node_type:"midmarker",x:2798,y:3886},1577023:{node_type:"multimarker",x:375,y:3945},1577024:{node_type:"multimarker",x:645,y:3945},1577025:{node_type:"midmarker",x:505,y:3945},1577026:{node_type:"midmarker",x:2260,y:3390},1577027:{node_type:"multimarker",x:2220,y:3410},1577028:{node_type:"multimarker",x:2310,y:3360},1577030:{node_type:"midmarker",x:1460,y:4925},1577031:{node_type:"multimarker",x:2040,y:3945},1577032:{node_type:"midmarker",x:2010,y:3945},1577033:{node_type:"multimarker",x:1980,y:3945},1577034:{node_type:"midmarker",x:2210,y:4570},1577035:{node_type:"midmarker",x:2211,y:4944},1577041:{node_type:"multimarker",x:2371,y:4100},1577042:{node_type:"midmarker",x:2356,y:4086},1577043:{node_type:"multimarker",x:2342,y:4071},1577044:{node_type:"multimarker",x:1360,y:4730},1577045:{node_type:"midmarker",x:1360,y:4600},1577046:{node_type:"multimarker",x:1360,y:4470},1577047:{node_type:"midmarker",x:1460,y:4432},1577048:{node_type:"multimarker",x:3080,y:2600},1577049:{node_type:"midmarker",x:3110,y:2600},1577050:{node_type:"multimarker",x:3140,y:2600},1577051:{node_type:"multimarker",x:576.050048828125,y:1361.5867919921875},1577052:{node_type:"midmarker",x:640,y:1361.586669921875},1577053:{node_type:"multimarker",x:704.5778198242188,y:1361.586669921875},1577054:{node_type:"midmarker",x:182,y:1360},1577056:{node_type:"multimarker",x:2610,y:736},1577057:{node_type:"midmarker",x:2610,y:756},1577058:{node_type:"multimarker",x:2610,y:980},1577059:{node_type:"midmarker",x:2610,y:470},1577061:{node_type:"multimarker",x:4630,y:2570},1577062:{node_type:"midmarker",x:4670,y:2570},1577063:{node_type:"multimarker",x:4710,y:2570},1577064:{node_type:"multimarker",x:3180,y:2817},1577065:{node_type:"midmarker",x:3129,y:2819},1577066:{node_type:"multimarker",x:3078,y:2826},1577067:{node_type:"multimarker",x:1055,y:4660.98193359375},1577068:{node_type:"midmarker",x:1055,y:4583.8583984375},1577069:{node_type:"multimarker",x:1053.4132080078125,y:4506.7353515625},1577071:{node_type:"metabolite",x:1095,y:4750.98193359375,bigg_id:"h_e",name:"H",label_x:1125,label_y:4760.98193359375,node_is_primary:!1},1577072:{node_type:"metabolite",x:1093.4132080078125,y:4416.7353515625,bigg_id:"h_c",name:"H",label_x:1123.4132080078125,label_y:4426.7353515625,node_is_primary:!1},1577073:{node_type:"metabolite",x:5527.4580078125,y:4574.02490234375,bigg_id:"h2o_c",name:"H2O",label_x:5539.50146484375,label_y:4562.89990234375,node_is_primary:!1},1577074:{node_type:"multimarker",x:5334.0517578125,y:4717.48193359375},1577075:{node_type:"midmarker",x:5334.0517578125,y:4737.48193359375},1577076:{node_type:"multimarker",x:5334.0517578125,y:4757.48193359375},1577077:{node_type:"metabolite",x:5503.33544921875,y:4924.5068359375,bigg_id:"adp_c",name:"ADP",label_x:5529.1103515625,label_y:4931.337890625,node_is_primary:!1},1577078:{node_type:"metabolite",x:5534.521484375,y:4651.92236328125,bigg_id:"glu__L_c",name:"L-Glutamate",label_x:5555.015625,label_y:4645.02197265625,node_is_primary:!1},1577079:{node_type:"metabolite",x:5512.26513671875,y:4517.58447265625,bigg_id:"g3p_c",name:"Glyceraldehyde-3-phosphate",label_x:5534.87109375,label_y:4508.57177734375,node_is_primary:!1},1577080:{node_type:"metabolite",x:5437.546875,y:4466.33544921875,bigg_id:"e4p_c",name:"D-Erythrose-4-phosphate",label_x:5442.19677734375,label_y:4450.9853515625,node_is_primary:!1},1577081:{node_type:"metabolite",x:5262.95361328125,y:4994.3544921875,bigg_id:"h_c",name:"H",label_x:5204.56640625,label_y:5025.4677734375,node_is_primary:!1},1577082:{node_type:"metabolite",x:5403.0185546875,y:4418.7158203125,bigg_id:"r5p_c",name:"alpha-D-Ribose-5-phosphate",label_x:5390.7685546875,label_y:4391.7470703125,node_is_primary:!1},1577083:{node_type:"metabolite",x:5183.9716796875,y:4488.05615234375,bigg_id:"atp_c",name:"ATP",label_x:5152.708984375,label_y:4461.08740234375,node_is_primary:!1},1577084:{node_type:"metabolite",x:5087.0712890625,y:4498.61865234375,bigg_id:"f6p_c",name:"D-Fructose-6-phosphate",label_x:5052.6396484375,label_y:4477.9873046875,node_is_primary:!1},1577085:{node_type:"metabolite",x:4988.05859375,y:4509.18115234375,bigg_id:"pyr_c",name:"Pyruvate",label_x:4962.07666015625,label_y:4488.5498046875,node_is_primary:!1},1577086:{node_type:"metabolite",x:4893.27099609375,y:4529.25048828125,bigg_id:"nad_c",name:"Nicotinamide-adenine-dinucleotide",label_x:4860.95166015625,label_y:4501.22509765625,node_is_primary:!1},1577087:{node_type:"metabolite",x:5208.85205078125,y:4931.947265625,bigg_id:"coa_c",name:"Coenzyme-A",label_x:5175.48828125,label_y:4975.3330078125,node_is_primary:!1},1577088:{node_type:"metabolite",x:4783.69580078125,y:4544.03759765625,bigg_id:"oaa_c",name:"Oxaloacetate",label_x:4770.38916015625,label_y:4522.349609375,node_is_primary:!1},1577089:{node_type:"metabolite",x:4700.52734375,y:4559.88134765625,bigg_id:"g6p_c",name:"D-Glucose-6-phosphate",label_x:4679.8271484375,label_y:4537.1376953125,node_is_primary:!1},1577090:{node_type:"metabolite",x:5134.0517578125,y:4897.1259765625,bigg_id:"nadh_c",name:"Nicotinamide-adenine-dinucleotide-reduced",label_x:5078.88623046875,label_y:4936.322265625,node_is_primary:!1},1577091:{node_type:"metabolite",x:5481.046875,y:4979.51025390625,bigg_id:"akg_c",name:"2-Oxoglutarate",label_x:5497.31591796875,label_y:5004.2978515625,node_is_primary:!1},1577092:{node_type:"metabolite",x:4601.51416015625,y:4576.78173828125,bigg_id:"accoa_c",name:"Acetyl-CoA",label_x:4556.52001953125,label_y:4549.81298828125,node_is_primary:!1},1577093:{node_type:"metabolite",x:4508.83935546875,y:4602.1318359375,bigg_id:"3pg_c",name:"3-Phospho-D-glycerate",label_x:4459.6201171875,label_y:4576.21923828125,node_is_primary:!1},1577094:{node_type:"metabolite",x:4414.0517578125,y:4629.59423828125,bigg_id:"pep_c",name:"Phosphoenolpyruvate",label_x:4379.6201171875,label_y:4607.90673828125,node_is_primary:!1},1577095:{node_type:"metabolite",x:4332.9951171875,y:4650.7197265625,bigg_id:"gln__L_c",name:"L-Glutamine",label_x:4253.14453125,label_y:4627.97607421875,node_is_primary:!1},1577096:{node_type:"metabolite",x:5028.71435546875,y:4864.818359375,bigg_id:"nadp_c",name:"Nicotinamide-adenine-dinucleotide-phosphate",label_x:4968.08447265625,label_y:4902.36181640625,node_is_primary:!1},1577097:{node_type:"metabolite",x:4267.78271484375,y:4682.4072265625,bigg_id:"nadph_c",name:"Nicotinamide-adenine-dinucleotide-phosphate-reduced",label_x:4203.775390625,label_y:4664.94482421875,node_is_primary:!1},1577098:{node_type:"metabolite",x:4933.43505859375,y:4831.37548828125,bigg_id:"pi_c",name:"Phosphate",label_x:4884.8583984375,label_y:4859.1142578125,node_is_primary:!1},1577099:{node_type:"multimarker",x:3055.6239109998846,y:4023.6457547875243},1577100:{node_type:"midmarker",x:3074.275683525833,y:4030.8645761345497},1577101:{node_type:"multimarker",x:3092.9274560517806,y:4038.0833974815746},1577102:{node_type:"metabolite",x:3188.1170476587818,y:3976.144484067998,bigg_id:"h2o_c",name:"H2O",label_x:3189.1795476587818,label_y:3930.712355161748,node_is_primary:!1},1577103:{node_type:"metabolite",x:3197.4642088485407,y:4053.2845721909744,bigg_id:"acon_C_c",name:"cis-Aconitate",label_x:3156.1556150985407,label_y:4098.026271409724,node_is_primary:!0},1577104:{node_type:"multimarker",x:3294.488060371458,y:4035.7165277261324},1577105:{node_type:"midmarker",x:3312.895717745038,y:4027.896160086635},1577106:{node_type:"multimarker",x:3331.3033751186185,y:4020.0757924471372}},text_labels:{},canvas:{x:7.857062530517567,y:314.36893920898433,width:5894.515691375733,height:4860.457037353515}}]},function(e,t,n){e.exports=function(){return new Worker(n.p+"1c2a48d58367c7b4014d.worker.js")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),l=n(10),s=n(50),c=n.n(s),u=n(51),d=n.n(u),f=n(52),_=n.n(f),p=n(53),b=n.n(p),h=n(54),m=n.n(h),g=n(55),A=n.n(g),y=n(56),v=(n.n(y),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"componentWillMount",value:function(){document.body.classList.contains("fill-screen")&&document.body.classList.remove("fill-screen")}},{key:"render",value:function(){return Object(a.h)("div",{id:"homepage-container"},Object(a.h)("div",{id:"homepage-body"},Object(a.h)("div",{id:"homepage-title-box"},Object(a.h)("img",{id:"homepage-logo",alt:"",src:c.a,srcset:c.a+" 1x, "+d.a+" 2x"}),Object(a.h)("div",{id:"homepage-title"},"ESCHER-FBA")),Object(a.h)("div",{id:"homepage-description"},"Escher-FBA is an interactive pathway visualization tool for on-the-fly flux balance analysis (FBA) calculations."),Object(a.h)("div",{id:"homepage-launch-box"},Object(a.h)("a",{href:"/app",id:"homepage-launch-box-centered"},Object(a.h)("img",{id:"homepage-launch-screen",alt:"",src:_.a,srcset:_.a+" 1x, "+b.a+" 2x"}),Object(a.h)("div",{id:"homepage-launch-button"},"Launch Escher-FBA"))),Object(a.h)("hr",null),Object(a.h)(l.a,null),Object(a.h)("hr",null),Object(a.h)("h2",null,"Funding"),Object(a.h)("p",{id:"funding"},"Funding provided by the Novo Nordisk Foundation through the Center for Biosustainability at the Technical University of Denmark (NNF10CC1016517)."),Object(a.h)("div",{id:"logos"},Object(a.h)("a",{href:"http://systemsbiology.ucsd.edu/"},Object(a.h)("img",{id:"sbrg-logo",alt:"",src:m.a})),Object(a.h)("a",{href:"http://novonordiskfonden.dk/en"},Object(a.h)("img",{id:"nnf-logo",alt:"",src:A.a}))),Object(a.h)("p",{id:"copyright"},"\xa9 2018 The Regents of the University of California")))}}]),t}(a.Component);t.a=x},function(e,t,n){e.exports=n.p+"static/media/escher-logo.e85bdc7b.png"},function(e,t,n){e.exports=n.p+"static/media/escher-logo@2x.e4bcf524.png"},function(e,t,n){e.exports=n.p+"static/media/screen.8e0ccf2b.png"},function(e,t,n){e.exports=n.p+"static/media/screen@2x.45190510.png"},function(e,t,n){e.exports=n.p+"static/media/sbrg-logo.5569a4c8.png"},function(e,t,n){e.exports=n.p+"static/media/nnf-logo.9f5b21a9.jpg"},function(e,t){},function(e,t,n){"use strict";function r(){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/escher-fba/service-worker.js").then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})})}t.a=r},function(e,t){}]);